!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=484)}([function(t,e){var i={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},n={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},o=Object.prototype.toString,r=Array.prototype,s=r.forEach,a=r.filter,l=r.slice,h=r.map,c=r.reduce,u={};function p(t){if(null==t||"object"!=typeof t)return t;var e=t,r=o.call(t);if("[object Array]"===r){if(!A(t)){e=[];for(var s=0,a=t.length;s<a;s++)e[s]=p(t[s])}}else if(n[r]){if(!A(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else{e=new l(t.length);for(s=0,a=t.length;s<a;s++)e[s]=p(t[s])}}}else if(!i[r]&&!A(t)&&!I(t))for(var h in e={},t)t.hasOwnProperty(h)&&(e[h]=p(t[h]));return e}function g(t,e,i){if(!x(e)||!x(t))return i?p(e):t;for(var n in e)if(e.hasOwnProperty(n)){var o=t[n],r=e[n];!x(r)||!x(o)||_(r)||_(o)||I(r)||I(o)||C(r)||C(o)||A(r)||A(o)?!i&&n in t||(t[n]=p(e[n])):g(o,r,i)}return t}function d(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}var f,y=function(){return u.createCanvas()};function m(t,e,i){if(t&&e)if(t.forEach&&t.forEach===s)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function v(t,e){var i=l.call(arguments,2);return function(){return t.apply(e,i.concat(l.call(arguments)))}}function _(t){return"[object Array]"===o.call(t)}function x(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function C(t){return!!i[o.call(t)]}function I(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}u.createCanvas=function(){return document.createElement("canvas")};function A(t){return t.__ec_primitive__}function b(t){var e=_(t),i=this;function n(t,n){e?i.set(t,n):i.set(n,t)}t instanceof b?t.each(n):t&&m(t,n)}b.prototype={constructor:b,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=v(t,e)),this)this.hasOwnProperty(i)&&t(this[i],i)},removeKey:function(t){delete this[t]}},e.$override=function(t,e){"createCanvas"===t&&(f=null),u[t]=e},e.clone=p,e.merge=g,e.mergeAll=function(t,e){for(var i=t[0],n=1,o=t.length;n<o;n++)i=g(i,t[n],e);return i},e.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},e.defaults=d,e.createCanvas=y,e.getContext=function(){return f||(f=y().getContext("2d")),f},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1},e.inherits=function(t,e){var i=t.prototype;function n(){}for(var o in n.prototype=e.prototype,t.prototype=new n,i)t.prototype[o]=i[o];t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,e,i){d(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=m,e.map=function(t,e,i){if(t&&e){if(t.map&&t.map===h)return t.map(e,i);for(var n=[],o=0,r=t.length;o<r;o++)n.push(e.call(i,t[o],o,t));return n}},e.reduce=function(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===c)return t.reduce(e,i,n);for(var o=0,r=t.length;o<r;o++)i=e.call(n,i,t[o],o,t);return i}},e.filter=function(t,e,i){if(t&&e){if(t.filter&&t.filter===a)return t.filter(e,i);for(var n=[],o=0,r=t.length;o<r;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}},e.find=function(t,e,i){if(t&&e)for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t))return t[n]},e.bind=v,e.curry=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},e.isArray=_,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===o.call(t)},e.isObject=x,e.isBuiltInObject=C,e.isTypedArray=function(t){return!!n[o.call(t)]},e.isDom=I,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,i){return null!=t?t:null!=e?e:i},e.slice=function(){return Function.call.apply(l,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t.__ec_primitive__=!0},e.isPrimitive=A,e.createHashMap=function(t){return new b(t)},e.concatArray=function(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var o=t.length;for(n=0;n<e.length;n++)i[n+o]=e[n];return i},e.noop=function(){}},function(t,e,i){i(5).__DEV__;var n=i(61),o=i(0),r=i(21),s=i(10),a=i(80),l=i(30),h=i(117),c=i(127),u=i(19),p=i(220),g=i(221),d=i(13),f=i(14),y=i(86),m=i(24),v=i(2),_=i(4),x=i(31).throttle,C=i(223),I=i(224),A=i(225),b=i(226),w=i(227),S=i(228),M=o.assert,E=o.each,T=o.isFunction,P=o.isObject,L=d.parseClassType,N={PROCESSOR:{FILTER:1e3,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,GLOBAL:2e3,CHART:3e3,COMPONENT:4e3,BRUSH:5e3}},D="__flagInMainProcess",R=/^[a-zA-Z0-9_]+$/;function O(t){return function(e,i,n){e=e&&e.toLowerCase(),l.prototype[t].call(this,e,i,n)}}function F(){l.call(this)}function k(t,e,i){i=i||{},"string"==typeof e&&(e=st[e]),this.id,this.group,this._dom=t;var r=this._zr=n.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=x(o.bind(r.flush,r),17),(e=o.clone(e))&&g(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new u;var s,h,p=this._api=(h=(s=this)._coordSysMgr,o.extend(new c(s),{getCoordinateSystems:o.bind(h.getCoordinateSystems,h),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return s._model.getComponent(e.mainType,e.index);t=t.parent}}}));function d(t,e){return t.__prio-e.__prio}this._scheduler=new b(this,p),l.call(this),this._messageCenter=new F,this._initEvents(),this.resize=o.bind(this.resize,this),this._pendingActions=[],a(rt,d),a(it,d),r.animation.on("frame",this._onframe,this),o.setAsPrimitive(this)}F.prototype.on=O("on"),F.prototype.off=O("off"),F.prototype.one=O("one"),o.mixin(F,l);var G=k.prototype;function B(t,e,i){var n,o=this._model,r=this._coordSysMgr.getCoordinateSystems();e=_.parseFinder(o,e);for(var s=0;s<r.length;s++){var a=r[s];if(a[t]&&null!=(n=a[t](o,e,i)))return n}}G._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this.__optionUpdated){var e=this.__optionUpdated.silent;this[D]=!0,V(this),z.update.call(this),this[D]=!1,this.__optionUpdated=!1,W.call(this,e),Y.call(this,e)}else if(t.unfinished){var i=1,n=this._model,o=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(it,n),H(this,n),t.performVisualTasks(rt,n),K(this,this._model,o,"remain"),i-=+new Date-r}while(i>0&&t.unfinished);t.unfinished||(this._zr&&this._zr.flush(),this.trigger("finished"))}}},G.getDom=function(){return this._dom},G.getZr=function(){return this._zr},G.setOption=function(t,e,i){var n;if(P(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[D]=!0,!this._model||e){var o=new p(this._api),r=this._theme,s=this._model=new h(null,null,r,o);s.scheduler=this._scheduler,s.init(null,null,r,o)}this._model.setOption(t,nt),i?(this.__optionUpdated={silent:n},this[D]=!1):(V(this),z.update.call(this),this._zr.flush(),this.__optionUpdated=!1,this[D]=!1,W.call(this,n),Y.call(this,n))},G.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},G.getModel=function(){return this._model},G.getOption=function(){return this._model&&this._model.getOption()},G.getWidth=function(){return this._zr.getWidth()},G.getHeight=function(){return this._zr.getHeight()},G.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},G.getRenderedCanvas=function(t){if(s.canvasSupported){(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,i=e.storage.getDisplayList();return o.each(i,(function(t){t.stopAnimation(!0)})),e.painter.getRenderedCanvas(t)}},G.getSvgDataUrl=function(){if(s.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return o.each(e,(function(t){t.stopAnimation(!0)})),t.painter.pathToSvg()}},G.getDataURL=function(t){var e=(t=t||{}).excludeComponents,i=this._model,n=[],o=this;E(e,(function(t){i.eachComponent({mainType:t},(function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return E(n,(function(t){t.group.ignore=!1})),r},G.getConnectedDataURL=function(t){if(s.canvasSupported){var e=this.group,i=Math.min,r=Math.max;if(ht[e]){var a=1/0,l=1/0,h=-1/0,c=-1/0,u=[],p=t&&t.pixelRatio||1;o.each(lt,(function(n,s){if(n.group===e){var p=n.getRenderedCanvas(o.clone(t)),g=n.getDom().getBoundingClientRect();a=i(g.left,a),l=i(g.top,l),h=r(g.right,h),c=r(g.bottom,c),u.push({dom:p,left:g.left,top:g.top})}}));var g=(h*=p)-(a*=p),d=(c*=p)-(l*=p),f=o.createCanvas();f.width=g,f.height=d;var y=n.init(f);return E(u,(function(t){var e=new v.Image({style:{x:t.left*p-a,y:t.top*p-l,image:t.dom}});y.add(e)})),y.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},G.convertToPixel=o.curry(B,"convertToPixel"),G.convertFromPixel=o.curry(B,"convertFromPixel"),G.containPixel=function(t,e){var i,n=this._model;return t=_.parseFinder(n,t),o.each(t,(function(t,n){n.indexOf("Models")>=0&&o.each(t,(function(t){var o=t.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(e);else if("seriesModels"===n){var r=this._chartsMap[t.__viewId];r&&r.containPoint&&(i|=r.containPoint(e,t))}}),this)}),this),!!i},G.getVisual=function(t,e){var i=this._model,n=(t=_.parseFinder(i,t,{defaultMainType:"series"})).seriesModel.getData(),o=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return null!=o?n.getItemVisual(o,e):n.getVisual(e)},G.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},G.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var z={prepareAndUpdate:function(t){V(this),z.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,a=this._scheduler;if(e){e.restoreData(t),a.performSeriesTasks(e),o.create(e,i),a.performDataProcessorTasks(it,e,t),H(this,e),function(t){var e={};t.eachSeries((function(t){var i=t.get("stack"),n=t.getData();if(i&&"list"===n.type){var o=e[i];e.hasOwnProperty(i)&&o&&(n.stackedOn=o),e[i]=n}}))}(e),o.update(e,i),Z(e),a.performVisualTasks(rt,e,t),q(this,e,i,t);var l=e.get("backgroundColor")||"transparent",h=n.painter;if(h.isSingleCanvas&&h.isSingleCanvas())n.configLayer(0,{clearColor:l});else{if(!s.canvasSupported){var c=r.parse(l);l=r.stringify(c,"rgb"),0===c[3]&&(l="transparent")}l.colorStops||l.image?(n.configLayer(0,{clearColor:l}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&n.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=l)}J(e,i)}},updateTransform:function(t){var e=this._model,i=this,n=this._api;if(e){var r=[];e.eachComponent((function(o,s){var a=i.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var l=a.updateTransform(s,e,n,t);l&&l.update&&r.push(a)}else r.push(a)}));var s=o.createHashMap();e.eachSeries((function(o){var r=i._chartsMap[o.__viewId];if(r.updateTransform){var a=r.updateTransform(o,e,n,t);a&&a.update&&s.set(o.uid,1)}else s.set(o.uid,1)})),Z(e),this._scheduler.performVisualTasks(rt,e,t,{setDirty:!0,dirtyMap:s}),K(i,e,n,t,s),J(e,this._api)}},updateView:function(t){var e=this._model;e&&(m.markUpdateMethod(t,"updateView"),Z(e),this._scheduler.performVisualTasks(rt,e,t,{setDirty:!0}),q(this,this._model,this._api,t),J(e,this._api))},updateVisual:function(t){z.update.call(this,t)},updateLayout:function(t){z.update.call(this,t)}};function V(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(it),i.prepareStageTasks(rt),X(t,"component",e,i),X(t,"chart",e,i),i.plan()}function j(t,e,i,n,o){var r=t._model;if(n){var s={};s[n+"Id"]=i[n+"Id"],s[n+"Index"]=i[n+"Index"],s[n+"Name"]=i[n+"Name"];var a={mainType:n,query:s};o&&(a.subType=o),r&&r.eachComponent(a,(function(e,i){l(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else E(t._componentsViews.concat(t._chartsViews),l);function l(n){n&&n.__alive&&n[e]&&n[e](n.__model,r,t._api,i)}}function H(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries((function(t){n.updateStreamModes(t,i[t.__viewId])}))}function U(t,e){var i=t.type,n=t.escapeConnect,r=tt[i],s=r.actionInfo,a=(s.update||"update").split(":"),l=a.pop();a=null!=a[0]&&L(a[0]),this[D]=!0;var h=[t],c=!1;t.batch&&(c=!0,h=o.map(t.batch,(function(e){return(e=o.defaults(o.extend({},e),t)).batch=null,e})));var u,p=[],g="highlight"===i||"downplay"===i;E(h,(function(t){(u=(u=r.action(t,this._model,this._api))||o.extend({},t)).type=s.event||u.type,p.push(u),g?j(this,l,t,"series"):a&&j(this,l,t,a.main,a.sub)}),this),"none"===l||g||a||(this.__optionUpdated?(V(this),z.update.call(this,t),this.__optionUpdated=!1):z[l].call(this,t)),u=c?{type:s.event||i,escapeConnect:n,batch:p}:p[0],this[D]=!1,!e&&this._messageCenter.trigger(u.type,u)}function W(t){for(var e=this._pendingActions;e.length;){var i=e.shift();U.call(this,i,t)}}function Y(t){!t&&this.trigger("updated")}function X(t,e,i,n){for(var o="component"===e,r=o?t._componentsViews:t._chartsViews,s=o?t._componentsMap:t._chartsMap,a=t._zr,l=t._api,h=0;h<r.length;h++)r[h].__alive=!1;function c(t){var e="_ec_"+t.id+"_"+t.type,h=s[e];if(!h){var c=L(t.type);(h=new(o?y.getClass(c.main,c.sub):m.getClass(c.sub))).init(i,l),s[e]=h,r.push(h),a.add(h.group)}t.__viewId=h.__id=e,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!o&&n.prepareView(h,t,i,l)}o?i.eachComponent((function(t,e){"series"!==t&&c(e)})):i.eachSeries(c);for(h=0;h<r.length;){var u=r[h];u.__alive?h++:(!o&&u.renderTask.dispose(),a.remove(u.group),u.dispose(i,l),r.splice(h,1),delete s[u.__id],u.__id=u.group.__ecComponentInfo=null)}}function Z(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function q(t,e,i,n){!function(t,e,i,n,o){E(o||t._componentsViews,(function(t){var o=t.__model;t.render(o,e,i,n),$(o,t)}))}(t,e,i,n),E(t._chartsViews,(function(t){t.__alive=!1})),K(t,e,i,n),E(t._chartsViews,(function(t){t.__alive||t.remove(e,i)}))}function K(t,e,i,n,o){var r,a=t._scheduler;e.eachSeries((function(e){var i=t._chartsMap[e.__viewId];i.__alive=!0;var s=i.renderTask;a.updatePayload(s,n),o&&o.get(e.uid)&&s.dirty(),r|=s.perform(a.getPerformArgs(s)),i.group.silent=!!e.get("silent"),$(e,i),function(t,e){var i=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||t.style.blend!==i&&t.setStyle("blend",i),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.setStyle("blend",i)}))}))}(e,i)})),a.unfinished|=r,function(t,e){var i=t.storage,n=0;i.traverse((function(t){t.isGroup||n++})),n>e.get("hoverLayerThreshold")&&!s.node&&i.traverse((function(t){t.isGroup||(t.useHoverLayer=!0)}))}(t._zr,e),I(t._zr.dom,e)}function J(t,e){E(ot,(function(i){i(t,e)}))}G.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i,n,o,r=e.resetOption("media");i=this,n=r,o=t&&t.silent,i[D]=!0,n&&V(i),z.update.call(i),i[D]=!1,W.call(i,o),Y.call(i,o)}},G.showLoading=function(t,e){if(P(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),at[t]){var i=at[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},G.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},G.makeActionFromEvent=function(t){var e=o.extend({},t);return e.type=et[t.type],e},G.dispatchAction=function(t,e){P(e)||(e={silent:!!e}),tt[t.type]&&this._model&&(this[D]?this._pendingActions.push(t):(U.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&s.browser.weChat&&this._throttledZrFlush(),W.call(this,e.silent),Y.call(this,e.silent)))},G.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},G.on=O("on"),G.off=O("off"),G.one=O("one");var Q=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function $(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))}))}G._initEvents=function(){E(Q,(function(t){this._zr.on(t,(function(e){var i,n=this.getModel(),r=e.target;if("globalout"===t)i={};else if(r&&null!=r.dataIndex){var s=r.dataModel||n.getSeriesByIndex(r.seriesIndex);i=s&&s.getDataParams(r.dataIndex,r.dataType)||{}}else r&&r.eventData&&(i=o.extend({},r.eventData));i&&(i.event=e,i.type=t,this.trigger(t,i))}),this)}),this),E(et,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},G.isDisposed=function(){return this._disposed},G.clear=function(){this.setOption({series:[]},!0)},G.dispose=function(){if(!this._disposed){this._disposed=!0,_.setAttribute(this.getDom(),pt,"");var t=this._api,e=this._model;E(this._componentsViews,(function(i){i.dispose(e,t)})),E(this._chartsViews,(function(i){i.dispose(e,t)})),this._zr.dispose(),delete lt[this.id]}},o.mixin(k,l);var tt={},et={},it=[],nt=[],ot=[],rt=[],st={},at={},lt={},ht={},ct=new Date-0,ut=new Date-0,pt="_echarts_instance_",gt={};function dt(t){ht[t]=!1}var ft=dt;function yt(t){return lt[_.getAttribute(t,pt)]}function mt(t,e){st[t]=e}function vt(t){nt.push(t)}function _t(t,e,i){"function"==typeof e&&(i=e,e="");var n=P(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,M(R.test(n)&&R.test(e)),tt[n]||(tt[n]={action:i,actionInfo:t}),et[e]=n}function xt(t,e){Ct(rt,t,e,3e3,"visual")}function Ct(t,e,i,n,o){(T(e)||P(e))&&(i=e,e=n);var r=b.wrapStageHandler(i,o);return r.__prio=e,r.__raw=i,t.push(r),r}function It(t,e){at[t]=e}xt(2e3,C),vt(g),It("default",A),_t({type:"highlight",event:"highlight",update:"highlight"},o.noop),_t({type:"downplay",event:"downplay",update:"downplay"},o.noop),mt("light",w),mt("dark",S);e.version="4.0.1",e.dependencies={zrender:"4.0.0"},e.PRIORITY=N,e.init=function(t,e,i){var n=yt(t);if(n)return n;var o=new k(t,e,i);return o.id="ec_"+ct++,lt[o.id]=o,_.setAttribute(t,pt,o.id),function(t){var e="__connectUpdateStatus";function i(t,i){for(var n=0;n<t.length;n++){t[n][e]=i}}E(et,(function(n,o){t._messageCenter.on(o,(function(n){if(ht[t.group]&&0!==t[e]){if(n&&n.escapeConnect)return;var o=t.makeActionFromEvent(n),r=[];E(lt,(function(e){e!==t&&e.group===t.group&&r.push(e)})),i(r,0),E(r,(function(t){1!==t[e]&&t.dispatchAction(o)})),i(r,2)}}))}))}(o),o},e.connect=function(t){if(o.isArray(t)){var e=t;t=null,E(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+ut++,E(e,(function(e){e.group=t}))}return ht[t]=!0,t},e.disConnect=dt,e.disconnect=ft,e.dispose=function(t){"string"==typeof t?t=lt[t]:t instanceof k||(t=yt(t)),t instanceof k&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=yt,e.getInstanceById=function(t){return lt[t]},e.registerTheme=mt,e.registerPreprocessor=vt,e.registerProcessor=function(t,e){Ct(it,t,e,1e3)},e.registerPostUpdate=function(t){ot.push(t)},e.registerAction=_t,e.registerCoordinateSystem=function(t,e){u.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=u.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){Ct(rt,t,e,1e3,"layout")},e.registerVisual=xt,e.registerLoading=It,e.extendComponentModel=function(t){return d.extend(t)},e.extendComponentView=function(t){return y.extend(t)},e.extendSeriesModel=function(t){return f.extend(t)},e.extendChartView=function(t){return m.extend(t)},e.setCanvasCreator=function(t){o.$override("createCanvas",t)},e.registerMap=function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),gt[t]={geoJson:e,specialAreas:i}},e.getMap=function(t){return gt[t]},e.dataTool={};var At=i(128);!function(){for(var t in At)At.hasOwnProperty(t)&&(e[t]=At[t])}()},function(t,e,i){var n=i(0),o=i(199),r=i(21),s=i(15),a=i(7),l=i(12),h=i(79),c=i(46);e.Image=c;var u=i(62);e.Group=u;var p=i(48);e.Text=p;var g=i(204);e.Circle=g;var d=i(205);e.Sector=d;var f=i(206);e.Ring=f;var y=i(207);e.Polygon=y;var m=i(210);e.Polyline=m;var v=i(211);e.Rect=v;var _=i(212);e.Line=_;var x=i(213);e.BezierCurve=x;var C=i(214);e.Arc=C;var I=i(215);e.CompoundPath=I;var A=i(124);e.LinearGradient=A;var b=i(216);e.RadialGradient=b;var w=i(9);e.BoundingRect=w;var S=i(83);e.IncrementalDisplayable=S;var M=Math.round,E=Math.max,T=Math.min,P={};function L(t,e,i,n){var r=o.createFromString(t,e),s=r.getBoundingRect();return i&&("center"===n&&(i=N(i,s)),R(r,i)),r}function N(t,e){var i,n=e.width/e.height,o=t.height*n;return i=o<=t.width?t.height:(o=t.width)/n,{x:t.x+t.width/2-o/2,y:t.y+t.height/2-i/2,width:o,height:i}}var D=o.mergePath;function R(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function O(t,e,i){var n=M(2*t);return(n+M(e))%2==0?n/2:(n+(i?1:-1))/2}function F(t){return null!=t&&"none"!=t}function k(t){return"string"==typeof t?r.lift(t,-.1):t}function G(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl;n.fill=n.fill||(F(i)?k(i):null),n.stroke=n.stroke||(F(e)?k(e):null);var o={};for(var r in n)null!=n[r]&&(o[r]=t.style[r]);t.__normalStl=o,t.__hoverStlDirty=!1}}function B(t){if(!t.__isHover){if(G(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,i=e.insideRollbackOpt;i&&function(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}(e),e.extendFrom(t.__hoverStl),i&&(Q(e,e.insideOriginalTextPosition,i),null==e.textFill&&(e.textFill=i.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function z(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function V(t){"group"===t.type?t.traverse((function(t){"group"!==t.type&&B(t)})):B(t)}function j(t){"group"===t.type?t.traverse((function(t){"group"!==t.type&&z(t)})):z(t)}function H(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&G(t)}function U(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&V(this)}function W(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&j(this)}function Y(){this.__isEmphasis=!0,V(this)}function X(){this.__isEmphasis=!1,j(this)}function Z(t,e,i,o,r){return q(t,e,o,r),i&&n.extend(t,i),t.host&&t.host.dirty&&t.host.dirty(!1),t}function q(t,e,i,o){if((i=i||P).isRectText){var r=e.getShallow("position")||(o?null:"inside");"outside"===r&&(r="top"),t.textPosition=r,t.textOffset=e.getShallow("offset");var s=e.getShallow("rotate");null!=s&&(s*=Math.PI/180),t.textRotation=s,t.textDistance=n.retrieve2(e.getShallow("distance"),o?null:5)}var a,l=e.ecModel,h=l&&l.option.textStyle,c=function(t){var e;for(;t&&t!==t.ecModel;){var i=(t.option||P).rich;if(i)for(var n in e=e||{},i)i.hasOwnProperty(n)&&(e[n]=1);t=t.parentModel}return e}(e);if(c)for(var u in a={},c)if(c.hasOwnProperty(u)){var p=e.getModel(["rich",u]);K(a[u]={},p,h,i,o)}return t.rich=a,K(t,e,h,i,o,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function K(t,e,i,o,r,s){if(i=!r&&i||P,t.textFill=J(e.getShallow("color"),o)||i.color,t.textStroke=J(e.getShallow("textBorderColor"),o)||i.textBorderColor,t.textStrokeWidth=n.retrieve2(e.getShallow("textBorderWidth"),i.textBorderWidth),!r){if(s){var a=t.textPosition;t.insideRollback=Q(t,a,o),t.insideOriginalTextPosition=a,t.insideRollbackOpt=o}null==t.textFill&&(t.textFill=o.autoColor)}t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),s&&o.disableBox||(t.textBackgroundColor=J(e.getShallow("backgroundColor"),o),t.textPadding=e.getShallow("padding"),t.textBorderColor=J(e.getShallow("borderColor"),o),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function J(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Q(t,e,i){var n,o=i.useInsideStyle;return null==t.textFill&&!1!==o&&(!0===o||i.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=i.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),n}function $(t,e,i,n,o,r){if("function"==typeof o&&(r=o,o=null),n&&n.isAnimationEnabled()){var s=t?"Update":"",a=n.getShallow("animationDuration"+s),l=n.getShallow("animationEasing"+s),h=n.getShallow("animationDelay"+s);"function"==typeof h&&(h=h(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),"function"==typeof a&&(a=a(o)),a>0?e.animateTo(i,a,h||0,l,r,!!r):(e.stopAnimation(),e.attr(i),r&&r())}else e.stopAnimation(),e.attr(i),r&&r()}function tt(t,e,i,n,o){$(!0,t,e,i,n,o)}function et(t,e,i){return e&&!n.isArrayLike(e)&&(e=h.getLocalTransform(e)),i&&(e=s.invert([],e)),a.applyTransform([],t,e)}e.extendShape=function(t){return l.extend(t)},e.extendPath=function(t,e){return o.extendFromString(t,e)},e.makePath=L,e.makeImage=function(t,e,i){var n=new c({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var o={width:t.width,height:t.height};n.setStyle(N(e,o))}}});return n},e.mergePath=D,e.resizePath=R,e.subPixelOptimizeLine=function(t){var e=t.shape,i=t.style.lineWidth;return M(2*e.x1)===M(2*e.x2)&&(e.x1=e.x2=O(e.x1,i,!0)),M(2*e.y1)===M(2*e.y2)&&(e.y1=e.y2=O(e.y1,i,!0)),t},e.subPixelOptimizeRect=function(t){var e=t.shape,i=t.style.lineWidth,n=e.x,o=e.y,r=e.width,s=e.height;return e.x=O(e.x,i,!0),e.y=O(e.y,i,!0),e.width=Math.max(O(n+r,i,!1)-e.x,0===r?0:1),e.height=Math.max(O(o+s,i,!1)-e.y,0===s?0:1),t},e.subPixelOptimize=O,e.setHoverStyle=function(t,e,i){t.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch,"group"===t.type?t.traverse((function(t){"group"!==t.type&&H(t,e)})):H(t,e),t.on("mouseover",U).on("mouseout",W),t.on("emphasis",Y).on("normal",X)},e.setLabelStyle=function(t,e,i,o,r,s,a){var l,h=(r=r||P).labelFetcher,c=r.labelDataIndex,u=r.labelDimIndex,p=i.getShallow("show"),g=o.getShallow("show");(p||g)&&(h&&(l=h.getFormattedLabel(c,"normal",null,u)),null==l&&(l=n.isFunction(r.defaultText)?r.defaultText(c,r):r.defaultText));var d=p?l:null,f=g?n.retrieve2(h?h.getFormattedLabel(c,"emphasis",null,u):null,l):null;null==d&&null==f||(Z(t,i,s,r),Z(e,o,a,r,!0)),t.text=d,e.text=f},e.setTextStyle=Z,e.setText=function(t,e,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,q(t,e,o,n),t.host&&t.host.dirty&&t.host.dirty(!1)},e.getFont=function(t,e){var i=e||e.getModel("textStyle");return n.trim([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))},e.updateProps=tt,e.initProps=function(t,e,i,n,o){$(!1,t,e,i,n,o)},e.getTransform=function(t,e){for(var i=s.identity([]);t&&t!==e;)s.mul(i,t.getLocalTransform(),i),t=t.parent;return i},e.applyTransform=et,e.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0];return r=et(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"},e.groupTransition=function(t,e,i,o){if(t&&e){var r,s=(r={},t.traverse((function(t){!t.isGroup&&t.anid&&(r[t.anid]=t)})),r);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=s[t.anid];if(e){var n=l(t);t.attr(l(e)),tt(t,n,i,t.dataIndex)}}}))}function l(t){var e={position:a.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=n.extend({},t.shape)),e}},e.clipPointsByRect=function(t,e){return n.map(t,(function(t){var i=t[0];i=E(i,e.x),i=T(i,e.x+e.width);var n=t[1];return n=E(n,e.y),[i,n=T(n,e.y+e.height)]}))},e.clipRectByRect=function(t,e){var i=E(t.x,e.x),n=T(t.x+t.width,e.x+e.width),o=E(t.y,e.y),r=T(t.y+t.height,e.y+e.height);if(n>=i&&r>=o)return{x:i,y:o,width:n-i,height:r-o}},e.createIcon=function(t,e,i){var o=(e=n.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(o.image=t.slice(8),n.defaults(o,i),new c(e)):L(t.replace("path://",""),e,i,"center")}},function(t,e,i){var n=i(0);var o=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function r(t){return Math.floor(Math.log(t)/Math.LN10)}e.linearMap=function(t,e,i,n){var o=e[1]-e[0],r=i[1]-i[0];if(0===o)return 0===r?i[0]:(i[0]+i[1])/2;if(n)if(o>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*r+i[0]},e.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(i=t,i.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var i},e.round=function(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t},e.asc=function(t){return t.sort((function(t,e){return t-e})),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},e.getPrecisionSafe=function(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var n=+e.slice(i+1);return n<0?-n:0}var o=e.indexOf(".");return o<0?0:e.length-1-o},e.getPixelPrecision=function(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),r=Math.round(i(Math.abs(e[1]-e[0]))/n),s=Math.min(Math.max(-o+r,0),20);return isFinite(s)?s:20},e.getPercentWithPrecision=function(t,e,i){if(!t[e])return 0;var o=n.reduce(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===o)return 0;for(var r=Math.pow(10,i),s=n.map(t,(function(t){return(isNaN(t)?0:t)/o*r*100})),a=100*r,l=n.map(s,(function(t){return Math.floor(t)})),h=n.reduce(l,(function(t,e){return t+e}),0),c=n.map(s,(function(t,e){return t-l[e]}));h<a;){for(var u=Number.NEGATIVE_INFINITY,p=null,g=0,d=c.length;g<d;++g)c[g]>u&&(u=c[g],p=g);++l[p],c[p]=0,++h}return l[e]/r},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return t>-1e-4&&t<1e-4},e.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=o.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},e.quantity=function(t){return Math.pow(10,r(t))},e.nice=function(t,e){var i=r(t),n=Math.pow(10,i),o=t/n;return t=(e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*n,i>=-20?+t.toFixed(i<0?-i:0):t},e.reformIntervals=function(t){t.sort((function(t,e){return function t(e,i,n){return e.interval[n]<i.interval[n]||e.interval[n]===i.interval[n]&&(e.close[n]-i.close[n]==(n?-1:1)||!n&&t(e,i,1))}(t,e,0)?-1:1}));for(var e=-1/0,i=1,n=0;n<t.length;){for(var o=t[n].interval,r=t[n].close,s=0;s<2;s++)o[s]<=e&&(o[s]=e,r[s]=s?1:1-i),e=o[s],i=r[s];o[0]===o[1]&&r[0]*r[1]!=1?t.splice(n,1):n++}return t},e.isNumeric=function(t){return t-parseFloat(t)>=0}},function(t,e,i){var n=i(0),o=n.each,r=n.isObject,s=n.isArray;function a(t){return t instanceof Array?t:null==t?[]:[t]}function l(t){return r(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}var h=0;function c(t,e){return t&&t.hasOwnProperty(e)}e.DEFAULT_COMPONENT_NAME="\0-",e.normalizeToArray=a,e.defaultEmphasis=function(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,o=i.length;n<o;n++){var r=i[n];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}},e.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],e.getDataItemValue=function(t){return!r(t)||s(t)||t instanceof Date?t:t.value},e.isDataItemOption=function(t){return r(t)&&!(t instanceof Array)},e.mappingToExists=function(t,e){e=(e||[]).slice();var i=n.map(t||[],(function(t,e){return{exist:t}}));return o(e,(function(t,n){if(r(t)){for(var o=0;o<i.length;o++)if(!i[o].option&&null!=t.id&&i[o].exist.id===t.id+"")return i[o].option=t,void(e[n]=null);for(o=0;o<i.length;o++){var s=i[o].exist;if(!(i[o].option||null!=s.id&&null!=t.id||null==t.name||l(t)||l(s)||s.name!==t.name+""))return i[o].option=t,void(e[n]=null)}}})),o(e,(function(t,e){if(r(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option&&!l(o)&&null==t.id){i[n].option=t;break}}n>=i.length&&i.push({option:t})}})),i},e.makeIdAndName=function(t){var e=n.createHashMap();o(t,(function(t,i){var n=t.exist;n&&e.set(n.id,t)})),o(t,(function(t,i){var o=t.option;n.assert(!o||null==o.id||!e.get(o.id)||e.get(o.id)===t,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&e.set(o.id,t),!t.keyInfo&&(t.keyInfo={})})),o(t,(function(t,i){var n=t.exist,o=t.option,s=t.keyInfo;if(r(o)){if(s.name=null!=o.name?o.name+"":n?n.name:"\0-",n)s.id=n.id;else if(null!=o.id)s.id=o.id+"";else{var a=0;do{s.id="\0"+s.name+"\0"+a++}while(e.get(s.id))}e.set(s.id,t)}}))},e.isIdInner=l,e.compressBatches=function(t,e){var i={},n={};return o(t||[],i),o(e||[],n,i),[r(i),r(n)];function o(t,e,i){for(var n=0,o=t.length;n<o;n++)for(var r=t[n].seriesId,s=a(t[n].dataIndex),l=i&&i[r],h=0,c=s.length;h<c;h++){var u=s[h];l&&l[u]?l[u]=null:(e[r]||(e[r]={}))[u]=1}}function r(t,e){var i=[];for(var n in t)if(t.hasOwnProperty(n)&&null!=t[n])if(e)i.push(+n);else{var o=r(t[n],!0);o.length&&i.push({seriesId:n,dataIndex:o})}return i}},e.queryDataIndex=function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?n.isArray(e.dataIndex)?n.map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?n.isArray(e.name)?n.map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0},e.makeInner=function(){var t="__\0ec_inner_"+h+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}},e.parseFinder=function(t,e,i){if(n.isString(e)){var r={};r[e+"Index"]=0,e=r}var s=i&&i.defaultMainType;!s||c(e,s+"Index")||c(e,s+"Id")||c(e,s+"Name")||(e[s+"Index"]=0);var a={};return o(e,(function(o,r){o=e[r];if("dataIndex"!==r&&"dataIndexInside"!==r){var s=r.match(/^(\w+)(Index|Id|Name)$/)||[],l=s[1],h=(s[2]||"").toLowerCase();if(!(!l||!h||null==o||"index"===h&&"none"===o||i&&i.includeMainTypes&&n.indexOf(i.includeMainTypes,l)<0)){var c={mainType:l};"index"===h&&"all"===o||(c[h]=o);var u=t.queryComponents(c);a[l+"Models"]=u,a[l+"Model"]=u[0]}}else a[r]=o})),a},e.setAttribute=function(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i},e.getAttribute=function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}},function(t,e,i){(function(t){var i;"undefined"!=typeof window?i=window.__DEV__:void 0!==t&&(i=t.__DEV__),void 0===i&&(i=!0);var n=i;e.__DEV__=n}).call(this,i(44))},function(t,e,i){var n=i(0),o=i(9),r=i(3).parsePercent,s=i(8),a=n.each,l=["left","right","top","bottom","width","height"],h=[["width","left","right"],["height","top","bottom"]];function c(t,e,i,n,o){var r=0,s=0;null==n&&(n=1/0),null==o&&(o=1/0);var a=0;e.eachChild((function(l,h){var c,u,p=l.position,g=l.getBoundingRect(),d=e.childAt(h+1),f=d&&d.getBoundingRect();if("horizontal"===t){var y=g.width+(f?-f.x+g.x:0);(c=r+y)>n||l.newline?(r=0,c=y,s+=a+i,a=g.height):a=Math.max(a,g.height)}else{var m=g.height+(f?-f.y+g.y:0);(u=s+m)>o||l.newline?(r+=a+i,s=0,u=m,a=g.width):a=Math.max(a,g.width)}l.newline||(p[0]=r,p[1]=s,"horizontal"===t?r=c+i:s=u+i)}))}var u=c,p=n.curry(c,"vertical"),g=n.curry(c,"horizontal");function d(t,e,i){i=s.normalizeCssArray(i||0);var n=e.width,a=e.height,l=r(t.left,n),h=r(t.top,a),c=r(t.right,n),u=r(t.bottom,a),p=r(t.width,n),g=r(t.height,a),d=i[2]+i[0],f=i[1]+i[3],y=t.aspect;switch(isNaN(p)&&(p=n-c-f-l),isNaN(g)&&(g=a-u-d-h),null!=y&&(isNaN(p)&&isNaN(g)&&(y>n/a?p=.8*n:g=.8*a),isNaN(p)&&(p=y*g),isNaN(g)&&(g=p/y)),isNaN(l)&&(l=n-c-p-f),isNaN(h)&&(h=a-u-g-d),t.left||t.right){case"center":l=n/2-p/2-i[3];break;case"right":l=n-p-f}switch(t.top||t.bottom){case"middle":case"center":h=a/2-g/2-i[0];break;case"bottom":h=a-g-d}l=l||0,h=h||0,isNaN(p)&&(p=n-f-l-(c||0)),isNaN(g)&&(g=a-d-h-(u||0));var m=new o(l+i[3],h+i[0],p,g);return m.margin=i,m}function f(t,e){return e&&t&&a(l,(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}e.LOCATION_PARAMS=l,e.HV_NAMES=h,e.box=u,e.vbox=p,e.hbox=g,e.getAvailableSize=function(t,e,i){var n=e.width,o=e.height,a=r(t.x,n),l=r(t.y,o),h=r(t.x2,n),c=r(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(h)||isNaN(parseFloat(t.x2)))&&(h=n),(isNaN(l)||isNaN(parseFloat(t.y)))&&(l=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=o),i=s.normalizeCssArray(i||0),{width:Math.max(h-a-i[1]-i[3],0),height:Math.max(c-l-i[0]-i[2],0)}},e.getLayoutRect=d,e.positionElement=function(t,e,i,r,s){var a=!s||!s.hv||s.hv[0],l=!s||!s.hv||s.hv[1],h=s&&s.boundingMode||"all";if(a||l){var c;if("raw"===h)c="group"===t.type?new o(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(c=c.clone()).applyTransform(u)}e=d(n.defaults({width:c.width,height:c.height},e),i,r);var p=t.position,g=a?e.x-c.x:0,f=l?e.y-c.y:0;t.attr("position","raw"===h?[g,f]:[p[0]+g,p[1]+f])}},e.sizeCalculable=function(t,e){return null!=t[h[e][0]]||null!=t[h[e][1]]&&null!=t[h[e][2]]},e.mergeLayoutParam=function(t,e,i){!n.isObject(i)&&(i={});var o=i.ignoreSize;!n.isArray(o)&&(o=[o,o]);var r=l(h[0],0),s=l(h[1],1);function l(i,n){var r={},s=0,l={},h=0;if(a(i,(function(e){l[e]=t[e]})),a(i,(function(t){c(e,t)&&(r[t]=l[t]=e[t]),u(r,t)&&s++,u(l,t)&&h++})),o[n])return u(e,i[1])?l[i[2]]=null:u(e,i[2])&&(l[i[1]]=null),l;if(2!==h&&s){if(s>=2)return r;for(var p=0;p<i.length;p++){var g=i[p];if(!c(r,g)&&c(t,g)){r[g]=t[g];break}}return r}return l}function c(t,e){return t.hasOwnProperty(e)}function u(t,e){return null!=t[e]&&"auto"!==t[e]}function p(t,e,i){a(t,(function(t){e[t]=i[t]}))}p(h[0],t,r),p(h[1],t,s)},e.getLayoutParams=function(t){return f({},t)},e.copyLayoutParams=f},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array;function n(t){return Math.sqrt(r(t))}var o=n;function r(t){return t[0]*t[0]+t[1]*t[1]}var s=r;function a(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=a;function h(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var c=h;e.create=function(t,e){var n=new i(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.sub=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},e.len=n,e.length=o,e.lenSquare=r,e.lengthSquare=s,e.mul=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},e.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.normalize=function(t,e){var i=n(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},e.distance=a,e.dist=l,e.distanceSquare=h,e.distSquare=c,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},e.applyTransform=function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}},function(t,e,i){var n=i(0),o=i(20),r=i(3);var s=n.normalizeCssArray;function a(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var l=["a","b","c","d","e","f","g"],h=function(t,e){return"{"+t+(null==e?"":e)+"}"};var c=function(t){return t<10?"0"+t:t};var u=o.truncateText,p=o.getBoundingRect;e.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},e.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=s,e.encodeHTML=a,e.formatTpl=function(t,e,i){n.isArray(e)||(e=[e]);var o=e.length;if(!o)return"";for(var r=e[0].$vars||[],s=0;s<r.length;s++){var c=l[s];t=t.replace(h(c),h(c,0))}for(var u=0;u<o;u++)for(var p=0;p<r.length;p++){var g=e[u][r[p]];t=t.replace(h(l[p],u),i?a(g):g)}return t},e.formatTplSimple=function(t,e,i){return n.each(e,(function(e,n){t=t.replace("{"+n+"}",i?a(e):e)})),t},e.getTooltipMarker=function(t,e){var i=(t=n.isString(t)?{color:t,extraCssText:e}:t||{}).color,o=t.type;return e=t.extraCssText,i?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+a(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a(i)+";"+(e||"")+'"></span>':""},e.formatTime=function(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var n=r.parseDate(e),o=i?"UTC":"",s=n["get"+o+"FullYear"](),a=n["get"+o+"Month"]()+1,l=n["get"+o+"Date"](),h=n["get"+o+"Hours"](),u=n["get"+o+"Minutes"](),p=n["get"+o+"Seconds"]();return t=t.replace("MM",c(a)).replace("M",a).replace("yyyy",s).replace("yy",s%100).replace("dd",c(l)).replace("d",l).replace("hh",c(h)).replace("h",h).replace("mm",c(u)).replace("m",u).replace("ss",c(p)).replace("s",p)},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=u,e.getTextRect=p},function(t,e,i){var n,o,r,s,a=i(7),l=i(15),h=a.applyTransform,c=Math.min,u=Math.max;function p(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}p.prototype={constructor:p,union:function(t){var e=c(t.x,this.x),i=c(t.y,this.y);this.width=u(t.x+t.width,this.x+this.width)-e,this.height=u(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(n=[],o=[],r=[],s=[],function(t){if(t){n[0]=r[0]=this.x,n[1]=s[1]=this.y,o[0]=s[0]=this.x+this.width,o[1]=r[1]=this.y+this.height,h(n,n,t),h(o,o,t),h(r,r,t),h(s,s,t),this.x=c(n[0],o[0],r[0],s[0]),this.y=c(n[1],o[1],r[1],s[1]);var e=u(n[0],o[0],r[0],s[0]),i=u(n[1],o[1],r[1],s[1]);this.width=e-this.x,this.height=i-this.y}}),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=l.create();return l.translate(o,o,[-e.x,-e.y]),l.scale(o,o,[i,n]),l.translate(o,o,[t.x,t.y]),o},intersect:function(t){if(!t)return!1;t instanceof p||(t=p.create(t));var e=this,i=e.x,n=e.x+e.width,o=e.y,r=e.y+e.height,s=t.x,a=t.x+t.width,l=t.y,h=t.y+t.height;return!(n<s||a<i||r<l||h<o)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new p(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},p.create=function(t){return new p(t.x,t.y,t.width,t.height)};var g=p;t.exports=g},function(t,e){var i="undefined"!=typeof wx?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(t){var e={},i=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),r=/micromessenger/i.test(t);i&&(e.firefox=!0,e.version=i[1]);n&&(e.ie=!0,e.version=n[1]);o&&(e.edge=!0,e.version=o[1]);r&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11)}}(navigator.userAgent);t.exports=i},function(t,e,i){var n=i(0),o=i(10),r=i(4).makeInner,s=i(23),a=s.enableClassExtend,l=s.enableClassCheck,h=i(196),c=i(197),u=i(198),p=i(217),g=n.mixin,d=r();function f(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function y(t,e,i){for(var n=0;n<e.length&&(!e[n]||null!=(t=t&&"object"==typeof t?t[e[n]]:null));n++);return null==t&&i&&(t=i.get(e)),t}function m(t,e){var i=d(t).getParent;return i?i.call(t,e):t.parentModel}f.prototype={constructor:f,init:null,mergeOption:function(t){n.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:y(this.option,this.parsePath(t),!e&&m(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],o=!e&&m(this,t);return null==n&&o&&(n=o.getShallow(t)),n},getModel:function(t,e){var i;return new f(null==t?this.option:y(this.option,t=this.parsePath(t)),e=e||(i=m(this,t))&&i.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){d(this).getParent=t},isAnimationEnabled:function(){if(!o.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},a(f),l(f),g(f,h),g(f,c),g(f,u),g(f,p);var v=f;t.exports=v},function(t,e,i){var n=i(47),o=i(0),r=i(40),s=i(200),a=i(113).prototype.getCanvasPattern,l=Math.abs,h=new r(!0);function c(t){n.call(this,t),this.path=null}c.prototype={constructor:c,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var i,n=this.style,o=this.path||h,r=n.hasStroke(),s=n.hasFill(),l=n.fill,c=n.stroke,u=s&&!!l.colorStops,p=r&&!!c.colorStops,g=s&&!!l.image,d=r&&!!c.image;(n.bind(t,this,e),this.setTransform(t),this.__dirty)&&(u&&(i=i||this.getBoundingRect(),this._fillGradient=n.getGradient(t,l,i)),p&&(i=i||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,c,i)));u?t.fillStyle=this._fillGradient:g&&(t.fillStyle=a.call(l,t)),p?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=a.call(c,t));var f=n.lineDash,y=n.lineDashOffset,m=!!t.setLineDash,v=this.getGlobalScale();o.setScale(v[0],v[1]),this.__dirtyPath||f&&!m&&r?(o.beginPath(t),f&&!m&&(o.setLineDash(f),o.setLineDashOffset(y)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),s&&o.fill(t),f&&m&&(t.setLineDash(f),t.lineDashOffset=y),r&&o.stroke(t),f&&m&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new r},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new r),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var s=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var r=this.path.data;if(o.hasStroke()){var a=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(o.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),s.containStroke(r,a/l,t,e)))return!0}if(o.hasFill())return s.contain(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(o.isObject(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&l(t[0]-1)>1e-10&&l(t[3]-1)>1e-10?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},c.extend=function(t){var e=function(e){c.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(n[o]=i[o])}t.init&&t.init.call(this,e)};for(var i in o.inherits(e,c),t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},o.inherits(c,n);var u=c;t.exports=u},function(t,e,i){var n=i(0),o=i(11),r=i(66),s=i(23),a=s.enableClassManagement,l=s.parseClassType,h=i(4).makeInner,c=i(6),u=i(218),p=h(),g=o.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){o.call(this,t,e,i,n),this.uid=r.getUID("ec_cpt_model")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?c.getLayoutParams(t):{},r=e.getTheme();n.merge(t,r.get(this.mainType)),n.merge(t,this.getDefaultOption()),i&&c.mergeLayoutParam(t,o,i)},mergeOption:function(t,e){n.merge(this.option,t,!0);var i=this.layoutMode;i&&c.mergeLayoutParam(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=p(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var o=i.prototype.defaultOption;o&&e.push(o),i=i.superClass}for(var r={},s=e.length-1;s>=0;s--)r=n.merge(r,e[s],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});a(g,{registerWhenExtend:!0}),r.enableSubTypeDefaulter(g),r.enableTopologicalTravel(g,(function(t){var e=[];n.each(g.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=n.map(e,(function(t){return l(t).main})),"dataset"!==t&&n.indexOf(e,"dataset")<=0&&e.unshift("dataset");return e})),n.mixin(g,u);var d=g;t.exports=d},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(10),r=i(8),s=r.formatTime,a=r.encodeHTML,l=r.addCommas,h=r.getTooltipMarker,c=i(4),u=i(13),p=i(125),g=i(84),d=i(6),f=d.getLayoutParams,y=d.mergeLayoutParam,m=i(85).createTask,v=i(67),_=v.prepareSource,x=v.getSource,C=i(51).retrieveRawValue,I=c.makeInner(),A=u.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=m({count:w,reset:S}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),_(this);var o=this.getInitialData(t,i);E(o,this),this.dataTask.context.data=o,I(this).dataBeforeProcessed=o,b(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?f(t):{},r=this.subType;u.hasClass(r)&&(r+="Series"),n.merge(t,e.getTheme().get(this.subType)),n.merge(t,this.getDefaultOption()),c.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&y(t,o,i)},mergeOption:function(t,e){t=n.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&y(this.option,t,i),_(this);var o=this.getInitialData(t,e);E(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,I(this).dataBeforeProcessed=o,b(this)},fillDataTextStyle:function(t){if(t)for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&c.defaultEmphasis(t[i],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=P(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return I(this).data},setData:function(t){var e=P(this);if(e){var i=e.context;i.data!==t&&e.isOverallFilter&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}I(this).data=t},getSource:function(){return x(this)},getRawData:function(){return I(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i){function o(t){return a(l(t))}var r=this.getData(),u=r.mapDimension("defaultedTooltip",!0),p=u.length,g=this.getRawValue(t),d=n.isArray(g),f=r.getItemVisual(t,"color");n.isObject(f)&&f.colorStops&&(f=(f.colorStops[0]||{}).color),f=f||"transparent";var y=p>1||d&&!p?function(i){var o=n.reduce(i,(function(t,e,i){var n=r.getDimensionInfo(i);return t|(n&&!1!==n.tooltip&&null!=n.displayName)}),0),c=[];function p(t,i){var n=r.getDimensionInfo(i);if(n&&!1!==n.otherDims.tooltip){var u=n.type,p=h({color:f,type:"subItem"}),g=(o?p+a(n.displayName||"-")+": ":"")+a("ordinal"===u?t+"":"time"===u?e?"":s("yyyy/MM/dd hh:mm:ss",t):l(t));g&&c.push(g)}}return u.length?n.each(u,(function(e){p(C(r,t,e),e)})):n.each(i,p),(o?"<br/>":"")+c.join(o?"<br/>":", ")}(g):o(p?C(r,t,u[0]):d?g[0]:g),m=h(f),v=r.getName(t),_=this.name;return _===c.DEFAULT_COMPONENT_NAME&&(_=""),_=_?a(_)+(e?": ":"<br/>"):"",e?m+_+y:_+m+(v?a(v)+": "+y:y)},isAnimationEnabled:function(){if(o.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,o=p.getColorFromPalette.call(this,t,e,i);return o||(o=n.getColorFromPalette(t,e,i)),o},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function b(t){var e=t.name;c.DEFAULT_COMPONENT_NAME===e&&(t.name=function(t){var e=t.getRawData(),i=e.mapDimension("seriesName",!0),o=[];return n.each(i,(function(t){var i=e.getDimensionInfo(t);i.displayName&&o.push(i.displayName)})),o.join(" ")}(t)||e)}function w(t){return t.model.getRawData().count()}function S(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),M}function M(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function E(t,e){n.each(t.CHANGABLE_METHODS,(function(i){t.wrapMethod(i,n.curry(T,e))}))}function T(t){var e=P(t);e&&e.setOutputEnd(this.count())}function P(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var o=n.agentStubMap;o&&(n=o.get(t.uid))}return n}}n.mixin(A,g),n.mixin(A,p);var L=A;t.exports=L},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array;function n(){var t=new i(6);return o(t),t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=n,e.identity=o,e.copy=r,e.mul=function(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],s=e[1]*i[2]+e[3]*i[3],a=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t},e.translate=function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},e.rotate=function(t,e,i){var n=e[0],o=e[2],r=e[4],s=e[1],a=e[3],l=e[5],h=Math.sin(i),c=Math.cos(i);return t[0]=n*c+s*h,t[1]=-n*h+s*c,t[2]=o*c+a*h,t[3]=-o*h+c*a,t[4]=c*r+h*l,t[5]=c*l-h*r,t},e.scale=function(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t},e.invert=function(t,e){var i=e[0],n=e[2],o=e[4],r=e[1],s=e[3],a=e[5],l=i*s-r*n;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*a-s*o)*l,t[5]=(r*o-i*a)*l,t):null},e.clone=function(t){var e=n();return r(e,t),e}},function(t,e,i){(function(e){i(5).__DEV__;var n=i(0),o=i(11),r=i(33),s=i(49),a=i(51),l=a.defaultDimValueGetters,h=a.DefaultDataProvider,c=i(52).summarizeDimensions,u=n.isObject,p="undefined"==typeof window?e:window,g={float:void 0===p.Float64Array?Array:p.Float64Array,int:void 0===p.Int32Array?Array:p.Int32Array,ordinal:Array,number:Array,time:Array};function d(t){var e=void 0===p.Uint32Array?Array:p.Uint32Array,i=void 0===p.Uint16Array?Array:p.Uint16Array;return t._rawCount>65535?e:i}var f=["stackedOn","hasItemOption","_nameList","_idList","_rawData","_rawExtent","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"];function y(t,e){n.each(f.concat(e.__wrappedMethods||[]),(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t.__wrappedMethods=e.__wrappedMethods}var m=function(t,e){t=t||["x","y"];for(var i={},n=[],o=0;o<t.length;o++){var r,s={};"string"==typeof t[o]?s={name:r=t[o],coordDim:r,coordDimIndex:0,stackable:!1,type:"float"}:(r=(s=t[o]).name,s.type=s.type||"float",s.coordDim||(s.coordDim=r,s.coordDimIndex=0)),s.otherDims=s.otherDims||{},n.push(r),i[r]=s,s.index=o}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=c(this)},v=m.prototype;function _(t){return t}function x(t){return t<this._count&&t>=0?this._indices[t]:-1}function C(t,e){var i=t._idList[e];return null==i&&(i=t._getIdFromStore(e)),null==i&&(i="e\0\0"+e),i}function I(t){return n.isArray(t)||(t=[t]),t}function A(t,e){var i=t.dimensions,o=new m(n.map(i,t.getDimensionInfo,t),t.hostModel);y(o,t);for(var r=o._storage={},s=t._storage,a=0;a<i.length;a++){var l=i[a];s[l]&&(r[l]=n.indexOf(e,l)>=0?b(s[l]):s[l])}return o}function b(t){for(var e,i,n=new Array(t.length),o=0;o<t.length;o++)n[o]=(e=t[o],i=void 0,(i=e.constructor)===Array?e.slice():new i(e));return n}v.type="list",v.hasItemOption=!0,v.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},v.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},v.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},v.mapDimension=function(t,e){var i=this._dimensionsSummary.encode[t];return!0===e?i&&i.slice()||[]:i?i[e||0]:null},v.initData=function(t,e,i){(s.isInstance(t)||n.isArrayLike(t))&&(t=new h(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=l[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},v.getProvider=function(){return this._rawData},v.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},v._initDataFromProvider=function(t,e){if(!(t>=e)){for(var i,n=this._chunkSize,o=this._rawData,r=this._storage,s=this.dimensions,a=this._dimensionInfos,l=this._nameList,h=this._idList,c=this._rawExtent,u=this._nameRepeatCount={},p=this._chunkCount,d=p-1,f=0;f<s.length;f++){c[S=s[f]]||(c[S]=[1/0,-1/0]);var y=a[S];0===y.otherDims.itemName&&(i=this._nameDimIdx=f),0===y.otherDims.itemId&&(this._idDimIdx=f);var m=g[y.type];r[S]||(r[S]=[]);var v=r[S][d];if(v&&v.length<n){for(var _=new m(Math.min(e-d*n,n)),x=0;x<v.length;x++)_[x]=v[x];r[S][d]=_}for(var C=p*n;C<e;C+=n)r[S].push(new m(Math.min(e-C,n)));this._chunkCount=r[S].length}for(var I=t;I<e;I++){var A=o.getItem(I),b=Math.floor(I/n),w=I%n;for(C=0;C<s.length;C++){var S,M=r[S=s[C]][b],E=this._dimValueGetter(A,S,I,C);M[w]=E,E<c[S][0]&&(c[S][0]=E),E>c[S][1]&&(c[S][1]=E)}if(!o.pure){var T=l[I];A&&!T&&(null!=i?T=this._getNameFromStore(I):null!=A.name&&(l[I]=T=A.name));var P=null==A?null:A.id;null==P&&null!=T&&(u[T]=u[T]||0,P=T,u[T]>0&&(P+="__ec__"+u[T]),u[T]++),null!=P&&(h[I]=P)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={}}},v._getNameFromStore=function(t){var e=this._nameDimIdx;if(null!=e){var i=this._chunkSize,n=Math.floor(t/i),o=t%i,r=this.dimensions[e],s=this._dimensionInfos[r].ordinalMeta;if(s)return s.categories[t];var a=this._storage[r][n];return a&&a[o]}},v._getIdFromStore=function(t){var e=this._idDimIdx;if(null!=e){var i=this._chunkSize,n=Math.floor(t/i),o=t%i,r=this.dimensions[e],s=this._dimensionInfos[r].ordinalMeta;if(s)return s.categories[t];var a=this._storage[r][n];return a&&a[o]}},v.count=function(){return this._count},v.getIndices=function(){if(this._indices)return new(0,this._indices.constructor)(this._indices.buffer,0,this._count);for(var t=new(d(this))(this.count()),e=0;e<t.length;e++)t[e]=e;return t},v.get=function(t,e,i){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var o=Math.floor(e/this._chunkSize),r=e%this._chunkSize,s=n[t][o][r];if(i){var a=this._dimensionInfos[t];if(a&&a.stackable)for(var l=this.stackedOn;l;){var h=l.get(t,e);(s>=0&&h>0||s<=0&&h<0)&&(s+=h),l=l.stackedOn}}return s},v._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return this._storage[t][i][n]},v.getValues=function(t,e,i){var o=[];n.isArray(t)||(i=e,e=t,t=this.dimensions);for(var r=0,s=t.length;r<s;r++)o.push(this.get(t[r],e,i));return o},v.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=this._dimensionInfos,n=0,o=e.length;n<o;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},v.getDataExtent=function(t,e){t=this.getDimension(t);var i=this._storage[t],n=[1/0,-1/0];if(e=!!e&&this.isStacked(t),!i)return n;var o,r=this.count(),s=[t,!!e].join("_");if(!this._indices&&!e)return this._rawExtent[t].slice();if(o=this._extent[s])return o.slice();for(var a=(o=n)[0],l=o[1],h=0;h<r;h++){var c=e?this.get(t,h,!0):this._getFast(t,this.getRawIndex(h));c<a&&(a=c),c>l&&(l=c)}return o=[a,l],this._extent[s]=o,o},v.getApproximateExtent=function(t,e){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t,e)},v.setApproximateExtent=function(t,e,i){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},v.isStacked=function(t){var e=this._dimensionInfos[t];return e&&e.stackable&&this.stackedOn},v.getSum=function(t,e){var i=0;if(this._storage[t])for(var n=0,o=this.count();n<o;n++){var r=this.get(t,n,e);isNaN(r)||(i+=r)}return i},v.indexOf=function(t,e){var i=this._storage[t],n=this._chunkSize;if(i)for(var o=0,r=this.count();o<r;o++){var s=o%n;if(i[Math.floor(o/n)][s]===e)return o}return-1},v.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},v.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,o=this._count-1;n<=o;){var r=(n+o)/2|0;if(e[r]<t)n=r+1;else{if(!(e[r]>t))return r;o=r-1}}return-1},v.indicesOfNearest=function(t,e,i,n){var o=[];if(!this._storage[t])return o;null==n&&(n=1/0);for(var r=Number.MAX_VALUE,s=-1,a=0,l=this.count();a<l;a++){var h=e-this.get(t,a,i),c=Math.abs(h);h<=n&&c<=r&&((c<r||h>=0&&s<0)&&(r=c,s=h,o.length=0),o.push(a))}return o},v.getRawIndex=_,v.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},v.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||this._getNameFromStore(e)||""},v.getId=function(t){return C(this,this.getRawIndex(t))},v.each=function(t,e,i,o){"use strict";if(this._count){"function"==typeof t&&(o=i,i=e,e=t,t=[]);var r=(t=n.map(I(t),this.getDimension,this)).length;o=o||this;for(var s=0;s<this.count();s++)switch(r){case 0:e.call(o,s);break;case 1:e.call(o,this.get(t[0],s,i),s);break;case 2:e.call(o,this.get(t[0],s,i),this.get(t[1],s,i),s);break;default:for(var a=0,l=[];a<r;a++)l[a]=this.get(t[a],s,i);l[a]=s,e.apply(o,l)}}},v.filterSelf=function(t,e,i,o){"use strict";if(this._count){"function"==typeof t&&(o=i,i=e,e=t,t=[]),i=i||!1,o=o||this,t=n.map(I(t),this.getDimension,this);for(var r=this.count(),s=new(d(this))(r),a=[],l=t.length,h=0,c=t[0],u=0;u<r;u++){var p,g=this.getRawIndex(u);if(0===l)p=e.call(o,u);else if(1===l){var f=i?this.get(c,u,!0):this._getFast(c,g);p=e.call(o,f,u)}else{for(var y=0;y<l;y++)a[y]=i?this.get(t[y],u,!0):this._getFast(c,g);a[y]=u,p=e.apply(o,a)}p&&(s[h++]=g)}return h<r&&(this._indices=s),this._count=h,this._extent={},this.getRawIndex=this._indices?x:_,this}},v.selectRange=function(t,e){"use strict";if(this._count){e=e||!1;var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(n);var o=i.length;if(o){var r=this.count(),s=new(d(this))(r),a=0,l=i[0],h=t[l][0],c=t[l][1],u=!1;if(!this._indices&&!e){var p=0;if(1===o){for(var g=this._storage[i[0]],f=0;f<this._chunkCount;f++)for(var y=g[f],m=Math.min(this._count-f*this._chunkSize,this._chunkSize),v=0;v<m;v++){(w=y[v])>=h&&w<=c&&(s[a++]=p),p++}u=!0}else if(2===o){g=this._storage[l];var C=this._storage[i[1]],I=t[i[1]][0],A=t[i[1]][1];for(f=0;f<this._chunkCount;f++){y=g[f];var b=C[f];for(m=Math.min(this._count-f*this._chunkSize,this._chunkSize),v=0;v<m;v++){var w=y[v],S=b[v];w>=h&&w<=c&&S>=I&&S<=A&&(s[a++]=p),p++}}u=!0}}if(!u)if(1===o){e=e||this.isStacked(l);for(v=0;v<r;v++){var M=this.getRawIndex(v);(w=e?this.get(l,v,!0):this._getFast(l,M))>=h&&w<=c&&(s[a++]=M)}}else for(v=0;v<r;v++){var E=!0;for(M=this.getRawIndex(v),f=0;f<o;f++){var T=i[f];((w=e?this.get(T,v,!0):this._getFast(n,M))<t[T][0]||w>t[T][1])&&(E=!1)}E&&(s[a++]=this.getRawIndex(v))}return a<r&&(this._indices=s),this._count=a,this._extent={},this.getRawIndex=this._indices?x:_,this}}},v.mapArray=function(t,e,i,n){"use strict";"function"==typeof t&&(n=i,i=e,e=t,t=[]);var o=[];return this.each(t,(function(){o.push(e&&e.apply(this,arguments))}),i,n),o},v.map=function(t,e,i,o){"use strict";var r=A(this,t=n.map(I(t),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?x:_;for(var s=r._storage,a=[],l=this._chunkSize,h=t.length,c=this.count(),u=[],p=0;p<c;p++){for(var g=0;g<h;g++)u[g]=this.get(t[g],p,i);u[h]=p;var d=e&&e.apply(o,u);if(null!=d){"object"!=typeof d&&(a[0]=d,d=a);for(var f=this.getRawIndex(p),y=Math.floor(f/l),m=f%l,v=0;v<d.length;v++){var C=s[t[v]];C&&(C[y][m]=d[v])}}}return r},v.downSample=function(t,e,i,n){for(var o=A(this,[t]),r=o._storage,s=[],a=Math.floor(1/e),l=r[t],h=this.count(),c=this._chunkSize,u=new(d(this))(h),p=0,g=0;g<h;g+=a){a>h-g&&(a=h-g,s.length=a);for(var f=0;f<a;f++){var y=this.getRawIndex(g+f),m=Math.floor(y/c),v=y%c;s[f]=l[m][v]}var _=i(s),C=this.getRawIndex(Math.min(g+n(s,_)||0,h-1)),I=C%c;l[Math.floor(C/c)][I]=_,u[p++]=C}return o._count=p,o._indices=u,o.getRawIndex=x,o},v.getItemModel=function(t){var e=this.hostModel;return new o(this.getRawDataItem(t),e,e&&e.ecModel)},v.diff=function(t){var e=this;return new r(t?t.getIndices():[],this.getIndices(),(function(e){return C(t,e)}),(function(t){return C(e,t)}))},v.getVisual=function(t){var e=this._visual;return e&&e[t]},v.setVisual=function(t,e){if(u(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},v.setLayout=function(t,e){if(u(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},v.getLayout=function(t){return this._layout[t]},v.getItemLayout=function(t){return this._itemLayouts[t]},v.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?n.extend(this._itemLayouts[t]||{},e):e},v.clearItemLayouts=function(){this._itemLayouts.length=0},v.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e)},v.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=n,u(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r],o[r]=!0);else n[e]=i,o[e]=!0},v.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var w=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};v.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(w,e)),this._graphicEls[t]=e},v.getItemGraphicEl=function(t){return this._graphicEls[t]},v.eachItemGraphicEl=function(t,e){n.each(this._graphicEls,(function(i,n){i&&t&&t.call(e,i,n)}))},v.cloneShallow=function(t){if(!t){var e=n.map(this.dimensions,this.getDimensionInfo,this);t=new m(e,this.hostModel)}if(t._storage=this._storage,y(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?x:_,t._extent=n.clone(this._extent),t._approximateExtent=n.clone(this._approximateExtent),t},v.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(n.slice(arguments)))})},v.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],v.CHANGABLE_METHODS=["filterSelf","selectRange"];var S=m;t.exports=S}).call(this,i(44))},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(20),r=i(230),s=i(69),a=i(68),l=i(3),h=i(70).calBarWidthAndOffset;function c(t,e){var i,o,r,s=t.type,a=e.getMin(),h=e.getMax(),c=null!=a,p=null!=h,g=t.getExtent();"ordinal"===s?i=e.getCategories().length:(o=e.get("boundaryGap"),n.isArray(o)||(o=[o||0,o||0]),"boolean"==typeof o[0]&&(o=[0,0]),o[0]=l.parsePercent(o[0],1),o[1]=l.parsePercent(o[1],1),r=g[1]-g[0]||Math.abs(g[0])),null==a&&(a="ordinal"===s?i?0:NaN:g[0]-o[0]*r),null==h&&(h="ordinal"===s?i?i-1:NaN:g[1]+o[1]*r),"dataMin"===a?a=g[0]:"function"==typeof a&&(a=a({min:g[0],max:g[1]})),"dataMax"===h?h=g[1]:"function"==typeof h&&(h=h({min:g[0],max:g[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==h||!isFinite(h))&&(h=NaN),t.setBlank(n.eqNaN(a)||n.eqNaN(h)),e.getNeedCrossZero()&&(a>0&&h>0&&!c&&(a=0),a<0&&h<0&&!p&&(h=0));var d=e.ecModel;if(d){var f=n.filter(d.getSeriesByType("bar"),(function(t){return t.getBaseAxis()===e.axis})).length>0;if(("time"===s||"interval"===s)&&f){var y=u(a,h,e);a=y.min,h=y.max}}return[a,h]}function u(t,e,i){var o=i.ecModel,r=i.axis.getExtent(),s=r[1]-r[0],a=h(n.filter(o.getSeriesByType("bar"),(function(t){return!o.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})))[i.axis.dim+i.axis.index];if(void 0===a)return{min:t,max:e};var l=1/0;n.each(a,(function(t){l=Math.min(t.offset,l)}));var c=-1/0;n.each(a,(function(t){c=Math.max(t.offset+t.width,c)}));var u=Math.abs(l)+c,p=e-t,g=p/(1-(l+c)/s)-p;return{min:t-=g*(l/u),max:e+=g*(c/u)}}function p(t,e){return"category"===t.type?t.scale.getLabel(e):e}i(231),i(232),e.getScaleExtent=c,e.adjustScaleForOverflow=u,e.niceScaleExtent=function(t,e){var i=c(t,e),n=null!=e.getMin(),o=null!=e.getMax(),r=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var s=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n,fixMax:o,minInterval:"interval"===s||"time"===s?e.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?e.get("maxInterval"):null});var a=e.get("interval");null!=a&&t.setInterval&&t.setInterval(a)},e.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new r(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new s;default:return(a.getClass(e)||s).create(t)}},e.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)},e.getAxisLabelInterval=function(t,e,i,n,r){var s,a=0,l=0,h=(n-r)/180*Math.PI,c=1;e.length>40&&(c=Math.floor(e.length/40));for(var u=0;u<t.length;u+=c){var p=t[u],g=o.getBoundingRect(e[u],i,"center","top");g.x+=p*Math.cos(h),g.y+=p*Math.sin(h),g.width*=1.3,g.height*=1.3,s?s.intersect(g)?(l++,a=Math.max(a,l)):(s.union(g),l=0):s=g.clone()}return 0===a&&c>1?c:(a+1)*c-1},e.getFormattedLabels=function(t,e){var i,o=t.scale,r=o.getTicksLabels(),s=o.getTicks();return"string"==typeof e?(i=e,e=function(t){return i.replace("{value}",null!=t?t:"")},n.map(r,e)):"function"==typeof e?n.map(s,(function(i,n){return e(p(t,i),n)}),this):r},e.getAxisRawValue=p},function(t,e,i){var n=i(0),o=i(2),r=i(9),s=o.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+o,n+r),t.lineTo(i-o,n+r),t.closePath()}}),a=o.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+o,n),t.lineTo(i,n+r),t.lineTo(i-o,n),t.closePath()}}),l=o.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,r=Math.max(o,e.height),s=o/2,a=s*s/(r-s),l=n-r+s+a,h=Math.asin(a/s),c=Math.cos(h)*s,u=Math.sin(h),p=Math.cos(h),g=.6*s,d=.7*s;t.moveTo(i-c,l+a),t.arc(i,l,s,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+c-u*g,l+a+p*g,i,n-d,i,n),t.bezierCurveTo(i,n-d,i-c+u*g,l+a+p*g,i-c,l+a),t.closePath()}}),h=o.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,r=e.y,s=n/3*2;t.moveTo(o,r),t.lineTo(o+s,r+i),t.lineTo(o,r+i/4*3),t.lineTo(o-s,r+i),t.lineTo(o,r),t.closePath()}}),c={line:o.Line,rect:o.Rect,roundRect:o.Rect,square:o.Rect,circle:o.Circle,diamond:a,pin:l,arrow:h,triangle:s},u={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var r=Math.min(i,n);o.x=t,o.y=e,o.width=r,o.height=r},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},p={};n.each(c,(function(t,e){p[e]=new t}));var g=o.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,i){var n=e.symbolType,o=p[n];"none"!==e.symbolType&&(o||(o=p[n="rect"]),u[n](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,i))}});function d(t,e){if("image"!==this.type){var i=this.style,n=this.shape;n&&"line"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}e.createSymbol=function(t,e,i,n,s,a,l){var h,c=0===t.indexOf("empty");return c&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(h=0===t.indexOf("image://")?o.makeImage(t.slice(8),new r(e,i,n,s),l?"center":"cover"):0===t.indexOf("path://")?o.makePath(t.slice(7),{},new r(e,i,n,s),l?"center":"cover"):new g({shape:{symbolType:t,x:e,y:i,width:n,height:s}})).__isEmptyBrush=c,h.setColor=d,h.setColor(a),h}},function(t,e,i){var n=i(0),o={};function r(){this._coordinateSystems=[]}r.prototype={constructor:r,create:function(t,e){var i=[];n.each(o,(function(n,o){var r=n.create(t,e);i=i.concat(r||[])})),this._coordinateSystems=i},update:function(t,e){n.each(this._coordinateSystems,(function(i){i.update&&i.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(t,e){o[t]=e},r.get=function(t){return o[t]};var s=r;t.exports=s},function(t,e,i){var n=i(9),o=i(81),r=i(0),s=r.getContext,a=r.extend,l=r.retrieve2,h=r.retrieve3,c=r.trim,u={},p=0,g=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,d={};function f(t,e){var i=t+":"+(e=e||"12px sans-serif");if(u[i])return u[i];for(var n=(t+"").split("\n"),o=0,r=0,s=n.length;r<s;r++)o=Math.max(A(n[r],e).width,o);return p>5e3&&(p=0,u={}),p++,u[i]=o,o}function y(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function m(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function v(t,e,i,n,o){if(!e)return"";var r=(t+"").split("\n");o=_(e,i,n,o);for(var s=0,a=r.length;s<a;s++)r[s]=x(r[s],o);return r.join("\n")}function _(t,e,i,n){(n=a({},n)).font=e;i=l(i,"...");n.maxIterations=l(n.maxIterations,2);var o=n.minChar=l(n.minChar,0);n.cnCharWidth=f("国",e);var r=n.ascCharWidth=f("a",e);n.placeholder=l(n.placeholder,"");for(var s=t=Math.max(0,t-1),h=0;h<o&&s>=r;h++)s-=r;var c=f(i);return c>s&&(i="",c=0),s=t-c,n.ellipsis=i,n.ellipsisWidth=c,n.contentWidth=s,n.containerWidth=t,n}function x(t,e){var i=e.containerWidth,n=e.font,o=e.contentWidth;if(!i)return"";var r=f(t,n);if(r<=i)return t;for(var s=0;;s++){if(r<=o||s>=e.maxIterations){t+=e.ellipsis;break}var a=0===s?C(t,o,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*o/r):0;r=f(t=t.substr(0,a),n)}return""===t&&(t=e.placeholder),t}function C(t,e,i,n){for(var o=0,r=0,s=t.length;r<s&&o<e;r++){var a=t.charCodeAt(r);o+=0<=a&&a<=127?i:n}return r}function I(t){return f("国",t)}function A(t,e){return d.measureText(t,e)}function b(t,e,i,n){null!=t&&(t+="");var o=I(e),r=t?t.split("\n"):[],s=r.length*o,a=s;if(i&&(a+=i[0]+i[2]),t&&n){var l=n.outerHeight,h=n.outerWidth;if(null!=l&&a>l)t="",r=[];else if(null!=h)for(var c=_(h-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),u=0,p=r.length;u<p;u++)r[u]=x(r[u],c)}return{lines:r,height:s,outerHeight:a,lineHeight:o}}function w(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,r=g.lastIndex=0;null!=(n=g.exec(t));){var s=n.index;s>r&&S(i,t.substring(r,s)),S(i,n[2],n[1]),r=g.lastIndex}r<t.length&&S(i,t.substring(r,t.length));var a=i.lines,c=0,u=0,p=[],d=e.textPadding,y=e.truncate,m=y&&y.outerWidth,_=y&&y.outerHeight;d&&(null!=m&&(m-=d[1]+d[3]),null!=_&&(_-=d[0]+d[2]));for(var x=0;x<a.length;x++){for(var C=a[x],A=0,b=0,w=0;w<C.tokens.length;w++){var M=(k=C.tokens[w]).styleName&&e.rich[k.styleName]||{},E=k.textPadding=M.textPadding,T=k.font=M.font||e.font,P=k.textHeight=l(M.textHeight,I(T));if(E&&(P+=E[0]+E[2]),k.height=P,k.lineHeight=h(M.textLineHeight,e.textLineHeight,P),k.textAlign=M&&M.textAlign||e.textAlign,k.textVerticalAlign=M&&M.textVerticalAlign||"middle",null!=_&&c+k.lineHeight>_)return{lines:[],width:0,height:0};k.textWidth=f(k.text,T);var L=M.textWidth,N=null==L||"auto"===L;if("string"==typeof L&&"%"===L.charAt(L.length-1))k.percentWidth=L,p.push(k),L=0;else{if(N){L=k.textWidth;var D=M.textBackgroundColor,R=D&&D.image;R&&(R=o.findExistImage(R),o.isImageReady(R)&&(L=Math.max(L,R.width*P/R.height)))}var O=E?E[1]+E[3]:0;L+=O;var F=null!=m?m-b:null;null!=F&&F<L&&(!N||F<O?(k.text="",k.textWidth=L=0):(k.text=v(k.text,F-O,T,y.ellipsis,{minChar:y.minChar}),k.textWidth=f(k.text,T),L=k.textWidth+O))}b+=k.width=L,M&&(A=Math.max(A,k.lineHeight))}C.width=b,C.lineHeight=A,c+=A,u=Math.max(u,b)}i.outerWidth=i.width=l(e.textWidth,u),i.outerHeight=i.height=l(e.textHeight,c),d&&(i.outerWidth+=d[1]+d[3],i.outerHeight+=d[0]+d[2]);for(x=0;x<p.length;x++){var k,G=(k=p[x]).percentWidth;k.width=parseInt(G,10)/100*u}return i}function S(t,e,i){for(var n=""===e,o=e.split("\n"),r=t.lines,s=0;s<o.length;s++){var a=o[s],l={styleName:i,text:a,isLineHolder:!a&&!n};if(s)r.push({tokens:[l]});else{var h=(r[r.length-1]||(r[0]={tokens:[]})).tokens,c=h.length;1===c&&h[0].isLineHolder?h[0]=l:(a||!c||n)&&h.push(l)}}}d.measureText=function(t,e){var i=s();return i.font=e||"12px sans-serif",i.measureText(t)},e.DEFAULT_FONT="12px sans-serif",e.$override=function(t,e){d[t]=e},e.getWidth=f,e.getBoundingRect=function(t,e,i,o,r,s,a){return s?function(t,e,i,o,r,s,a){var l=w(t,{rich:s,truncate:a,font:e,textAlign:i,textPadding:r}),h=l.outerWidth,c=l.outerHeight,u=y(0,h,i),p=m(0,c,o);return new n(u,p,h,c)}(t,e,i,o,r,s,a):function(t,e,i,o,r,s){var a=b(t,e,r,s),l=f(t,e);r&&(l+=r[1]+r[3]);var h=a.outerHeight,c=y(0,l,i),u=m(0,h,o),p=new n(c,u,l,h);return p.lineHeight=a.lineHeight,p}(t,e,i,o,r,a)},e.adjustTextX=y,e.adjustTextY=m,e.adjustTextPositionOnRect=function(t,e,i){var n=e.x,o=e.y,r=e.height,s=e.width,a=r/2,l="left",h="top";switch(t){case"left":n-=i,o+=a,l="right",h="middle";break;case"right":n+=i+s,o+=a,h="middle";break;case"top":n+=s/2,o-=i,l="center",h="bottom";break;case"bottom":n+=s/2,o+=r+i,l="center";break;case"inside":n+=s/2,o+=a,l="center",h="middle";break;case"insideLeft":n+=i,o+=a,h="middle";break;case"insideRight":n+=s-i,o+=a,l="right",h="middle";break;case"insideTop":n+=s/2,o+=i,l="center";break;case"insideBottom":n+=s/2,o+=r-i,l="center",h="bottom";break;case"insideTopLeft":n+=i,o+=i;break;case"insideTopRight":n+=s-i,o+=i,l="right";break;case"insideBottomLeft":n+=i,o+=r-i,h="bottom";break;case"insideBottomRight":n+=s-i,o+=r-i,l="right",h="bottom"}return{x:n,y:o,textAlign:l,textVerticalAlign:h}},e.truncateText=v,e.getLineHeight=I,e.measureText=A,e.parsePlainText=b,e.parseRichText=w,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&c(e)||t.textFont||t.font}},function(t,e,i){var n=i(110),o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function s(t){return t<0?0:t>1?1:t}function a(t){return t.length&&"%"===t.charAt(t.length-1)?r(parseFloat(t)/100*255):r(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?s(parseFloat(t)/100):s(parseFloat(t))}function h(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function c(t,e,i){return t+(e-t)*i}function u(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var g=new n(20),d=null;function f(t,e){d&&p(d,e),d=g.put(t,d||e.slice())}function y(t,e){if(t){e=e||[];var i=g.get(t);if(i)return p(e,i);var n,r=(t+="").replace(/ /g,"").toLowerCase();if(r in o)return p(e,o[r]),f(t,e),e;if("#"===r.charAt(0))return 4===r.length?(n=parseInt(r.substr(1),16))>=0&&n<=4095?(u(e,(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1),f(t,e),e):void u(e,0,0,0,1):7===r.length?(n=parseInt(r.substr(1),16))>=0&&n<=16777215?(u(e,(16711680&n)>>16,(65280&n)>>8,255&n,1),f(t,e),e):void u(e,0,0,0,1):void 0;var s=r.indexOf("("),h=r.indexOf(")");if(-1!==s&&h+1===r.length){var c=r.substr(0,s),d=r.substr(s+1,h-(s+1)).split(","),y=1;switch(c){case"rgba":if(4!==d.length)return void u(e,0,0,0,1);y=l(d.pop());case"rgb":return 3!==d.length?void u(e,0,0,0,1):(u(e,a(d[0]),a(d[1]),a(d[2]),y),f(t,e),e);case"hsla":return 4!==d.length?void u(e,0,0,0,1):(d[3]=l(d[3]),m(d,e),f(t,e),e);case"hsl":return 3!==d.length?void u(e,0,0,0,1):(m(d,e),f(t,e),e);default:return}}u(e,0,0,0,1)}}function m(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=l(t[1]),o=l(t[2]),s=o<=.5?o*(n+1):o+n-o*n,a=2*o-s;return u(e=e||[],r(255*h(a,s,i+1/3)),r(255*h(a,s,i)),r(255*h(a,s,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function v(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[];var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),l=e[o],h=e[a],u=n-o;return i[0]=r(c(l[0],h[0],u)),i[1]=r(c(l[1],h[1],u)),i[2]=r(c(l[2],h[2],u)),i[3]=s(c(l[3],h[3],u)),i}}var _=v;function x(t,e,i){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),l=y(e[o]),h=y(e[a]),u=n-o,p=I([r(c(l[0],h[0],u)),r(c(l[1],h[1],u)),r(c(l[2],h[2],u)),s(c(l[3],h[3],u))],"rgba");return i?{color:p,leftIndex:o,rightIndex:a,value:n}:p}}var C=x;function I(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}e.parse=y,e.lift=function(t,e){var i=y(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0;return I(i,4===i.length?"rgba":"rgb")}},e.toHex=function(t){var e=y(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=v,e.fastMapToColor=_,e.lerp=x,e.mapToColor=C,e.modifyHSL=function(t,e,i,n){if(t=y(t))return t=function(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=Math.min(n,o,r),a=Math.max(n,o,r),l=a-s,h=(a+s)/2;if(0===l)e=0,i=0;else{i=h<.5?l/(a+s):l/(2-a-s);var c=((a-n)/6+l/2)/l,u=((a-o)/6+l/2)/l,p=((a-r)/6+l/2)/l;n===a?e=p-u:o===a?e=1/3+c-p:r===a&&(e=2/3+u-c),e<0&&(e+=1),e>1&&(e-=1)}var g=[360*e,i,h];return null!=t[3]&&g.push(t[3]),g}}(t),null!=e&&(t[0]=(o=e,(o=Math.round(o))<0?0:o>360?360:o)),null!=i&&(t[1]=l(i)),null!=n&&(t[2]=l(n)),I(m(t),"rgba");var o},e.modifyAlpha=function(t,e){if((t=y(t))&&null!=e)return t[3]=s(e),I(t,"rgba")},e.stringify=I},function(t,e,i){var n=i(30);e.Dispatcher=n;var o=i(10),r="undefined"!=typeof window&&!!window.addEventListener,s=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function a(t,e,i,n){return i=i||{},n||!o.canvasSupported?l(t,e,i):o.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):l(t,e,i),i}function l(t,e,i){var n=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);i.zrX=e.clientX-n.left,i.zrY=e.clientY-n.top}var h=r?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=a,e.normalizeEvent=function(t,e,i){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var o="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];o&&a(t,o,e,i)}else a(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var r=e.button;return null==e.which&&void 0!==r&&s.test(e.type)&&(e.which=1&r?1:2&r?3:4&r?2:0),e},e.addEventListener=function(t,e,i){r?t.addEventListener(e,i):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i){r?t.removeEventListener(e,i):t.detachEvent("on"+e,i)},e.stop=h,e.notLeftMouse=function(t){return t.which>1}},function(t,e,i){i(5).__DEV__;var n=i(0),o="___EC__COMPONENT__CONTAINER___";function r(t){var e={main:"",sub:""};return t&&(t=t.split("."),e.main=t[0]||"",e.sub=t[1]||""),e}var s=0;function a(t,e){var i=n.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function l(t,e,i){return this.superClass.prototype[e].apply(t,i)}e.parseClassType=r,e.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return n.extend(i.prototype,t),i.extend=this.extend,i.superCall=a,i.superApply=l,n.inherits(i,this),i.superClass=e,i}},e.enableClassCheck=function(t){var e=["__\0is_clz",s++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},e.enableClassManagement=function(t,e){e=e||{};var i={};if(t.registerClass=function(t,e){if(e)if(function(t){n.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=r(e)).sub){if(e.sub!==o){(function(t){var e=i[t.main];e&&e[o]||((e=i[t.main]={})[o]=!0);return e}(e))[e.sub]=t}}else i[e.main]=t;return t},t.getClass=function(t,e,n){var r=i[t];if(r&&r[o]&&(r=e?r[e]:null),n&&!r)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){t=r(t);var e=[],s=i[t.main];return s&&s[o]?n.each(s,(function(t,i){i!==o&&e.push(t)})):e.push(s),e},t.hasClass=function(t){return t=r(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return n.each(i,(function(e,i){t.push(i)})),t},t.hasSubTypes=function(t){t=r(t);var e=i[t.main];return e&&e[o]},t.parseClassType=r,e.registerWhenExtend){var s=t.extend;s&&(t.extend=function(e){var i=s.call(this,e);return t.registerClass(i,e.type)})}return t},e.setReadOnly=function(t,e){}},function(t,e,i){var n=i(0).each,o=i(62),r=i(66),s=i(23),a=i(4),l=i(85).createTask,h=i(87),c=a.makeInner(),u=h();function p(){this.group=new o,this.uid=r.getUID("viewChart"),this.renderTask=l({plan:y,reset:m}),this.renderTask.context={view:this}}p.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){f(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){f(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var g=p.prototype;function d(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)d(t.childAt(i),e)}function f(t,e,i){var o=a.queryDataIndex(t,e);null!=o?n(a.normalizeToArray(o),(function(e){d(t.getItemGraphicEl(e),i)})):t.eachItemGraphicEl((function(t){d(t,i)}))}function y(t){return u(t.model)}function m(t){var e=t.model,i=t.ecModel,n=t.api,o=t.payload,r=e.pipelineContext.incrementalRender,s=t.view,a=o&&c(o).updateMethod;return s[r&&s.incrementalPrepareRender?"incrementalPrepareRender":a&&s[a]?a:"render"](e,i,n,o),r?v:null}function v(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}g.updateView=g.updateLayout=g.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},s.enableClassExtend(p,["dispose"]),s.enableClassManagement(p,{registerWhenExtend:!0}),p.markUpdateMethod=function(t,e){c(t).updateMethod=e};var _=p;t.exports=_},function(t,e,i){var n=i(0),o=i(16),r=i(41),s=i(50).SOURCE_FORMAT_ORIGINAL,a=i(52).getDimensionTypeByAxis,l=i(4).getDataItemValue,h=i(19),c=i(126).getCoordSysDefineBySeries,u=i(49);var p=function(t,e){u.isInstance(t)||(t=u.seriesDataToSource(t));var i,p=e.get("coordinateSystem"),g=h.get(p),d=c(e);d&&(i=n.map(d.coordSysDims,(function(t){var e={name:t},i=d.axisMap.get(t);if(i){var n=i.get("type");e.type=a(n),e.stackable=function(t){return"category"!==t&&"time"!==t}(n)}return e}))),i||(i=g&&(g.getDimensionsInfo?g.getDimensionsInfo():g.dimensions.slice())||["x","y"]);var f,y,m=r(t,{coordDimensions:i});d&&n.each(m,(function(t,e){var i=t.coordDim,n=d.categoryAxisMap.get(i);n&&(null==f&&(f=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(y=!0)})),y||null==f||(m[f].otherDims.itemName=0);var v=new o(m,e),_=null!=f&&function(t){if(t.sourceFormat===s){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!n.isArray(l(e))}}(t)?function(t,e,i,n){return n===f?i:this.defaultDimValueGetter(t,e,i,n)}:null;return v.hasItemOption=!1,v.initData(t,null,_),v};t.exports=p},function(t,e,i){var n=i(7),o=n.create,r=n.distSquare,s=Math.pow,a=Math.sqrt,l=a(3),h=o(),c=o(),u=o();function p(t){return t>-1e-8&&t<1e-8}function g(t){return t>1e-8||t<-1e-8}function d(t,e,i,n,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*n+3*r*i)}function f(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}e.cubicAt=d,e.cubicDerivativeAt=function(t,e,i,n,o){var r=1-o;return 3*(((e-t)*r+2*(i-e)*o)*r+(n-i)*o*o)},e.cubicRootAt=function(t,e,i,n,o,r){var h=n+3*(e-i)-t,c=3*(i-2*e+t),u=3*(e-t),g=t-o,d=c*c-3*h*u,f=c*u-9*h*g,y=u*u-3*c*g,m=0;if(p(d)&&p(f)){if(p(c))r[0]=0;else(E=-u/c)>=0&&E<=1&&(r[m++]=E)}else{var v=f*f-4*d*y;if(p(v)){var _=f/d,x=-_/2;(E=-c/h+_)>=0&&E<=1&&(r[m++]=E),x>=0&&x<=1&&(r[m++]=x)}else if(v>0){var C=a(v),I=d*c+1.5*h*(-f+C),A=d*c+1.5*h*(-f-C);(E=(-c-((I=I<0?-s(-I,1/3):s(I,1/3))+(A=A<0?-s(-A,1/3):s(A,1/3))))/(3*h))>=0&&E<=1&&(r[m++]=E)}else{var b=(2*d*c-3*h*f)/(2*a(d*d*d)),w=Math.acos(b)/3,S=a(d),M=Math.cos(w),E=(-c-2*S*M)/(3*h),T=(x=(-c+S*(M+l*Math.sin(w)))/(3*h),(-c+S*(M-l*Math.sin(w)))/(3*h));E>=0&&E<=1&&(r[m++]=E),x>=0&&x<=1&&(r[m++]=x),T>=0&&T<=1&&(r[m++]=T)}}return m},e.cubicExtrema=function(t,e,i,n,o){var r=6*i-12*e+6*t,s=9*e+3*n-3*t-9*i,l=3*e-3*t,h=0;if(p(s)){if(g(r))(u=-l/r)>=0&&u<=1&&(o[h++]=u)}else{var c=r*r-4*s*l;if(p(c))o[0]=-r/(2*s);else if(c>0){var u,d=a(c),f=(-r-d)/(2*s);(u=(-r+d)/(2*s))>=0&&u<=1&&(o[h++]=u),f>=0&&f<=1&&(o[h++]=f)}}return h},e.cubicSubdivide=function(t,e,i,n,o,r){var s=(e-t)*o+t,a=(i-e)*o+e,l=(n-i)*o+i,h=(a-s)*o+s,c=(l-a)*o+a,u=(c-h)*o+h;r[0]=t,r[1]=s,r[2]=h,r[3]=u,r[4]=u,r[5]=c,r[6]=l,r[7]=n},e.cubicProjectPoint=function(t,e,i,n,o,s,l,p,g,f,y){var m,v,_,x,C,I=.005,A=1/0;h[0]=g,h[1]=f;for(var b=0;b<1;b+=.05)c[0]=d(t,i,o,l,b),c[1]=d(e,n,s,p,b),(x=r(h,c))<A&&(m=b,A=x);A=1/0;for(var w=0;w<32&&!(I<1e-4);w++)v=m-I,_=m+I,c[0]=d(t,i,o,l,v),c[1]=d(e,n,s,p,v),x=r(c,h),v>=0&&x<A?(m=v,A=x):(u[0]=d(t,i,o,l,_),u[1]=d(e,n,s,p,_),C=r(u,h),_<=1&&C<A?(m=_,A=C):I*=.5);return y&&(y[0]=d(t,i,o,l,m),y[1]=d(e,n,s,p,m)),a(A)},e.quadraticAt=f,e.quadraticDerivativeAt=function(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))},e.quadraticRootAt=function(t,e,i,n,o){var r=t-2*e+i,s=2*(e-t),l=t-n,h=0;if(p(r)){if(g(s))(u=-l/s)>=0&&u<=1&&(o[h++]=u)}else{var c=s*s-4*r*l;if(p(c))(u=-s/(2*r))>=0&&u<=1&&(o[h++]=u);else if(c>0){var u,d=a(c),f=(-s-d)/(2*r);(u=(-s+d)/(2*r))>=0&&u<=1&&(o[h++]=u),f>=0&&f<=1&&(o[h++]=f)}}return h},e.quadraticExtremum=function(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n},e.quadraticSubdivide=function(t,e,i,n,o){var r=(e-t)*n+t,s=(i-e)*n+e,a=(s-r)*n+r;o[0]=t,o[1]=r,o[2]=a,o[3]=a,o[4]=s,o[5]=i},e.quadraticProjectPoint=function(t,e,i,n,o,s,l,p,g){var d,y=.005,m=1/0;h[0]=l,h[1]=p;for(var v=0;v<1;v+=.05){c[0]=f(t,i,o,v),c[1]=f(e,n,s,v),(I=r(h,c))<m&&(d=v,m=I)}m=1/0;for(var _=0;_<32&&!(y<1e-4);_++){var x=d-y,C=d+y;c[0]=f(t,i,o,x),c[1]=f(e,n,s,x);var I=r(c,h);if(x>=0&&I<m)d=x,m=I;else{u[0]=f(t,i,o,C),u[1]=f(e,n,s,C);var A=r(u,h);C<=1&&A<m?(d=C,m=A):y*=.5}}return g&&(g[0]=f(t,i,o,d),g[1]=f(e,n,s,d)),a(m)}},function(t,e,i){var n=i(0),o=i(3),r=i(17),s=o.linearMap;function a(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}var l=[0,1],h=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};h.prototype={constructor:h,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return o.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&a(i=i.slice(),n.count()),s(t,l,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&a(i=i.slice(),n.count());var o=s(t,i,l,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),i=[],o=0;o<e.length;o++)i.push(e[o][0]);return e[o-1]&&i.push(e[o-1][1]),i}return n.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return n.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],o=t[1]-n,r=0;r<i;r++)e.push([o*r/i+n,o*(r+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model,i=e.getModel("axisLabel");t=i.get("interval"),"category"!==this.type||null!=t&&"auto"!==t||(t=r.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),i.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,i.get("rotate"))),this._labelInterval=t}return t}};var c=h;t.exports=c},function(t,e){var i={};e.register=function(t,e){i[t]=e},e.get=function(t){return i[t]}},function(t,e,i){var n=i(1);!function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}}();var o=i(128);!function(){for(var t in o){if(null==o||!o.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=o[t]}}(),i(233),i(235),i(246),i(250),i(255),i(259),i(269),i(281),i(288),i(296),i(311),i(315),i(319),i(331),i(336),i(342),i(348),i(352),i(358),i(362),i(365),i(379),i(385),i(391),i(392),i(393),i(400),i(58),i(404),i(416),i(154),i(161),i(419),i(427),i(431),i(432),i(439),i(446),i(449),i(452),i(455),i(464),i(475),i(478)},function(t,e){var i=Array.prototype.slice,n=function(){this._$handlers={}};n.prototype={constructor:n,one:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++)if(n[t][o].h===e)return this;return n[t].push({h:e,one:!0,ctx:i||this}),this},on:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++)if(n[t][o].h===e)return this;return n[t].push({h:e,one:!1,ctx:i||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,r=i[t].length;o<r;o++)i[t][o].h!=e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>3&&(e=i.call(e,1));for(var o=this._$handlers[t],r=o.length,s=0;s<r;){switch(n){case 1:o[s].h.call(o[s].ctx);break;case 2:o[s].h.call(o[s].ctx,e[1]);break;case 3:o[s].h.call(o[s].ctx,e[1],e[2]);break;default:o[s].h.apply(o[s].ctx,e)}o[s].one?(o.splice(s,1),r--):s++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>4&&(e=i.call(e,1,e.length-1));for(var o=e[e.length-1],r=this._$handlers[t],s=r.length,a=0;a<s;){switch(n){case 1:r[a].h.call(o);break;case 2:r[a].h.call(o,e[1]);break;case 3:r[a].h.call(o,e[1],e[2]);break;default:r[a].h.apply(o,e)}r[a].one?(r.splice(a,1),s--):a++}}return this}};var o=n;t.exports=o},function(t,e){var i="\0__throttleOriginMethod",n="\0__throttleRate";function o(t,e,i){var n,o,r,s,a,l=0,h=0,c=null;function u(){h=(new Date).getTime(),c=null,t.apply(r,s||[])}e=e||0;var p=function(){n=(new Date).getTime(),r=this,s=arguments;var t=a||e,p=a||i;a=null,o=n-(p?l:h)-t,clearTimeout(c),p?c=setTimeout(u,t):o>=0?u():c=setTimeout(u,-o),l=n};return p.clear=function(){c&&(clearTimeout(c),c=null)},p.debounceNextCall=function(t){a=t},p}e.throttle=o,e.createOrUpdate=function(t,e,r,s){var a=t[e];if(a){var l=a[i]||a,h=a["\0__throttleType"];if(a[n]!==r||h!==s){if(null==r||!s)return t[e]=l;(a=t[e]=o(l,r,"debounce"===s))[i]=l,a["\0__throttleType"]=s,a[n]=r}return a}},e.clear=function(t,e){var n=t[e];n&&n[i]&&(t[e]=n[i])}},function(t,e){t.exports={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}}},function(t,e){function i(t){return t}function n(t,e,n,o,r){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=o||i,this.context=r}function o(t,e,i,n,o){for(var r=0;r<t.length;r++){var s="_ec_"+o[n](t[r],r),a=e[s];null==a?(i.push(s),e[s]=r):(a.length||(e[s]=a=[a]),a.push(r))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],r=[];for(o(t,{},n,"_oldKeyGetter",this),o(e,i,r,"_newKeyGetter",this),s=0;s<t.length;s++){if(null!=(l=i[a=n[s]]))(c=l.length)?(1===c&&(i[a]=null),l=l.unshift()):i[a]=null,this._update&&this._update(l,s);else this._remove&&this._remove(s)}for(var s=0;s<r.length;s++){var a=r[s];if(i.hasOwnProperty(a)){var l;if(null==(l=i[a]))continue;if(l.length)for(var h=0,c=l.length;h<c;h++)this._add&&this._add(l[h]);else this._add&&this._add(l)}}}};var r=n;t.exports=r},function(t,e){t.exports=function(t,e,i){return{seriesType:t,performRawSeries:!0,reset:function(t,n,o){var r=t.getData(),s=t.get("symbol")||e,a=t.get("symbolSize");if(r.setVisual({legendSymbol:i||s,symbol:s,symbolSize:a}),!n.isSeriesFiltered(t)){var l="function"==typeof a;return{dataEach:r.hasItemOption||l?function(e,i){if("function"==typeof a){var n=t.getRawValue(i),o=t.getDataParams(i);e.setItemVisual(i,"symbolSize",a(n,o))}if(e.hasItemOption){var r=e.getItemModel(i),s=r.getShallow("symbol",!0),l=r.getShallow("symbolSize",!0);null!=s&&e.setItemVisual(i,"symbol",s),null!=l&&e.setItemVisual(i,"symbolSize",l)}}:null}}}}}},function(t,e,i){var n=i(0),o=n.retrieve,r=n.defaults,s=n.extend,a=n.each,l=i(8),h=i(2),c=i(11),u=i(3),p=u.isRadianAroundZero,g=u.remRadian,d=i(18).createSymbol,f=i(15),y=i(7).applyTransform,m=Math.PI;function v(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}var _=function(t,e){this.opt=e,this.axisModel=t,r(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new h.Group;var i=new h.Group({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};_.prototype={constructor:_,hasBuilder:function(t){return!!x[t]},add:function(t){x[t].call(this)},getGroup:function(){return this.group}};var x={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],r=[i[1],0];n&&(y(o,o,n),y(r,r,n));var l=s({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new h.Line(h.subPixelOptimizeLine({anid:"line",shape:{x1:o[0],y1:o[1],x2:r[0],y2:r[1]},style:l,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var c=e.get("axisLine.symbol"),u=e.get("axisLine.symbolSize");if(null!=c){"string"==typeof c&&(c=[c,c]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var p=u[0],g=u[1];a([[t.rotation+Math.PI/2,o],[t.rotation-Math.PI/2,r]],(function(t,e){if("none"!==c[e]&&null!=c[e]){var i=d(c[e],-p/2,-g/2,p,g,l.stroke,!0);i.attr({rotation:t[0],position:t[1],silent:!0}),this.group.add(i)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=function(t,e,i){var n=e.axis;if(!e.get("axisTick.show")||n.scale.isBlank())return;for(var o=e.getModel("axisTick"),s=o.getModel("lineStyle"),a=o.get("length"),l=M(o,i.labelInterval),c=n.getTicksCoords(o.get("alignWithLabel")),u=n.scale.getTicks(),p=e.get("axisLabel.showMinLabel"),g=e.get("axisLabel.showMaxLabel"),d=[],f=[],m=t._transform,v=[],_=c.length,x=0;x<_;x++)if(!S(n,x,l,_,p,g)){var C=c[x];d[0]=C,d[1]=0,f[0]=C,f[1]=i.tickDirection*a,m&&(y(d,d,m),y(f,f,m));var I=new h.Line(h.subPixelOptimizeLine({anid:"tick_"+u[x],shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:r(s.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(I),v.push(I)}return v}(this,t,e),n=function(t,e,i){var n=e.axis;if(!o(i.axisLabelShow,e.get("axisLabel.show"))||n.scale.isBlank())return;var r=e.getModel("axisLabel"),s=r.get("margin"),l=n.scale.getTicks(),u=e.getFormattedLabels(),p=(o(i.labelRotate,r.get("rotate"))||0)*m/180,g=C(i.rotation,p,i.labelDirection),d=e.getCategories(),f=[],y=I(e),_=e.get("triggerEvent"),x=e.get("axisLabel.showMinLabel"),A=e.get("axisLabel.showMaxLabel");return a(l,(function(o,a){if(!S(n,a,i.labelInterval,l.length,x,A)){var p=r;d&&d[o]&&d[o].textStyle&&(p=new c(d[o].textStyle,r,e.ecModel));var m=p.getTextColor()||e.get("axisLine.lineStyle.color"),C=[n.dataToCoord(o),i.labelOffset+i.labelDirection*s],I=n.scale.getLabel(o),b=new h.Text({anid:"label_"+o,position:C,rotation:g.rotation,silent:y,z2:10});h.setTextStyle(b.style,p,{text:u[a],textAlign:p.getShallow("align",!0)||g.textAlign,textVerticalAlign:p.getShallow("verticalAlign",!0)||p.getShallow("baseline",!0)||g.textVerticalAlign,textFill:"function"==typeof m?m("category"===n.type?I:"value"===n.type?o+"":o,a):m}),_&&(b.eventData=v(e),b.eventData.targetType="axisLabel",b.eventData.value=I),t._dumbGroup.add(b),b.updateTransform(),f.push(b),t.group.add(b),b.decomposeTransform()}})),f}(this,t,e);!function(t,e,i){var n=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");i=i||[];var r=(e=e||[])[0],s=e[1],a=e[e.length-1],l=e[e.length-2],h=i[0],c=i[1],u=i[i.length-1],p=i[i.length-2];!1===n?(A(r),A(h)):b(r,s)&&(n?(A(s),A(c)):(A(r),A(h)));!1===o?(A(a),A(u)):b(l,a)&&(o?(A(l),A(p)):(A(a),A(u)))}(t,n,i)},axisName:function(){var t=this.opt,e=this.axisModel,i=o(t.axisName,e.get("name"));if(i){var n,r,a=e.get("nameLocation"),c=t.nameDirection,u=e.getModel("nameTextStyle"),d=e.get("nameGap")||0,f=this.axisModel.axis.getExtent(),y=f[0]>f[1]?-1:1,_=["start"===a?f[0]-y*d:"end"===a?f[1]+y*d:(f[0]+f[1])/2,w(a)?t.labelOffset+c*d:0],x=e.get("nameRotate");null!=x&&(x=x*m/180),w(a)?n=C(t.rotation,null!=x?x:t.rotation,c):(n=function(t,e,i,n){var o,r,s=g(i-t.rotation),a=n[0]>n[1],l="start"===e&&!a||"start"!==e&&a;p(s-m/2)?(r=l?"bottom":"top",o="center"):p(s-1.5*m)?(r=l?"top":"bottom",o="center"):(r="middle",o=s<1.5*m&&s>m/2?l?"left":"right":l?"right":"left");return{rotation:s,textAlign:o,textVerticalAlign:r}}(t,a,x||0,f),null!=(r=t.axisNameAvailableWidth)&&(r=Math.abs(r/Math.sin(n.rotation)),!isFinite(r)&&(r=null)));var A=u.getFont(),b=e.get("nameTruncate",!0)||{},S=b.ellipsis,M=o(t.nameTruncateMaxWidth,b.maxWidth,r),E=null!=S&&null!=M?l.truncateText(i,M,A,S,{minChar:2,placeholder:b.placeholder}):i,T=e.get("tooltip",!0),P=e.mainType,L={componentType:P,name:i,$vars:["name"]};L[P+"Index"]=e.componentIndex;var N=new h.Text({anid:"name",__fullText:i,__truncatedText:E,position:_,rotation:n.rotation,silent:I(e),z2:1,tooltip:T&&T.show?s({content:i,formatter:function(){return i},formatterParams:L},T):null});h.setTextStyle(N.style,u,{text:E,textFont:A,textFill:u.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:n.textAlign,textVerticalAlign:n.textVerticalAlign}),e.get("triggerEvent")&&(N.eventData=v(e),N.eventData.targetType="axisName",N.eventData.name=i),this._dumbGroup.add(N),N.updateTransform(),this.group.add(N),N.decomposeTransform()}}},C=_.innerTextLayout=function(t,e,i){var n,o,r=g(e-t);return p(r)?(o=i>0?"top":"bottom",n="center"):p(r-m)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=r>0&&r<m?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:o}};function I(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function A(t){t&&(t.ignore=!0)}function b(t,e,i){var n=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(n&&o){var r=f.identity([]);return f.rotate(r,r,-t.rotation),n.applyTransform(f.mul([],r,t.getLocalTransform())),o.applyTransform(f.mul([],r,e.getLocalTransform())),n.intersect(o)}}function w(t){return"middle"===t||"center"===t}var S=_.ifIgnoreOnTick=function(t,e,i,n,o,r){if(0===e&&o||e===n-1&&r)return!1;var s,a=t.scale;return"ordinal"===a.type&&("function"==typeof i?!i(s=a.getTicks()[e],a.getLabel(s)):e%(i+1))},M=_.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i};var E=_;t.exports=E},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(73),r=n.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&&o.fixValue(t),r.superApply(this,"render",arguments),s(this,t,e,i,n,!0)},updateAxisPointer:function(t,e,i,n,o){s(this,t,e,i,n,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),r.superApply(this,"remove",arguments)},dispose:function(t,e){a(this,e),r.superApply(this,"dispose",arguments)}});function s(t,e,i,n,s,l){var h=r.getAxisPointerClass(t.axisPointerClass);if(h){var c=o.getAxisPointerModel(e);c?(t._axisPointer||(t._axisPointer=new h)).render(e,c,n,l):a(t,n)}}function a(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}var l=[];r.registerAxisPointerClass=function(t,e){l[t]=e},r.getAxisPointerClass=function(t){return t&&l[t]};var h=r;t.exports=h},function(t,e,i){var n=i(0);function o(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}e.retrieveTargetInfo=function(t,e,i){if(t&&n.indexOf(e,t.type)>=0){var o=i.getData().tree.root,r=t.targetNode;if(r&&o.contains(r))return{node:r};var s=t.targetNodeId;if(null!=s&&(r=o.getNodeById(s)))return{node:r}}},e.getPathToRoot=o,e.aboveViewRoot=function(t,e){var i=o(t);return n.indexOf(i,e)>=0},e.wrapTreePathInfo=function(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}},function(t,e,i){var n=i(0),o=i(21),r=i(3).linearMap,s=n.each,a=n.isObject,l=function(t){var e=t.mappingMethod,i=t.type,o=this.option=n.clone(t);this.type=i,this.mappingMethod=e,this._normalizeData=_[e];var r=h[i];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[e],"piecewise"===e?(c(o),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,n.each(e,(function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(o)):"category"===e?o.categories?function(t){var e=t.categories,i=t.visual,o=t.categoryMap={};if(s(e,(function(t,e){o[t]=e})),!n.isArray(i)){var r=[];n.isObject(i)?s(i,(function(t,e){var i=o[e];r[null!=i?i:-1]=t})):r[-1]=i,i=v(t,r)}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete o[e[a]],e.pop())}(o):c(o,!0):(n.assert("linear"!==e||o.dataExtent),c(o))};l.prototype={constructor:l,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return n.bind(this._normalizeData,this)}};var h=l.visualHandlers={color:{applyVisual:g("color"),getColorMapper:function(){var t=this.option;return n.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),d.call(this,t)}:function(e,i,n){var r=!!n;return!i&&(e=this._normalizeData(e)),n=o.fastLerp(e,t.parsedVisual,n),r?n:o.stringify(n,"rgba")},this)},_doMap:{linear:function(t){return o.stringify(o.fastLerp(t,this.option.parsedVisual),"rgba")},category:d,piecewise:function(t,e){var i=m.call(this,e);return null==i&&(i=o.stringify(o.fastLerp(t,this.option.parsedVisual),"rgba")),i},fixed:f}},colorHue:u((function(t,e){return o.modifyHSL(t,e)})),colorSaturation:u((function(t,e){return o.modifyHSL(t,null,e)})),colorLightness:u((function(t,e){return o.modifyHSL(t,null,null,e)})),colorAlpha:u((function(t,e){return o.modifyAlpha(t,e)})),opacity:{applyVisual:g("opacity"),_doMap:y([0,1])},symbol:{applyVisual:function(t,e,i){var o=this.mapValueToVisual(t);if(n.isString(o))i("symbol",o);else if(a(o))for(var r in o)o.hasOwnProperty(r)&&i(r,o[r])},_doMap:{linear:p,category:d,piecewise:function(t,e){var i=m.call(this,e);return null==i&&(i=p.call(this,t)),i},fixed:f}},symbolSize:{applyVisual:g("symbolSize"),_doMap:y([0,1])}};function c(t,e){var i=t.visual,o=[];n.isObject(i)?s(i,(function(t){o.push(t)})):null!=i&&o.push(i);e||1!==o.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(o[1]=o[0]),v(t,o)}function u(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n("color",t(i("color"),e))},_doMap:y([0,1])}}function p(t){var e=this.option.visual;return e[Math.round(r(t,[0,1],[0,e.length-1],!0))]||{}}function g(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function d(t){var e=this.option.visual;return e[this.option.loop&&-1!==t?t%e.length:t]}function f(){return this.option.visual[0]}function y(t){return{linear:function(e){return r(e,t,this.option.visual,!0)},category:d,piecewise:function(e,i){var n=m.call(this,i);return null==n&&(n=r(e,t,this.option.visual,!0)),n},fixed:f}}function m(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=i[l.findPieceIndex(t,i)];if(n&&n.visual)return n.visual[this.type]}}function v(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=n.map(e,(function(t){return o.parse(t)}))),e}var _={linear:function(t){return r(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=l.findPieceIndex(t,e,!0);if(null!=i)return r(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?-1:e},fixed:n.noop};function x(t,e,i){return t?e<=i:e<i}l.listVisualTypes=function(){var t=[];return n.each(h,(function(e,i){t.push(i)})),t},l.addVisualHandler=function(t,e){h[t]=e},l.isValidType=function(t){return h.hasOwnProperty(t)},l.eachVisual=function(t,e,i){n.isObject(t)?n.each(t,e,i):e.call(i,t)},l.mapVisual=function(t,e,i){var o,r=n.isArray(t)?[]:n.isObject(t)?{}:(o=!0,null);return l.eachVisual(t,(function(t,n){var s=e.call(i,t,n);o?r=s:r[n]=s})),r},l.retrieveVisuals=function(t){var e,i={};return t&&s(h,(function(n,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)})),e?i:null},l.prepareVisualTypes=function(t){if(a(t)){var e=[];s(t,(function(t,i){e.push(i)})),t=e}else{if(!n.isArray(t))return[];t=t.slice()}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},l.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},l.findPieceIndex=function(t,e,i){for(var n,o=1/0,r=0,s=e.length;r<s;r++){var a=e[r].value;if(null!=a){if(a===t||"string"==typeof a&&a===t+"")return r;i&&u(a,r)}}for(r=0,s=e.length;r<s;r++){var l=e[r],h=l.interval,c=l.close;if(h){if(h[0]===-1/0){if(x(c[1],t,h[1]))return r}else if(h[1]===1/0){if(x(c[0],h[0],t))return r}else if(x(c[0],h[0],t)&&x(c[1],t,h[1]))return r;i&&u(h[0],r),i&&u(h[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:n;function u(e,i){var r=Math.abs(e-t);r<o&&(o=r,n=i)}};var C=l;t.exports=C},function(t,e,i){var n=i(0);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,o){for(var r={},s=0;s<t.length;s++){var a=t[s][1];if(!(i&&n.indexOf(i,a)>=0||o&&n.indexOf(o,a)<0)){var l=e.getShallow(a);null!=l&&(r[t[s][0]]=l)}}return r}}},function(t,e,i){var n=i(26),o=i(7),r=i(82),s=i(9),a=i(63).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},h=[],c=[],u=[],p=[],g=Math.min,d=Math.max,f=Math.cos,y=Math.sin,m=Math.sqrt,v=Math.abs,_="undefined"!=typeof Float32Array,x=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};x.prototype={constructor:x,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=v(1/a/t)||0,this._uy=v(1/a/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=v(t-this._xi)>this._ux||v(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,r){return this.addData(l.C,t,e,i,n,o,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,r):this._ctx.bezierCurveTo(t,e,i,n,o,r)),this._xi=o,this._yi=r,this},quadraticCurveTo:function(t,e,i,n){return this.addData(l.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,r){return this.addData(l.A,t,e,i,i,n,o-n,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,r),this._xi=f(o)*i+t,this._yi=y(o)*i+t,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(l.R,t,e,i,n),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!_||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++)i+=t[o].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(o=0;o<e;o++)for(var r=t[o].data,s=0;s<r.length;s++)this.data[n++]=r[s];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,r=this._dashOffset,s=this._lineDash,a=this._ctx,l=this._xi,h=this._yi,c=t-l,u=e-h,p=m(c*c+u*u),f=l,y=h,v=s.length;for(r<0&&(r=o+r),f-=(r%=o)*(c/=p),y-=r*(u/=p);c>0&&f<=t||c<0&&f>=t||0==c&&(u>0&&y<=e||u<0&&y>=e);)f+=c*(i=s[n=this._dashIdx]),y+=u*i,this._dashIdx=(n+1)%v,c>0&&f<l||c<0&&f>l||u>0&&y<h||u<0&&y>h||a[n%2?"moveTo":"lineTo"](c>=0?g(f,t):d(f,t),u>=0?g(y,e):d(y,e));c=f-t,u=y-e,this._dashOffset=-m(c*c+u*u)},_dashedBezierTo:function(t,e,i,o,r,s){var a,l,h,c,u,p=this._dashSum,g=this._dashOffset,d=this._lineDash,f=this._ctx,y=this._xi,v=this._yi,_=n.cubicAt,x=0,C=this._dashIdx,I=d.length,A=0;for(g<0&&(g=p+g),g%=p,a=0;a<1;a+=.1)l=_(y,t,i,r,a+.1)-_(y,t,i,r,a),h=_(v,e,o,s,a+.1)-_(v,e,o,s,a),x+=m(l*l+h*h);for(;C<I&&!((A+=d[C])>g);C++);for(a=(A-g)/x;a<=1;)c=_(y,t,i,r,a),u=_(v,e,o,s,a),C%2?f.moveTo(c,u):f.lineTo(c,u),a+=d[C]/x,C=(C+1)%I;C%2!=0&&f.lineTo(r,s),l=r-c,h=s-u,this._dashOffset=-m(l*l+h*h)},_dashedQuadraticTo:function(t,e,i,n){var o=i,r=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){h[0]=h[1]=u[0]=u[1]=Number.MAX_VALUE,c[0]=c[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,a=0,g=0;g<t.length;){var d=t[g++];switch(1==g&&(n=e=t[g],a=i=t[g+1]),d){case l.M:e=n=t[g++],i=a=t[g++],u[0]=n,u[1]=a,p[0]=n,p[1]=a;break;case l.L:r.fromLine(e,i,t[g],t[g+1],u,p),e=t[g++],i=t[g++];break;case l.C:r.fromCubic(e,i,t[g++],t[g++],t[g++],t[g++],t[g],t[g+1],u,p),e=t[g++],i=t[g++];break;case l.Q:r.fromQuadratic(e,i,t[g++],t[g++],t[g],t[g+1],u,p),e=t[g++],i=t[g++];break;case l.A:var m=t[g++],v=t[g++],_=t[g++],x=t[g++],C=t[g++],I=t[g++]+C,A=(t[g++],1-t[g++]);1==g&&(n=f(C)*_+m,a=y(C)*x+v),r.fromArc(m,v,_,x,C,I,A,u,p),e=f(I)*_+m,i=y(I)*x+v;break;case l.R:n=e=t[g++],a=i=t[g++];var b=t[g++],w=t[g++];r.fromLine(n,a,n+b,a+w,u,p);break;case l.Z:e=n,i=a}o.min(h,h,u),o.max(c,c,p)}return 0===g&&(h[0]=h[1]=c[0]=c[1]=0),new s(h[0],h[1],c[0]-h[0],c[1]-h[1])},rebuildPath:function(t){for(var e,i,n,o,r,s,a=this.data,h=this._ux,c=this._uy,u=this._len,p=0;p<u;){var g=a[p++];switch(1==p&&(e=n=a[p],i=o=a[p+1]),g){case l.M:e=n=a[p++],i=o=a[p++],t.moveTo(n,o);break;case l.L:r=a[p++],s=a[p++],(v(r-n)>h||v(s-o)>c||p===u-1)&&(t.lineTo(r,s),n=r,o=s);break;case l.C:t.bezierCurveTo(a[p++],a[p++],a[p++],a[p++],a[p++],a[p++]),n=a[p-2],o=a[p-1];break;case l.Q:t.quadraticCurveTo(a[p++],a[p++],a[p++],a[p++]),n=a[p-2],o=a[p-1];break;case l.A:var d=a[p++],m=a[p++],_=a[p++],x=a[p++],C=a[p++],I=a[p++],A=a[p++],b=a[p++],w=_>x?_:x,S=_>x?1:_/x,M=_>x?x/_:1,E=C+I;Math.abs(_-x)>.001?(t.translate(d,m),t.rotate(A),t.scale(S,M),t.arc(0,0,w,C,E,1-b),t.scale(1/S,1/M),t.rotate(-A),t.translate(-d,-m)):t.arc(d,m,w,C,E,1-b),1==p&&(e=f(C)*_+d,i=y(C)*x+m),n=f(E)*_+d,o=y(E)*x+m;break;case l.R:e=n=a[p],i=o=a[p+1],t.rect(a[p++],a[p++],a[p++],a[p++]);break;case l.Z:t.closePath(),n=e,o=i}}}},x.CMD=l;var C=x;t.exports=C},function(t,e,i){var n=i(129);t.exports=function(t,e){return n((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,extraPrefix:e.extraPrefix,extraFromZero:e.extraFromZero})}},function(t,e,i){var n=i(0),o=i(17),r={getFormattedLabels:function(){return o.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!n.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!n.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:n.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=r},function(t,e,i){var n=i(41),o=i(16),r=i(0),s=r.extend,a=r.isArray;t.exports=function(t,e,i){e=a(e)&&{coordDimensions:e}||s({},e);var r=t.getSource(),l=n(r,e),h=new o(l,t);return h.initData(r,i),h}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(63).debugMode,o=function(){};1===n?o=function(){for(var t in arguments)throw new Error(arguments[t])}:n>1&&(o=function(){for(var t in arguments)console.log(arguments[t])});var r=o;t.exports=r},function(t,e,i){var n=i(47),o=i(9),r=i(0),s=i(81);function a(t){n.call(this,t)}a.prototype={constructor:a,type:"image",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var o=this._image=s.createOrUpdateImage(n,this._image,this,this.onload);if(o&&s.isImageReady(o)){var r=i.x||0,a=i.y||0,l=i.width,h=i.height,c=o.width/o.height;if(null==l&&null!=h?l=h*c:null==h&&null!=l?h=l/c:null==l&&null==h&&(l=o.width,h=o.height),this.setTransform(t),i.sWidth&&i.sHeight){var u=i.sx||0,p=i.sy||0;t.drawImage(o,u,p,i.sWidth,i.sHeight,r,a,l,h)}else if(i.sx&&i.sy){var g=l-(u=i.sx),d=h-(p=i.sy);t.drawImage(o,u,p,g,d,r,a,l,h)}else t.drawImage(o,r,a,l,h);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new o(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},r.inherits(a,n);var l=a;t.exports=l},function(t,e,i){var n=i(0),o=i(111),r=i(108),s=i(115);function a(t){for(var e in t=t||{},r.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new o(t.style,this),this._rect=null,this.__clipPaths=[]}a.prototype={constructor:a,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?r.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new o(t,this),this.dirty(!1),this}},n.inherits(a,r),n.mixin(a,s);var l=a;t.exports=l},function(t,e,i){var n=i(47),o=i(0),r=i(20),s=i(64),a=function(t){n.call(this,t)};a.prototype={constructor:a,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&s.normalizeTextStyle(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=""),i.bind(t,this,e),s.needDrawText(n,i)&&(this.setTransform(t),s.renderText(this,t,n,i),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&s.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var i=r.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,s.getStroke(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},o.inherits(a,n);var l=a;t.exports=l},function(t,e,i){var n=i(0),o=n.createHashMap,r=n.isTypedArray,s=i(23).enableClassCheck,a=i(50),l=a.SOURCE_FORMAT_ORIGINAL,h=a.SERIES_LAYOUT_BY_COLUMN,c=a.SOURCE_FORMAT_UNKNOWN,u=a.SOURCE_FORMAT_TYPED_ARRAY,p=a.SOURCE_FORMAT_KEYED_COLUMNS;function g(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===p?{}:[]),this.sourceFormat=t.sourceFormat||c,this.seriesLayoutBy=t.seriesLayoutBy||h,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&o(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}g.seriesDataToSource=function(t){return new g({data:t,sourceFormat:r(t)?u:l,fromDataset:!1})},s(g);var d=g;t.exports=d},function(t,e){e.SOURCE_FORMAT_ORIGINAL="original",e.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",e.SOURCE_FORMAT_OBJECT_ROWS="objectRows",e.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",e.SOURCE_FORMAT_UNKNOWN="unknown",e.SOURCE_FORMAT_TYPED_ARRAY="typedArray",e.SERIES_LAYOUT_BY_COLUMN="column",e.SERIES_LAYOUT_BY_ROW="row"},function(t,e,i){i(5).__DEV__;var n=i(0),o=(n.isTypedArray,n.extend),r=(n.assert,n.each),s=i(4),a=s.getDataItemValue,l=s.isDataItemOption,h=i(3).parseDate,c=i(49),u=i(50),p=u.SOURCE_FORMAT_TYPED_ARRAY,g=u.SOURCE_FORMAT_ARRAY_ROWS;function d(t,e){c.isInstance(t)||(t=c.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===p&&(this._offset=0,this._dimSize=e,this._data=i);var r=y[n===g?n+"_"+t.seriesLayoutBy:n];o(this,r)}var f=d.prototype;f.pure=!1,f.persistent=!0,f.getSource=function(){return this._source};var y={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:_},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var o=i[n];e.push(o?o[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:m,getItem:v,appendData:_},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];e.push(o?o[t]:null)}return e},appendData:function(t){var e=this._data;r(t,(function(t,i){for(var n=e[i]||(e[i]=[]),o=0;o<(t||[]).length;o++)n.push(t[o])}))}},original:{count:m,getItem:v,appendData:_},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t){t-=this._offset;for(var e=[],i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function m(){return this._data.length}function v(t){return this._data[t]}function _(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var x={arrayRows:C,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:C,original:function(t,e,i,n){var o=a(t);return null!=i&&o instanceof Array?o[i]:o},typedArray:C};function C(t,e,i,n){return null!=i?t[i]:t}var I={arrayRows:A,objectRows:function(t,e,i,n){return b(t[e],this._dimensionInfos[e])},keyedColumns:A,original:function(t,e,i,n){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&l(t)&&(this.hasItemOption=!0),b(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}};function A(t,e,i,n){return b(t[n],this._dimensionInfos[e])}function b(t,e){var i=e&&e.type;if("ordinal"===i){var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+h(t)),null==t||""===t?NaN:+t}e.DefaultDataProvider=d,e.defaultDimValueGetters=I,e.retrieveRawValue=function(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var o,r,s=t.getProvider().getSource().sourceFormat,a=t.getDimensionInfo(i);return a&&(o=a.name,r=a.index),x[s](n,e,r,o)}}}},function(t,e,i){var n=i(0),o=n.each,r=n.createHashMap,s=(n.assert,i(5).__DEV__,r(["tooltip","label","itemName","itemId","seriesName"]));e.OTHER_DIMENSIONS=s,e.summarizeDimensions=function(t){var e={},i=e.encode={},n=e.coordDimMap=r(),a=[];o(t.dimensions,(function(e){var o,r=t.getDimensionInfo(e),l=r.coordDim;if(l){var h=i[l];i.hasOwnProperty(l)||(h=i[l]=[]),h[r.coordDimIndex]=e,r.isSysCoord&&("ordinal"!==(o=r.type)&&"time"!==o)&&(a[0]=e),n.set(l,1)}s.each((function(t,e){var n=i[e];i.hasOwnProperty(e)||(n=i[e]=[]);var o=r.otherDims[e];null!=o&&!1!==o&&(n[o]=r.name)}))}));var l=[];n.each((function(t,e){l=l.concat(i[e])})),e.dataDimsOnCoord=l;var h=i.label;h&&h.length&&(a=h.slice());var c=a.slice(),u=i.tooltip;return u&&u.length&&(c=u.slice()),i.defaultedLabel=a,i.defaultedTooltip=c,e},e.getDimensionTypeByAxis=function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},function(t,e,i){var n=i(2),o=i(71);function r(t){this.group=new n.Group,this._symbolCtor=t||o}var s=r.prototype;function a(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n&&n(i))&&"none"!==t.getItemVisual(i,"symbol")}function l(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}s.updateData=function(t,e){var i=this.group,o=t.hostModel,r=this._data,s=this._symbolCtor,h=l(t);r||i.removeAll(),t.diff(r).add((function(n){var o=t.getItemLayout(n);if(a(t,o,n,e)){var r=new s(t,n,h);r.attr("position",o),t.setItemGraphicEl(n,r),i.add(r)}})).update((function(l,c){var u=r.getItemGraphicEl(c),p=t.getItemLayout(l);a(t,p,l,e)?(u?(u.updateData(t,l,h),n.updateProps(u,{position:p},o)):(u=new s(t,l)).attr("position",p),i.add(u),t.setItemGraphicEl(l,u)):i.remove(u)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}))})).execute(),this._data=t},s.isPersistent=function(){return!0},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,i){var n=t.getItemLayout(i);e.attr("position",n)}))},s.incrementalPrepareUpdate=function(t){this._seriesScope=l(t),this._data=null,this.group.removeAll()},s.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}for(var o=t.start;o<t.end;o++){var r=e.getItemLayout(o);if(a(e,r,o,i)){var s=new this._symbolCtor(e,o,this._seriesScope);s.traverse(n),s.attr("position",r),this.group.add(s),e.setItemGraphicEl(o,s)}}},s.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll())};var h=r;t.exports=h},function(t,e,i){var n=i(0).map,o=i(87);t.exports=function(t){return{seriesType:t,plan:o(),reset:function(t){var e=t.getData(),i=t.coordinateSystem,o=t.pipelineContext.large;if(i){var r=n(i.dimensions,(function(t){return e.getDimension(e.mapDimension(t))})).slice(0,2),s=r.length;return s&&{progress:function(t,e){for(var n=t.end-t.start,a=o&&new Float32Array(n*s),l=t.start,h=0,c=[],u=[];l<t.end;l++){var p;if(1===s){var g=e.get(r[0],l,!0);p=!isNaN(g)&&i.dataToPoint(g,null,u)}else{g=c[0]=e.get(r[0],l,!0);var d=c[1]=e.get(r[1],l,!0);p=!isNaN(g)&&!isNaN(d)&&i.dataToPoint(c,null,u)}o?(a[h++]=p?p[0]:NaN,a[h++]=p?p[1]:NaN):e.setItemLayout(l,p&&p.slice()||[NaN,NaN])}o&&e.setLayout("symbolPoints",a)}}}}}}},function(t,e,i){var n=i(1),o=i(0),r=i(2);i(89),i(244),n.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new r.Rect({shape:t.coordinateSystem.getRect(),style:o.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),n.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))},function(t,e){t.exports=function(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var n=t.getData();n.filterSelf((function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0}),this)}}}}},function(t,e){function i(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function n(t,e){return Math.min(e[1],Math.max(e[0],t))}t.exports=function(t,e,o,r,s,a){e[0]=n(e[0],o),e[1]=n(e[1],o),t=t||0;var l=o[1]-o[0];null!=s&&(s=n(s,[0,l])),null!=a&&(a=Math.max(a,null!=s?s:0)),"all"===r&&(s=a=Math.abs(e[1]-e[0]),r=0);var h=i(e,r);e[r]+=t;var c=s||0,u=o.slice();h.sign<0?u[0]+=c:u[1]-=c,e[r]=n(e[r],u);var p=i(e,r);return null!=s&&(p.sign!==h.sign||p.span<s)&&(e[1-r]=e[r]+h.sign*s),p=i(e,r),null!=a&&p.span>a&&(e[1-r]=e[r]+p.sign*a),e}},function(t,e,i){var n=i(1),o=i(0),r=i(73),s=i(371);i(372),i(373),i(165),n.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!o.isArray(e)&&(t.axisPointer.link=[e])}})),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=r.collect(t,e)})),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},s)},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(10),s=i(4),a=i(99),l=i(433),h=o.each,c=a.eachAxisDim;function u(t){var e={};return h(["start","end","startValue","endValue","throttle"],(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})),e}function p(t,e){var i=t._rangePropMode,n=t.get("rangeMode");h([["start","startValue"],["end","endValue"]],(function(t,o){var r=null!=e[t[0]],s=null!=e[t[1]];r&&!s?i[o]="percent":!r&&s?i[o]="value":n?i[o]=n[o]:r&&(i[o]="percent")}))}var g=n.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=u(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=u(t);o.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;r.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),p(this,t),h([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis((function(e,i,n,o){var r=this.dependentModels[e.axis][i],s=r.__dzAxisProxy||(r.__dzAxisProxy=new l(e.name,i,this,o));t[e.name+"_"+i]=s}),this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();c((function(e){var i=e.axisIndex;t[i]=s.normalizeToArray(t[i])}),this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;c((function(i){null!=t[i.axisIndex]&&(e=!0)}),this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option,n=this.dependentModels;if(t){var r="vertical"===e?"y":"x";n[r+"Axis"].length?(i[r+"AxisIndex"]=[0],t=!1):h(n.singleAxis,(function(n){t&&n.get("orient",!0)===e&&(i.singleAxisIndex=[n.componentIndex],t=!1)}))}t&&c((function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var r=0,s=o.length;r<s;r++)"category"===o[r].get("type")&&n.push(r);i[e.axisIndex]=n,n.length&&(t=!1)}}),this),t&&this.ecModel.eachSeries((function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&c((function(e){var n=i[e.axisIndex],r=t.get(e.axisIndex),s=t.get(e.axisId);r=t.ecModel.queryComponents({mainType:e.axis,index:r,id:s})[0].componentIndex,o.indexOf(n,r)<0&&n.push(r)}))}),this)},_autoSetOrient:function(){var t;this.eachTargetAxis((function(e){!t&&(t=e.name)}),this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return c((function(n){var o=t.get(n.axisIndex),r=this.dependentModels[n.axis][o];r&&r.get("type")===e||(i=!1)}),this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return c((function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}}),this),t},eachTargetAxis:function(t,e){var i=this.ecModel;c((function(n){h(this.get(n.axisIndex),(function(o){t.call(e,n,o,this,i)}),this)}),this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(t,e){var i=this.option;h([["start","startValue"],["end","endValue"]],(function(e){null==t[e[0]]&&null==t[e[1]]||(i[e[0]]=t[e[0]],i[e[1]]=t[e[1]])}),this),!e&&p(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});t.exports=g},function(t,e,i){var n=i(86).extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,i={};return t.eachTargetAxis((function(t,n){var o=e.getComponent(t.axis,n);if(o){var r=o.getCoordSysModel();r&&function(t,e,i,n){for(var o,r=0;r<i.length;r++)if(i[r].model===t){o=i[r];break}o||i.push(o={model:t,axisModels:[],coordIndex:n});o.axisModels.push(e)}(r,o,i[r.mainType]||(i[r.mainType]=[]),r.componentIndex)}}),this),i}});t.exports=n},function(t,e,i){var n=i(107),o=i(10),r=i(0),s=i(185),a=i(187),l=i(191),h=i(193),c=i(194),u=!o.canvasSupported,p={canvas:l},g={};var d=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,l=new a,g=i.renderer;if(u){if(!p.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");g="vml"}else g&&p[g]||(g="canvas");var d=new p[g](e,l,i,t);this.storage=l,this.painter=d;var f=o.node||o.worker?null:new c(d.getViewportRoot());this.handler=new s(l,d,f,d.root),this.animation=new h({stage:{update:r.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var y=l.delFromStorage,m=l.addToStorage;l.delFromStorage=function(t){y.call(l,t),t&&t.removeSelfFromZr(n)},l.addToStorage=function(t){m.call(l,t),t.addSelfToZr(n)}};d.prototype={constructor:d,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete g[t]}},e.version="4.0.0",e.init=function(t,e){var i=new d(n(),t,e);return g[i.id]=i,i},e.dispose=function(t){if(t)t.dispose();else{for(var e in g)g.hasOwnProperty(e)&&g[e].dispose();g={}}return this},e.getInstance=function(t){return g[t]},e.registerPainter=function(t,e){p[t]=e}},function(t,e,i){var n=i(0),o=i(108),r=i(9),s=function(t){for(var e in t=t||{},o.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};s.prototype={constructor:s,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof s&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,o=this._children,r=n.indexOf(o,t);return r<0||(o.splice(r,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof s&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof s&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof s&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof s&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new r(0,0,0,0),n=t||this._children,o=[],s=0;s<n.length;s++){var a=n[s];if(!a.ignore&&!a.invisible){var l=a.getBoundingRect(),h=a.getLocalTransform(o);h?(i.copy(l),i.applyTransform(h),(e=e||i.clone()).union(i)):(e=e||l.clone()).union(l)}}return e||i}},n.inherits(s,o);var a=s;t.exports=a},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n=i;e.debugMode=0,e.devicePixelRatio=n},function(t,e,i){var n=i(0),o=n.retrieve2,r=n.retrieve3,s=n.each,a=n.normalizeCssArray,l=n.isString,h=n.isObject,c=i(20),u=i(116),p=i(81),g=i(112),d={left:1,right:1,center:1},f={top:1,bottom:1,middle:1};function y(t){if(t){t.font=c.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||d[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||f[i]?i:"top",t.textPadding&&(t.textPadding=a(t.textPadding))}}function m(t,e,i,n,o){if(i&&e.textRotation){var r=e.textOrigin;"center"===r?(n=i.width/2+i.x,o=i.height/2+i.y):r&&(n=r[0]+i.x,o=r[1]+i.y),t.translate(n,o),t.rotate(-e.textRotation),t.translate(-n,-o)}}function v(t,e,i,n,s,a,l,h){var u=n.rich[i.styleName]||{},p=i.textVerticalAlign,g=a+s/2;"top"===p?g=a+i.height/2:"bottom"===p&&(g=a+s-i.height/2),!i.isLineHolder&&_(u)&&x(t,e,u,"right"===h?l-i.width:"center"===h?l-i.width/2:l,g-i.height/2,i.width,i.height);var d=i.textPadding;d&&(l=M(l,h,d),g-=i.height/2-d[2]-i.textHeight/2),A(e,"shadowBlur",r(u.textShadowBlur,n.textShadowBlur,0)),A(e,"shadowColor",u.textShadowColor||n.textShadowColor||"transparent"),A(e,"shadowOffsetX",r(u.textShadowOffsetX,n.textShadowOffsetX,0)),A(e,"shadowOffsetY",r(u.textShadowOffsetY,n.textShadowOffsetY,0)),A(e,"textAlign",h),A(e,"textBaseline","middle"),A(e,"font",i.font||c.DEFAULT_FONT);var f=b(u.textStroke||n.textStroke,m),y=w(u.textFill||n.textFill),m=o(u.textStrokeWidth,n.textStrokeWidth);f&&(A(e,"lineWidth",m),A(e,"strokeStyle",f),e.strokeText(i.text,l,g)),y&&(A(e,"fillStyle",y),e.fillText(i.text,l,g))}function _(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function x(t,e,i,n,o,r,s){var a=i.textBackgroundColor,c=i.textBorderWidth,g=i.textBorderColor,d=l(a);if(A(e,"shadowBlur",i.textBoxShadowBlur||0),A(e,"shadowColor",i.textBoxShadowColor||"transparent"),A(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),A(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),d||c&&g){e.beginPath();var f=i.textBorderRadius;f?u.buildPath(e,{x:n,y:o,width:r,height:s,r:f}):e.rect(n,o,r,s),e.closePath()}if(d)A(e,"fillStyle",a),e.fill();else if(h(a)){var y=a.image;(y=p.createOrUpdateImage(y,null,t,C,a))&&p.isImageReady(y)&&e.drawImage(y,n,o,r,s)}c&&g&&(A(e,"lineWidth",c),A(e,"strokeStyle",g),e.stroke())}function C(t,e){e.image=t}function I(t,e,i){var n=e.x||0,o=e.y||0,r=e.textAlign,s=e.textVerticalAlign;if(i){var a=e.textPosition;if(a instanceof Array)n=i.x+S(a[0],i.width),o=i.y+S(a[1],i.height);else{var l=c.adjustTextPositionOnRect(a,i,e.textDistance);n=l.x,o=l.y,r=r||l.textAlign,s=s||l.textVerticalAlign}var h=e.textOffset;h&&(n+=h[0],o+=h[1])}return{baseX:n,baseY:o,textAlign:r,textVerticalAlign:s}}function A(t,e,i){return t[e]=g(t,e,i),t[e]}function b(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function w(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function S(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function M(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}e.normalizeTextStyle=function(t){return y(t),s(t.rich,y),t},e.renderText=function(t,e,i,n,o){n.rich?function(t,e,i,n,o){var r=t.__textCotentBlock;r&&!t.__dirty||(r=t.__textCotentBlock=c.parseRichText(i,n));!function(t,e,i,n,o){var r=i.width,s=i.outerWidth,a=i.outerHeight,l=n.textPadding,h=I(a,n,o),u=h.baseX,p=h.baseY,g=h.textAlign,d=h.textVerticalAlign;m(e,n,o,u,p);var f=c.adjustTextX(u,s,g),y=c.adjustTextY(p,a,d),C=f,A=y;l&&(C+=l[3],A+=l[0]);var b=C+r;_(n)&&x(t,e,n,f,y,s,a);for(var w=0;w<i.lines.length;w++){for(var S,M=i.lines[w],E=M.tokens,T=E.length,P=M.lineHeight,L=M.width,N=0,D=C,R=b,O=T-1;N<T&&(!(S=E[N]).textAlign||"left"===S.textAlign);)v(t,e,S,n,P,A,D,"left"),L-=S.width,D+=S.width,N++;for(;O>=0&&"right"===(S=E[O]).textAlign;)v(t,e,S,n,P,A,R,"right"),L-=S.width,R-=S.width,O--;for(D+=(r-(D-C)-(b-R)-L)/2;N<=O;)S=E[N],v(t,e,S,n,P,A,D+S.width/2,"center"),D+=S.width,N++;A+=P}}(t,e,r,n,o)}(t,e,i,n,o):function(t,e,i,n,o){var r=A(e,"font",n.font||c.DEFAULT_FONT),s=n.textPadding,a=t.__textCotentBlock;a&&!t.__dirty||(a=t.__textCotentBlock=c.parsePlainText(i,r,s,n.truncate));var l=a.outerHeight,h=a.lines,u=a.lineHeight,p=I(l,n,o),g=p.baseX,d=p.baseY,f=p.textAlign,y=p.textVerticalAlign;m(e,n,o,g,d);var v=c.adjustTextY(d,l,y),C=g,S=v,E=_(n);if(E||s){var T=c.getWidth(i,r);s&&(T+=s[1]+s[3]);var P=c.adjustTextX(g,T,f);E&&x(t,e,n,P,v,T,l),s&&(C=M(g,f,s),S+=s[0])}A(e,"textAlign",f||"left"),A(e,"textBaseline","middle"),A(e,"shadowBlur",n.textShadowBlur||0),A(e,"shadowColor",n.textShadowColor||"transparent"),A(e,"shadowOffsetX",n.textShadowOffsetX||0),A(e,"shadowOffsetY",n.textShadowOffsetY||0),S+=u/2;var L=n.textStrokeWidth,N=b(n.textStroke,L),D=w(n.textFill);N&&(A(e,"lineWidth",L),A(e,"strokeStyle",N));D&&A(e,"fillStyle",D);for(var R=0;R<h.length;R++)N&&e.strokeText(h[R],C,S),D&&e.fillText(h[R],C,S),S+=u}(t,e,i,n,o)},e.getStroke=b,e.getFill=w,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var n=i;t.exports=n},function(t,e,i){var n=i(0),o=i(23).parseClassType,r=0;e.getUID=function(t){return[t||"",r++,Math.random().toFixed(5)].join("_")},e.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=o(t),e[t.main]=i},t.determineSubType=function(i,n){var r=n.type;if(!r){var s=o(i).main;t.hasSubTypes(i)&&e[s]&&(r=e[s](n))}return r},t},e.enableTopologicalTravel=function(t,e){function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,o,r,s){if(t.length){var a=function(t){var o={},r=[];return n.each(t,(function(s){var a=i(o,s),l=function(t,e){var i=[];return n.each(t,(function(t){n.indexOf(e,t)>=0&&i.push(t)})),i}(a.originalDeps=e(s),t);a.entryCount=l.length,0===a.entryCount&&r.push(s),n.each(l,(function(t){n.indexOf(a.predecessor,t)<0&&a.predecessor.push(t);var e=i(o,t);n.indexOf(e.successor,t)<0&&e.successor.push(s)}))})),{graph:o,noEntryList:r}}(o),l=a.graph,h=a.noEntryList,c={};for(n.each(t,(function(t){c[t]=!0}));h.length;){var u=h.pop(),p=l[u],g=!!c[u];g&&(r.call(s,u,p.originalDeps.slice()),delete c[u]),n.each(p.successor,g?f:d)}n.each(c,(function(){throw new Error("Circle dependency may exists")}))}function d(t){l[t].entryCount--,0===l[t].entryCount&&h.push(t)}function f(t){c[t]=!0,d(t)}}}},function(t,e,i){i(5).__DEV__;var n=i(4),o=n.makeInner,r=n.getDataItemValue,s=i(126).getCoordSysDefineBySeries,a=i(0),l=a.createHashMap,h=a.each,c=a.map,u=a.isArray,p=a.isString,g=a.isObject,d=a.isTypedArray,f=a.isArrayLike,y=a.extend,m=(a.assert,i(49)),v=i(50),_=v.SOURCE_FORMAT_ORIGINAL,x=v.SOURCE_FORMAT_ARRAY_ROWS,C=v.SOURCE_FORMAT_OBJECT_ROWS,I=v.SOURCE_FORMAT_KEYED_COLUMNS,A=v.SOURCE_FORMAT_UNKNOWN,b=v.SOURCE_FORMAT_TYPED_ARRAY,w=v.SERIES_LAYOUT_BY_ROW,S=o();function M(t){if(t){var e=l();return c(t,(function(t,i){if(null==(t=y({},g(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var n=e.get(t.name);return n?t.name+="-"+n.count++:e.set(t.name,{count:1}),t}))}}function E(t,e,i,n){if(null==n&&(n=1/0),e===w)for(var o=0;o<i.length&&o<n;o++)t(i[o]?i[o][0]:null,o);else{var r=i[0]||[];for(o=0;o<r.length&&o<n;o++)t(r[o],o)}}function T(t,e,i,n,o,s){var a,l;if(d(t))return!1;if(n&&(l=n[s],l=g(l)?l.name:l),e===x)if(i===w){for(var h=t[s],c=0;c<(h||[]).length&&c<5;c++)if(null!=(a=v(h[o+c])))return a}else for(c=0;c<t.length&&c<5;c++){var f=t[o+c];if(f&&null!=(a=v(f[s])))return a}else if(e===C){if(!l)return;for(c=0;c<t.length&&c<5;c++){if((y=t[c])&&null!=(a=v(y[l])))return a}}else if(e===I){if(!l)return;if(!(h=t[l])||d(h))return!1;for(c=0;c<h.length&&c<5;c++)if(null!=(a=v(h[c])))return a}else if(e===_)for(c=0;c<t.length&&c<5;c++){var y=t[c],m=r(y);if(!u(m))return!1;if(null!=(a=v(m[s])))return a}function v(t){return(null==t||!isFinite(t)||""===t)&&(!(!p(t)||"-"===t)||void 0)}return!1}e.detectSourceFormat=function(t){var e=t.option.source,i=A;if(d(e))i=b;else if(u(e))for(var n=0,o=e.length;n<o;n++){var r=e[n];if(null!=r){if(u(r)){i=x;break}if(g(r)){i=C;break}}}else if(g(e)){for(var s in e)if(e.hasOwnProperty(s)&&f(e[s])){i=I;break}}else if(null!=e)throw new Error("Invalid data");S(t).sourceFormat=i},e.getSource=function(t){return S(t).source},e.resetSourceDefaulter=function(t){S(t).datasetMap=l()},e.prepareSource=function(t){var e=t.option,i=e.data,n=d(i)?b:_,o=!1,a=e.seriesLayoutBy,c=e.sourceHeader,f=e.dimensions,y=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(y){var v=y.option;i=v.source,n=S(y).sourceFormat,o=!0,a=a||v.seriesLayoutBy,null==c&&(c=v.sourceHeader),f=f||v.dimensions}var A=function(t,e,i,n,o){if(!t)return{dimensionsDefine:M(o)};var s,a,l,c;if(e===x)"auto"===n||null==n?E((function(t){null!=t&&"-"!==t&&(p(t)?null==a&&(a=1):a=0)}),i,t,10):a=n?1:0,o||1!==a||(o=[],E((function(t,e){o[e]=null!=t?t:""}),i,t)),s=o?o.length:i===w?t.length:t[0]?t[0].length:null;else if(e===C)o||(o=function(t){var e,i=0;for(;i<t.length&&!(e=t[i++]););if(e){var n=[];return h(e,(function(t,e){n.push(e)})),n}}(t),l=!0);else if(e===I)o||(o=[],l=!0,h(t,(function(t,e){o.push(e)})));else if(e===_){var d=r(t[0]);s=u(d)&&d.length||1}l&&h(o,(function(t,e){"name"===(g(t)?t.name:t)&&(c=e)}));return{startIndex:a,dimensionsDefine:M(o),dimensionsDetectCount:s,potentialNameDimIndex:c}}(i,n,a,c,f),P=e.encode;!P&&y&&(P=function(t,e,i,n,o,r){var a=s(t),c={},u=[],p=[],g=t.subType,d=l(["pie","map","funnel"]),f=l(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=f.get(g)){var y=t.ecModel,m=S(y).datasetMap,v=e.uid+"_"+o,_=m.get(v)||m.set(v,{categoryWayDim:1,valueWayDim:0});h(a.coordSysDims,(function(t){if(null==a.firstCategoryDimIndex){var e=_.valueWayDim++;c[t]=e,p.push(e)}else if(a.categoryAxisMap.get(t))c[t]=0,u.push(0);else{e=_.categoryWayDim++;c[t]=e,p.push(e)}}))}else if(null!=d.get(g)){for(var x,C=0;C<5&&null==x;C++)T(i,n,o,r.dimensionsDefine,r.startIndex,C)||(x=C);if(null!=x){c.value=x;var I=r.potentialNameDimIndex||Math.max(x-1,0);p.push(I),u.push(I)}}return u.length&&(c.itemName=u),p.length&&(c.seriesName=p),c}(t,y,i,n,a,A)),S(t).source=new m({data:i,fromDataset:o,seriesLayoutBy:a,sourceFormat:n,dimensionsDefine:A.dimensionsDefine,startIndex:A.startIndex,dimensionsDetectCount:A.dimensionsDetectCount,encodeDefine:P})},e.guessOrdinal=function(t,e){return T(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}},function(t,e,i){var n=i(23);function o(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}o.prototype.parse=function(t){return t},o.prototype.getSetting=function(t){return this._setting[t]},o.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},o.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},o.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},o.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},o.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e,!0))},o.prototype.getExtent=function(){return this._extent.slice()},o.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},o.prototype.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},o.prototype.isBlank=function(){return this._isBlank},o.prototype.setBlank=function(t){this._isBlank=t},n.enableClassExtend(o),n.enableClassManagement(o,{registerWhenExtend:!0});var r=o;t.exports=r},function(t,e,i){var n=i(3),o=i(8),r=i(68),s=i(131),a=n.round,l=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=s.getIntervalPrecision(t)},getTicks:function(){return s.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=n.getPrecisionSafe(t)||0:"auto"===i&&(i=this._intervalPrecision),t=a(t,i,!0),o.addCommas(t)},niceTicks:function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var r=s.intervalScaleNiceTicks(n,t,e,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=a(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=a(Math.ceil(e[1]/o)*o))}});l.create=function(){return new l};var h=l;t.exports=h},function(t,e,i){var n=i(0),o=i(3).parsePercent;function r(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t){return t.dim+t.index}function a(t,e){return l(n.map(t,(function(t){var e=t.getData(),i=t.coordinateSystem.getBaseAxis(),n=i.getExtent(),a="category"===i.type?i.getBandWidth():Math.abs(n[1]-n[0])/e.count();return{bandWidth:a,barWidth:o(t.get("barWidth"),a),barMaxWidth:o(t.get("barMaxWidth"),a),barGap:t.get("barGap"),barCategoryGap:t.get("barCategoryGap"),axisKey:s(i),stackId:r(t)}})),e)}function l(t,e){var i={};n.each(t,(function(t,e){var n=t.axisKey,o=t.bandWidth,r=i[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},s=r.stacks;i[n]=r;var a=t.stackId;s[a]||r.autoWidthCount++,s[a]=s[a]||{width:0,maxWidth:0};var l=t.barWidth;l&&!s[a].width&&(s[a].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var h=t.barMaxWidth;h&&(s[a].maxWidth=h);var c=t.barGap;null!=c&&(r.gap=c);var u=t.barCategoryGap;null!=u&&(r.categoryGap=u)}));var r={};return n.each(i,(function(t,e){r[e]={};var i=t.stacks,s=t.bandWidth,a=o(t.categoryGap,s),l=o(t.gap,1),h=t.remainedWidth,c=t.autoWidthCount,u=(h-a)/(c+(c-1)*l);u=Math.max(u,0),n.each(i,(function(t,e){var i=t.maxWidth;i&&i<u&&(i=Math.min(i,h),t.width&&(i=Math.min(i,t.width)),h-=i,t.width=i,c--)})),u=(h-a)/(c+(c-1)*l),u=Math.max(u,0);var p,g=0;n.each(i,(function(t,e){t.width||(t.width=u),p=t,g+=t.width*(1+l)})),p&&(g-=p.width*l);var d=-g/2;n.each(i,(function(t,i){r[e][i]=r[e][i]||{offset:d,width:t.width},d+=t.width*(1+l)}))})),r}e.getLayoutOnAxis=function(t,e){var i=[],o=t.axis;if("category"===o.type){for(var r=o.getBandWidth(),s=0;s<t.count;s++)i.push(n.defaults({bandWidth:r,axisKey:"axis0",stackId:"__ec_stack_"+s},t));var a=l(i,e),h=[];for(s=0;s<t.count;s++){var c=a.axis0["__ec_stack_"+s];c.offsetCenter=c.offset+c.width/2,h.push(c)}return h}},e.calBarWidthAndOffset=a,e.layout=function(t,e,i){var o=a(n.filter(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}))),l={},h={};e.eachSeriesByType(t,(function(t){if("cartesian2d"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),a=r(t),c=o[s(n)][a],u=c.offset,p=c.width,g=i.getOtherAxis(n),d=t.get("barMinHeight")||0,f=n.onZero?g.toGlobalCoord(g.dataToCoord(0)):g.getGlobalExtent()[0],y=[e.mapDimension("x"),e.mapDimension("y")],m=e.mapArray(y,(function(t,e){return i.dataToPoint([t,e])}),!0);l[a]=l[a]||[],h[a]=h[a]||[],e.setLayout({offset:u,size:p}),e.each(e.mapDimension(g.dim),(function(t,i){if(!isNaN(t)){l[a][i]||(l[a][i]={p:f,n:f},h[a][i]={p:f,n:f});var n,o,r,s,c=t>=0?"p":"n",y=m[i],v=l[a][i][c],_=h[a][i][c];g.isHorizontal()?(n=v,o=y[1]+u,r=y[0]-_,s=p,h[a][i][c]+=r,Math.abs(r)<d&&(r=(r<0?-1:1)*d),l[a][i][c]+=r):(n=y[0]+u,o=v,r=p,s=y[1]-_,h[a][i][c]+=s,Math.abs(s)<d&&(s=(s<=0?-1:1)*d),l[a][i][c]+=s),e.setItemLayout(i,{x:n,y:o,width:r,height:s})}}),!0)}}),this)}},function(t,e,i){var n=i(0),o=i(18).createSymbol,r=i(2),s=i(3).parsePercent,a=i(88).getDefaultLabel;function l(t){return[t[0]/2,t[1]/2]}function h(t,e,i){r.Group.call(this),this.updateData(t,e,i)}var c=h.prototype;function u(t,e){this.parent.drift(t,e)}c._createSymbol=function(t,e,i,n){this.removeAll();var r=e.getItemVisual(i,"color"),s=o(t,-1,-1,2,2,r);s.attr({z2:100,culling:!0,scale:l(n)}),s.drift=u,this._symbolType=t,this.add(s)},c.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},c.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},c.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,s=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]}(t,e),a=n!==this._symbolType;a?this._createSymbol(n,t,e,s):((h=this.childAt(0)).silent=!1,r.updateProps(h,{scale:l(s)},o,e));if(this._updateCommon(t,e,s,i),a){var h=this.childAt(0),c=i&&i.fadeIn,u={scale:h.scale.slice()};c&&(u.style={opacity:h.style.opacity}),h.scale=[0,0],c&&(h.style.opacity=0),r.initProps(h,u,o,e)}this._seriesModel=o};var p=["itemStyle"],g=["emphasis","itemStyle"],d=["label"],f=["emphasis","label"];c._updateCommon=function(t,e,i,o){var h=this.childAt(0),c=t.hostModel,u=t.getItemVisual(e,"color");"image"!==h.type&&h.useStyle({strokeNoScale:!0});var y=o&&o.itemStyle,m=o&&o.hoverItemStyle,v=o&&o.symbolRotate,_=o&&o.symbolOffset,x=o&&o.labelModel,C=o&&o.hoverLabelModel,I=o&&o.hoverAnimation,A=o&&o.cursorStyle;if(!o||t.hasItemOption){var b=o&&o.itemModel?o.itemModel:t.getItemModel(e);y=b.getModel(p).getItemStyle(["color"]),m=b.getModel(g).getItemStyle(),v=b.getShallow("symbolRotate"),_=b.getShallow("symbolOffset"),x=b.getModel(d),C=b.getModel(f),I=b.getShallow("hoverAnimation"),A=b.getShallow("cursor")}else m=n.extend({},m);var w=h.style;h.attr("rotation",(v||0)*Math.PI/180||0),_&&h.attr("position",[s(_[0],i[0]),s(_[1],i[1])]),A&&h.attr("cursor",A),h.setColor(u,o&&o.symbolInnerColor),h.setStyle(y);var S=t.getItemVisual(e,"opacity");null!=S&&(w.opacity=S);var M=o&&o.useNameLabel;r.setLabelStyle(w,m,x,C,{labelFetcher:c,labelDataIndex:e,defaultText:function(e,i){return M?t.getName(e):a(t,e)},isRectText:!0,autoColor:u}),h.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.hoverStyle=m,r.setHoverStyle(h);var E=l(i);if(I&&c.isAnimationEnabled()){var T=function(){var t=E[1]/E[0];this.animateTo({scale:[Math.max(1.1*E[0],E[0]+3),Math.max(1.1*E[1],E[1]+3*t)]},400,"elasticOut")},P=function(){this.animateTo({scale:E},400,"elasticOut")};h.on("mouseover",T).on("mouseout",P).on("emphasis",T).on("normal",P)}},c.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,(!e||!e.keepLabel)&&(i.style.text=null),r.updateProps(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},n.inherits(h,r.Group);var y=h;t.exports=y},function(t,e,i){var n=i(0),o=i(137),r=i(13),s=i(6),a=s.getLayoutParams,l=s.mergeLayoutParam,h=i(130),c=["value","category","time","log"];t.exports=function(t,e,i,s){n.each(c,(function(r){e.extend({type:t+"Axis."+r,mergeDefaultAndTheme:function(e,o){var s=this.layoutMode,h=s?a(e):{},c=o.getTheme();n.merge(e,c.get(r+"Axis")),n.merge(e,this.getDefaultOption()),e.type=i(t,e),s&&l(e,h,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=h.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:n.mergeAll([{},o[r+"Axis"],s],!0)})})),r.registerSubTypeDefaulter(t+"Axis",n.curry(i,t))}},function(t,e,i){var n=i(0),o=i(11),r=n.each,s=n.curry;function a(t,e){return"all"===t||n.isArray(t)&&n.indexOf(t,e)>=0||t===e}function l(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[c(t)]}function h(t){return!!t.get("handle.show")}function c(t){return t.type+"||"+t.id}e.collect=function(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,i){var l=e.getComponent("tooltip"),u=e.getComponent("axisPointer"),p=u.get("link",!0)||[],g=[];r(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var d=c(i.model),f=t.coordSysAxesInfo[d]={};t.coordSysMap[d]=i;var y=i.model.getModel("tooltip",l);if(r(i.getAxes(),s(x,!1,null)),i.getTooltipAxes&&l&&y.get("show")){var m="axis"===y.get("trigger"),v="cross"===y.get("axisPointer.type"),_=i.getTooltipAxes(y.get("axisPointer.axis"));(m||v)&&r(_.baseAxes,s(x,!v||"cross",m)),v&&r(_.otherAxes,s(x,"cross",!1))}}function x(s,l,d){var m=d.model.getModel("axisPointer",u),v=m.get("show");if(v&&("auto"!==v||s||h(m))){null==l&&(l=m.get("triggerTooltip"));var _=(m=s?function(t,e,i,s,a,l){var h=e.getModel("axisPointer"),c={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){c[t]=n.clone(h.get(t))})),c.snap="category"!==t.type&&!!l,"cross"===h.get("type")&&(c.type="line");var u=c.label||(c.label={});if(null==u.show&&(u.show=!1),"cross"===a&&(u.show=!0,!l)){var p=c.lineStyle=h.get("crossStyle");p&&n.defaults(u,p.textStyle)}return t.model.getModel("axisPointer",new o(c,i,s))}(d,y,u,e,s,l):m).get("snap"),x=c(d.model),C=l||_||"category"===d.type,I=t.axesInfo[x]={key:x,axis:d,coordSys:i,axisPointerModel:m,triggerTooltip:l,involveSeries:C,snap:_,useHandle:h(m),seriesModels:[]};f[x]=I,t.seriesInvolved|=C;var A=function(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var r=t[o]||{};if(a(r[n+"AxisId"],i.id)||a(r[n+"AxisIndex"],i.componentIndex)||a(r[n+"AxisName"],i.name))return o}}(p,d);if(null!=A){var b=g[A]||(g[A]={axesInfo:{}});b.axesInfo[x]=I,b.mapper=p[A].mapper,I.linkGroup=b}}}}))}(i,t,e),i.seriesInvolved&&function(t,e){e.eachSeries((function(e){var i=e.coordinateSystem,n=e.get("tooltip.trigger",!0),o=e.get("tooltip.show",!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==e.get("axisPointer.show",!0)&&r(t.coordSysAxesInfo[c(i.model)],(function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}),this)}(i,t),i},e.fixValue=function(t){var e=l(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,r=i.get("status"),s=i.get("value");null!=s&&(s=n.parse(s));var a=h(i);null==r&&(o.status=a?"show":"hide");var c=n.getExtent().slice();c[0]>c[1]&&c.reverse(),(null==s||s>c[1])&&(s=c[1]),s<c[0]&&(s=c[0]),o.value=s,a&&(o.status=e.axis.scale.isBlank()?"hide":"show")}},e.getAxisInfo=l,e.getAxisPointerModel=function(t){var e=l(t);return e&&e.axisPointerModel},e.makeKey=c},function(t,e,i){var n=i(0).createHashMap;t.exports=function(t){return{getTargetSeries:function(e){var i={},o=n();return e.eachSeriesByType(t,(function(t){t.__paletteScope=i,o.set(t.uid,t)})),o},reset:function(t,e){var i=t.getRawData(),n={},o=t.getData();o.each((function(t){var e=o.getRawIndex(t);n[e]=t})),i.each((function(e){var r=n[e],s=null!=r&&o.getItemVisual(r,"color",!0);if(s)i.setItemVisual(e,"color",s);else{var a=i.getItemModel(e).get("itemStyle.color")||t.getColorFromPalette(i.getName(e),t.__paletteScope,i.count());i.setItemVisual(e,"color",a),null!=r&&o.setItemVisual(r,"color",a)}}))}}}},function(t,e,i){var n=i(0),o=i(30),r=i(22),s=i(143);function a(t){this.pointerChecker,this._zr=t,this._opt={};var e=n.bind,i=e(l,this),r=e(h,this),s=e(c,this),a=e(u,this),g=e(p,this);o.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,o){this.disable(),this._opt=n.defaults(n.clone(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",r),t.on("mouseup",s)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",g))},this.disable=function(){t.off("mousedown",i),t.off("mousemove",r),t.off("mouseup",s),t.off("mousewheel",a),t.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(t){if(!(r.notLeftMouse(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function h(t){if(!r.notLeftMouse(t)&&d(this,"moveOnMouseMove",t)&&this._dragging&&"pinch"!==t.gestureEvent&&!s.isTaken(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,a=e-n,l=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&r.stop(t.event),this.trigger("pan",a,l,n,o,e,i)}}function c(t){r.notLeftMouse(t)||(this._dragging=!1)}function u(t){if(d(this,"zoomOnMouseWheel",t)&&0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;g.call(this,t,e,t.offsetX,t.offsetY)}}function p(t){if(!s.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;g.call(this,t,e,t.pinchX,t.pinchY)}}function g(t,e,i,n){this.pointerChecker&&this.pointerChecker(t,i,n)&&(r.stop(t.event),this.trigger("zoom",e,i,n))}function d(t,e,i){var o=t._opt[e];return o&&(!n.isString(o)||i.event[o+"Key"])}n.mixin(a,o);var f=a;t.exports=f},function(t,e,i){var n=i(43),o=i(338),r=i(0),s=i(52).getDimensionTypeByAxis,a={_baseAxisDim:null,getInitialData:function(t,e){var i,o,a=e.getComponent("xAxis",this.get("xAxisIndex")),l=e.getComponent("yAxis",this.get("yAxisIndex")),h=a.get("type"),c=l.get("type");"category"===h?(t.layout="horizontal",i=a.getOrdinalMeta(),o=!0):"category"===c?(t.layout="vertical",i=l.getOrdinalMeta(),o=!0):t.layout=t.layout||"horizontal";var u=["x","y"],p="horizontal"===t.layout?0:1,g=this._baseAxisDim=u[p],d=u[1-p],f=[a,l],y=f[p].get("type"),m=f[1-p].get("type"),v=t.data;if(v&&o){var _=[];r.each(v,(function(t,e){var i;t.value&&r.isArray(t.value)?(i=t.value.slice(),t.value.unshift(e)):r.isArray(t)?(i=t.slice(),t.unshift(e)):i=t,_.push(i)})),t.data=_}var x=this.defaultValueDimensions;return n(this,{coordDimensions:[{name:g,type:s(y),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:s(m),dimsDef:x.slice()}],dimensionsCount:x.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},l={init:function(){var t=this._whiskerBoxDraw=new o(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}};e.seriesModelMixin=a,e.viewMixin=l},function(t,e,i){var n=i(0),o=i(2),r=i(20),s=i(8),a=i(15),l=i(17),h=i(35);function c(t,e,i,n,o){var a=u(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),h=s.normalizeCssArray(l.get("padding")||0),c=l.getFont(),p=r.getBoundingRect(a,c),g=o.position,d=p.width+h[1]+h[3],f=p.height+h[0]+h[2],y=o.align;"right"===y&&(g[0]-=d),"center"===y&&(g[0]-=d/2);var m=o.verticalAlign;"bottom"===m&&(g[1]-=f),"middle"===m&&(g[1]-=f/2),function(t,e,i,n){var o=n.getWidth(),r=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(g,d,f,n);var v=l.get("backgroundColor");v&&"auto"!==v||(v=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:d,height:f,r:l.get("borderRadius")},position:g.slice(),style:{text:a,textFont:c,textFill:l.getTextColor(),textPosition:"inside",fill:v,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function u(t,e,i,o,r){var s=e.scale.getLabel(t,{precision:r.precision}),a=r.formatter;if(a){var h={value:l.getAxisRawValue(e,t),seriesData:[]};n.each(o,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e&&e.getDataParams(n);o&&h.seriesData.push(o)})),n.isString(a)?s=a.replace("{value}",s):n.isFunction(a)&&(s=a(h))}return s}function p(t,e,i){var n=a.create();return a.rotate(n,n,i.rotation),a.translate(n,n,i.position),o.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}e.buildElStyle=function(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle()).fill=null:"shadow"===i&&((e=n.getAreaStyle()).stroke=null),e},e.buildLabelElOption=c,e.getValueLabel=u,e.getTransformedPosition=p,e.buildCartesianSingleLabelElOption=function(t,e,i,n,o,r){var s=h.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),c(e,n,o,r,{position:p(n.axis,t,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})},e.makeLineShape=function(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}},e.makeRectShape=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},e.makeSectorShape=function(t,e,i,n,o,r){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:r,clockwise:!0}}},function(t,e,i){var n=i(0),o=i(38),r=n.each;function s(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}e.createVisualMappings=function(t,e,i){var s={};return r(e,(function(e){var a,l=s[e]=((a=function(){}).prototype.__hidden=a.prototype,new a);r(t[e],(function(t,r){if(o.isValidType(r)){var s={type:r,visual:t};i&&i(s,e),l[r]=new o(s),"opacity"===r&&((s=n.clone(s)).type="colorAlpha",l.__hidden.__alphaForOpacity=new o(s))}}))})),s},e.replaceVisualOption=function(t,e,i){var o;n.each(i,(function(t){e.hasOwnProperty(t)&&s(e[t])&&(o=!0)})),o&&n.each(i,(function(i){e.hasOwnProperty(i)&&s(e[i])?t[i]=n.clone(e[i]):delete t[i]}))},e.applyVisual=function(t,e,i,r,s,a){var l,h={};function c(t){return i.getItemVisual(l,t)}function u(t,e){i.setItemVisual(l,t,e)}function p(t,n){l=null==a?t:n;var o=i.getRawDataItem(l);if(!o||!1!==o.visualMap)for(var p=r.call(s,t),g=e[p],d=h[p],f=0,y=d.length;f<y;f++){var m=d[f];g[m]&&g[m].applyVisual(t,c,u)}}n.each(t,(function(t){var i=o.prepareVisualTypes(e[t]);h[t]=i})),null==a?i.each(p,!0):i.each([a],p,!0)},e.incrementalApplyVisual=function(t,e,i,r){var s={};return n.each(t,(function(t){var i=o.prepareVisualTypes(e[t]);s[t]=i})),{progress:function(t,n){function o(t){return n.getItemVisual(l,t)}function a(t,e){n.setItemVisual(l,t,e)}null!=r&&(r=n.getDimension(r));for(var l=t.start;l<t.end;l++){var h=n.getRawDataItem(l);if(h&&!1===h.visualMap)return;for(var c=null!=r?n.get(r,l,!0):l,u=i(c),p=e[u],g=s[u],d=0,f=g.length;d<f;d++){var y=g[d];p[y]&&p[y].applyVisual(c,o,a)}}}}}},function(t,e,i){var n=i(15),o=i(7),r=n.identity;function s(t){return t>5e-5||t<-5e-5}var a=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=a.prototype;l.transform=null,l.needLocalTransform=function(){return s(this.rotation)||s(this.position[0])||s(this.position[1])||s(this.scale[0]-1)||s(this.scale[1]-1)},l.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),o=this.transform;i||e?(o=o||n.create(),i?this.getLocalTransform(o):r(o),e&&(i?n.mul(o,t.transform,o):n.copy(o,t.transform)),this.transform=o,this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,o)):o&&r(o)},l.getLocalTransform=function(t){return a.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var h=[];l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(n.mul(h,t.invTransform,e),e=h);var i=e[0]*e[0]+e[1]*e[1],o=e[2]*e[2]+e[3]*e[3],r=this.position,a=this.scale;s(i-1)&&(i=Math.sqrt(i)),s(o-1)&&(o=Math.sqrt(o)),e[0]<0&&(i=-i),e[3]<0&&(o=-o),r[0]=e[4],r[1]=e[5],a[0]=i,a[1]=o,this.rotation=Math.atan2(-e[1]/o,e[0]/i)}},l.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i]},l.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&o.applyTransform(i,i,n),i},l.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&o.applyTransform(i,i,n),i},a.getLocalTransform=function(t,e){r(e=e||[]);var i=t.origin,o=t.scale||[1,1],s=t.rotation||0,a=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),n.scale(e,e,o),s&&n.rotate(e,e,s),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=a[0],e[5]+=a[1],e};var c=a;t.exports=c},function(t,e){function i(t,e,i,n){var o=e+1;if(o===i)return 1;if(n(t[o++],t[e])<0){for(;o<i&&n(t[o],t[o-1])<0;)o++;!function(t,e,i){i--;for(;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,o)}else for(;o<i&&n(t[o],t[o-1])>=0;)o++;return o-e}function n(t,e,i,n,o){for(n===e&&n++;n<i;n++){for(var r,s=t[n],a=e,l=n;a<l;)o(s,t[r=a+l>>>1])<0?l=r:a=r+1;var h=n-a;switch(h){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;h>0;)t[a+h]=t[a+h-1],h--}t[a]=s}}function o(t,e,i,n,o,r){var s=0,a=0,l=1;if(r(t,e[i+o])>0){for(a=n-o;l<a&&r(t,e[i+o+l])>0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=o,l+=o}else{for(a=o+1;l<a&&r(t,e[i+o-l])<=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var h=s;s=o-l,l=o-h}for(s++;s<l;){var c=s+(l-s>>>1);r(t,e[i+c])>0?s=c+1:l=c}return l}function r(t,e,i,n,o,r){var s=0,a=0,l=1;if(r(t,e[i+o])<0){for(a=o+1;l<a&&r(t,e[i+o-l])<0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var h=s;s=o-l,l=o-h}else{for(a=n-o;l<a&&r(t,e[i+o+l])>=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=o,l+=o}for(s++;s<l;){var c=s+(l-s>>>1);r(t,e[i+c])<0?l=c:s=c+1}return l}function s(t,e){var i,n,s,a=7,l=0;i=t.length;var h=[];function c(i){var c=n[i],u=s[i],p=n[i+1],g=s[i+1];s[i]=u+g,i===l-3&&(n[i+1]=n[i+2],s[i+1]=s[i+2]),l--;var d=r(t[p],t,c,u,0,e);c+=d,0!==(u-=d)&&0!==(g=o(t[c+u-1],t,p,g,g-1,e))&&(u<=g?function(i,n,s,l){var c=0;for(c=0;c<n;c++)h[c]=t[i+c];var u=0,p=s,g=i;if(t[g++]=t[p++],0==--l){for(c=0;c<n;c++)t[g+c]=h[u+c];return}if(1===n){for(c=0;c<l;c++)t[g+c]=t[p+c];return void(t[g+l]=h[u])}var d,f,y,m=a;for(;;){d=0,f=0,y=!1;do{if(e(t[p],h[u])<0){if(t[g++]=t[p++],f++,d=0,0==--l){y=!0;break}}else if(t[g++]=h[u++],d++,f=0,1==--n){y=!0;break}}while((d|f)<m);if(y)break;do{if(0!==(d=r(t[p],h,u,n,0,e))){for(c=0;c<d;c++)t[g+c]=h[u+c];if(g+=d,u+=d,(n-=d)<=1){y=!0;break}}if(t[g++]=t[p++],0==--l){y=!0;break}if(0!==(f=o(h[u],t,p,l,0,e))){for(c=0;c<f;c++)t[g+c]=t[p+c];if(g+=f,p+=f,0===(l-=f)){y=!0;break}}if(t[g++]=h[u++],1==--n){y=!0;break}m--}while(d>=7||f>=7);if(y)break;m<0&&(m=0),m+=2}if((a=m)<1&&(a=1),1===n){for(c=0;c<l;c++)t[g+c]=t[p+c];t[g+l]=h[u]}else{if(0===n)throw new Error;for(c=0;c<n;c++)t[g+c]=h[u+c]}}(c,u,p,g):function(i,n,s,l){var c=0;for(c=0;c<l;c++)h[c]=t[s+c];var u=i+n-1,p=l-1,g=s+l-1,d=0,f=0;if(t[g--]=t[u--],0==--n){for(d=g-(l-1),c=0;c<l;c++)t[d+c]=h[c];return}if(1===l){for(f=(g-=n)+1,d=(u-=n)+1,c=n-1;c>=0;c--)t[f+c]=t[d+c];return void(t[g]=h[p])}var y=a;for(;;){var m=0,v=0,_=!1;do{if(e(h[p],t[u])<0){if(t[g--]=t[u--],m++,v=0,0==--n){_=!0;break}}else if(t[g--]=h[p--],v++,m=0,1==--l){_=!0;break}}while((m|v)<y);if(_)break;do{if(0!==(m=n-r(h[p],t,i,n,n-1,e))){for(n-=m,f=(g-=m)+1,d=(u-=m)+1,c=m-1;c>=0;c--)t[f+c]=t[d+c];if(0===n){_=!0;break}}if(t[g--]=h[p--],1==--l){_=!0;break}if(0!==(v=l-o(t[u],h,0,l,l-1,e))){for(l-=v,f=(g-=v)+1,d=(p-=v)+1,c=0;c<v;c++)t[f+c]=h[d+c];if(l<=1){_=!0;break}}if(t[g--]=t[u--],0==--n){_=!0;break}y--}while(m>=7||v>=7);if(_)break;y<0&&(y=0),y+=2}(a=y)<1&&(a=1);if(1===l){for(f=(g-=n)+1,d=(u-=n)+1,c=n-1;c>=0;c--)t[f+c]=t[d+c];t[g]=h[p]}else{if(0===l)throw new Error;for(d=g-(l-1),c=0;c<l;c++)t[d+c]=h[c]}}(c,u,p,g))}n=[],s=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&s[t-1]<=s[t]+s[t+1]||t>=2&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;c(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&s[t-1]<s[t+1]&&t--,c(t)}},this.pushRun=function(t,e){n[l]=t,s[l]=e,l+=1}}t.exports=function(t,e,o,r){o||(o=0),r||(r=t.length);var a=r-o;if(!(a<2)){var l=0;if(a<32)n(t,o,r,o+(l=i(t,o,r,e)),e);else{var h=new s(t,e),c=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(a);do{if((l=i(t,o,r,e))<c){var u=a;u>c&&(u=c),n(t,o,o+u,o+l,e),l=u}h.pushRun(o,l),h.mergeRuns(),a-=l,o+=l}while(0!==a);h.forceMergeRuns()}}}},function(t,e,i){var n=new(i(110))(50);function o(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function r(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"==typeof t){var e=n.get(t);return e&&e.image}return t},e.createOrUpdateImage=function(t,e,i,s,a){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var l=n.get(t),h={hostEl:i,cb:s,cbPayload:a};return l?!r(e=l.image)&&l.pending.push(h):(!e&&(e=new Image),e.onload=o,n.put(t,e.__cachedImgObj={image:e,pending:[h]}),e.src=e.__zrImageSrc=t),e}return t}return e},e.isImageReady=r},function(t,e,i){var n=i(7),o=i(26),r=Math.min,s=Math.max,a=Math.sin,l=Math.cos,h=2*Math.PI,c=n.create(),u=n.create(),p=n.create();var g=[],d=[];e.fromPoints=function(t,e,i){if(0!==t.length){var n,o=t[0],a=o[0],l=o[0],h=o[1],c=o[1];for(n=1;n<t.length;n++)o=t[n],a=r(a,o[0]),l=s(l,o[0]),h=r(h,o[1]),c=s(c,o[1]);e[0]=a,e[1]=h,i[0]=l,i[1]=c}},e.fromLine=function(t,e,i,n,o,a){o[0]=r(t,i),o[1]=r(e,n),a[0]=s(t,i),a[1]=s(e,n)},e.fromCubic=function(t,e,i,n,a,l,h,c,u,p){var f,y=o.cubicExtrema,m=o.cubicAt,v=y(t,i,a,h,g);for(u[0]=1/0,u[1]=1/0,p[0]=-1/0,p[1]=-1/0,f=0;f<v;f++){var _=m(t,i,a,h,g[f]);u[0]=r(_,u[0]),p[0]=s(_,p[0])}for(v=y(e,n,l,c,d),f=0;f<v;f++){var x=m(e,n,l,c,d[f]);u[1]=r(x,u[1]),p[1]=s(x,p[1])}u[0]=r(t,u[0]),p[0]=s(t,p[0]),u[0]=r(h,u[0]),p[0]=s(h,p[0]),u[1]=r(e,u[1]),p[1]=s(e,p[1]),u[1]=r(c,u[1]),p[1]=s(c,p[1])},e.fromQuadratic=function(t,e,i,n,a,l,h,c){var u=o.quadraticExtremum,p=o.quadraticAt,g=s(r(u(t,i,a),1),0),d=s(r(u(e,n,l),1),0),f=p(t,i,a,g),y=p(e,n,l,d);h[0]=r(t,a,f),h[1]=r(e,l,y),c[0]=s(t,a,f),c[1]=s(e,l,y)},e.fromArc=function(t,e,i,o,r,s,g,d,f){var y=n.min,m=n.max,v=Math.abs(r-s);if(v%h<1e-4&&v>1e-4)return d[0]=t-i,d[1]=e-o,f[0]=t+i,void(f[1]=e+o);if(c[0]=l(r)*i+t,c[1]=a(r)*o+e,u[0]=l(s)*i+t,u[1]=a(s)*o+e,y(d,c,u),m(f,c,u),(r%=h)<0&&(r+=h),(s%=h)<0&&(s+=h),r>s&&!g?s+=h:r<s&&g&&(r+=h),g){var _=s;s=r,r=_}for(var x=0;x<s;x+=Math.PI/2)x>r&&(p[0]=l(x)*i+t,p[1]=a(x)*o+e,y(d,p,d),m(f,p,f))}},function(t,e,i){var n=i(0).inherits,o=i(47),r=i(9);function s(t){o.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}s.prototype.incremental=!0,s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},s.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},s.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},s.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},s.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},s.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++){(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._cursor=i;for(i=0;i<this._temporaryDisplayables.length;i++){var n;(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var a=[];s.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new r(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(a)),t.union(n)}this._rect=t}return this._rect},s.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++){if(this._displayables[n].contain(t,e))return!0}return!1},n(s,o);var l=s;t.exports=l},function(t,e,i){var n=i(51).retrieveRawValue,o=i(8),r=o.getTooltipMarker,s=o.formatTpl,a=/\{@(.+?)\}/g,l={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),s=i.getName(t,!0),a=i.getRawDataItem(t),l=i.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:s,dataIndex:o,data:a,dataType:e,value:n,color:l,marker:r(l),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i,o,r){e=e||"normal";var l=this.getData(i),h=l.getItemModel(t),c=this.getDataParams(t,i);null!=o&&c.value instanceof Array&&(c.value=c.value[o]);var u=h.get("normal"===e?[r||"label","formatter"]:[e,r||"label","formatter"]);return"function"==typeof u?(c.status=e,u(c)):"string"==typeof u?s(u,c).replace(a,(function(e,i){var o=i.length;return"["===i.charAt(0)&&"]"===i.charAt(o-1)&&(i=+i.slice(1,o-1)),n(l,t,i)})):void 0},getRawValue:function(t,e){return n(this.getData(e),t)},formatTooltip:function(){}};t.exports=l},function(t,e,i){i(0).assert,i(5).__DEV__;function n(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var o=n.prototype;o.perform=function(t){var e,i=this._upstream,n=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(e=this._plan(this.context)),(this._dirty||"reset"===e)&&(this._dirty=!1,function(t,e){t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,t._progress=!e&&t._reset&&t._reset(t.context);var i=t._downstream;i&&i.dirty()}(this,n));var r=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var s=this._dueIndex,a=Math.min(null!=r?this._dueIndex+r:1/0,this._dueEnd);!n&&s<a&&this._progress({start:s,end:a},this.context),this._dueIndex=a;var l=null!=this._settedOutputEnd?this._settedOutputEnd:a;this._outputDueEnd=l}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},o.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},o.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},o.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},o.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},o.getUpstream=function(){return this._upstream},o.getDownstream=function(){return this._downstream},o.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=function(t){return new n(t)}},function(t,e,i){var n=i(62),o=i(66),r=i(23),s=function(){this.group=new n,this.uid=o.getUID("viewComponent")},a=s.prototype={constructor:s,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};a.updateView=a.updateLayout=a.updateVisual=function(t,e,i,n){},r.enableClassExtend(s),r.enableClassManagement(s,{registerWhenExtend:!0});var l=s;t.exports=l},function(t,e,i){var n=i(4).makeInner;t.exports=function(){var t=n();return function(e){var i=t(e),n=e.pipelineContext,o=i.large,r=i.incrementalRender,s=i.large=n.large,a=i.incrementalRender=n.incrementalRender;return(o^s||r^a)&&"reset"}}},function(t,e,i){var n=i(51).retrieveRawValue;e.getDefaultLabel=function(t,e){var i=t.mapDimension("defaultedLabel",!0),o=i.length;if(1===o)return n(t,e,i[0]);if(o){for(var r=[],s=0;s<i.length;s++){var a=n(t,e,i[s]);r.push(a)}return r.join(" ")}}},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(9),r=i(6).getLayoutRect,s=i(17),a=i(240),l=i(242),h=i(19);i(243);var c=n.each,u=s.ifAxisCrossZero,p=s.niceScaleExtent;function g(t,e,i){return t.getCoordSysModel()===e}function d(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}var f=d.prototype;function y(t,e,i){var n=t[e];if(i.onZero){var o=i.onZeroAxisIndex;if(null==o){for(var r in n){if(n.hasOwnProperty(r))if((s=n[r])&&!m(s)){o=+r;break}}null==o&&(i.onZero=!1),i.onZeroAxisIndex=o}else{var s;(s=n[o])&&m(s)&&(i.onZero=!1)}}}function m(t){return"category"===t.type||"time"===t.type||!u(t)}f.type="grid",f.axisPointerEnabled=!0,f.getRect=function(){return this._rect},f.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),c(i.x,(function(t){p(t.scale,t.model)})),c(i.y,(function(t){p(t.scale,t.model)})),c(i.x,(function(t){y(i,"y",t)})),c(i.y,(function(t){y(i,"x",t)})),this.resize(this.model,e)},f.resize=function(t,e,i){var n=r(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=n;var s=this._axesList;function a(){c(s,(function(t){var e=t.isHorizontal(),i=e?[0,n.width]:[0,n.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),function(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}(t,e?n.x:n.y)}))}a(),!i&&t.get("containLabel")&&(c(s,(function(t){if(!t.model.get("axisLabel.inside")){var e=function(t){var e,i,n,r,s,a,l,h,c,u=t.model,p=u.get("axisLabel.show")?u.getFormattedLabels():[],g=u.getModel("axisLabel"),d=1,f=p.length;f>40&&(d=Math.ceil(f/40));for(var y=0;y<f;y+=d)if(!t.isLabelIgnored(y)){var m=g.getTextRect(p[y]),v=(i=m,n=g.get("rotate")||0,r=void 0,s=void 0,a=void 0,l=void 0,h=void 0,c=void 0,r=n*Math.PI/180,s=i.plain(),a=s.width,l=s.height,h=a*Math.cos(r)+l*Math.sin(r),c=a*Math.sin(r)+l*Math.cos(r),new o(s.x,s.y,h,c));e?e.union(v):e=v}return e}(t);if(e){var i=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");n[i]-=e[i]+r,"top"===t.position?n.y+=e.height+r:"left"===t.position&&(n.x+=e.width+r)}}})),a())},f.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},f.getAxes=function(){return this._axesList.slice()},f.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}n.isObject(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var o=0,r=this._coordsList;o<r.length;o++)if(r[o].getAxis("x").index===t||r[o].getAxis("y").index===e)return r[o]},f.getCartesians=function(){return this._coordsList.slice()},f.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},f.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},f._findConvertTarget=function(t,e){var i,o,r=e.seriesModel,s=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],l=e.gridModel,h=this._coordsList;if(r)i=r.coordinateSystem,n.indexOf(h,i)<0&&(i=null);else if(s&&a)i=this.getCartesian(s.componentIndex,a.componentIndex);else if(s)o=this.getAxis("x",s.componentIndex);else if(a)o=this.getAxis("y",a.componentIndex);else if(l){l.coordinateSystem===this&&(i=this._coordsList[0])}return{cartesian:i,axis:o}},f.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},f._initCartesian=function(t,e,i){var n={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},r={x:0,y:0};if(e.eachComponent("xAxis",h("x"),this),e.eachComponent("yAxis",h("y"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);function h(e){return function(i,a){if(g(i,t)){var h=i.get("position");"x"===e?"top"!==h&&"bottom"!==h&&n[h="bottom"]&&(h="top"===h?"bottom":"top"):"left"!==h&&"right"!==h&&n[h="left"]&&(h="left"===h?"right":"left"),n[h]=!0;var c=new l(e,s.createScaleByModel(i),[0,0],i.get("type"),h),u="category"===c.type;c.onBand=u&&i.get("boundaryGap"),c.inverse=i.get("inverse"),c.onZero=i.get("axisLine.onZero"),c.onZeroAxisIndex=i.get("axisLine.onZeroAxisIndex"),i.axis=c,c.model=i,c.grid=this,c.index=a,this._axesList.push(c),o[e][a]=c,r[e]++}}}this._axesMap=o,c(o.x,(function(e,i){c(o.y,(function(n,o){var r="x"+i+"y"+o,s=new a(r);s.grid=this,s.model=t,this._coordsMap[r]=s,this._coordsList.push(s),s.addAxis(e),s.addAxis(n)}),this)}),this)},f._updateScale=function(t,e){function i(t,e,i){c(t.mapDimension(e.dim,!0),(function(i){e.scale.unionExtentFromData(t,i)}))}n.each(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(n){if(x(n)){var o=_(n,t),r=o[0],s=o[1];if(!g(r,e)||!g(s,e))return;var a=this.getCartesian(r.componentIndex,s.componentIndex),l=n.getData(),h=a.getAxis("x"),c=a.getAxis("y");"list"===l.type&&(i(l,h,n),i(l,c,n))}}),this)},f.getTooltipAxes=function(t){var e=[],i=[];return c(this.getCartesians(),(function(o){var r=null!=t&&"auto"!==t?o.getAxis(t):o.getBaseAxis(),s=o.getOtherAxis(r);n.indexOf(e,r)<0&&e.push(r),n.indexOf(i,s)<0&&i.push(s)})),{baseAxes:e,otherAxes:i}};var v=["xAxis","yAxis"];function _(t,e){return n.map(v,(function(e){return t.getReferringComponents(e)[0]}))}function x(t){return"cartesian2d"===t.get("coordinateSystem")}d.create=function(t,e){var i=[];return t.eachComponent("grid",(function(n,o){var r=new d(n,t,e);r.name="grid_"+o,r.resize(n,e,!0),n.coordinateSystem=r,i.push(r)})),t.eachSeries((function(t){if(x(t)){var e=_(t),i=e[0],n=e[1],o=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}})),i},d.dimensions=d.prototype.dimensions=a.prototype.dimensions,h.register("cartesian2d",d);var C=d;t.exports=C},function(t,e,i){var n=i(0),o={updateSelectedMap:function(t){if(n.isArray(t))this._targetList=t.slice();else for(var e=t,i=e.mapDimension("value"),o=(t=this._targetList=[],0),r=e.count();o<r;o++)t.push({name:e.getName(o),value:e.get(i,o)});this._selectTargetMap=n.reduce(t||[],(function(t,e){return t.set(e.name,e),t}),n.createHashMap())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(t){t.selected=!1})),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}};t.exports=o},function(t,e){var i={axisPointer:1,tooltip:1,brush:1};e.onIrrelevantElement=function(t,e,n){var o=e.getComponentByElement(t.topTarget),r=o&&o.coordinateSystem;return o&&o!==n&&!i[o.mainType]&&r&&r.model!==n}},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(272),s=i(6),a=i(3);function l(t,e){var i=t.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var r,l=this.getBoundingRect(),h=t.get("layoutCenter"),c=t.get("layoutSize"),u=e.getWidth(),p=e.getHeight(),g=t.get("aspectScale")||.75,d=l.width/l.height*g,f=!1;if(h&&c&&(h=[a.parsePercent(h[0],u),a.parsePercent(h[1],p)],c=a.parsePercent(c,Math.min(u,p)),isNaN(h[0])||isNaN(h[1])||isNaN(c)||(f=!0)),f){var y={};d>1?(y.width=c,y.height=c/d):(y.height=c,y.width=c*d),y.y=h[1]-y.height/2,y.x=h[0]-y.width/2}else(r=t.getBoxLayoutParams()).aspect=d,y=s.getLayoutRect(r,{width:u,height:p});this.setViewRect(y.x,y.y,y.width,y.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function h(t,e){o.each(e.get("geoCoord"),(function(e,i){t.addGeoCoord(i,e)}))}var c={dimensions:r.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",(function(t,o){var s=t.get("map"),a=n.getMap(s),c=new r(s+o,s,a&&a.geoJson,a&&a.specialAreas,t.get("nameMap"));c.zoomLimit=t.get("scaleLimit"),i.push(c),h(c,t),t.coordinateSystem=c,c.model=t,c.resize=l,c.resize(t,e)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=i[e]}}));var s={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();s[e]=s[e]||[],s[e].push(t)}})),o.each(s,(function(t,s){var a=n.getMap(s),c=o.map(t,(function(t){return t.get("nameMap")})),u=new r(s,s,a&&a.geoJson,a&&a.specialAreas,o.mergeAll(c));u.zoomLimit=o.retrieve.apply(null,o.map(t,(function(t){return t.get("scaleLimit")}))),i.push(u),u.resize=l,u.resize(t[0],e),o.each(t,(function(t){t.coordinateSystem=u,h(u,t)}))})),i},getFilledRegions:function(t,e,i){var r=(t||[]).slice();i=i||{};var s=n.getMap(e),a=s&&s.geoJson;if(!a)return t;for(var l=o.createHashMap(),h=a.features,c=0;c<r.length;c++)l.set(r[c].name,r[c]);for(c=0;c<h.length;c++){var u=h[c].properties.name;l.get(u)||(i.hasOwnProperty(u)&&(u=i[u]),r.push({name:u}))}return r}};n.registerCoordinateSystem("geo",c);var u=c;t.exports=u},function(t,e,i){var n=i(0),o=i(11),r=i(148),s=i(16),a=i(41),l=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function h(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=n.map(e||[],(function(e){return new o(e,t,t.ecModel)})),this.leavesModel=new o(i||{},t,t.ecModel)}l.prototype={constructor:l,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},n.isString(t)&&(t={order:t});var o,r=t.order||"preorder",s=this[t.attr||"children"];"preorder"===r&&(o=e.call(i,this));for(var a=0;!o&&a<s.length;a++)s[a].eachNode(t,e,i);"postorder"===r&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(o||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},h.prototype={constructor:h,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},h.createTree=function(t,e,i){var o=new h(e,i.levels,i.leaves),c=[],u=1;!function t(e,i){var r=e.value;u=Math.max(u,n.isArray(r)?r.length:1),c.push(e);var s=new l(e.name,o);i?function(t,e){var i=e.children;if(t.parentNode===e)return;i.push(t),t.parentNode=e}(s,i):o.root=s,o._nodes.push(s);var a=e.children;if(a)for(var h=0;h<a.length;h++)t(a[h],s)}(t),o.root.updateDepthAndHeight(0);var p=a(c,{coordDimensions:["value"],dimensionsCount:u}),g=new s(p,e);return g.initData(c),r({mainData:g,struct:o,structAttr:"tree"}),o.update(),o};var c=h;t.exports=c},function(t,e,i){var n=i(2),o=i(95);function r(t){this._ctor=t||o,this.group=new n.Group}var s=r.prototype;function a(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function l(t){return isNaN(t[0])||isNaN(t[1])}function h(t){return!l(t[0])&&!l(t[1])}s.isPersistent=function(){return!0},s.updateData=function(t){var e=this,i=e.group,n=e._lineData;e._lineData=t,n||i.removeAll();var o=a(t);t.diff(n).add((function(i){!function(t,e,i,n){if(!h(e.getItemLayout(i)))return;var o=new t._ctor(e,i,n);e.setItemGraphicEl(i,o),t.group.add(o)}(e,t,i,o)})).update((function(i,r){!function(t,e,i,n,o,r){var s=e.getItemGraphicEl(n);if(!h(i.getItemLayout(o)))return void t.group.remove(s);s?s.updateData(i,o,r):s=new t._ctor(i,o,r);i.setItemGraphicEl(o,s),t.group.add(s)}(e,n,t,r,i,o)})).remove((function(t){i.remove(n.getItemGraphicEl(t))})).execute()},s.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl((function(e,i){e.updateLayout(t,i)}),this)},s.incrementalPrepareUpdate=function(t){this._seriesScope=a(t),this._lineData=null,this.group.removeAll()},s.incrementalUpdate=function(t,e){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}for(var n=t.start;n<t.end;n++){if(h(e.getItemLayout(n))){var o=new this._ctor(e,n,this._seriesScope);o.traverse(i),this.group.add(o)}}},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var c=r;t.exports=c},function(t,e,i){var n=i(0),o=i(7),r=i(18),s=i(300),a=i(2),l=i(3).round,h=["fromSymbol","toSymbol"];function c(t){return"_"+t+"Type"}function u(t,e,i){var o=e.getItemVisual(i,"color"),s=e.getItemVisual(i,t),a=e.getItemVisual(i,t+"Size");if(s&&"none"!==s){n.isArray(a)||(a=[a,a]);var l=r.createSymbol(s,-a[0]/2,-a[1]/2,a[0],a[1],o);return l.name=t,l}}function p(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function g(t,e,i){a.Group.call(this),this._createLine(t,e,i)}var d=g.prototype;d.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.childOfName("label");if(t||e||!i.ignore){for(var n=1,r=this.parent;r;)r.scale&&(n/=r.scale[0]),r=r.parent;var s=this.childOfName("line");if(this.__dirty||s.__dirty){var a=s.shape.percent,l=s.pointAt(0),h=s.pointAt(a),c=o.sub([],h,l);if(o.normalize(c,c),t){t.attr("position",l);var u=s.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(u[1],u[0])),t.attr("scale",[n*a,n*a])}if(e){e.attr("position",h);u=s.tangentAt(1);e.attr("rotation",-Math.PI/2-Math.atan2(u[1],u[0])),e.attr("scale",[n*a,n*a])}if(!i.ignore){var p,g,d;i.attr("position",h);var f=5*n;if("end"===i.__position)p=[c[0]*f+h[0],c[1]*f+h[1]],g=c[0]>.8?"left":c[0]<-.8?"right":"center",d=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var y=a/2,m=[(u=s.tangentAt(y))[1],-u[0]],v=s.pointAt(y);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]),p=[v[0]+m[0]*f,v[1]+m[1]*f],g="center",d="bottom";var _=-Math.atan2(u[1],u[0]);h[0]<l[0]&&(_=Math.PI+_),i.attr("rotation",_)}else p=[-c[0]*f+l[0],-c[1]*f+l[1]],g=c[0]>.8?"right":c[0]<-.8?"left":"center",d=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||d,textAlign:i.__textAlign||g},position:p,scale:[n,n]})}}}},d._createLine=function(t,e,i){var o=t.hostModel,r=function(t){var e=new s({name:"line"});return p(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,a.initProps(r,{shape:{percent:1}},o,e),this.add(r);var l=new a.Text({name:"label"});this.add(l),n.each(h,(function(i){var n=u(i,t,e);this.add(n),this[c(i)]=t.getItemVisual(e,i)}),this),this._updateCommonStl(t,e,i)},d.updateData=function(t,e,i){var o=t.hostModel,r=this.childOfName("line"),s=t.getItemLayout(e),l={shape:{}};p(l.shape,s),a.updateProps(r,l,o,e),n.each(h,(function(i){var n=t.getItemVisual(e,i),o=c(i);if(this[o]!==n){this.remove(this.childOfName(i));var r=u(i,t,e);this.add(r)}this[o]=n}),this),this._updateCommonStl(t,e,i)},d._updateCommonStl=function(t,e,i){var o=t.hostModel,r=this.childOfName("line"),s=i&&i.lineStyle,c=i&&i.hoverLineStyle,u=i&&i.labelModel,p=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var g=t.getItemModel(e);s=g.getModel("lineStyle").getLineStyle(),c=g.getModel("emphasis.lineStyle").getLineStyle(),u=g.getModel("label"),p=g.getModel("emphasis.label")}var d=t.getItemVisual(e,"color"),f=n.retrieve3(t.getItemVisual(e,"opacity"),s.opacity,1);r.useStyle(n.defaults({strokeNoScale:!0,fill:"none",stroke:d,opacity:f},s)),r.hoverStyle=c,n.each(h,(function(t){var e=this.childOfName(t);e&&(e.setColor(d),e.setStyle({opacity:f}))}),this);var y,m,v,_=u.getShallow("show"),x=p.getShallow("show"),C=this.childOfName("label");if(_||x){if(y=d||"#000",null==(m=o.getFormattedLabel(e,"normal",t.dataType))){var I=o.getRawValue(e);m=null==I?t.getName(e):isFinite(I)?l(I):I}v=n.retrieve2(o.getFormattedLabel(e,"emphasis",t.dataType),m)}if(_){var A=a.setTextStyle(C.style,u,{text:m},{autoColor:y});C.__textAlign=A.textAlign,C.__verticalAlign=A.textVerticalAlign,C.__position=u.get("position")||"middle"}else C.setStyle("text",null);C.hoverStyle=x?{text:v,textFill:p.getTextColor(!0),fontStyle:p.getShallow("fontStyle"),fontWeight:p.getShallow("fontWeight"),fontSize:p.getShallow("fontSize"),fontFamily:p.getShallow("fontFamily")}:{text:null},C.ignore=!_&&!x,a.setHoverStyle(this)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},d.setLinePoints=function(t){var e=this.childOfName("line");p(e.shape,t),e.dirty()},n.inherits(g,a.Group);var f=g;t.exports=f},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(30),r=i(2),s=i(143),a=i(33),l=n.curry,h=n.each,c=n.map,u=Math.min,p=Math.max,g=Math.pow,d={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},f={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},y={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},m=0;function v(t){o.call(this),this._zr=t,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+m++,this._handlers={},h(U,(function(t,e){this._handlers[e]=n.bind(t,this)}),this)}function _(t,e){var i=Y[e.brushType].createCover(t,e);return i.__brushOption=e,I(i,e),t.group.add(i),i}function x(t,e){var i=b(e);return i.endCreating&&(i.endCreating(t,e),I(e,e.__brushOption)),e}function C(t,e){var i=e.__brushOption;b(e).updateCoverShape(t,e,i.range,i)}function I(t,e){var i=e.z;null==i&&(i=1e4),t.traverse((function(t){t.z=i,t.z2=i}))}function A(t,e){b(e).updateCommon(t,e),C(t,e)}function b(t){return Y[t.__brushOption.brushType]}function w(t,e,i){var n,o=t._panels;if(!o)return!0;var r=t._transform;return h(o,(function(t){t.isTargetByCursor(e,i,r)&&(n=t)})),n}function S(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function M(t){var e=t._covers,i=e.length;return h(e,(function(e){t.group.remove(e)}),t),e.length=0,!!i}function E(t,e){var i=c(t._covers,(function(t){var e=t.__brushOption,i=n.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}}));t.trigger("brush",i,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function T(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function P(t,e,i,n){var o=new r.Group;return o.add(new r.Rect({name:"main",style:R(i),silent:!0,draggable:!0,cursor:"move",drift:l(t,e,o,"nswe"),ondragend:l(E,e,{isEnd:!0})})),h(n,(function(i){o.add(new r.Rect({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:l(t,e,o,i),ondragend:l(E,e,{isEnd:!0})}))})),o}function L(t,e,i,n){var o=n.brushStyle.lineWidth||0,r=p(o,6),s=i[0][0],a=i[1][0],l=s-o/2,h=a-o/2,c=i[0][1],u=i[1][1],g=c-r+o/2,d=u-r+o/2,f=c-s,y=u-a,m=f+o,v=y+o;D(t,e,"main",s,a,f,y),n.transformable&&(D(t,e,"w",l,h,r,v),D(t,e,"e",g,h,r,v),D(t,e,"n",l,h,m,r),D(t,e,"s",l,d,m,r),D(t,e,"nw",l,h,r,r),D(t,e,"ne",g,h,r,r),D(t,e,"sw",l,d,r,r),D(t,e,"se",g,d,r,r))}function N(t,e){var i=e.__brushOption,n=i.transformable,o=e.childAt(0);o.useStyle(R(i)),o.attr({silent:!n,cursor:n?"move":"default"}),h(["w","e","n","s","se","sw","ne","nw"],(function(i){var o=e.childOfName(i),s=function t(e,i){if(i.length>1)return i=i.split(""),("e"===(n=[t(e,i[0]),t(e,i[1])])[0]||"w"===n[0])&&n.reverse(),n.join("");var n;return{left:"w",right:"e",top:"n",bottom:"s"}[n=r.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[i],function(t){return r.getTransform(t.group)}(e))]}(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?f[s]+"-resize":null})}))}function D(t,e,i,n,o,r,s){var a,l,h,c,g,d=e.childOfName(i);d&&d.setShape((a=B(t,e,[[n,o],[n+r,o+s]]),l=u(a[0][0],a[1][0]),h=u(a[0][1],a[1][1]),c=p(a[0][0],a[1][0]),g=p(a[0][1],a[1][1]),{x:l,y:h,width:c-l,height:g-h}))}function R(t){return n.defaults({strokeNoScale:!0},t.brushStyle)}function O(t,e,i,n){var o=[u(t,i),u(e,n)],r=[p(t,i),p(e,n)];return[[o[0],r[0]],[o[1],r[1]]]}function F(t,e,i,n,o,r,s,a){var l=n.__brushOption,c=t(l.range),u=G(i,r,s);h(o.split(""),(function(t){var e=d[t];c[e[0]][e[1]]+=u[e[0]]})),l.range=e(O(c[0][0],c[1][0],c[0][1],c[1][1])),A(i,n),E(i,{isEnd:!1})}function k(t,e,i,n,o){var r=e.__brushOption.range,s=G(t,i,n);h(r,(function(t){t[0]+=s[0],t[1]+=s[1]})),A(t,e),E(t,{isEnd:!1})}function G(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),r=n.transformCoordToLocal(0,0);return[o[0]-r[0],o[1]-r[1]]}function B(t,e,i){var o=S(t,e);return o&&!0!==o?o.clipPath(i,t._transform):n.clone(i)}function z(t){var e=t.event;e.preventDefault&&e.preventDefault()}function V(t,e,i){return t.childOfName("main").contain(e,i)}function j(t,e,i,o){var r,s=t._creatingCover,a=t._creatingPanel,l=t._brushOption;if(t._track.push(i.slice()),function(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],r=i[1]-n[1];return g(o*o+r*r,.5)>6}(t)||s){if(a&&!s){"single"===l.brushMode&&M(t);var h=n.clone(l);h.brushType=H(h.brushType,a),h.panelId=!0===a?null:a.panelId,s=t._creatingCover=_(t,h),t._covers.push(s)}if(s){var c=Y[H(t._brushType,a)];s.__brushOption.range=c.getCreatingRange(B(t,s,t._track)),o&&(x(t,s),c.updateCommon(t,s)),C(t,s),r={isEnd:o}}}else o&&"single"===l.brushMode&&l.removeOnClick&&w(t,e,i)&&M(t)&&(r={isEnd:o,removeOnClick:!0});return r}function H(t,e){return"auto"===t?e.defaultBrushType:t}v.prototype={constructor:v,enableBrush:function(t){var e,i;return this._brushType&&(i=(e=this)._zr,s.release(i,"globalPan",e._uid),h(e._handlers,(function(t,e){i.off(e,t)})),e._brushType=e._brushOption=null),t.brushType&&function(t,e){var i=t._zr;t._enableGlobalPan||s.take(i,"globalPan",t._uid);h(t._handlers,(function(t,e){i.on(e,t)})),t._brushType=e.brushType,t._brushOption=n.merge(n.clone(y),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};n.each(t,(function(t){e[t.panelId]=n.clone(t)}))}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){h(this._covers,t,e)},updateCovers:function(t){t=n.map(t,(function(t){return n.merge(n.clone(y),t,!0)}));var e=this._covers,i=this._covers=[],o=this,r=this._creatingCover;return new a(e,t,(function(t,e){return s(t.__brushOption,e)}),s).add(l).update(l).remove((function(t){e[t]!==r&&o.group.remove(e[t])})).execute(),this;function s(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function l(n,s){var a=t[n];if(null!=s&&e[s]===r)i[n]=e[s];else{var l=i[n]=null!=s?(e[s].__brushOption=a,e[s]):x(o,_(o,a));A(o,l)}}},unmount:function(){return this.enableBrush(!1),M(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},n.mixin(v,o);var U={mousedown:function(t){if(this._dragging)W.call(this,t);else if(!t.target||!t.target.draggable){z(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=w(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,i){if(t._brushType){var n=t._zr,o=t._covers,r=w(t,e,i);if(!t._dragging)for(var s=0;s<o.length;s++){var a=o[s].__brushOption;if(r&&(!0===r||a.panelId===r.panelId)&&Y[a.brushType].contain(o[s],i[0],i[1]))return}r&&n.setCursorStyle("crosshair")}}(this,t,e),this._dragging){z(t);var i=j(this,t,e,!1);i&&E(this,i)}},mouseup:W};function W(t){if(this._dragging){z(t);var e=j(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&E(this,e)}}var Y={lineX:X(0),lineY:X(1),rect:{createCover:function(t,e){return P(l(F,(function(t){return t}),(function(t){return t})),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=T(t);return O(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){L(t,e,i,n)},updateCommon:N,contain:V},polygon:{createCover:function(t,e){var i=new r.Group;return i.add(new r.Polyline({name:"main",style:R(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new r.Polygon({name:"main",draggable:!0,drift:l(k,t,e),ondragend:l(E,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:B(t,e,i)})},updateCommon:N,contain:V}};function X(t){return{createCover:function(e,i){return P(l(F,(function(e){var i=[e,[0,100]];return t&&i.reverse(),i}),(function(e){return e[t]})),e,i,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var i=T(e);return[u(i[0][t],i[1][t]),p(i[0][t],i[1][t])]},updateCoverShape:function(e,i,n,o){var r,s=S(e,i);if(!0!==s&&s.getLinearBrushOtherExtent)r=s.getLinearBrushOtherExtent(t,e._transform);else{var a=e._zr;r=[0,[a.getWidth(),a.getHeight()][1-t]]}var l=[n,r];t&&l.reverse(),L(e,i,l,o)},updateCommon:N,contain:V}}var Z=v;t.exports=Z},function(t,e,i){var n=i(0),o=i(23),r=i(2),s=i(73),a=i(22),l=i(31),h=(0,i(4).makeInner)(),c=n.clone,u=n.bind;function p(){}function g(t,e,i,o){(function t(e,i){if(n.isObject(e)&&n.isObject(i)){var o=!0;return n.each(i,(function(i,n){o=o&&t(e[n],i)})),!!o}return e===i})(h(i).lastProp,o)||(h(i).lastProp=o,e?r.updateProps(i,o,t):(i.stopAnimation(),i.attr(o)))}function d(t,e){t[e.get("label.show")?"show":"hide"]()}function f(t){return{position:t.position.slice(),rotation:t.rotation||0}}function y(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)}))}p.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,o){var s=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,o||this._lastValue!==s||this._lastStatus!==a){this._lastValue=s,this._lastStatus=a;var l=this._group,h=this._handle;if(!a||"hide"===a)return l&&l.hide(),void(h&&h.hide());l&&l.show(),h&&h.show();var c={};this.makeElOption(c,s,t,e,i);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var p=this._moveAnimation=this.determineAnimation(t,e);if(l){var d=n.curry(g,e,p);this.updatePointerEl(l,c,d,e),this.updateLabelEl(l,c,d,e)}else l=this._group=new r.Group,this.createPointerEl(l,c,t,e),this.createLabelEl(l,c,t,e),i.getZr().add(l);y(l,e,!0),this._renderHandle(s)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,r=e.get("snap");if(!r&&!o)return!1;if("auto"===i||null==i){var a=this.animationThreshold;if(o&&n.getBandWidth()>a)return!0;if(r){var l=s.getAxisInfo(t).seriesDataCount,h=n.getExtent();return Math.abs(h[0]-h[1])/l>a}return!1}return!0===i},makeElOption:function(t,e,i,n,o){},createPointerEl:function(t,e,i,n){var o=e.pointer;if(o){var s=h(t).pointerEl=new r[o.type](c(e.pointer));t.add(s)}},createLabelEl:function(t,e,i,n){if(e.label){var o=h(t).labelEl=new r.Rect(c(e.label));t.add(o),d(o,n)}},updatePointerEl:function(t,e,i){var n=h(t).pointerEl;n&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var o=h(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),d(o,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,o=this._api.getZr(),s=this._handle,h=i.getModel("handle"),c=i.get("status");if(!h.get("show")||!c||"hide"===c)return s&&o.remove(s),void(this._handle=null);this._handle||(e=!0,s=this._handle=r.createIcon(h.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){a.stop(t.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),o.add(s)),y(s,i,!1);s.setStyle(h.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var p=h.get("size");n.isArray(p)||(p=[p,p]),s.attr("scale",[p[0]/2,p[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",h.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){g(this._axisPointerModel,!e&&this._moveAnimation,this._handle,f(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(f(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(f(n)),h(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}},p.prototype.constructor=p,o.enableClassExtend(p);var m=p;t.exports=m},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(406),r=i(3).parsePercent,s=i(17),a=s.createScaleByModel,l=s.niceScaleExtent,h=i(19);function c(t,e){var i=this,o=i.getAngleAxis(),r=i.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===i){var e=t.getData();n.each(e.mapDimension("radius",!0),(function(t){r.scale.unionExtentFromData(e,t)})),n.each(e.mapDimension("angle",!0),(function(t){o.scale.unionExtentFromData(e,t)}))}})),l(o.scale,o.model),l(r.scale,r.model),"category"===o.type&&!o.onBand){var s=o.getExtent(),a=360/o.scale.count();o.inverse?s[1]+=a:s[1]-=a,o.setExtent(s[0],s[1])}}function u(t,e){if(t.type=e.get("type"),t.scale=a(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var i=e.get("startAngle");t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}i(409);var p={dimensions:o.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",(function(t,n){var s=new o(n);s.update=c;var a=s.getRadiusAxis(),l=s.getAngleAxis(),h=t.findAxisModel("radiusAxis"),p=t.findAxisModel("angleAxis");u(a,h),u(l,p),function(t,e,i){var n=e.get("center"),o=i.getWidth(),s=i.getHeight();t.cx=r(n[0],o),t.cy=r(n[1],s);var a=t.getRadiusAxis(),l=Math.min(o,s)/2,h=r(e.get("radius"),l);a.inverse?a.setExtent(h,0):a.setExtent(0,h)}(s,t,e),i.push(s),t.coordinateSystem=s,s.model=t})),t.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=i.coordinateSystem}})),i}};h.register("polar",p)},function(t,e,i){var n=i(0),o=i(8),r=["cartesian2d","polar","singleAxis"];function s(t,e){t=t.slice();var i=n.map(t,o.capitalFirst);e=(e||[]).slice();var r=n.map(e,o.capitalFirst);return function(o,s){n.each(t,(function(t,n){for(var a={name:t,capital:i[n]},l=0;l<e.length;l++)a[e[l]]=t+r[l];o.call(s,a)}))}}var a=s(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);e.isCoordSupported=function(t){return n.indexOf(r,t)>=0},e.createNameEach=s,e.eachAxisDim=a,e.createLinkedNodesFinder=function(t,e,i){return function(r){var s,a={nodes:[],records:{}};if(e((function(t){a.records[t.name]={}})),!r)return a;o(r,a);do{s=!1,t(l)}while(s);function l(t){!function(t,e){return n.indexOf(e.nodes,t)>=0}(t,a)&&function(t,o){var r=!1;return e((function(e){n.each(i(t,e)||[],(function(t){o.records[e.name][t]&&(r=!0)}))})),r}(t,a)&&(o(t,a),s=!0)}return a};function o(t,o){o.nodes.push(t),e((function(e){n.each(i(t,e)||[],(function(t){o.records[e.name][t]=!0}))}))}}},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(10),s=i(4),a=i(8),l=i(84),h=a.addCommas,c=a.encodeHTML;function u(t){s.defaultEmphasis(t,"label",["show"])}var p=n.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(r.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,i,n){var r=this.constructor,s=this.mainType+"Model";i||e.eachSeries((function(t){var i=t.get(this.mainType),a=t[s];i&&i.data?(a?a.mergeOption(i,e,!0):(n&&u(i),o.each(i.data,(function(t){t instanceof Array?(u(t[0]),u(t[1])):u(t)})),a=new r(i,this,e),o.extend(a,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.__hostSeries=t),t[s]=a):t[s]=null}),this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=o.isArray(i)?o.map(i,h).join(", "):h(i),r=e.getName(t),s=c(this.name);return(null!=i||r)&&(s+="<br />"),r&&(s+=c(r),null!=i&&(s+=" : ")),null!=i&&(s+=c(n)),s},getData:function(){return this._data},setData:function(t){this._data=t}});o.mixin(p,l);var g=p;t.exports=g},function(t,e,i){var n=i(0),o=i(3),r=n.indexOf;function s(t,e,i,n,r,s){var a=[],l=c(e,n,t),h=e.indicesOfNearest(n,l,!0)[0];a[r]=e.get(i,h,!0),a[s]=e.get(n,h,!0);var u=function(t,e,i){var n=-1;do{n=Math.max(o.getPrecision(t.get(e,i)),n),t=t.stackedOn}while(t);return n}(e,n,h);return(u=Math.min(u,20))>=0&&(a[s]=+a[s].toFixed(u)),a}var a=n.curry,l={min:a(s,"min"),max:a(s,"max"),average:a(s,"average")};function h(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(function(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var o=0;o<n.length;o++){var r=i.getDimensionInfo(n[o]);if(r.name===e)return r.coordDim}}(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function c(t,e,i){if("average"===i){var n=0,o=0;return t.each(e,(function(t,e){isNaN(t)||(n+=t,o++)}),!0),n/o}return t.getDataExtent(e,!0)["max"===i?1:0]}e.dataTransform=function(t,e){var i=t.getData(),o=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!n.isArray(e.coord)&&o){var s=o.dimensions,a=h(e,i,o,t);if((e=n.clone(e)).type&&l[e.type]&&a.baseAxis&&a.valueAxis){var u=r(s,a.baseAxis.dim),p=r(s,a.valueAxis.dim);e.coord=l[e.type](i,a.baseDataDim,a.valueDataDim,u,p),e.value=e.coord[p]}else{for(var g=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],d=0;d<2;d++)l[g[d]]&&(g[d]=c(i,i.mapDimension(s[d]),g[d]));e.coord=g}}return e},e.getAxisInfo=h,e.dataFilter=function(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},e.dimValueGetter=function(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value},e.numCalculate=c},function(t,e,i){var n=i(1),o=i(0),r=n.extendComponentView({type:"marker",init:function(){this.markerGroupMap=o.createHashMap()},render:function(t,e,i){var n=this.markerGroupMap;n.each((function(t){t.__keep=!1}));var o=this.type+"Model";e.eachSeries((function(t){var n=t[o];n&&this.renderSeries(t,n,e,i)}),this),n.each((function(t){!t.__keep&&this.group.remove(t.group)}),this)},renderSeries:function(){}});t.exports=r},function(t,e,i){var n=i(104).createElement,o=i(40),r=i(9),s=i(20),a=i(64),l=i(48),h=o.CMD,c=Array.prototype.join,u="none",p=Math.round,g=Math.sin,d=Math.cos,f=Math.PI,y=2*Math.PI,m=180/f;function v(t){return p(1e4*t)/1e4}function _(t){return t<1e-4&&t>-1e-4}function x(t,e){e&&C(t,"transform","matrix("+c.call(e,",")+")")}function C(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&t.setAttribute(e,i)}function I(t,e,i){if(function(t,e){var i=e?t.textFill:t.fill;return null!=i&&i!==u}(e,i)){var n=i?e.textFill:e.fill;n="transparent"===n?u:n,"none"!==t.getAttribute("clip-path")&&n===u&&(n="rgba(0, 0, 0, 0.002)"),C(t,"fill",n),C(t,"fill-opacity",e.opacity)}else C(t,"fill",u);if(function(t,e){var i=e?t.textStroke:t.stroke;return null!=i&&i!==u}(e,i)){var o=i?e.textStroke:e.stroke;C(t,"stroke",o="transparent"===o?u:o),C(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?e.host.getLineScale():1)),C(t,"paint-order",i?"stroke":"fill"),C(t,"stroke-opacity",e.opacity),e.lineDash?(C(t,"stroke-dasharray",e.lineDash.join(",")),C(t,"stroke-dashoffset",p(e.lineDashOffset||0))):C(t,"stroke-dasharray",""),e.lineCap&&C(t,"stroke-linecap",e.lineCap),e.lineJoin&&C(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&C(t,"stroke-miterlimit",e.miterLimit)}else C(t,"stroke",u)}var A={};A.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=n("path"),t.__svgEl=i),t.path||t.createPathProxy();var o=t.path;if(t.__dirtyPath){o.beginPath(),t.buildPath(o,t.shape),t.__dirtyPath=!1;var r=function(t){for(var e=[],i=t.data,n=t.len(),o=0;o<n;){var r="",s=0;switch(i[o++]){case h.M:r="M",s=2;break;case h.L:r="L",s=2;break;case h.Q:r="Q",s=4;break;case h.C:r="C",s=6;break;case h.A:var a=i[o++],l=i[o++],c=i[o++],u=i[o++],x=i[o++],C=i[o++],I=i[o++],A=i[o++],b=Math.abs(C),w=_(b-y)&&!_(b),S=!1;S=b>=y||!_(b)&&(C>-f&&C<0||C>f)==!!A;var M=v(a+c*d(x)),E=v(l+u*g(x));w&&(C=A?y-1e-4:1e-4-y,S=!0,9===o&&e.push("M",M,E));var T=v(a+c*d(x+C)),P=v(l+u*g(x+C));e.push("A",v(c),v(u),p(I*m),+S,+A,T,P);break;case h.Z:r="Z";break;case h.R:T=v(i[o++]),P=v(i[o++]);var L=v(i[o++]),N=v(i[o++]);e.push("M",T,P,"L",T+L,P,"L",T+L,P+N,"L",T,P+N,"L",T,P)}r&&e.push(r);for(var D=0;D<s;D++)e.push(v(i[o++]))}return e.join(" ")}(o);r.indexOf("NaN")<0&&C(i,"d",r)}I(i,e),x(i,t.transform),null!=e.text&&M(t,t.getBoundingRect())};var b={brush:function(t){var e=t.style,i=e.image;i instanceof HTMLImageElement&&(i=i.src);if(i){var o=e.x||0,r=e.y||0,s=e.width,a=e.height,l=t.__svgEl;l||(l=n("image"),t.__svgEl=l),i!==t.__imageSrc&&(!function(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}(l,"href",i),t.__imageSrc=i),C(l,"width",s),C(l,"height",a),C(l,"x",o),C(l,"y",r),x(l,t.transform),null!=e.text&&M(t,t.getBoundingRect())}}},w={},S=new r,M=function(t,e,i){var o=t.style;t.__dirty&&a.normalizeTextStyle(o,!0);var r=o.text;if(null!=r){r+="";var h,c,u=t.__textSvgEl;if(u||(u=n("text"),t.__textSvgEl=u),I(u,o,!0),t instanceof l||t.style.transformText)x(u,t.transform);else if(t.transform)S.copy(e),S.applyTransform(t.transform),e=S;else{var p=t.transformCoordToGlobal(e.x,e.y);e.x=p[0],e.y=p[1]}var g=o.textPosition,d=o.textDistance,f=o.textAlign||"left";"number"==typeof o.fontSize&&(o.fontSize+="px");var y=o.font||[o.fontStyle||"",o.fontWeight||"",o.fontSize||"",o.fontFamily||""].join(" ")||s.DEFAULT_FONT,m=E(o.textVerticalAlign),v=(i=s.getBoundingRect(r,y,f,m)).lineHeight;if(g instanceof Array)h=e.x+g[0],c=e.y+g[1];else{var _=s.adjustTextPositionOnRect(g,e,d);h=_.x,c=_.y,m=E(_.textVerticalAlign),f=_.textAlign}C(u,"alignment-baseline",m),y&&(u.style.font=y);var A=o.textPadding;C(u,"x",h),C(u,"y",c);var b=r.split("\n"),w=b.length,M=f;"left"===M?(M="start",A&&(h+=A[3])):"right"===M?(M="end",A&&(h-=A[1])):"center"===M&&(M="middle",A&&(h+=(A[3]-A[1])/2));var T=0;if("baseline"===m?(T=-i.height+v,A&&(T-=A[2])):"middle"===m?(T=(-i.height+v)/2,A&&(c+=(A[0]-A[2])/2)):A&&(T+=A[0]),t.__text!==r||t.__textFont!==y){var P=t.__tspanList||[];t.__tspanList=P;for(var L=0;L<w;L++){(D=P[L])?D.innerHTML="":(D=P[L]=n("tspan"),u.appendChild(D),C(D,"alignment-baseline",m),C(D,"text-anchor",M)),C(D,"x",h),C(D,"y",c+L*v+T),D.appendChild(document.createTextNode(b[L]))}for(;L<P.length;L++)u.removeChild(P[L]);P.length=w,t.__text=r,t.__textFont=y}else if(t.__tspanList.length){var N=t.__tspanList.length;for(L=0;L<N;++L){var D;(D=t.__tspanList[L])&&(C(D,"x",h),C(D,"y",c+L*v+T))}}}};function E(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}w.drawRectText=M,w.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],M(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},e.path=A,e.image=b,e.text=w},function(t,e){e.createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},function(t,e,i){var n=i(104).createElement,o=i(0),r=i(12),s=i(46),a=i(48),l=i(103),h=l.path,c=l.image,u=l.text;function p(t,e,i,n,o){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,this._domName=o||"_dom",this.nextId=0}p.prototype.createElement=n,p.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?((i=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},p.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},p.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},p.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},p.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return o.each(this._tagNames,(function(i){var n=t.getElementsByTagName(i);e=e.concat([].slice.call(n))})),e},p.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;o.each(t,(function(t){t[e._markLabel]="0"}))},p.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},p.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),i=this;o.each(e,(function(e){"1"!==e[i._markLabel]&&t.removeChild(e)}))}},p.prototype.getSvgProxy=function(t){return t instanceof r?h:t instanceof s?c:t instanceof a?u:h},p.prototype.getTextSvgElement=function(t){return t.__textSvgEl},p.prototype.getSvgElement=function(t){return t.__svgEl};var g=p;t.exports=g},function(t,e,i){"use strict";(function(t){
/*!
 * author: FDD <smileFDD@gmail.com> 
 * hmap-js v1.5.8
 * build-time: 2018-10-20 13:24
 * LICENSE: MIT
 * (c) 2016-2018 https://sakitam-fdd.github.io/HMap/
 */
var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function n(){}return n.prototype=t,new n}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0});var a=Math.ceil,l=Math.floor,h=function(t){return isNaN(t=+t)?0:(t>0?l:a)(t)},c=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},u="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function p(t,e){return t(e={exports:{}},e.exports),e.exports}var g=p((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),d=p((function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)})),f=(d.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),y=function(t){if(!f(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(t){return!0}},v=!m((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),_=g.document,x=f(_)&&f(_.createElement),C=function(t){return x?_.createElement(t):{}},I=!v&&!m((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),A=function(t,e){if(!f(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!f(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!f(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!f(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,w={f:v?Object.defineProperty:function(t,e,i){if(y(t),e=A(e,!0),y(i),I)try{return b(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=v?function(t,e,i){return w.f(t,e,S(1,i))}:function(t,e,i){return t[e]=i,t},E={}.hasOwnProperty,T=function(t,e){return E.call(t,e)},P=0,L=Math.random(),N=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++P+L).toString(36))},D=p((function(t){var e=N("src"),i=Function.toString,n=(""+i).split("toString");d.inspectSource=function(t){return i.call(t)},(t.exports=function(t,i,o,r){var s="function"==typeof o;s&&(T(o,"name")||M(o,"name",i)),t[i]!==o&&(s&&(T(o,e)||M(o,e,t[i]?""+t[i]:n.join(String(i)))),t===g?t[i]=o:r?t[i]?t[i]=o:M(t,i,o):(delete t[i],M(t,i,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||i.call(this)}))})),R=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},O=function(t,e,i){if(R(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}},F=function(t,e,i){var n,o,r,s,a=t&F.F,l=t&F.G,h=t&F.S,c=t&F.P,u=t&F.B,p=l?g:h?g[e]||(g[e]={}):(g[e]||{}).prototype,f=l?d:d[e]||(d[e]={}),y=f.prototype||(f.prototype={});for(n in l&&(i=e),i)r=((o=!a&&p&&void 0!==p[n])?p:i)[n],s=u&&o?O(r,g):c&&"function"==typeof r?O(Function.call,r):r,p&&D(p,n,r,t&F.U),f[n]!=r&&M(f,n,s),c&&y[n]!=r&&(y[n]=r)};g.core=d,F.F=1,F.G=2,F.S=4,F.P=8,F.B=16,F.W=32,F.U=64,F.R=128;var k=F,G={},B={}.toString,z=function(t){return B.call(t).slice(8,-1)},V=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==z(t)?t.split(""):Object(t)},j=function(t){return V(c(t))},H=Math.min,U=function(t){return t>0?H(h(t),9007199254740991):0},W=Math.max,Y=Math.min,X=function(t,e){return(t=h(t))<0?W(t+e,0):Y(t,e)},Z=function(t){return function(e,i,n){var o,r=j(e),s=U(r.length),a=X(n,s);if(t&&i!=i){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===i)return t||a||0;return!t&&-1}},q=p((function(t){var e=g["__core-js_shared__"]||(g["__core-js_shared__"]={});(t.exports=function(t,i){return e[t]||(e[t]=void 0!==i?i:{})})("versions",[]).push({version:d.version,mode:"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})})),K=q("keys"),J=function(t){return K[t]||(K[t]=N(t))},Q=Z(!1),$=J("IE_PROTO"),tt=function(t,e){var i,n=j(t),o=0,r=[];for(i in n)i!=$&&T(n,i)&&r.push(i);for(;e.length>o;)T(n,i=e[o++])&&(~Q(r,i)||r.push(i));return r},et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),it=Object.keys||function(t){return tt(t,et)},nt=v?Object.defineProperties:function(t,e){y(t);for(var i,n=it(e),o=n.length,r=0;o>r;)w.f(t,i=n[r++],e[i]);return t},ot=g.document,rt=ot&&ot.documentElement,st=J("IE_PROTO"),at=function(){},lt=function(){var t,e=C("iframe"),i=et.length;for(e.style.display="none",rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),lt=t.F;i--;)delete lt.prototype[et[i]];return lt()},ht=Object.create||function(t,e){var i;return null!==t?(at.prototype=y(t),i=new at,at.prototype=null,i[st]=t):i=lt(),void 0===e?i:nt(i,e)},ct=p((function(t){var e=q("wks"),i=g.Symbol,n="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=n&&i[t]||(n?i:N)("Symbol."+t))}).store=e})),ut=w.f,pt=ct("toStringTag"),gt=function(t,e,i){t&&!T(t=i?t:t.prototype,pt)&&ut(t,pt,{configurable:!0,value:e})},dt={};M(dt,ct("iterator"),(function(){return this}));var ft,yt=function(t,e,i){t.prototype=ht(dt,{next:S(1,i)}),gt(t,e+" Iterator")},mt=function(t){return Object(c(t))},vt=J("IE_PROTO"),_t=Object.prototype,xt=Object.getPrototypeOf||function(t){return t=mt(t),T(t,vt)?t[vt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_t:null},Ct=ct("iterator"),It=!([].keys&&"next"in[].keys()),At=function(){return this},bt=function(t,e,i,n,o,r,s){yt(i,e,n);var a,l,h,c=function(t){if(!It&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},u=e+" Iterator",p="values"==o,g=!1,d=t.prototype,f=d[Ct]||d["@@iterator"]||o&&d[o],y=f||c(o),m=o?p?c("entries"):y:void 0,v="Array"==e&&d.entries||f;if(v&&(h=xt(v.call(new t)))!==Object.prototype&&h.next&&(gt(h,u,!0),"function"!=typeof h[Ct]&&M(h,Ct,At)),p&&f&&"values"!==f.name&&(g=!0,y=function(){return f.call(this)}),(It||g||!d[Ct])&&M(d,Ct,y),G[e]=y,G[u]=At,o)if(a={values:p?y:c("values"),keys:r?y:c("keys"),entries:m},s)for(l in a)l in d||D(d,l,a[l]);else k(k.P+k.F*(It||g),e,a);return a},wt=(ft=!0,function(t,e){var i,n,o=String(c(t)),r=h(e),s=o.length;return r<0||r>=s?ft?"":void 0:(i=o.charCodeAt(r))<55296||i>56319||r+1===s||(n=o.charCodeAt(r+1))<56320||n>57343?ft?o.charAt(r):i:ft?o.slice(r,r+2):n-56320+(i-55296<<10)+65536});bt(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=wt(e,i),this._i+=t.length,{value:t,done:!1})}));var St=Array.isArray||function(t){return"Array"==z(t)};k(k.S,"Array",{isArray:St});var Mt=function(t,e,i,n){try{return n?e(y(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&y(o.call(t)),e}},Et=ct("iterator"),Tt=Array.prototype,Pt=function(t){return void 0!==t&&(G.Array===t||Tt[Et]===t)},Lt=function(t,e,i){e in t?w.f(t,e,S(0,i)):t[e]=i},Nt=ct("toStringTag"),Dt="Arguments"==z(function(){return arguments}()),Rt=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Nt))?i:Dt?z(e):"Object"==(n=z(e))&&"function"==typeof e.callee?"Arguments":n},Ot=ct("iterator"),Ft=d.getIteratorMethod=function(t){if(null!=t)return t[Ot]||t["@@iterator"]||G[Rt(t)]},kt=ct("iterator"),Gt=!1;try{[7][kt]().return=function(){Gt=!0}}catch(t){}var Bt=function(t,e){if(!e&&!Gt)return!1;var i=!1;try{var n=[7],o=n[kt]();o.next=function(){return{done:i=!0}},n[kt]=function(){return o},t(n)}catch(t){}return i};k(k.S+k.F*!Bt((function(t){})),"Array",{from:function(t){var e,i,n,o,r=mt(t),s="function"==typeof this?this:Array,a=arguments.length,l=a>1?arguments[1]:void 0,h=void 0!==l,c=0,u=Ft(r);if(h&&(l=O(l,a>2?arguments[2]:void 0,2)),null==u||s==Array&&Pt(u))for(i=new s(e=U(r.length));e>c;c++)Lt(i,c,h?l(r[c],c):r[c]);else for(o=u.call(r),i=new s;!(n=o.next()).done;c++)Lt(i,c,h?Mt(o,l,[n.value,c],!0):n.value);return i.length=c,i}}),k(k.S+k.F*m((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)Lt(i,t,arguments[t++]);return i.length=e,i}});var zt=function(t,e){return!!t&&m((function(){e?t.call(null,(function(){}),1):t.call(null)}))},Vt=[].join;k(k.P+k.F*(V!=Object||!zt(Vt)),"Array",{join:function(t){return Vt.call(j(this),void 0===t?",":t)}});var jt=[].slice;k(k.P+k.F*m((function(){rt&&jt.call(rt)})),"Array",{slice:function(t,e){var i=U(this.length),n=z(this);if(e=void 0===e?i:e,"Array"==n)return jt.call(this,t,e);for(var o=X(t,i),r=X(e,i),s=U(r-o),a=new Array(s),l=0;l<s;l++)a[l]="String"==n?this.charAt(o+l):this[o+l];return a}});var Ht=[].sort,Ut=[1,2,3];k(k.P+k.F*(m((function(){Ut.sort(void 0)}))||!m((function(){Ut.sort(null)}))||!zt(Ht)),"Array",{sort:function(t){return void 0===t?Ht.call(mt(this)):Ht.call(mt(this),R(t))}});var Wt=ct("species"),Yt=function(t,e){return new(function(t){var e;return St(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!St(e.prototype)||(e=void 0),f(e)&&null===(e=e[Wt])&&(e=void 0)),void 0===e?Array:e}(t))(e)},Xt=function(t,e){var i=1==t,n=2==t,o=3==t,r=4==t,s=6==t,a=5==t||s,l=e||Yt;return function(e,h,c){for(var u,p,g=mt(e),d=V(g),f=O(h,c,3),y=U(d.length),m=0,v=i?l(e,y):n?l(e,0):void 0;y>m;m++)if((a||m in d)&&(p=f(u=d[m],m,g),t))if(i)v[m]=p;else if(p)switch(t){case 3:return!0;case 5:return u;case 6:return m;case 2:v.push(u)}else if(r)return!1;return s?-1:o||r?r:v}},Zt=Xt(0),qt=zt([].forEach,!0);k(k.P+k.F*!qt,"Array",{forEach:function(t){return Zt(this,t,arguments[1])}});var Kt=Xt(1);k(k.P+k.F*!zt([].map,!0),"Array",{map:function(t){return Kt(this,t,arguments[1])}});var Jt=Xt(2);k(k.P+k.F*!zt([].filter,!0),"Array",{filter:function(t){return Jt(this,t,arguments[1])}});var Qt=Xt(3);k(k.P+k.F*!zt([].some,!0),"Array",{some:function(t){return Qt(this,t,arguments[1])}});var $t=Xt(4);k(k.P+k.F*!zt([].every,!0),"Array",{every:function(t){return $t(this,t,arguments[1])}});var te=function(t,e,i,n,o){R(e);var r=mt(t),s=V(r),a=U(r.length),l=o?a-1:0,h=o?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=h;break}if(l+=h,o?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;o?l>=0:a>l;l+=h)l in s&&(n=e(n,s[l],l,r));return n};k(k.P+k.F*!zt([].reduce,!0),"Array",{reduce:function(t){return te(this,t,arguments.length,arguments[1],!1)}}),k(k.P+k.F*!zt([].reduceRight,!0),"Array",{reduceRight:function(t){return te(this,t,arguments.length,arguments[1],!0)}});var ee=Z(!1),ie=[].indexOf,ne=!!ie&&1/[1].indexOf(1,-0)<0;k(k.P+k.F*(ne||!zt(ie)),"Array",{indexOf:function(t){return ne?ie.apply(this,arguments)||0:ee(this,t,arguments[1])}});var oe=[].lastIndexOf,re=!!oe&&1/[1].lastIndexOf(1,-0)<0;k(k.P+k.F*(re||!zt(oe)),"Array",{lastIndexOf:function(t){if(re)return oe.apply(this,arguments)||0;var e=j(this),i=U(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,h(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}});var se=[].copyWithin||function(t,e){var i=mt(this),n=U(i.length),o=X(t,n),r=X(e,n),s=arguments.length>2?arguments[2]:void 0,a=Math.min((void 0===s?n:X(s,n))-r,n-o),l=1;for(r<o&&o<r+a&&(l=-1,r+=a-1,o+=a-1);a-- >0;)r in i?i[o]=i[r]:delete i[o],o+=l,r+=l;return i},ae=ct("unscopables"),le=Array.prototype;null==le[ae]&&M(le,ae,{});var he=function(t){le[ae][t]=!0};k(k.P,"Array",{copyWithin:se}),he("copyWithin");k(k.P,"Array",{fill:function(t){for(var e=mt(this),i=U(e.length),n=arguments.length,o=X(n>1?arguments[1]:void 0,i),r=n>2?arguments[2]:void 0,s=void 0===r?i:X(r,i);s>o;)e[o++]=t;return e}}),he("fill");var ce=Xt(5),ue=!0;"find"in[]&&Array(1).find((function(){ue=!1})),k(k.P+k.F*ue,"Array",{find:function(t){return ce(this,t,arguments.length>1?arguments[1]:void 0)}}),he("find");var pe=Xt(6),ge=!0;"findIndex"in[]&&Array(1).findIndex((function(){ge=!1})),k(k.P+k.F*ge,"Array",{findIndex:function(t){return pe(this,t,arguments.length>1?arguments[1]:void 0)}}),he("findIndex");var de=ct("species"),fe=function(t){var e=g[t];v&&e&&!e[de]&&w.f(e,de,{configurable:!0,get:function(){return this}})};fe("Array");var ye=function(t,e){return{value:e,done:!!t}},me=bt(Array,"Array",(function(t,e){this._t=j(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,ye(1)):ye(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values");G.Arguments=G.Array,he("keys"),he("values"),he("entries");d.Array;var ve={};ve[ct("toStringTag")]="z",ve+""!="[object z]"&&D(Object.prototype,"toString",(function(){return"[object "+Rt(this)+"]"}),!0);for(var _e=ct("iterator"),xe=ct("toStringTag"),Ce=G.Array,Ie={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ae=it(Ie),be=0;be<Ae.length;be++){var we,Se=Ae[be],Me=Ie[Se],Ee=g[Se],Te=Ee&&Ee.prototype;if(Te&&(Te[_e]||M(Te,_e,Ce),Te[xe]||M(Te,xe,Se),G[Se]=Ce,Me))for(we in me)Te[we]||D(Te,we,me[we],!0)}var Pe=function(t,e,i){for(var n in e)D(t,n,e[n],i);return t},Le=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t},Ne=p((function(t){var e={},i={},n=t.exports=function(t,n,o,r,s){var a,l,h,c,u=s?function(){return t}:Ft(t),p=O(o,r,n?2:1),g=0;if("function"!=typeof u)throw TypeError(t+" is not iterable!");if(Pt(u)){for(a=U(t.length);a>g;g++)if((c=n?p(y(l=t[g])[0],l[1]):p(t[g]))===e||c===i)return c}else for(h=u.call(t);!(l=h.next()).done;)if((c=Mt(h,p,l.value,n))===e||c===i)return c};n.BREAK=e,n.RETURN=i})),De=p((function(t){var e=N("meta"),i=w.f,n=0,o=Object.isExtensible||function(){return!0},r=!m((function(){return o(Object.preventExtensions({}))})),s=function(t){i(t,e,{value:{i:"O"+ ++n,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(t,i){if(!f(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!T(t,e)){if(!o(t))return"F";if(!i)return"E";s(t)}return t[e].i},getWeak:function(t,i){if(!T(t,e)){if(!o(t))return!0;if(!i)return!1;s(t)}return t[e].w},onFreeze:function(t){return r&&a.NEED&&o(t)&&!T(t,e)&&s(t),t}}})),Re=(De.KEY,De.NEED,De.fastKey,De.getWeak,De.onFreeze,function(t,e){if(!f(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),Oe=w.f,Fe=De.fastKey,ke=v?"_s":"size",Ge=function(t,e){var i,n=Fe(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i},Be={getConstructor:function(t,e,i,n){var o=t((function(t,r){Le(t,o,e,"_i"),t._t=e,t._i=ht(null),t._f=void 0,t._l=void 0,t[ke]=0,null!=r&&Ne(r,i,t[n],t)}));return Pe(o.prototype,{clear:function(){for(var t=Re(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[ke]=0},delete:function(t){var i=Re(this,e),n=Ge(i,t);if(n){var o=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),i._f==n&&(i._f=o),i._l==n&&(i._l=r),i[ke]--}return!!n},forEach:function(t){Re(this,e);for(var i,n=O(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!Ge(Re(this,e),t)}}),v&&Oe(o.prototype,"size",{get:function(){return Re(this,e)[ke]}}),o},def:function(t,e,i){var n,o,r=Ge(t,e);return r?r.v=i:(t._l=r={i:o=Fe(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[ke]++,"F"!==o&&(t._i[o]=r)),t},getEntry:Ge,setStrong:function(t,e,i){bt(t,e,(function(t,i){this._t=Re(t,e),this._k=i,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?ye(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,ye(1))}),i?"entries":"values",!i,!0),fe(e)}},ze={f:{}.propertyIsEnumerable},Ve=Object.getOwnPropertyDescriptor,je={f:v?Ve:function(t,e){if(t=j(t),e=A(e,!0),I)try{return Ve(t,e)}catch(t){}if(T(t,e))return S(!ze.f.call(t,e),t[e])}},He=function(t,e){if(y(t),!f(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Ue={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=O(Function.call,je.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return He(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:He},We=Ue.set,Ye=(function(t,e,i,n,o,r){var s=g[t],a=s,l=o?"set":"add",h=a&&a.prototype,c={},u=function(t){var e=h[t];D(h,t,"delete"==t||"has"==t?function(t){return!(r&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof a&&(r||h.forEach&&!m((function(){(new a).entries().next()})))){var p=new a,d=p[l](r?{}:-0,1)!=p,y=m((function(){p.has(1)})),v=Bt((function(t){new a(t)})),_=!r&&m((function(){for(var t=new a,e=5;e--;)t[l](e,e);return!t.has(-0)}));v||((a=e((function(e,i){Le(e,a,t);var n=function(t,e,i){var n,o=e.constructor;return o!==i&&"function"==typeof o&&(n=o.prototype)!==i.prototype&&f(n)&&We&&We(t,n),t}(new s,e,a);return null!=i&&Ne(i,o,n[l],n),n}))).prototype=h,h.constructor=a),(y||_)&&(u("delete"),u("has"),o&&u("get")),(_||d)&&u(l),r&&h.clear&&delete h.clear}else a=n.getConstructor(e,t,o,l),Pe(a.prototype,i),De.NEED=!0;gt(a,t),c[t]=a,k(k.G+k.W+k.F*(a!=s),c),r||n.setStrong(a,t,o)}("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return Be.def(Re(this,"Set"),t=0===t?0:t,t)}},Be),d.Set,{f:ct}),Xe=w.f,Ze=function(t){var e=d.Symbol||(d.Symbol=g.Symbol||{});"_"==t.charAt(0)||t in e||Xe(e,t,{value:Ye.f(t)})},qe={f:Object.getOwnPropertySymbols},Ke=et.concat("length","prototype"),Je={f:Object.getOwnPropertyNames||function(t){return tt(t,Ke)}},Qe=Je.f,$e={}.toString,ti="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ei={f:function(t){return ti&&"[object Window]"==$e.call(t)?function(t){try{return Qe(t)}catch(t){return ti.slice()}}(t):Qe(j(t))}},ii=De.KEY,ni=je.f,oi=w.f,ri=ei.f,si=g.Symbol,ai=g.JSON,li=ai&&ai.stringify,hi=ct("_hidden"),ci=ct("toPrimitive"),ui={}.propertyIsEnumerable,pi=q("symbol-registry"),gi=q("symbols"),di=q("op-symbols"),fi=Object.prototype,yi="function"==typeof si,mi=g.QObject,vi=!mi||!mi.prototype||!mi.prototype.findChild,_i=v&&m((function(){return 7!=ht(oi({},"a",{get:function(){return oi(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=ni(fi,e);n&&delete fi[e],oi(t,e,i),n&&t!==fi&&oi(fi,e,n)}:oi,xi=function(t){var e=gi[t]=ht(si.prototype);return e._k=t,e},Ci=yi&&"symbol"==typeof si.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof si},Ii=function(t,e,i){return t===fi&&Ii(di,e,i),y(t),e=A(e,!0),y(i),T(gi,e)?(i.enumerable?(T(t,hi)&&t[hi][e]&&(t[hi][e]=!1),i=ht(i,{enumerable:S(0,!1)})):(T(t,hi)||oi(t,hi,S(1,{})),t[hi][e]=!0),_i(t,e,i)):oi(t,e,i)},Ai=function(t,e){y(t);for(var i,n=function(t){var e=it(t),i=qe.f;if(i)for(var n,o=i(t),r=ze.f,s=0;o.length>s;)r.call(t,n=o[s++])&&e.push(n);return e}(e=j(e)),o=0,r=n.length;r>o;)Ii(t,i=n[o++],e[i]);return t},bi=function(t){var e=ui.call(this,t=A(t,!0));return!(this===fi&&T(gi,t)&&!T(di,t))&&(!(e||!T(this,t)||!T(gi,t)||T(this,hi)&&this[hi][t])||e)},wi=function(t,e){if(t=j(t),e=A(e,!0),t!==fi||!T(gi,e)||T(di,e)){var i=ni(t,e);return!i||!T(gi,e)||T(t,hi)&&t[hi][e]||(i.enumerable=!0),i}},Si=function(t){for(var e,i=ri(j(t)),n=[],o=0;i.length>o;)T(gi,e=i[o++])||e==hi||e==ii||n.push(e);return n},Mi=function(t){for(var e,i=t===fi,n=ri(i?di:j(t)),o=[],r=0;n.length>r;)!T(gi,e=n[r++])||i&&!T(fi,e)||o.push(gi[e]);return o};yi||(D((si=function(){if(this instanceof si)throw TypeError("Symbol is not a constructor!");var t=N(arguments.length>0?arguments[0]:void 0),e=function(i){this===fi&&e.call(di,i),T(this,hi)&&T(this[hi],t)&&(this[hi][t]=!1),_i(this,t,S(1,i))};return v&&vi&&_i(fi,t,{configurable:!0,set:e}),xi(t)}).prototype,"toString",(function(){return this._k})),je.f=wi,w.f=Ii,Je.f=ei.f=Si,ze.f=bi,qe.f=Mi,v&&D(fi,"propertyIsEnumerable",bi,!0),Ye.f=function(t){return xi(ct(t))}),k(k.G+k.W+k.F*!yi,{Symbol:si});for(var Ei="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ti=0;Ei.length>Ti;)ct(Ei[Ti++]);for(var Pi=it(ct.store),Li=0;Pi.length>Li;)Ze(Pi[Li++]);k(k.S+k.F*!yi,"Symbol",{for:function(t){return T(pi,t+="")?pi[t]:pi[t]=si(t)},keyFor:function(t){if(!Ci(t))throw TypeError(t+" is not a symbol!");for(var e in pi)if(pi[e]===t)return e},useSetter:function(){vi=!0},useSimple:function(){vi=!1}}),k(k.S+k.F*!yi,"Object",{create:function(t,e){return void 0===e?ht(t):Ai(ht(t),e)},defineProperty:Ii,defineProperties:Ai,getOwnPropertyDescriptor:wi,getOwnPropertyNames:Si,getOwnPropertySymbols:Mi}),ai&&k(k.S+k.F*(!yi||m((function(){var t=si();return"[null]"!=li([t])||"{}"!=li({a:t})||"{}"!=li(Object(t))}))),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e=n[1],(f(e)||void 0!==t)&&!Ci(t))return St(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Ci(e))return e}),n[1]=e,li.apply(ai,n)}}),si.prototype[ci]||M(si.prototype,ci,si.prototype.valueOf),gt(si,"Symbol"),gt(Math,"Math",!0),gt(g.JSON,"JSON",!0);d.Symbol;var Ni=(g.Reflect||{}).apply,Di=Function.apply;k(k.S+k.F*!m((function(){Ni((function(){}))})),"Reflect",{apply:function(t,e,i){var n=R(t),o=y(i);return Ni?Ni(n,e,o):Di.call(n,e,o)}});var Ri=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)},Oi=[].slice,Fi={},ki=function(t,e,i){if(!(e in Fi)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";Fi[e]=Function("F,a","return new F("+n.join(",")+")")}return Fi[e](t,i)},Gi=Function.bind||function(t){var e=R(this),i=Oi.call(arguments,1),n=function(){var o=i.concat(Oi.call(arguments));return this instanceof n?ki(e,o.length,o):Ri(e,o,t)};return f(e.prototype)&&(n.prototype=e.prototype),n},Bi=(g.Reflect||{}).construct,zi=m((function(){function t(){}return!(Bi((function(){}),[],t)instanceof t)})),Vi=!m((function(){Bi((function(){}))}));k(k.S+k.F*(zi||Vi),"Reflect",{construct:function(t,e){R(t),y(e);var i=arguments.length<3?t:R(arguments[2]);if(Vi&&!zi)return Bi(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(Gi.apply(t,n))}var o=i.prototype,r=ht(f(o)?o:Object.prototype),s=Function.apply.call(t,r,e);return f(s)?s:r}}),k(k.S+k.F*m((function(){Reflect.defineProperty(w.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,i){y(t),e=A(e,!0),y(i);try{return w.f(t,e,i),!0}catch(t){return!1}}});var ji=je.f;k(k.S,"Reflect",{deleteProperty:function(t,e){var i=ji(y(t),e);return!(i&&!i.configurable)&&delete t[e]}});var Hi=function(t){this._t=y(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};yt(Hi,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),k(k.S,"Reflect",{enumerate:function(t){return new Hi(t)}}),k(k.S,"Reflect",{get:function t(e,i){var n,o,r=arguments.length<3?e:arguments[2];return y(e)===r?e[i]:(n=je.f(e,i))?T(n,"value")?n.value:void 0!==n.get?n.get.call(r):void 0:f(o=xt(e))?t(o,i,r):void 0}}),k(k.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return je.f(y(t),e)}}),k(k.S,"Reflect",{getPrototypeOf:function(t){return xt(y(t))}}),k(k.S,"Reflect",{has:function(t,e){return e in t}});var Ui=Object.isExtensible;k(k.S,"Reflect",{isExtensible:function(t){return y(t),!Ui||Ui(t)}});var Wi=g.Reflect,Yi=Wi&&Wi.ownKeys||function(t){var e=Je.f(y(t)),i=qe.f;return i?e.concat(i(t)):e};k(k.S,"Reflect",{ownKeys:Yi});var Xi=Object.preventExtensions;k(k.S,"Reflect",{preventExtensions:function(t){y(t);try{return Xi&&Xi(t),!0}catch(t){return!1}}}),k(k.S,"Reflect",{set:function t(e,i,n){var o,r,s=arguments.length<4?e:arguments[3],a=je.f(y(e),i);if(!a){if(f(r=xt(e)))return t(r,i,n,s);a=S(0)}if(T(a,"value")){if(!1===a.writable||!f(s))return!1;if(o=je.f(s,i)){if(o.get||o.set||!1===o.writable)return!1;o.value=n,w.f(s,i,o)}else w.f(s,i,S(0,n));return!0}return void 0!==a.set&&(a.set.call(s,n),!0)}}),Ue&&k(k.S,"Reflect",{setPrototypeOf:function(t,e){Ue.check(t,e);try{return Ue.set(t,e),!0}catch(t){return!1}}});d.Reflect;var Zi=p((function(t,e){t.exports=function(){var t,e,i,n={},o=this;function r(t,e){var i,r=n;t=t.split("."),r=r||o,t[0]in r||!r.execScript||r.execScript("var "+t[0]);for(;t.length&&(i=t.shift());)t.length||void 0===e?r=r[i]&&r[i]!==Object.prototype[i]?r[i]:r[i]={}:r[i]=e}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function a(){}function l(t){return t.xp||(t.xp=++h)}var h=0;function c(t){this.message="Assertion failed. See https://openlayers.org/en/v4.6.5/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function u(t,e,i,n){this.fa=t,this.la=e,this.ea=i,this.ka=n}function p(t,e,i,n,o){return void 0!==o?(o.fa=t,o.la=e,o.ea=i,o.ka=n,o):new u(t,e,i,n)}function g(t,e,i){return t.fa<=e&&e<=t.la&&t.ea<=i&&i<=t.ka}function d(t,e){if(!t)throw new c(e)}function f(t,e,i){return Math.min(Math.max(t,e),i)}s(c,Error);var y="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function m(t,e,i,n,o,r){var s=o-i,a=r-n;if(0!==s||0!==a){var l=((t-i)*s+(e-n)*a)/(s*s+a*a);1<l?(i=o,n=r):0<l&&(i+=s*l,n+=a*l)}return v(t,e,i,n)}function v(t,e,i,n){return(t=i-t)*t+(e=n-e)*e}function _(t){return t*Math.PI/180}function x(t,e){return 0>(t%=e)*e?t+e:t}function C(t,e,i){return t+i*(e-t)}function I(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function A(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function b(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function w(t){for(var e=[1/0,1/0,-1/0,-1/0],i=0,n=t.length;i<n;++i)z(e,t[i]);return e}function S(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function M(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function E(t,e,i){return(e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*e+(t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0)*t}function T(t,e){return L(t,e[0],e[1])}function P(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function L(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function N(t,e){var i=t[1],n=t[2],o=t[3],r=e[0];e=e[1];var s=0;return r<t[0]?s|=16:r>n&&(s|=4),e<i?s|=8:e>o&&(s|=2),0===s&&(s=1),s}function D(){return[1/0,1/0,-1/0,-1/0]}function R(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function O(t){return R(1/0,1/0,-1/0,-1/0,t)}function F(t,e){var i=t[0];return R(i,t=t[1],i,t,e)}function k(t,e,i,n,o){return V(o=O(o),t,e,i,n)}function G(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function B(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function z(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function V(t,e,i,n,o){for(;i<n;i+=o){var r=t,s=e[i],a=e[i+1];r[0]=Math.min(r[0],s),r[1]=Math.min(r[1],a),r[2]=Math.max(r[2],s),r[3]=Math.max(r[3],a)}return t}function j(t,e,i){var n;return((n=e.call(i,U(t)))||(n=e.call(i,W(t)))||(n=e.call(i,J(t)))||!!(n=e.call(i,K(t))))&&n}function H(t){var e=0;return tt(t)||(e=Q(t)*Z(t)),e}function U(t){return[t[0],t[1]]}function W(t){return[t[2],t[1]]}function Y(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function X(t,e,i,n,o){var r=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var s=Math.sin(i);i=r*e,r*=s,e*=n;var a=n*s,l=t[0],h=t[1];t=l-i+a,n=l-i-a,s=l+i-a,i=l+i+a,a=h-r-e,l=h-r+e;var c=h+r+e;return r=h+r-e,R(Math.min(t,n,s,i),Math.min(a,l,c,r),Math.max(t,n,s,i),Math.max(a,l,c,r),o)}function Z(t){return t[3]-t[1]}function q(t,e,i){return i=i||[1/0,1/0,-1/0,-1/0],$(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function K(t){return[t[0],t[3]]}function J(t){return[t[2],t[3]]}function Q(t){return t[2]-t[0]}function $(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function tt(t){return t[2]<t[0]||t[3]<t[1]}function et(t,e){var i=(t[2]-t[0])/2*(e-1);e=(t[3]-t[1])/2*(e-1),t[0]-=i,t[2]+=i,t[1]-=e,t[3]+=e}function it(t,e,i){e(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2);var n=[t[0],t[2],t[4],t[6]],o=[t[1],t[3],t[5],t[7]];return R(e=Math.min.apply(null,n),t=Math.min.apply(null,o),n=Math.max.apply(null,n),o=Math.max.apply(null,o),i)}var nt="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var r=arguments[n];if(null!=r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i};function ot(t){for(var e in t)delete t[e]}function rt(t){var e,i=[];for(e in t)i.push(t[e]);return i}function st(t){for(var e in t)return!1;return!e}function at(t){this.radius=t}function lt(t,e){for(var i=0,n=0,o=t.length;n<o-1;++n)i+=ht(t[n],t[n+1],e);return i}function ht(t,e,i){var n=_(t[1]),o=_(e[1]),r=(o-n)/2;return t=_(e[0]-t[0])/2,n=Math.sin(r)*Math.sin(r)+Math.sin(t)*Math.sin(t)*Math.cos(n)*Math.cos(o),2*i*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))}function ct(t,e){for(var i=0,n=t.length,o=t[n-1][0],r=t[n-1][1],s=0;s<n;s++){var a=t[s][0],l=t[s][1];i+=_(a-o)*(2+Math.sin(_(r))+Math.sin(_(l))),o=a,r=l}return i*e*e/2}at.prototype.a=function(t){return ct(t,this.radius)},at.prototype.b=function(t,e){return ht(t,e,this.radius)},at.prototype.offset=function(t,e,i){var n=_(t[1]);e/=this.radius;var o=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(_(t[0])+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(o)))/Math.PI,180*o/Math.PI]};var ut={};ut.degrees=12741994*Math.PI/360,ut.ft=.3048,ut.m=1,ut["us-ft"]=1200/3937;var pt=null;function gt(t){this.wb=t.code,this.a=t.units,this.i=void 0!==t.extent?t.extent:null,this.oe=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.c=void 0!==t.global&&t.global,this.g=!(!this.c||!this.i),this.j=t.getPointResolution,this.f=null,this.l=t.metersPerUnit;var e=t.code,i=pt||window.proj4;"function"==typeof i&&void 0!==(e=i.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.l=e.to_meter),void 0===t.units&&(this.a=e.units))}function dt(t){gt.call(this,{code:t,units:"m",extent:yt,global:!0,worldExtent:mt,getPointResolution:function(t,e){return t/y(e[1]/6378137)}})}(t=gt.prototype).ml=function(){return this.wb},t.G=function(){return this.i},t.zo=function(){return this.a},t.Bc=function(){return this.l||ut[this.a]},t.Vl=function(){return this.oe},t.il=function(){return this.b},t.Gm=function(){return this.c},t.xq=function(t){this.c=t,this.g=!(!t||!this.i)},t.Si=function(t){this.i=t,this.g=!(!this.c||!t)},t.Sj=function(t){this.oe=t},t.wq=function(t){this.j=t},s(dt,gt);var ft=6378137*Math.PI,yt=[-ft,-ft,ft,ft],mt=[-180,-85,180,85],vt=[new dt("EPSG:3857"),new dt("EPSG:102100"),new dt("EPSG:102113"),new dt("EPSG:900913"),new dt("urn:ogc:def:crs:EPSG:6.18:3:3857"),new dt("urn:ogc:def:crs:EPSG::3857"),new dt("http://www.opengis.net/gml/srs/epsg.xml#3857")];function _t(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var o=0;o<n;o+=i){e[o]=ft*t[o]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[o+1]+90)/360));r>ft?r=ft:r<-ft&&(r=-ft),e[o+1]=r}return e}function xt(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var o=0;o<n;o+=i)e[o]=180*t[o]/ft,e[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return e}function Ct(t,e){gt.call(this,{code:t,units:"degrees",extent:It,axisOrientation:e,global:!0,metersPerUnit:At,worldExtent:It})}s(Ct,gt);var It=[-180,-90,180,90],At=6378137*Math.PI/180,bt=[new Ct("CRS:84"),new Ct("EPSG:4326","neu"),new Ct("urn:ogc:def:crs:EPSG::4326","neu"),new Ct("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Ct("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ct("urn:ogc:def:crs:OGC:2:84"),new Ct("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ct("urn:x-ogc:def:crs:EPSG:4326","neu")],wt={},St={};function Mt(t,e,i){t=t.wb,e=e.wb,t in St||(St[t]={}),St[t][e]=i}function Et(t,e){var i;return t in St&&e in St[t]&&(i=St[t][e]),i}var Tt=new at(6371008.8);function Pt(t,e,i,n){var o=(t=Ft(t)).j;return o?e=o(e,i):"degrees"==t.a&&!n||"degrees"==n||(e=(o=Bt(t,Ft("EPSG:4326")))(e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e,2),e=(Tt.b(e.slice(0,2),e.slice(2,4))+Tt.b(e.slice(4,6),e.slice(6,8)))/2,void 0!==(t=n?ut[n]:t.Bc())&&(e/=t)),e}function Lt(t){t.forEach(Nt),t.forEach((function(e){t.forEach((function(t){e!==t&&Mt(e,t,Vt)}))}))}function Nt(t){wt[t.wb]=t,Mt(t,t,Vt)}function Dt(t){return t?"string"==typeof t?Ft(t):t:Ft("EPSG:3857")}function Rt(t,e,i,n){Mt(t=Ft(t),e=Ft(e),Ot(i)),Mt(e,t,Ot(n))}function Ot(t){return function(e,i,n){var o,r=e.length;for(n=void 0!==n?n:2,i=void 0!==i?i:Array(r),o=0;o<r;o+=n){var s=t([e[o],e[o+1]]);for(i[o]=s[0],i[o+1]=s[1],s=n-1;2<=s;--s)i[o+s]=e[o+s]}return i}}function Ft(t){var e=null;if(t instanceof gt)e=t;else if("string"==typeof t&&!(e=wt[t]||null)){var i=pt||window.proj4;"function"==typeof i&&void 0!==i.defs(t)&&Nt(e=new gt({code:t}))}return e}function kt(t,e){if(t===e)return!0;var i=t.a===e.a;return(t.wb===e.wb||Bt(t,e)===Vt)&&i}function Gt(t,e){return Bt(t=Ft(t),e=Ft(e))}function Bt(t,e){var i=t.wb,n=e.wb,o=Et(i,n);if(!o){var r=pt||window.proj4;if("function"==typeof r){var s=r.defs(i),a=r.defs(n);void 0!==s&&void 0!==a&&(s===a?Lt([e,t]):Rt(e,t,(o=r(n,i)).forward,o.inverse),o=Et(i,n))}}return o||(o=zt),o}function zt(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function Vt(t,e){if(void 0!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}else t=t.slice();return t}function jt(t,e,i){return Gt(e,i)(t,void 0,t.length)}function Ht(t,e,i){return it(t,e=Gt(e,i))}function Ut(){Lt(vt),Lt(bt),bt.forEach((function(t){vt.forEach((function(e){Mt(t,e,_t),Mt(e,t,xt)}))}))}function Wt(t,e){return t>e?1:t<e?-1:0}function Yt(t,e){return 0<=t.indexOf(e)}function Xt(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(0<i){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function Zt(t,e){var i=Array.isArray(e)?e:[e],n=i.length;for(e=0;e<n;e++)t[t.length]=i[e]}function qt(t,e){for(var i,n=t.length>>>0,o=0;o<n;o++)if(e(i=t[o],o,t))return i;return null}function Kt(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Jt(t){var e,i=Qs,n=t.length,o=Array(t.length);for(e=0;e<n;e++)o[e]={index:e,value:t[e]};for(o.sort((function(t,e){return i(t.value,e.value)||t.index-e.index})),e=0;e<t.length;e++)t[e]=o[e].value}function Qt(t,e){var i;return t.every((function(n,o){return i=o,!e(n,o,t)}))?-1:i}function $t(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function te(t){if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,d(function(t,e){var i=e||Wt;return t.every((function(e,n){return 0===n||!(0<(e=i(t[n-1],e))||0===e)}))}(this.b,(function(t,e){return e-t})),17),!t.origins)for(var e=0,i=this.b.length-1;e<i;++e)if(n){if(this.b[e]/this.b[e+1]!==n){n=void 0;break}}else var n=this.b[e]/this.b[e+1];this.l=n,this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,d(this.c.length==this.b.length,20)),void 0===(n=t.extent)||this.g||this.c||(this.g=K(n)),d(!this.g&&this.c||this.g&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,d(this.i.length==this.b.length,19)),this.j=void 0!==t.tileSize?t.tileSize:this.i?null:256,d(!this.j&&this.i||this.j&&!this.i,22),this.o=void 0!==n?n:null,this.a=null,this.f=[0,0],void 0!==t.sizes?this.a=t.sizes.map((function(t){return new u(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):n&&function(t,e){for(var i=t.b.length,n=Array(i),o=t.minZoom;o<i;++o)n[o]=oe(t,e,o);t.a=n}(this,n)}Ut();var ee=[0,0,0];function ie(t,e,i,n,o){var r=null,s=e[0]-1;if(2===t.l)var a=e[1],l=e[2];else r=t.Ma(e,o);for(;s>=t.minZoom;){if(e=2===t.l?p(a=Math.floor(a/2),a,l=Math.floor(l/2),l,n):oe(t,r,s,n),i.call(null,s,e))return!0;--s}return!1}function ne(t,e,i,n){return e[0]<t.maxZoom?2===t.l?p(t=2*e[1],t+1,e=2*e[2],e+1,i):(n=t.Ma(e,n),oe(t,n,e[0]+1,i)):null}function oe(t,e,i,n){se(t,e[0],e[1],i,!1,ee);var o=ee[1],r=ee[2];return se(t,e[2],e[3],i,!0,ee),p(o,ee[1],r,ee[2],n)}function re(t,e){var i=t.Ic(e[0]),n=t.Ta(e[0]);return t=b(t.Za(e[0]),t.f),[i[0]+(e[1]+.5)*t[0]*n,i[1]+(e[2]+.5)*t[1]*n]}function se(t,e,i,n,o,r){var s=t.Ic(n),a=t.Ta(n);return t=b(t.Za(n),t.f),e=Math.floor((e-s[0])/a+(o?.5:0))/t[0],i=Math.floor((i-s[1])/a+(o?0:.5))/t[1],o?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),$t(n,e,i,r)}function ae(t){var e=t.f;return e||(e=ce(t),t.f=e),e}function le(t){var e={};return nt(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Ft("EPSG:3857").G()),e.resolutions=he(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new te(e)}function he(t,e,i){e=void 0!==e?e:42;var n=Z(t);for(t=Q(t),i=b(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;t<e;++t)n[t]=i/Math.pow(2,t);return n}function ce(t,e,i){return e=he(t=ue(t),e,i),new te({extent:t,origin:K(t),resolutions:e,tileSize:i})}function ue(t){var e=(t=Ft(t)).G();return e||(e=R(-(t=180*ut.degrees/t.Bc()),-t,t,t)),e}function pe(t){this.og=t.html}function ge(t,e,i,n){for(var o,r=0,s=t.length;r<s;++r)if((o=t[r]).listener===e&&o.Ch===i)return n&&(o.deleteIndex=r),o}function de(t,e){return(t=t.ab)?t[e]:void 0}function fe(t){var e=t.ab;return e||(e=t.ab={}),e}function ye(t,e){var i=de(t,e);if(i){for(var n=0,o=i.length;n<o;++n)t.removeEventListener(e,i[n].Dh),ot(i[n]);i.length=0,(i=t.ab)&&(delete i[e],0===Object.keys(i).length&&delete t.ab)}}function me(t,e,i,n,o){var r=fe(t),s=r[e];return s||(s=r[e]=[]),(r=ge(s,i,n,!1))?o||(r.Eh=!1):(r={Ch:n,Eh:!!o,listener:i,target:t,type:e},t.addEventListener(e,function(t){return t.Dh=function(e){var i=t.listener,n=t.Ch||t.target;return t.Eh&&xe(t),i.call(n,e)}}(r)),s.push(r)),r}function ve(t,e,i,n){return me(t,e,i,n,!0)}function _e(t,e,i,n){(t=de(t,e))&&(i=ge(t,i,n,!0))&&xe(i)}function xe(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Dh);var e=de(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&ye(t.target,t.type)}ot(t)}}function Ce(t){var e,i=fe(t);for(e in i)ye(t,e)}function Ie(){}function Ae(t){t.Ub||(t.Ub=!0,t.ia())}function be(t){this.type=t,this.target=null}function we(t){t.stopPropagation()}function Se(){this.Wa={},this.qa={},this.oa={}}function Me(t,e){return e?e in t.oa:0<Object.keys(t.oa).length}function Ee(){Se.call(this),this.g=0}function Te(t){Ee.call(this),l(this),this.N={},void 0!==t&&this.H(t)}(t=te.prototype).Vf=function(t,e,i){for(var n=(t=oe(this,t,e)).fa,o=t.la;n<=o;++n)for(var r=t.ea,s=t.ka;r<=s;++r)i([e,n,r])},t.G=function(){return this.o},t.mj=function(){return this.maxZoom},t.nj=function(){return this.minZoom},t.Ic=function(t){return this.g?this.g:this.c[t]},t.Ta=function(t){return this.b[t]},t.oj=function(){return this.b},t.Ma=function(t,e){var i=this.Ic(t[0]),n=this.Ta(t[0]),o=b(this.Za(t[0]),this.f),r=i[0]+t[1]*o[0]*n;return R(r,t=i[1]+t[2]*o[1]*n,r+o[0]*n,t+o[1]*n,e)},t.Le=function(t,e,i){var n=t[0],o=t[1];t=this.Dc(e);var r=e/this.Ta(t),s=this.Ic(t),a=b(this.Za(t),this.f);return n=r*Math.floor((n-s[0])/e+0)/a[0],e=r*Math.floor((o-s[1])/e+.5)/a[1],$t(t,n=Math.floor(n),e=Math.floor(e),i)},t.jg=function(t,e,i){return se(this,t[0],t[1],e,!1,i)},t.Za=function(t){return this.j?this.j:this.i[t]},t.Dc=function(t,e){return f(Xt(this.b,t,e||0),this.minZoom,this.maxZoom)},pe.prototype.b=function(){return this.og},Ie.prototype.Ub=!1,Ie.prototype.ia=a,be.prototype.preventDefault=be.prototype.stopPropagation=function(){this.sj=!0},s(Se,Ie),Se.prototype.addEventListener=function(t,e){var i=this.oa[t];i||(i=this.oa[t]=[]),-1===i.indexOf(e)&&i.push(e)},Se.prototype.b=function(t){var e="string"==typeof t?new be(t):t;t=e.type,e.target=this;var i=this.oa[t];if(i){t in this.qa||(this.qa[t]=0,this.Wa[t]=0),++this.qa[t];for(var n=0,o=i.length;n<o;++n)if(!1===i[n].call(this,e)||e.sj){var r=!1;break}if(--this.qa[t],0===this.qa[t]){for(e=this.Wa[t],delete this.Wa[t];e--;)this.removeEventListener(t,a);delete this.qa[t]}return r}},Se.prototype.ia=function(){Ce(this)},Se.prototype.removeEventListener=function(t,e){var i=this.oa[t];i&&(e=i.indexOf(e),t in this.Wa?(i[e]=a,++this.Wa[t]):(i.splice(e,1),0===i.length&&delete this.oa[t]))},s(Ee,Se),(t=Ee.prototype).u=function(){++this.g,this.b("change")},t.K=function(){return this.g},t.I=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),r=0;r<n;++r)o[r]=me(this,t[r],e,i);return o}return me(this,t,e,i)},t.once=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),r=0;r<n;++r)o[r]=ve(this,t[r],e,i);return o}return ve(this,t,e,i)},t.J=function(t,e,i){if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)_e(this,t[n],e,i);else _e(this,t,e,i)},s(Te,Ee);var Pe={};function Le(t){return Pe.hasOwnProperty(t)?Pe[t]:Pe[t]="change:"+t}function Ne(t,e,i){var n=Le(e);t.b(new De(n,e,i)),t.b(new De("propertychange",e,i))}function De(t,e,i){be.call(this,t),this.key=e,this.oldValue=i}function Re(t,e){if(Te.call(this),this.c=!!(e||{}).unique,this.a=t||[],this.c)for(t=0,e=this.a.length;t<e;++t)Fe(this,this.a[t],t);Oe(this)}function Oe(t){t.set(ke,t.a.length)}function Fe(t,e,i){for(var n=0,o=t.a.length;n<o;++n)if(t.a[n]===e&&n!==i)throw new c(58)}(t=Te.prototype).get=function(t){var e;return this.N.hasOwnProperty(t)&&(e=this.N[t]),e},t.P=function(){return Object.keys(this.N)},t.L=function(){return nt({},this.N)},t.set=function(t,e,i){i?this.N[t]=e:(i=this.N[t],this.N[t]=e,i!==e&&Ne(this,t,i))},t.H=function(t,e){for(var i in t)this.set(i,t[i],e)},t.R=function(t,e){if(t in this.N){var i=this.N[t];delete this.N[t],e||Ne(this,t,i)}},s(De,be),s(Re,Te),(t=Re.prototype).clear=function(){for(;0<this.kc();)this.pop()},t.qg=function(t){var e,i=0;for(e=t.length;i<e;++i)this.push(t[i]);return this},t.forEach=function(t,e){t=e?t.bind(e):t;for(var i=0,n=(e=this.a).length;i<n;++i)t(e[i],i,e)},t.Xm=function(){return this.a},t.item=function(t){return this.a[t]},t.kc=function(){return this.get(ke)},t.Re=function(t,e){this.c&&Fe(this,e),this.a.splice(t,0,e),Oe(this),this.b(new Ge("add",e))},t.pop=function(){return this.Wg(this.kc()-1)},t.push=function(t){this.c&&Fe(this,t);var e=this.kc();return this.Re(e,t),this.kc()},t.remove=function(t){var e,i=this.a,n=0;for(e=i.length;n<e;++n)if(i[n]===t)return this.Wg(n)},t.Wg=function(t){var e=this.a[t];return this.a.splice(t,1),Oe(this),this.b(new Ge("remove",e)),e},t.rq=function(t,e){var i=this.kc();if(t<i)this.c&&Fe(this,e,t),i=this.a[t],this.a[t]=e,this.b(new Ge("remove",i)),this.b(new Ge("add",e));else{for(;i<t;++i)this.Re(i,void 0);this.Re(t,e)}};var ke="length";function Ge(t,e){be.call(this,t),this.element=e}function Be(t,e,i){be.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function ze(t,e,i,n,o){Be.call(this,t,e,o),this.originalEvent=i,this.pixel=e.ud(i),this.coordinate=e.Ra(this.pixel),this.dragging=void 0!==n&&n}s(Ge,be),s(Be,be),s(ze,Be),ze.prototype.preventDefault=function(){Be.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ze.prototype.stopPropagation=function(){Be.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Ve=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function je(t,e){var i,n,o=Ve.length;for(n=0;n<o;++n)try{if(i=t.getContext(Ve[n],e))return i}catch(t){}return null}var He,Ue,We="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Ye=-1!==We.indexOf("firefox"),Xe=-1!==We.indexOf("safari")&&-1==We.indexOf("chrom"),Ze=-1!==We.indexOf("webkit")&&-1==We.indexOf("edge"),qe=-1!==We.indexOf("macintosh"),Ke=window.devicePixelRatio||1,Je=!1,Qe=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Je=!0),!0)}catch(t){return!1}}(),$e="DeviceOrientationEvent"in window,ti="geolocation"in navigator,ei="ontouchstart"in window,ii="PointerEvent"in window,ni=!!navigator.msPointerEnabled,oi=!1,ri=[];if("WebGLRenderingContext"in window)try{var si=je(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});si&&(oi=!0,Ue=si.getParameter(si.MAX_TEXTURE_SIZE),ri=si.getSupportedExtensions())}catch(t){}He=oi,i=ri,e=Ue;var ai={gr:"singleclick",Wq:"click",Xq:"dblclick",$q:"pointerdrag",cr:"pointermove",Zq:"pointerdown",fr:"pointerup",er:"pointerover",dr:"pointerout",ar:"pointerenter",br:"pointerleave",Yq:"pointercancel"};function li(t,e,i,n,o){ze.call(this,t,e,i.b,n,o),this.b=i}function hi(t,e){this.b=t,this.i=e}function ci(t){hi.call(this,t,{mousedown:this.Jm,mousemove:this.Km,mouseup:this.Nm,mouseover:this.Mm,mouseout:this.Lm}),this.a=t.g,this.g=[]}function ui(t,e){t=t.g;var i=e.clientX;e=e.clientY;for(var n,o=0,r=t.length;o<r&&(n=t[o]);o++){var s=Math.abs(e-n[1]);if(25>=Math.abs(i-n[0])&&25>=s)return!0}return!1}function pi(t){var e=Si(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function gi(t){hi.call(this,t,{MSPointerDown:this.Sm,MSPointerMove:this.Tm,MSPointerUp:this.Wm,MSPointerOut:this.Um,MSPointerOver:this.Vm,MSPointerCancel:this.Rm,MSGotPointerCapture:this.Pm,MSLostPointerCapture:this.Qm}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function di(t,e){var i=e;return"number"==typeof e.pointerType&&((i=Si(e,e)).pointerType=t.g[e.pointerType]),i}function fi(t){hi.call(this,t,{pointerdown:this.Kp,pointermove:this.Lp,pointerup:this.Op,pointerout:this.Mp,pointerover:this.Np,pointercancel:this.Jp,gotpointercapture:this.Wl,lostpointercapture:this.Hm})}function yi(t,e,i){be.call(this,t),this.b=e,t=i||{},this.buttons=function(t){if(t.buttons||mi)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}(t),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}s(li,ze),s(ci,hi),(t=ci.prototype).Jm=function(t){if(!ui(this,t)){1..toString()in this.a&&this.cancel(t);var e=pi(t);this.a[1..toString()]=t,Pi(this.b,"pointerdown",e,t)}},t.Km=function(t){if(!ui(this,t)){var e=pi(t);Pi(this.b,"pointermove",e,t)}},t.Nm=function(t){if(!ui(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=pi(t),Pi(this.b,"pointerup",e,t),delete this.a[1..toString()])}},t.Mm=function(t){if(!ui(this,t)){var e=pi(t);Ti(this.b,e,t)}},t.Lm=function(t){if(!ui(this,t)){var e=pi(t);Ei(this.b,e,t)}},t.cancel=function(t){var e=pi(t);this.b.cancel(e,t),delete this.a[1..toString()]},s(gi,hi),(t=gi.prototype).Sm=function(t){this.a[t.pointerId.toString()]=t;var e=di(this,t);Pi(this.b,"pointerdown",e,t)},t.Tm=function(t){var e=di(this,t);Pi(this.b,"pointermove",e,t)},t.Wm=function(t){var e=di(this,t);Pi(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},t.Um=function(t){var e=di(this,t);Ei(this.b,e,t)},t.Vm=function(t){var e=di(this,t);Ti(this.b,e,t)},t.Rm=function(t){var e=di(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},t.Qm=function(t){this.b.b(new yi("lostpointercapture",t,t))},t.Pm=function(t){this.b.b(new yi("gotpointercapture",t,t))},s(fi,hi),(t=fi.prototype).Kp=function(t){Li(this.b,t)},t.Lp=function(t){Li(this.b,t)},t.Op=function(t){Li(this.b,t)},t.Mp=function(t){Li(this.b,t)},t.Np=function(t){Li(this.b,t)},t.Jp=function(t){Li(this.b,t)},t.Hm=function(t){Li(this.b,t)},t.Wl=function(t){Li(this.b,t)},s(yi,be);var mi=!1;try{mi=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}function vi(t,e){hi.call(this,t,{touchstart:this.Qq,touchmove:this.Pq,touchend:this.Oq,touchcancel:this.Nq}),this.a=t.g,this.j=e,this.g=void 0,this.f=0,this.c=void 0}function _i(t,e,i){return(e=Si(e,i)).pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.f,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.g===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function xi(t,e,i){function n(){e.preventDefault()}var o,r=Array.prototype.slice.call(e.changedTouches),s=r.length;for(o=0;o<s;++o){var a=_i(t,e,r[o]);a.preventDefault=n,i.call(t,e,a)}}function Ci(t,e){var i=t.j.g;if(e=e.changedTouches[0],t.g===e.identifier){var n=[e.clientX,e.clientY];i.push(n),setTimeout((function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)}),2500)}}function Ii(t){Se.call(this),this.f=t,this.g={},this.i={},this.a=[],ii?Ai(this,new fi(this)):ni?Ai(this,new gi(this)):(Ai(this,t=new ci(this)),ei&&Ai(this,new vi(this,t))),t=this.a.length;for(var e,i=0;i<t;i++)e=this.a[i],bi(this,Object.keys(e.i))}function Ai(t,e){var i=Object.keys(e.i);i&&(i.forEach((function(t){var i=e.i[t];i&&(this.i[t]=i.bind(e))}),t),t.a.push(e))}function bi(t,e){e.forEach((function(t){me(this.f,t,this.c,this)}),t)}function wi(t,e){e.forEach((function(t){_e(this.f,t,this.c,this)}),t)}function Si(t,e){for(var i,n={},o=0,r=Ni.length;o<r;o++)n[i=Ni[o][0]]=t[i]||e[i]||Ni[o][1];return n}function Mi(t,e,i){e.bubbles=!1,Pi(t,"pointerleave",e,i)}function Ei(t,e,i){t.out(e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||Mi(t,e,i)}function Ti(t,e,i){e.bubbles=!0,Pi(t,"pointerover",e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||(e.bubbles=!1,Pi(t,"pointerenter",e,i))}function Pi(t,e,i,n){t.b(new yi(e,n,i))}function Li(t,e){t.b(new yi(e.type,e,e))}s(vi,hi),(t=vi.prototype).Ej=function(){this.f=0,this.c=void 0},t.Qq=function(t){var e=t.touches,i=Object.keys(this.a),n=i.length;if(n>=e.length){var o,r=[];for(o=0;o<n;++o){var s,a=i[o],l=this.a[a];if(!(s=1==a))t:{for(var h=e.length,c=0;c<h;c++)if((s=e[c]).identifier===a-2){s=!0;break t}s=!1}s||r.push(l.out)}for(o=0;o<r.length;++o)this.Of(t,r[o])}e=t.changedTouches[0],(0===(i=Object.keys(this.a).length)||1===i&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.c&&clearTimeout(this.c)),Ci(this,t),this.f++,xi(this,t,this.Fp)},t.Fp=function(t,e){this.a[e.pointerId]={target:e.target,out:e,pj:e.target};var i=this.b;e.bubbles=!0,Pi(i,"pointerover",e,t),i=this.b,e.bubbles=!1,Pi(i,"pointerenter",e,t),Pi(this.b,"pointerdown",e,t)},t.Pq=function(t){t.preventDefault(),xi(this,t,this.Om)},t.Om=function(t,e){var i=this.a[e.pointerId];if(i){var n=i.out,o=i.pj;Pi(this.b,"pointermove",e,t),n&&o!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=o,n.target=o,e.target?(Ei(this.b,n,t),Ti(this.b,e,t)):(e.target=o,e.relatedTarget=null,this.Of(t,e))),i.out=e,i.pj=e.target}},t.Oq=function(t){Ci(this,t),xi(this,t,this.Rq)},t.Rq=function(t,e){Pi(this.b,"pointerup",e,t),this.b.out(e,t),Mi(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},t.Nq=function(t){xi(this,t,this.Of)},t.Of=function(t,e){this.b.cancel(e,t),this.b.out(e,t),Mi(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},s(Ii,Se),Ii.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},Ii.prototype.out=function(t,e){t.bubbles=!0,Pi(this,"pointerout",t,e)},Ii.prototype.cancel=function(t,e){Pi(this,"pointercancel",t,e)},Ii.prototype.ia=function(){for(var t,e=this.a.length,i=0;i<e;i++)t=this.a[i],wi(this,Object.keys(t.i));Se.prototype.ia.call(this)};var Ni=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Di(t,e){Se.call(this),this.g=t,this.j=0,this.l=!1,this.i=[],this.D=e?e*Ke:Ke,this.c=null,t=this.g.a,this.N=0,this.o={},this.f=new Ii(t),this.a=null,this.s=me(this.f,"pointerdown",this.pm,this),this.v=me(this.f,"pointermove",this.mq,this)}function Ri(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.o[e.pointerId]:"pointerdown"==e.type&&(t.o[e.pointerId]=!0),t.N=Object.keys(t.o).length}function Oi(t,e){return Math.abs(e.clientX-t.c.clientX)>t.D||Math.abs(e.clientY-t.c.clientY)>t.D}function Fi(t,e){this.s=t,this.c=e,this.b=[],this.g=[],this.a={}}function ki(t){var e=t.b,i=t.g,n=e[0];return 1==e.length?(e.length=0,i.length=0):(e[0]=e.pop(),i[0]=i.pop(),Gi(t,0)),e=t.c(n),delete t.a[e],n}function Gi(t,e){for(var i=t.b,n=t.g,o=i.length,r=i[e],s=n[e],a=e;e<o>>1;){var l=2*e+1,h=2*e+2;l=h<o&&n[h]<n[l]?h:l,i[e]=i[l],n[e]=n[l],e=l}i[e]=r,n[e]=s,Bi(t,a,e)}function Bi(t,e,i){var n=t.b;t=t.g;for(var o=n[i],r=t[i];i>e;){var s=i-1>>1;if(!(t[s]>r))break;n[i]=n[s],t[i]=t[s],i=s}n[i]=o,t[i]=r}function zi(t){var e,i=t.s,n=t.b,o=t.g,r=0,s=n.length;for(e=0;e<s;++e){var a=n[e],l=i(a);1/0==l?delete t.a[t.c(a)]:(o[r]=l,n[r++]=a)}for(n.length=r,o.length=r,i=(t.b.length>>1)-1;0<=i;i--)Gi(t,i)}function Vi(t,e){Fi.call(this,(function(e){return t.apply(null,e)}),(function(t){return t[0].lb()})),this.v=e,this.j=0,this.f={}}function ji(t,e,i){for(var n,o,r,s=0,a=!1;t.j<e&&s<i&&0<t.b.length;)r=(o=ki(t)[0]).lb(),5===(n=o.getState())?a=!0:0!==n||r in t.f||(t.f[r]=!0,++t.j,++s,o.load());0===s&&a&&t.v()}function Hi(t){return function(e){if(e)return[f(e[0],t[0],t[2]),f(e[1],t[1],t[3])]}}function Ui(t){return t}function Wi(t){if(void 0!==t)return 0}function Yi(t,e){if(void 0!==t)return t+e}function Xi(t,e){return 2<(e=-1===(e=(t=void 0!==e?t.toFixed(e):""+t).indexOf("."))?t.length:e)?t:Array(3-e).join("0")+t}function Zi(t){t=(""+t).split(".");for(var e=["1","3"],i=0;i<Math.max(t.length,e.length);i++){var n=parseInt(t[i]||"0",10),o=parseInt(e[i]||"0",10);if(n>o)return 1;if(o>n)return-1}return 0}function qi(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Ki(t,e){var i=t[0];t=t[1];var n=e[0],o=e[1];e=n[0],n=n[1];var r=o[0],s=r-e,a=(o=o[1])-n;return 0>=(i=0===s&&0===a?0:(s*(i-e)+a*(t-n))/(s*s+a*a||0))?(t=e,i=n):1<=i?(t=r,i=o):(t=e+i*s,i=n+i*a),[t,i]}function Ji(t,e,i){e=x(e+180,360)-180;var n=Math.abs(3600*e);i=i||0;var o=Math.pow(10,i),r=Math.floor(n/3600),s=Math.floor((n-3600*r)/60);return 60<=(n=Math.ceil((n-3600*r-60*s)*o)/o)&&(n=0,s+=1),60<=s&&(s=0,r+=1),r+"° "+Xi(s)+"′ "+Xi(n,i)+"″"+(0==e?"":" "+t.charAt(0>e?1:0))}function Qi(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}function $i(t,e){for(var i=!0,n=t.length-1;0<=n;--n)if(t[n]!=e[n]){i=!1;break}return i}function tn(t,e){var i=Math.cos(e);e=Math.sin(e);var n=t[1]*i+t[0]*e;return t[0]=t[0]*i-t[1]*e,t[1]=n,t}function en(t,e){t[0]*=e,t[1]*=e}function nn(t,e){var i=t[0]-e[0];return i*i+(t=t[1]-e[1])*t}function on(t,e){return Math.sqrt(nn(t,e))}function rn(t,e){return nn(t,Ki(t,e))}function sn(t,e){return Qi(t,"{x}, {y}",e)}function an(t){return Math.pow(t,3)}function ln(t){return 1-an(1-t)}function hn(t){return 3*t*t-2*t*t*t}function cn(t){return t}function un(){return!0}function pn(){return!1}function gn(t,e,i,n,o,r){for(var s=r||[],a=0;e<i;e+=n){var l=t[e],h=t[e+1];s[a++]=o[0]*l+o[2]*h+o[4],s[a++]=o[1]*l+o[3]*h+o[5]}return r&&s.length!=a&&(s.length=a),s}function dn(t,e,i,n,o,r,s){for(var a,l=s||[],h=0;e<i;e+=n)for(l[h++]=t[e]+o,l[h++]=t[e+1]+r,a=e+2;a<e+n;++a)l[h++]=t[a];return s&&l.length!=h&&(l.length=h),l}s(Di,Se),(t=Di.prototype).ci=function(t){Ri(this,t);var e=new li("pointerup",this.g,t);this.b(e),e.sj||this.l||0!==t.button||function(t,e){var i=new li("click",t.g,e);t.b(i),0!==t.j?(clearTimeout(t.j),t.j=0,i=new li("dblclick",t.g,e),t.b(i)):t.j=setTimeout(function(){this.j=0;var t=new li("singleclick",this.g,e);this.b(t)}.bind(t),250)}(this,this.c),0===this.N&&(this.i.forEach(xe),this.i.length=0,this.l=!1,this.c=null,Ae(this.a),this.a=null)},t.pm=function(t){Ri(this,t);var e=new li("pointerdown",this.g,t);this.b(e),this.c=t,0===this.i.length&&(this.a=new Ii(document),this.i.push(me(this.a,"pointermove",this.mn,this),me(this.a,"pointerup",this.ci,this),me(this.f,"pointercancel",this.ci,this)))},t.mn=function(t){if(Oi(this,t)){this.l=!0;var e=new li("pointerdrag",this.g,t,this.l);this.b(e)}t.preventDefault()},t.mq=function(t){this.b(new li(t.type,this.g,t,!(!this.c||!Oi(this,t))))},t.ia=function(){this.v&&(xe(this.v),this.v=null),this.s&&(xe(this.s),this.s=null),this.i.forEach(xe),this.i.length=0,this.a&&(Ae(this.a),this.a=null),this.f&&(Ae(this.f),this.f=null),Se.prototype.ia.call(this)},Fi.prototype.clear=function(){this.b.length=0,this.g.length=0,ot(this.a)},Fi.prototype.i=function(t){d(!(this.c(t)in this.a),31);var e=this.s(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.c(t)]=!0,Bi(this,0,this.b.length-1),!0)},s(Vi,Fi),Vi.prototype.i=function(t){var e=Fi.prototype.i.call(this,t);return e&&me(t[0],"change",this.l,this),e},Vi.prototype.l=function(t){var e=(t=t.target).getState();2!==e&&3!==e&&4!==e&&5!==e||(_e(t,"change",this.l,this),(t=t.lb())in this.f&&(delete this.f[t],--this.j),this.v())};var fn=Array(6);function yn(t){return vn(t,1,0,0,1,0,0)}function mn(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],s=t[4],a=t[5],l=e[0],h=e[1],c=e[2],u=e[3],p=e[4];return e=e[5],t[0]=i*l+o*h,t[1]=n*l+r*h,t[2]=i*c+o*u,t[3]=n*c+r*u,t[4]=i*p+o*e+s,t[5]=n*p+r*e+a,t}function vn(t,e,i,n,o,r,s){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=r,t[5]=s,t}function _n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function xn(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function Cn(t,e){var i=Math.cos(e);e=Math.sin(e),mn(t,vn(fn,i,e,-e,i,0,0))}function In(t,e,i){return mn(t,vn(fn,e,0,0,i,0,0))}function An(t,e,i){mn(t,vn(fn,1,0,0,1,e,i))}function bn(t,e,i,n,o,r,s,a){var l=Math.sin(r);return r=Math.cos(r),t[0]=n*r,t[1]=o*l,t[2]=-n*l,t[3]=o*r,t[4]=s*n*r-a*n*l+e,t[5]=s*o*l+a*o*r+i,t}function wn(t){var e=t[0]*t[3]-t[1]*t[2];d(0!==e,32);var i=t[0],n=t[1],o=t[2],r=t[3],s=t[4],a=t[5];return t[0]=r/e,t[1]=-n/e,t[2]=-o/e,t[3]=i/e,t[4]=(o*a-r*s)/e,t[5]=-(i*a-n*s)/e,t}function Sn(){Te.call(this),this.s=[1/0,1/0,-1/0,-1/0],this.v=-1,this.i={},this.l=this.f=0,this.O=[1,0,0,1,0,0]}function Mn(){Sn.call(this),this.ja="XY",this.a=2,this.A=null}function En(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Tn(t,e,i){t.a=En(e),t.ja=e,t.A=i}function Pn(t,e,i,n){if(e)i=En(e);else{for(e=0;e<n;++e){if(0===i.length)return t.ja="XY",void(t.a=2);i=i[0]}var o;2==(i=i.length)?o="XY":3==i?o="XYZ":4==i&&(o="XYZM"),e=o}t.ja=e,t.a=i}function Ln(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=s*a-r*l,r=a,s=l}return o/2}function Nn(t,e,i,n){var o,r=0,s=0;for(o=i.length;s<o;++s){var a=i[s];r+=Ln(t,e,a,n),e=a}return r}function Dn(t,e,i,n,o,r,s){var a=t[e],l=t[e+1],h=t[i]-a,c=t[i+1]-l;if(0!==h||0!==c)if(1<(r=((o-a)*h+(r-l)*c)/(h*h+c*c)))e=i;else if(0<r){for(o=0;o<n;++o)s[o]=C(t[e+o],t[i+o],r);return void(s.length=n)}for(o=0;o<n;++o)s[o]=t[e+o];s.length=n}function Rn(t,e,i,n,o){var r=t[e],s=t[e+1];for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1];(r=v(r,s,a,l))>o&&(o=r),r=a,s=l}return o}function On(t,e,i,n,o){var r,s=0;for(r=i.length;s<r;++s){var a=i[s];o=Rn(t,e,a,n,o),e=a}return o}function Fn(t,e,i,n,o,r,s,a,l,h,c){if(e==i)return h;if(0===o){var u=v(s,a,t[e],t[e+1]);if(u<h){for(c=0;c<n;++c)l[c]=t[e+c];return l.length=n,u}return h}for(var p=c||[NaN,NaN],g=e+n;g<i;)if(Dn(t,g-n,g,n,s,a,p),(u=v(s,a,p[0],p[1]))<h){for(h=u,c=0;c<n;++c)l[c]=p[c];l.length=n,g+=n}else g+=n*Math.max((Math.sqrt(u)-Math.sqrt(h))/o|0,1);if(r&&(Dn(t,i-n,e,n,s,a,p),(u=v(s,a,p[0],p[1]))<h)){for(h=u,c=0;c<n;++c)l[c]=p[c];l.length=n}return h}function kn(t,e,i,n,o,r,s,a,l,h,c){var u;c=c||[NaN,NaN];var p=0;for(u=i.length;p<u;++p){var g=i[p];h=Fn(t,e,g,n,o,r,s,a,l,h,c),e=g}return h}function Gn(t,e){var i,n=0,o=0;for(i=e.length;o<i;++o)t[n++]=e[o];return n}function Bn(t,e,i,n){var o,r=0;for(o=i.length;r<o;++r){var s,a=i[r];for(s=0;s<n;++s)t[e++]=a[s]}return e}function zn(t,e,i,n,o){o=o||[];var r,s=0,a=0;for(r=i.length;a<r;++a)e=Bn(t,e,i[a],n),o[s++]=e;return o.length=s,o}function Vn(t,e,i,n,o){o=void 0!==o?o:[];for(var r=0;e<i;e+=n)o[r++]=t.slice(e,e+n);return o.length=r,o}function jn(t,e,i,n,o){o=void 0!==o?o:[];var r,s=0,a=0;for(r=i.length;a<r;++a){var l=i[a];o[s++]=Vn(t,e,l,n,o[s]),e=l}return o.length=s,o}function Hn(t,e,i,n,o){o=void 0!==o?o:[];var r,s=0,a=0;for(r=i.length;a<r;++a){var l=i[a];o[s++]=jn(t,e,l,n,o[s]),e=l[l.length-1]}return o.length=s,o}function Un(t,e,i,n,o,r,s){var a=(i-e)/n;if(3>a){for(;e<i;e+=n)r[s++]=t[e],r[s++]=t[e+1];return s}var l=Array(a);l[0]=1,l[a-1]=1,i=[e,i-n];for(var h,c=0;0<i.length;){var u=i.pop(),p=i.pop(),g=0,d=t[p],f=t[p+1],y=t[u],v=t[u+1];for(h=p+n;h<u;h+=n){var _=m(t[h],t[h+1],d,f,y,v);_>g&&(c=h,g=_)}g>o&&(l[(c-e)/n]=1,p+n<c&&i.push(p,c),c+n<u&&i.push(c,u))}for(h=0;h<a;++h)l[h]&&(r[s++]=t[e+h*n],r[s++]=t[e+h*n+1]);return s}function Wn(t,e,i,n,o,r,s,a){var l,h=0;for(l=i.length;h<l;++h){var c=i[h];t:{var u=t,p=c,g=n,d=o,f=r,y=s;if(e!=p){var m=d*Math.round(u[e]/d),v=d*Math.round(u[e+1]/d);e+=g,f[y++]=m,f[y++]=v;do{var _=d*Math.round(u[e]/d);if(s=d*Math.round(u[e+1]/d),(e+=g)==p){f[y++]=_,f[y++]=s,s=y;break t}}while(_==m&&s==v);for(;e<p;){var x=d*Math.round(u[e]/d),C=d*Math.round(u[e+1]/d);if(e+=g,x!=_||C!=s){var I=_-m,A=s-v,b=x-m,w=C-v;I*w==A*b&&(0>I&&b<I||I==b||0<I&&b>I)&&(0>A&&w<A||A==w||0<A&&w>A)||(f[y++]=_,f[y++]=s,m=_,v=s),_=x,s=C}}f[y++]=_,f[y++]=s}s=y}a.push(s),e=c}return s}function Yn(t,e){Mn.call(this),this.c=this.j=-1,this.na(t,e)}function Xn(t,e,i){Tn(t,e,i),t.u()}function Zn(t,e){Mn.call(this),this.na(t,e)}function qn(t,e,i,n,o){return!j(o,(function(o){return!Kn(t,e,i,n,o[0],o[1])}))}function Kn(t,e,i,n,o,r){for(var s=0,a=t[i-n],l=t[i-n+1];e<i;e+=n){var h=t[e],c=t[e+1];l<=r?c>r&&0<(h-a)*(r-l)-(o-a)*(c-l)&&s++:c<=r&&0>(h-a)*(r-l)-(o-a)*(c-l)&&s--,a=h,l=c}return 0!==s}function Jn(t,e,i,n,o,r){if(0===i.length||!Kn(t,e,i[0],n,o,r))return!1;var s;for(e=1,s=i.length;e<s;++e)if(Kn(t,i[e-1],i[e],n,o,r))return!1;return!0}function Qn(t,e,i,n,o,r,s){for(var a,l,h,c,u,p=o[r+1],g=[],d=0,f=i.length;d<f;++d){var y=i[d];for(h=t[y-n],u=t[y-n+1],a=e;a<y;a+=n)c=t[a],l=t[a+1],(p<=u&&l<=p||u<=p&&p<=l)&&(h=(p-u)/(l-u)*(c-h)+h,g.push(h)),h=c,u=l}for(d=NaN,f=-1/0,g.sort(Wt),h=g[0],a=1,l=g.length;a<l;++a)c=g[a],(y=Math.abs(c-h))>f&&Jn(t,e,i,n,h=(h+c)/2,p)&&(d=h,f=y),h=c;return isNaN(d)&&(d=o[r]),s?(s.push(d,p,f),s):[d,p,f]}function $n(t,e,i,n,o,r){for(var s,a=[t[e],t[e+1]],l=[];e+n<i;e+=n){if(l[0]=t[e+n],l[1]=t[e+n+1],s=o.call(r,a,l))return s;a[0]=l[0],a[1]=l[1]}return!1}function to(t,e,i,n,o){var r=V([1/0,1/0,-1/0,-1/0],t,e,i,n);return!!$(o,r)&&(!!(P(o,r)||r[0]>=o[0]&&r[2]<=o[2]||r[1]>=o[1]&&r[3]<=o[3])||$n(t,e,i,n,(function(t,e){var i=!1,n=N(o,t),r=N(o,e);if(1===n||1===r)i=!0;else{var s=o[0],a=o[1],l=o[2],h=o[3],c=e[0];t=((e=e[1])-t[1])/(c-t[0]),2&r&&!(2&n)&&(i=(i=c-(e-h)/t)>=s&&i<=l),i||!(4&r)||4&n||(i=(i=e-(c-l)*t)>=a&&i<=h),i||!(8&r)||8&n||(i=(i=c-(e-a)/t)>=s&&i<=l),i||!(16&r)||16&n||(i=(i=e-(c-s)*t)>=a&&i<=h)}return i})))}function eo(t,e,i,n,o){var r=i[0];if(!(to(t,e,r,n,o)||Kn(t,e,r,n,o[0],o[1])||Kn(t,e,r,n,o[0],o[3])||Kn(t,e,r,n,o[2],o[1])||Kn(t,e,r,n,o[2],o[3])))return!1;if(1===i.length)return!0;for(e=1,r=i.length;e<r;++e)if(qn(t,i[e-1],i[e],n,o))return!1;return!0}function io(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=(a-r)*(l+s),r=a,s=l}return 0<o}function no(t,e,i,n){var o,r=0;n=void 0!==n&&n;var s=0;for(o=e.length;s<o;++s){var a=e[s];if(r=io(t,r,a,i),0===s){if(n&&r||!n&&!r)return!1}else if(n&&!r||!n&&r)return!1;r=a}return!0}function oo(t,e,i,n,o){var r;o=void 0!==o&&o;var s=0;for(r=i.length;s<r;++s){var a=i[s],l=io(t,e,a,n);if(0===s?o&&l||!o&&!l:o&&!l||!o&&l){l=t;for(var h=a,c=n;e<h-c;){var u;for(u=0;u<c;++u){var p=l[e+u];l[e+u]=l[h-c+u],l[h-c+u]=p}e+=c,h-=c}}e=a}return e}function ro(t,e,i,n){var o,r=0,s=0;for(o=e.length;s<o;++s)r=oo(t,r,e[s],i,n);return r}function so(t,e){Mn.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function ao(t,e,i,n){var o,r=n||32;for(n=[],o=0;o<r;++o)Zt(n,t.offset(e,i,2*Math.PI*o/r));return n.push(n[0],n[1]),(t=new so(null)).ba("XY",n,[n.length]),t}function lo(t){var e=t[0],i=t[1],n=t[2];return e=[e,i,e,t=t[3],n,t,n,i,e,i],(i=new so(null)).ba("XY",e,[e.length]),i}function ho(t,e,i){var n=e||32,o=t.pa(),r=new so(null,e=t.ja);n=o*(n+1),o=Array(n);for(var s=0;s<n;s++)o[s]=0;return r.ba(e,o,[o.length]),co(r,t.xa(),t.Bd(),i),r}function co(t,e,i,n){var o=t.da(),r=t.ja,s=t.pa(),a=t.pb(),l=o.length/s-1;n=n||0;for(var h,c,u=0;u<=l;++u)c=u*s,h=n+2*x(u,l)*Math.PI/l,o[c]=e[0]+i*Math.cos(h),o[c+1]=e[1]+i*Math.sin(h);t.ba(r,o,a)}function uo(t){Te.call(this),t=nt({},t),this.f=[0,0],this.c=[],this.Ff=this.Ff.bind(this),this.v=Dt(t.projection),po(this,t)}function po(t,e){var i={};i.center=void 0!==e.center?e.center:null;var n=void 0!==e.minZoom?e.minZoom:0,o=void 0!==e.maxZoom?e.maxZoom:28,r=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){var s=e.resolutions,a=s[n],l=void 0!==s[o]?s[o]:s[s.length-1];o=function(t){return function(e,i,n){if(void 0!==e)return(e=f((e=Xt(t,e,n))+i,0,t.length-1))!=(i=Math.floor(e))&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]}}(s)}else{var h=(s=((l=(a=Dt(e.projection)).G())?Math.max(Q(l),Z(l)):360*ut.degrees/a.Bc())/256/Math.pow(2,0))/Math.pow(2,28);void 0!==(a=e.maxResolution)?n=0:a=s/Math.pow(r,n),void 0===(l=e.minResolution)&&(l=void 0!==e.maxZoom?void 0!==e.maxResolution?a/Math.pow(r,o):s/Math.pow(r,o):h),o=n+Math.floor(Math.log(a/l)/Math.log(r)),l=a/Math.pow(r,o-n),o=function(t,e,i){return function(n,o,r){if(void 0!==n)return n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-r/2+.5))+o,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)}}(r,a,o-n)}t.a=a,t.i=l,t.D=r,t.j=e.resolutions,t.s=n,n=void 0===e.enableRotation||e.enableRotation?void 0===(n=e.constrainRotation)||!0===n?function(){var t=_(5);return function(e,i){if(void 0!==e)return Math.abs(e+i)<=t?0:e+i}}():!1===n?Yi:"number"==typeof n?function(t){var e=2*Math.PI/t;return function(t,i){if(void 0!==t)return Math.floor((t+i)/e+.5)*e}}(n):Yi:Wi,t.l={center:void 0!==e.extent?Hi(e.extent):Ui,resolution:o,rotation:n},void 0!==e.resolution?i.resolution=e.resolution:void 0!==e.zoom&&(i.resolution=t.constrainResolution(t.a,e.zoom-t.s),t.j&&(i.resolution=f(Number(t.Pa()||i.resolution),t.i,t.a))),i.rotation=void 0!==e.rotation?e.rotation:0,t.H(i),t.C=e}function go(t,e){var i=nt({},t.C);return void 0!==i.resolution?i.resolution=t.Pa():i.zoom=t.lg(),i.center=t.xa(),i.rotation=t.Sa(),nt({},i,e)}function fo(t,e,i){var n=t.xa();if(void 0!==n){var o=[n[0]-i[0],n[1]-i[1]];tn(o,e-t.Sa()),qi(o,i)}return o}function yo(t,e,i){var n,o=t.xa();return t=t.Pa(),void 0!==o&&void 0!==t&&(n=[i[0]-e*(i[0]-o[0])/t,i[1]-e*(i[1]-o[1])/t]),n}function mo(t){var e=[100,100];return t='.ol-viewport[data-view="'+l(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function vo(t){return!!t.xa()&&void 0!==t.Pa()}function _o(t,e,i){t.f[e]+=i,t.u()}function xo(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function Co(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function Io(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ao(t){Te.call(this);var e=nt({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Te:!0}}function bo(t){return t.a.opacity=f(t.nc(),0,1),t.a.Vj=t.hg(),t.a.visible=t.Jb(),t.a.extent=t.G(),t.a.zIndex=t.Ba(),t.a.maxResolution=t.lc(),t.a.minResolution=Math.max(t.mc(),0),t.a}function wo(t){var e=t||{};delete(t=nt({},e)).layers,e=e.layers,Ao.call(this,t),this.i=[],this.c={},me(this,Le(So),this.im,this),e?Array.isArray(e)?e=new Re(e.slice(),{unique:!0}):d(e instanceof Re,43):e=new Re(void 0,{unique:!0}),this.Qi(e)}s(Sn,Te),(t=Sn.prototype).Ib=function(t,e){return e=e||[NaN,NaN],this.Nb(t[0],t[1],e,1/0),e},t.Bb=function(t){return this.Zc(t[0],t[1])},t.Zc=pn,t.G=function(t){this.v!=this.g&&(this.s=this.Ae(this.s),this.v=this.g);var e=this.s;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},t.Sb=function(t){return this.Wd(t*t)},t.mb=function(t,e){var i=this.O,n="tile-pixels"==(t=Ft(t)).a?function(n,o,r){var s=t.G(),a=t.oe;return s=Z(a)/Z(s),bn(i,a[0],a[3],s,-s,0,0,0),gn(n,0,n.length,r,i,o),Gt(t,e)(n,o,r)}:Gt(t,e);return this.Rc(n),this},s(Mn,Sn),(t=Mn.prototype).Zc=pn,t.Ae=function(t){return k(this.A,0,this.A.length,this.a,t)},t.fc=function(){return this.A.slice(0,this.a)},t.da=function(){return this.A},t.gc=function(){return this.A.slice(this.A.length-this.a)},t.ic=function(){return this.ja},t.Wd=function(t){if(this.l!=this.g&&(ot(this.i),this.f=0,this.l=this.g),0>t||0!==this.f&&t<=this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i=this.xd(t);return i.da().length<this.A.length?this.i[e]=i:(this.f=t,this)},t.xd=function(){return this},t.pa=function(){return this.a},t.Rc=function(t){this.A&&(t(this.A,this.A,this.a),this.u())},t.rotate=function(t,e){var i=this.da();if(i){var n=i.length,o=this.pa(),r=i||[],s=Math.cos(t);t=Math.sin(t);var a=e[0];e=e[1];for(var l=0,h=0;h<n;h+=o){var c=i[h]-a,u=i[h+1]-e;for(r[l++]=a+c*s-u*t,r[l++]=e+c*t+u*s,c=h+2;c<h+o;++c)r[l++]=i[c]}i&&r.length!=l&&(r.length=l),this.u()}},t.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;if(o||(o=Y(this.G())),i=this.da()){e=i.length;var r=this.pa(),s=i||[],a=o[0];o=o[1];for(var l=0,h=0;h<e;h+=r){var c=i[h]-a,u=i[h+1]-o;for(s[l++]=a+t*c,s[l++]=o+n*u,c=h+2;c<h+r;++c)s[l++]=i[c]}i&&s.length!=l&&(s.length=l),this.u()}},t.translate=function(t,e){var i=this.da();i&&(dn(i,0,i.length,this.pa(),t,e,i),this.u())},s(Yn,Mn),(t=Yn.prototype).clone=function(){var t=new Yn(null);return Xn(t,this.ja,this.A.slice()),t},t.Nb=function(t,e,i,n){return n<E(this.G(),t,e)?n:(this.c!=this.g&&(this.j=Math.sqrt(Rn(this.A,0,this.A.length,this.a,0)),this.c=this.g),Fn(this.A,0,this.A.length,this.a,this.j,!0,t,e,i,n))},t.Vn=function(){return Ln(this.A,0,this.A.length,this.a)},t.W=function(){return Vn(this.A,0,this.A.length,this.a)},t.xd=function(t){var e=[];return e.length=Un(this.A,0,this.A.length,this.a,t,e,0),Xn(t=new Yn(null),"XY",e),t},t.S=function(){return"LinearRing"},t.$a=function(){},t.na=function(t,e){t?(Pn(this,e,t,1),this.A||(this.A=[]),this.A.length=Bn(this.A,0,t,this.a),this.u()):Xn(this,"XY",null)},s(Zn,Mn),(t=Zn.prototype).clone=function(){var t=new Zn(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,i,n){var o=this.A;if((t=v(t,e,o[0],o[1]))<n){for(n=this.a,e=0;e<n;++e)i[e]=o[e];return i.length=n,t}return n},t.W=function(){return this.A?this.A.slice():[]},t.Ae=function(t){return F(this.A,t)},t.S=function(){return"Point"},t.$a=function(t){return L(t,this.A[0],this.A[1])},t.na=function(t,e){t?(Pn(this,e,t,0),this.A||(this.A=[]),this.A.length=Gn(this.A,t),this.u()):this.ba("XY",null)},t.ba=function(t,e){Tn(this,t,e),this.u()},s(so,Mn),(t=so.prototype).Hk=function(t){this.A?Zt(this.A,t.da()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new so(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,i,n){return n<E(this.G(),t,e)?n:(this.C!=this.g&&(this.B=Math.sqrt(On(this.A,0,this.c,this.a,0)),this.C=this.g),kn(this.A,0,this.c,this.a,this.B,!0,t,e,i,n))},t.Zc=function(t,e){return Jn(this.Xb(),0,this.c,this.a,t,e)},t.Yn=function(){return Nn(this.Xb(),0,this.c,this.a)},t.W=function(t){if(void 0!==t){var e=this.Xb().slice();oo(e,0,this.c,this.a,t)}else e=this.A;return jn(e,0,this.c,this.a)},t.pb=function(){return this.c},t.Td=function(){if(this.o!=this.g){var t=Y(this.G());this.D=Qn(this.Xb(),0,this.c,this.a,t,0),this.o=this.g}return this.D},t.tl=function(){return new Zn(this.Td(),"XYM")},t.zl=function(){return this.c.length},t.Wh=function(t){if(0>t||this.c.length<=t)return null;var e=new Yn(null);return Xn(e,this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.Ud=function(){var t,e=this.ja,i=this.A,n=this.c,o=[],r=0,s=0;for(t=n.length;s<t;++s){var a=n[s],l=new Yn(null);Xn(l,e,i.slice(r,a)),o.push(l),r=a}return o},t.Xb=function(){if(this.T!=this.g){var t=this.A;no(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=oo(this.j,0,this.c,this.a)),this.T=this.g}return this.j},t.xd=function(t){var e=[],i=[];return e.length=Wn(this.A,0,this.c,this.a,Math.sqrt(t),e,0,i),(t=new so(null)).ba("XY",e,i),t},t.S=function(){return"Polygon"},t.$a=function(t){return eo(this.Xb(),0,this.c,this.a,t)},t.na=function(t,e){t?(Pn(this,e,t,2),this.A||(this.A=[]),t=zn(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,i){Tn(this,t,e),this.c=i,this.u()},s(uo,Te),(t=uo.prototype).animate=function(t){var e=arguments.length;if(1<e&&"function"==typeof arguments[e-1]){var i=arguments[e-1];--e}if(vo(this)){for(var n=Date.now(),o=this.xa().slice(),r=this.Pa(),s=this.Sa(),a=[],l=0;l<e;++l){var h=arguments[l],c={start:n,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||hn};h.center&&(c.ie=o,c.me=h.center,o=c.me),void 0!==h.zoom?(c.ke=r,c.kd=this.constrainResolution(this.a,h.zoom-this.s,0),r=c.kd):h.resolution&&(c.ke=r,c.kd=h.resolution,r=c.kd),void 0!==h.rotation&&(c.Df=s,c.ne=s+(x(h.rotation-s+Math.PI,2*Math.PI)-Math.PI),s=c.ne),c.callback=i,c.ie&&c.me&&!$i(c.ie,c.me)||c.ke!==c.kd||c.Df!==c.ne?n+=c.duration:c.complete=!0,a.push(c)}this.c.push(a),_o(this,0,1),this.Ff()}else(e=arguments[e-1]).center&&this.ub(e.center),void 0!==e.zoom&&this.Tj(e.zoom),void 0!==e.rotation&&this.ce(e.rotation),i&&i(!0)},t.Ac=function(){return 0<this.f[0]},t.Vh=function(){return 0<this.f[1]},t.rd=function(){_o(this,0,-this.f[0]);for(var t=0,e=this.c.length;t<e;++t){var i=this.c[t];i[0].callback&&i[0].callback(!1)}this.c.length=0},t.Ff=function(){if(void 0!==this.o&&(cancelAnimationFrame(this.o),this.o=void 0),this.Ac()){for(var t=Date.now(),e=!1,i=this.c.length-1;0<=i;--i){for(var n=this.c[i],o=!0,r=0,s=n.length;r<s;++r){var a=n[r];if(!a.complete){if(e=t-a.start,1<=(e=0<a.duration?e/a.duration:1)?(a.complete=!0,e=1):o=!1,e=a.easing(e),a.ie){var l=a.ie[0],h=a.ie[1];this.set("center",[l+e*(a.me[0]-l),h+e*(a.me[1]-h)])}if(a.ke&&a.kd&&(l=1===e?a.kd:a.ke+e*(a.kd-a.ke),a.anchor&&this.set("center",yo(this,l,a.anchor)),this.set("resolution",l)),void 0!==a.Df&&void 0!==a.ne&&(e=1===e?x(a.ne+Math.PI,2*Math.PI)-Math.PI:a.Df+e*(a.ne-a.Df),a.anchor&&this.set("center",fo(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}o&&(this.c[i]=null,_o(this,0,-1),(n=n[0].callback)&&n(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.o&&(this.o=requestAnimationFrame(this.Ff))}},t.Sc=function(t){return this.l.center(t)},t.constrainResolution=function(t,e,i){return this.l.resolution(t,e||0,i||0)},t.constrainRotation=function(t,e){return this.l.rotation(t,e||0)},t.xa=function(){return this.get("center")},t.qd=function(t){t=t||mo(this);var e=this.xa();d(e,1);var i=this.Pa();d(void 0!==i,2);var n=this.Sa();return d(void 0!==n,3),X(e,i,n,t)},t.sn=function(){return this.a},t.vn=function(){return this.i},t.tn=function(){return this.Me(this.i)},t.Cq=function(t){po(this,go(this,{maxZoom:t}))},t.wn=function(){return this.Me(this.a)},t.Dq=function(t){po(this,go(this,{minZoom:t}))},t.xn=function(){return this.v},t.Pa=function(){return this.get("resolution")},t.yn=function(){return this.j},t.Je=function(t,e){return e=e||mo(this),Math.max(Q(t)/e[0],Z(t)/e[1])},t.Sa=function(){return this.get("rotation")},t.getState=function(){var t=this.xa(),e=this.v,i=this.Pa(),n=this.Sa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:n,zoom:this.lg()}},t.lg=function(){var t,e=this.Pa();return void 0!==e&&(t=this.Me(e)),t},t.Me=function(t){var e,i=this.s||0;if(this.j){i=e=Xt(this.j,t,1);var n=this.j[e];e=e==this.j.length-1?2:n/this.j[e+1]}else n=this.a,e=this.D;return i+Math.log(n/t)/Math.log(e)},t.$h=function(t){return this.constrainResolution(this.a,t-this.s,0)},t.Uf=function(t,e){var i=(e=e||{}).size;if(i||(i=mo(this)),t instanceof Mn)if("Circle"===t.S()){var n=lo(t=t.G());n.rotate(this.Sa(),Y(t))}else n=t;else d(Array.isArray(t),24),d(!tt(t),25),n=lo(t);var o,r=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0===e.constrainResolution||e.constrainResolution,l=void 0!==e.nearest&&e.nearest;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.a,e.maxZoom-this.s,0):0;var h=n.da(),c=this.Sa();t=Math.cos(-c),c=Math.sin(-c);var u=1/0,p=1/0,g=-1/0,f=-1/0;n=n.pa();for(var y=0,m=h.length;y<m;y+=n){var v=h[y]*t-h[y+1]*c,_=h[y]*c+h[y+1]*t;u=Math.min(u,v),p=Math.min(p,_),g=Math.max(g,v),f=Math.max(f,_)}i=this.Je([u,p,g,f],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i=isNaN(i)?o:Math.max(i,o),s&&(o=this.constrainResolution(i,0,0),!l&&o<i&&(o=this.constrainResolution(o,-1,0)),i=o),c=-c,t=[(o=(u+g)/2+(r[1]-r[3])/2*i)*t-(r=(p+f)/2+(r[0]-r[2])/2*i)*c,r*t+o*c],r=e.callback?e.callback:a,void 0!==e.duration?this.animate({resolution:i,center:t,duration:e.duration,easing:e.easing},r):(this.gd(i),this.ub(t),setTimeout(r.bind(void 0,!0),0))},t.Nk=function(t,e,i){var n=this.Sa(),o=Math.cos(-n);n=Math.sin(-n);var r=t[0]*o-t[1]*n;t=t[1]*o+t[0]*n;var s=this.Pa();r+=(e[0]/2-i[0])*s,t+=(i[1]-e[1]/2)*s,n=-n,this.ub([r*o-t*n,t*o+r*n])},t.rotate=function(t,e){void 0!==e&&(e=fo(this,t,e),this.ub(e)),this.ce(t)},t.ub=function(t){this.set("center",t),this.Ac()&&this.rd()},t.gd=function(t){this.set("resolution",t),this.Ac()&&this.rd()},t.ce=function(t){this.set("rotation",t),this.Ac()&&this.rd()},t.Tj=function(t){this.gd(this.$h(t))},s(Ao,Te),(t=Ao.prototype).S=function(){return this.type},t.G=function(){return this.get("extent")},t.lc=function(){return this.get("maxResolution")},t.mc=function(){return this.get("minResolution")},t.nc=function(){return this.get("opacity")},t.Jb=function(){return this.get("visible")},t.Ba=function(){return this.get("zIndex")},t.Fc=function(t){this.set("extent",t)},t.Mc=function(t){this.set("maxResolution",t)},t.Nc=function(t){this.set("minResolution",t)},t.Gc=function(t){this.set("opacity",t)},t.Hc=function(t){this.set("visible",t)},t.$b=function(t){this.set("zIndex",t)},s(wo,Ao),(t=wo.prototype).Pe=function(){this.u()},t.im=function(){this.i.forEach(xe),this.i.length=0;var t,e=this.Cd();for(var i in this.i.push(me(e,"add",this.hm,this),me(e,"remove",this.jm,this)),this.c)this.c[i].forEach(xe);for(ot(this.c),i=0,t=(e=e.a).length;i<t;i++){var n=e[i];this.c[l(n).toString()]=[me(n,"propertychange",this.Pe,this),me(n,"change",this.Pe,this)]}this.u()},t.hm=function(t){var e=l(t=t.element).toString();this.c[e]=[me(t,"propertychange",this.Pe,this),me(t,"change",this.Pe,this)],this.u()},t.jm=function(t){t=l(t.element).toString(),this.c[t].forEach(xe),delete this.c[t],this.u()},t.Cd=function(){return this.get(So)},t.Qi=function(t){this.set(So,t)},t.dg=function(t){var e,i=void 0!==t?t:[],n=i.length;for(this.Cd().forEach((function(t){t.dg(i)})),t=bo(this),e=i.length;n<e;n++){var o=i[n];o.opacity*=t.opacity,o.visible=o.visible&&t.visible,o.maxResolution=Math.min(o.maxResolution,t.maxResolution),o.minResolution=Math.max(o.minResolution,t.minResolution),void 0!==t.extent&&(o.extent=void 0!==o.extent?q(o.extent,t.extent):t.extent)}return i},t.hg=function(){return"ready"};var So="layers",Mo=[],Eo=[];function To(t,e){switch(t){case"MAP_RENDERER":(t=Mo).push(e);break;case"LAYER_RENDERER":(t=Eo).push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function Po(t){for(var e=0,i=t.length;e<i;++e)To("LAYER_RENDERER",t[e])}function Lo(t){Te.call(this);var e=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var r=t.logo;"string"==typeof r?o[r]="":r instanceof HTMLElement?o[l(r).toString()]=r:r&&(d("string"==typeof r.href,44),d("string"==typeof r.src,45),o[r.src]=r.href)}r=t.layers instanceof wo?t.layers:new wo({layers:t.layers}),n.layergroup=r,n.target=t.target,n.view=void 0!==t.view?t.view:new uo,void 0!==t.renderer?(Array.isArray(t.renderer)?i=t.renderer:"string"==typeof t.renderer?i=[t.renderer]:d(!1,46),0<=i.indexOf("dom")&&(i=i.concat(No))):i=No,r=0;var s=i.length;t:for(;r<s;++r)for(var a=i[r],h=0,c=Mo.length;h<c;++h){var u=Mo[h];if(u.handles(a)){var p=u;break t}}if(!p)throw Error("Unable to create a map renderer for types: "+i.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var g=new Re(t.controls.slice());else d(t.controls instanceof Re,47),g=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var f=new Re(t.interactions.slice());else d(t.interactions instanceof Re,48),f=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new Re(t.overlays.slice()):(d(t.overlays instanceof Re,49),t=t.overlays):t=new Re,{controls:g,interactions:f,keyboardEventTarget:e,logos:o,overlays:t,Im:p,values:n}}(t);this.ob=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.sc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.ra=void 0!==t.pixelRatio?t.pixelRatio:Ke,this.Md=e.logos,this.V=function(){this.j=void 0,this.pq.call(this)}.bind(this),this.La=[1,0,0,1,0,0],this.If=[1,0,0,1,0,0],this.bb=0,this.D=this.C=this.B=this.f=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(ei?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer",this.a.appendChild(this.o),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent";for(var i="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),n=0,o=i.length;n<o;++n)me(this.v,i[n],we);for(var r in this.a.appendChild(this.v),this.ca=new Di(this,t.moveTolerance),ai)me(this.ca,ai[r],this.bi,this);this.$=e.keyboardEventTarget,this.s=null,me(this.a,"wheel",this.yd,this),me(this.a,"mousewheel",this.yd,this),this.controls=e.controls||new Re,this.interactions=e.interactions||new Re,this.l=e.overlays,this.Fg={},this.pc=e.Im.create(this.a,this),this.T=null,this.Ea=[],this.ua=new Vi(this.Tl.bind(this),this.zm.bind(this)),this.O={},me(this,Le("layergroup"),this.fm,this),me(this,Le("view"),this.Am,this),me(this,Le("size"),this.um,this),me(this,Le("target"),this.ym,this),this.H(e.values),this.controls.forEach((function(t){t.setMap(this)}),this),me(this.controls,"add",(function(t){t.element.setMap(this)}),this),me(this.controls,"remove",(function(t){t.element.setMap(null)}),this),this.interactions.forEach((function(t){t.setMap(this)}),this),me(this.interactions,"add",(function(t){t.element.setMap(this)}),this),me(this.interactions,"remove",(function(t){t.element.setMap(null)}),this),this.l.forEach(this.zh,this),me(this.l,"add",(function(t){this.zh(t.element)}),this),me(this.l,"remove",(function(t){var e=t.element.id;void 0!==e&&delete this.Fg[e.toString()],t.element.setMap(null)}),this)}s(Lo,Te),(t=Lo.prototype).Mf=function(t){this.controls.push(t)},t.Nf=function(t){this.interactions.push(t)},t.xe=function(t){this.hc().Cd().push(t)},t.ye=function(t){this.l.push(t)},t.zh=function(t){var e=t.id;void 0!==e&&(this.Fg[e.toString()]=t),t.setMap(this)},t.ia=function(){Ae(this.ca),_e(this.a,"wheel",this.yd,this),_e(this.a,"mousewheel",this.yd,this),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.Ad(null),Te.prototype.ia.call(this)},t.Tc=function(t,e,i){if(this.c)return t=this.Ra(t),i=void 0!==i?i:{},this.pc.wa(t,this.c,void 0!==i.hitTolerance?i.hitTolerance*this.c.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:un,null)},t.Xf=function(t,e){var i=null;return this.Tc(t,(function(t){i||(i=[]),i.push(t)}),e),i},t.tg=function(t,e,i,n,o){if(this.c)return this.pc.Ti(t,this.c,e,void 0!==i?i:null,void 0!==n?n:un,void 0!==o?o:null)},t.ng=function(t,e){return!!this.c&&(t=this.Ra(t),e=void 0!==e?e:{},this.pc.Ui(t,this.c,void 0!==e.hitTolerance?e.hitTolerance*this.c.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:un,null))},t.Sd=function(t){return this.Ra(this.ud(t))},t.ud=function(t){var e=this.a.getBoundingClientRect();return[(t=t.changedTouches?t.changedTouches[0]:t).clientX-e.left,t.clientY-e.top]},t.Xd=function(){return this.get("target")},t.Cc=function(){var t=this.Xd();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},t.Ra=function(t){var e=this.c;return e?xn(e.pixelToCoordinateTransform,t.slice()):null},t.Wf=function(){return this.controls},t.gg=function(){return this.l},t.fg=function(t){return void 0!==(t=this.Fg[t.toString()])?t:null},t.bg=function(){return this.interactions},t.hc=function(){return this.get("layergroup")},t.Xe=function(){return this.hc().Cd()},t.Ia=function(t){var e=this.c;return e?xn(e.coordinateToPixelTransform,t.slice(0,2)):null},t.Ie=function(){return this.pc},t.Cb=function(){return this.get("size")},t.aa=function(){return this.get("view")},t.kg=function(){return this.a},t.Tl=function(t,e,i,n){var o=this.c;return o&&e in o.wantedTiles&&o.wantedTiles[e][t.lb()]?(t=i[0]-o.focus[0],i=i[1]-o.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},t.yd=function(t,e){t=new ze(e||t.type,this,t),this.bi(t)},t.bi=function(t){if(this.c){this.T=t.coordinate,t.frameState=this.c;var e,i=this.interactions.a;if(!1!==this.b(t))for(e=i.length-1;0<=e;e--){var n=i[e];if(n.c()&&!n.handleEvent(t))break}}},t.sm=function(){var t=this.c,e=this.ua;if(0!==e.b.length){var i=16,n=i;if(t){var o=t.viewHints;o[0]&&(i=this.ob?8:0,n=2),o[1]&&(i=this.sc?8:0,n=2)}e.j<i&&(zi(e),ji(e,i,n))}for(i=0,n=(e=this.Ea).length;i<n;++i)e[i](this,t);e.length=0},t.um=function(){this.render()},t.ym=function(){var t;if(this.Xd()&&(t=this.Cc()),this.s){for(var e=0,i=this.s.length;e<i;++e)xe(this.s[e]);this.s=null}if(t){t.appendChild(this.a);var n=this.$?this.$:t;this.s=[me(n,"keydown",this.yd,this),me(n,"keypress",this.yd,this)],this.i||(this.i=this.Oc.bind(this),window.addEventListener("resize",this.i,!1))}else{for(n in(t=this.pc).c)Ae(Ks(t,n));Io(this.a),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)}this.Oc()},t.zm=function(){this.render()},t.ei=function(){this.render()},t.Am=function(){this.B&&(xe(this.B),this.B=null),this.C&&(xe(this.C),this.C=null);var t=this.aa();t&&(this.a.setAttribute("data-view",l(t)),this.B=me(t,"propertychange",this.ei,this),this.C=me(t,"change",this.ei,this)),this.render()},t.fm=function(){this.D&&(this.D.forEach(xe),this.D=null);var t=this.hc();t&&(this.D=[me(t,"propertychange",this.render,this),me(t,"change",this.render,this)]),this.render()},t.dh=function(){this.j&&cancelAnimationFrame(this.j),this.V()},t.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.V))},t.Xg=function(t){return this.controls.remove(t)},t.Zg=function(t){return this.interactions.remove(t)},t.$g=function(t){return this.hc().Cd().remove(t)},t.ah=function(t){return this.l.remove(t)},t.pq=function(){var t,e=Date.now(),i=this.Cb(),n=this.aa(),o=[1/0,1/0,-1/0,-1/0],r=this.c,s=null;if(void 0!==i&&0<i[0]&&0<i[1]&&n&&vo(n)){void 0!==(s=this.c?this.c.viewHints:void 0)?(s[0]=n.f[0],s[1]=n.f[1]):s=n.f.slice();var a=this.hc().dg(),h={},c=0;for(t=a.length;c<t;++c)h[l(a[c].layer)]=a[c];c=n.getState(),n=c.center,t=c.resolution/this.ra,n[0]=Math.round(n[0]/t)*t,n[1]=Math.round(n[1]/t)*t,s={animate:!1,coordinateToPixelTransform:this.La,extent:o,focus:this.T?this.T:n,index:this.bb++,layerStates:h,layerStatesArray:a,logos:nt({},this.Md),pixelRatio:this.ra,pixelToCoordinateTransform:this.If,postRenderFunctions:[],size:i,skippedFeatureUids:this.O,tileQueue:this.ua,time:e,usedTiles:{},viewState:c,viewHints:s,wantedTiles:{}}}s&&(s.extent=X(c.center,c.resolution,c.rotation,s.size,o)),this.c=s,this.pc.bh(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.Ea,s.postRenderFunctions),!r||this.f&&(tt(this.f)||G(s.extent,this.f))||(this.b(new Be("movestart",this,r)),this.f=O(this.f)),!this.f||s.viewHints[0]||s.viewHints[1]||G(s.extent,this.f)||(this.b(new Be("moveend",this,s)),M(s.extent,this.f))),this.b(new Be("postrender",this,s)),setTimeout(this.sm.bind(this),0)},t.zf=function(t){this.set("layergroup",t)},t.be=function(t){this.set("size",t)},t.Ad=function(t){this.set("target",t)},t.jh=function(t){this.set("view",t)},t.Uj=function(t){t=l(t).toString(),this.O[t]=!0,this.render()},t.Oc=function(){var t=this.Cc();if(t){var e=getComputedStyle(t);this.be([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.be(void 0)},t.Zj=function(t){t=l(t).toString(),delete this.O[t],this.render()};var No=["canvas","webgl"];function Do(t){Te.call(this),this.element=t.element?t.element:null,this.a=this.T=null,this.s=[],this.render=t.render?t.render:a,t.target&&this.i(t.target)}s(Do,Te),Do.prototype.ia=function(){Io(this.element),Te.prototype.ia.call(this)},Do.prototype.f=function(){return this.a},Do.prototype.setMap=function(t){this.a&&Io(this.element);for(var e=0,i=this.s.length;e<i;++e)xe(this.s[e]);this.s.length=0,(this.a=t)&&((this.T?this.T:t.v).appendChild(this.element),this.render!==a&&this.s.push(me(t,"postrender",this.render,this)),t.render())},Do.prototype.i=function(t){this.T="string"==typeof t?document.getElementById(t):t};var Ro=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}();function Oo(t){var e=nt({},t);delete e.source,Ao.call(this,e),this.o=this.v=this.s=null,t.map&&this.setMap(t.map),me(this,Le("source"),this.wm,this),this.hd(t.source?t.source:null)}function Fo(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function ko(t){t=t||{},this.v=document.createElement("UL"),this.l=document.createElement("LI"),this.v.appendChild(this.l),this.l.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.j=void 0===t.collapsible||t.collapsible,this.j||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.o=document.createElement("span"),this.o.textContent=n):this.o=n,"string"==typeof(n=void 0!==t.label?t.label:"i")?(this.D=document.createElement("span"),this.D.textContent=n):this.D=n;var o=this.j&&!this.c?this.o:this.D;(n=document.createElement("button")).setAttribute("type","button"),n.title=i,n.appendChild(o),me(n,"click",this.Bn,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.c&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),i.appendChild(this.v),i.appendChild(n),Do.call(this,{element:i,render:t.render?t.render:Go,target:t.target}),this.B=[],this.C=!0,this.O={}}function Go(t){if(t=t.frameState){for(var e={},i=[],n=t.layerStatesArray,o=t.viewState.resolution,r=0,s=n.length;r<s;++r){var a=n[r];if(Fo(a,o)&&(a=a.layer.ha())&&(a=a.C)&&(a=a(t)))if(Array.isArray(a))for(var l=0,h=a.length;l<h;++l)a[l]in e||(i.push(a[l]),e[a[l]]=!0);else a in e||(i.push(a),e[a]=!0)}if(!Kt(i,this.B)){for(;this.v.lastChild!==this.l;)this.v.removeChild(this.v.lastChild);for(e=0,n=i.length;e<n;++e)(o=document.createElement("LI")).innerHTML=i[e],this.v.appendChild(o);for(u in 0===i.length&&0<this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<i.length&&this.element.classList.remove("ol-logo-only"),e=0<i.length||!st(t.logos),this.C!=e&&(this.element.style.display=e?"":"none",this.C=e),this.B=i,t=t.logos,i=this.O)u in t||(Io(i[u]),delete i[u]);for(var c in t)if((n=t[c])instanceof HTMLElement&&(this.l.appendChild(n),i[c]=n),!(c in i)){var u=new Image;u.src=c,""===n?e=u:((e=document.createElement("a")).href=n,e.appendChild(u)),this.l.appendChild(e),i[c]=e}this.l.style.display=st(t)?"none":""}}else this.C&&(this.element.style.display="none",this.C=!1)}function Bo(t){t.element.classList.toggle("ol-collapsed"),t.c?Co(t.o,t.D):Co(t.D,t.o),t.c=!t.c}function zo(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.c=null,"string"==typeof i?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=i):(this.c=i,this.c.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation";(i=document.createElement("button")).className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.c),me(i,"click",zo.prototype.D,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:Vo,this.l=t.resetNorth?t.resetNorth:void 0,Do.call(this,{element:n,render:e,target:t.target}),this.v=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.o=void 0,this.j&&this.element.classList.add("ol-hidden")}function Vo(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.o){var e="rotate("+t+"rad)";if(this.j){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.o=t}}function jo(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=r,a.appendChild("string"==typeof n?document.createTextNode(n):n),me(a,"click",jo.prototype.j.bind(this,i)),(n=document.createElement("button")).className=e+"-out",n.setAttribute("type","button"),n.title=s,n.appendChild("string"==typeof o?document.createTextNode(o):o),me(n,"click",jo.prototype.j.bind(this,-i)),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),Do.call(this,{element:i,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Ho(t){t=t||{};var e=new Re;return(void 0===t.zoom||t.zoom)&&e.push(new jo(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new zo(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new ko(t.attributionOptions)),e}function Uo(t,e,i){this.i=t,this.c=e,this.f=i,this.b=[],this.a=this.g=0}function Wo(t){t.b.length=0,t.g=0,t.a=0}function Yo(t){Te.call(this),this.v=null,this.Ha(!0),this.handleEvent=t.handleEvent}function Xo(t,e,i,n){if(void 0!==e){var o=t.Sa(),r=t.xa();void 0!==o&&r&&0<n?t.animate({rotation:e,anchor:i,duration:n,easing:ln}):t.rotate(e,i)}}function Zo(t,e,i,n){var o=t.Pa();if(void 0!==(e=t.constrainResolution(o,e,0))){var r=t.j;e=f(e,t.i||r[r.length-1],t.a||r[0])}i&&void 0!==e&&e!==o&&(r=t.xa(),i=yo(t,e,i),i=t.Sc(i),i=[(e*r[0]-o*i[0])/(e-o),(e*r[1]-o*i[1])/(e-o)]),qo(t,e,i,n)}function qo(t,e,i,n){if(e){var o=t.Pa(),r=t.xa();void 0!==o&&r&&e!==o&&n?t.animate({resolution:e,anchor:i,duration:n,easing:ln}):(i&&(i=yo(t,e,i),t.ub(i)),t.gd(e))}}function Ko(t){t=t||{},this.a=t.delta?t.delta:1,Yo.call(this,{handleEvent:Jo}),this.f=void 0!==t.duration?t.duration:250}function Jo(t){var e=!1,i=t.originalEvent;return"dblclick"==t.type&&(e=t.coordinate,i=i.shiftKey?-this.a:this.a,Zo(t.map.aa(),i,e,this.f),t.preventDefault(),e=!0),!e}function Qo(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function $o(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function tr(t){return 0==(t=t.originalEvent).button&&!(Ze&&qe&&t.ctrlKey)}function er(t){return"pointermove"==t.type}function ir(t){return"singleclick"==t.type}function nr(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function or(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function rr(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function sr(t){return d(t.b,56),"mouse"==t.b.pointerType}function ar(t){return(t=t.b).isPrimary&&0===t.button}function lr(t){t=t||{},Yo.call(this,{handleEvent:t.handleEvent?t.handleEvent:cr}),this.ck=t.handleDownEvent?t.handleDownEvent:pn,this.Ek=t.handleDragEvent?t.handleDragEvent:a,this.Kk=t.handleMoveEvent?t.handleMoveEvent:a,this.Lk=t.handleUpEvent?t.handleUpEvent:pn,this.D=!1,this.$={},this.l=[]}function hr(t){for(var e=t.length,i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}function cr(t){if(!(t instanceof li))return!0;var e=!1,i=t.type;if("pointerdown"===i||"pointerdrag"===i||"pointerup"===i){var n=(i=t.b).pointerId.toString();"pointerup"==t.type?delete this.$[n]:("pointerdown"==t.type||n in this.$)&&(this.$[n]=i),this.l=rt(this.$)}return this.D?"pointerdrag"==t.type?this.Ek(t):"pointerup"==t.type&&(this.D=this.Lk(t)&&0<this.l.length):"pointerdown"==t.type?(this.D=t=this.ck(t),e=this.jd(t)):"pointermove"==t.type&&this.Kk(t),!e}function ur(t){lr.call(this,{handleDownEvent:dr,handleDragEvent:pr,handleUpEvent:gr}),t=t||{},this.a=t.kinetic,this.f=null,this.o=t.condition?t.condition:nr,this.j=!1}function pr(t){var e=this.l,i=hr(e);if(e.length==this.s){if(this.a&&this.a.b.push(i[0],i[1],Date.now()),this.f){var n=this.f[0]-i[0],o=i[1]-this.f[1],r=(t=t.map.aa()).getState();en(n=[n,o],r.resolution),tn(n,r.rotation),qi(n,r.center),n=t.Sc(n),t.ub(n)}}else this.a&&Wo(this.a);this.f=i,this.s=e.length}function gr(t){var e=t.map;if(t=e.aa(),0===this.l.length){if(!this.j&&this.a&&function(t){if(6>t.b.length)return!1;var e=Date.now()-t.f,i=t.b.length-3;if(t.b[i+2]<e)return!1;for(var n=i-3;0<n&&t.b[n+2]>e;)n-=3;if((e=t.b[i+2]-t.b[n+2])<1e3/60)return!1;var o=t.b[i]-t.b[n];return i=t.b[i+1]-t.b[n+1],t.g=Math.atan2(i,o),t.a=Math.sqrt(o*o+i*i)/e,t.a>t.c}(this.a)){var i=this.a;i=(i.c-i.a)/i.i;var n=this.a.g,o=t.xa();o=e.Ia(o),e=e.Ra([o[0]-i*Math.cos(n),o[1]-i*Math.sin(n)]),t.animate({center:t.Sc(e),duration:500,easing:ln})}return _o(t,1,-1),!1}return this.a&&Wo(this.a),this.f=null,!0}function dr(t){if(0<this.l.length&&this.o(t)){var e=t.map.aa();return this.f=null,this.D||_o(e,1,1),e.Ac()&&e.ub(t.frameState.viewState.center),this.a&&Wo(this.a),this.j=1<this.l.length,!0}return!1}function fr(t){t=t||{},lr.call(this,{handleDownEvent:vr,handleDragEvent:yr,handleUpEvent:mr}),this.f=t.condition?t.condition:$o,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function yr(t){if(sr(t)){var e=t.map,i=e.aa();if(i.l.rotation!==Wi){if(e=e.Cb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a){e=t-this.a;var n=i.Sa();Xo(i,n-e)}this.a=t}}}function mr(t){if(!sr(t))return!0;_o(t=t.map.aa(),1,-1);var e=t.Sa(),i=this.j;return e=t.constrainRotation(e,0),Xo(t,e,void 0,i),!1}function vr(t){return!!(sr(t)&&tr(t)&&this.f(t))&&(_o(t.map.aa(),1,1),this.a=void 0,!0)}function _r(t){this.Uc=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function xr(t){var e=t.c,i=t.g;(t=t.a.style).left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function Cr(t){var e=t.c,i=t.g;(e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.b.Ra,t.b))[4]=e[0].slice(),t.Uc?t.Uc.na([e]):t.Uc=new so([e])}function Ir(t){lr.call(this,{handleDownEvent:Sr,handleDragEvent:br,handleUpEvent:wr}),t=t||{},this.a=new _r(t.className||"ol-dragbox"),this.o=void 0!==t.minArea?t.minArea:64,this.f=null,this.C=t.condition?t.condition:un,this.s=t.boxEndCondition?t.boxEndCondition:Ar}function Ar(t,e,i){return(t=i[0]-e[0])*t+(e=i[1]-e[1])*e>=this.o}function br(t){if(sr(t)){var e=this.a,i=t.pixel;e.c=this.f,e.g=i,Cr(e),xr(e),this.b(new Pr(Er,t.coordinate,t))}}function wr(t){return!sr(t)||(this.a.setMap(null),this.s(t,this.f,t.pixel)&&(this.j(t),this.b(new Pr(Tr,t.coordinate,t))),!1)}function Sr(t){if(sr(t)&&tr(t)&&this.C(t)){this.f=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.f;return e.c=this.f,e.g=i,Cr(e),xr(e),this.b(new Pr(Mr,t.coordinate,t)),!0}return!1}s(Oo,Ao),(t=Oo.prototype).dg=function(t){return(t=t||[]).push(bo(this)),t},t.ha=function(){return this.get("source")||null},t.hg=function(){var t=this.ha();return t?t.getState():"undefined"},t.yo=function(){this.u()},t.wm=function(){this.o&&(xe(this.o),this.o=null);var t=this.ha();t&&(this.o=me(t,"change",this.yo,this)),this.u()},t.setMap=function(t){this.s&&(xe(this.s),this.s=null),t||this.u(),this.v&&(xe(this.v),this.v=null),t&&(this.s=me(t,"precompose",(function(t){var e=bo(this);e.Te=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[l(this)]=e}),this),this.v=me(this,"change",t.render,t),this.u())},t.hd=function(t){this.set("source",t)},s(ko,Do),(t=ko.prototype).Bn=function(t){t.preventDefault(),Bo(this)},t.An=function(){return this.j},t.Dn=function(t){this.j!==t&&(this.j=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&Bo(this))},t.Cn=function(t){this.j&&this.c!==t&&Bo(this)},t.zn=function(){return this.c},s(zo,Do),zo.prototype.D=function(t){t.preventDefault(),void 0!==this.l?this.l():(t=this.a.aa())&&void 0!==t.Sa()&&(0<this.v?t.animate({rotation:0,duration:this.v,easing:ln}):t.ce(0))},s(jo,Do),jo.prototype.j=function(t,e){if(e.preventDefault(),e=this.a.aa()){var i=e.Pa();i&&(t=e.constrainResolution(i,t),0<this.c?(e.Ac()&&e.rd(),e.animate({resolution:t,duration:this.c,easing:ln})):e.gd(t))}},s(Yo,Te),Yo.prototype.c=function(){return this.get("active")},Yo.prototype.i=function(){return this.v},Yo.prototype.Ha=function(t){this.set("active",t)},Yo.prototype.setMap=function(t){this.v=t},s(Ko,Yo),s(lr,Yo),lr.prototype.jd=function(t){return t},s(ur,lr),ur.prototype.jd=pn,s(fr,lr),fr.prototype.jd=pn,s(_r,Ie),_r.prototype.ia=function(){this.setMap(null)},_r.prototype.setMap=function(t){if(this.b){this.b.o.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.o.appendChild(this.a)},_r.prototype.U=function(){return this.Uc},s(Ir,lr),Ir.prototype.U=function(){return this.a.U()},Ir.prototype.j=a;var Mr="boxstart",Er="boxdrag",Tr="boxend";function Pr(t,e,i){be.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function Lr(t){var e=(t=t||{}).condition?t.condition:or;this.B=void 0!==t.duration?t.duration:200,this.T=void 0!==t.out&&t.out,Ir.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Nr(t){Yo.call(this,{handleEvent:Dr}),t=t||{},this.a=function(t){return nr(t)&&rr(t)},this.f=void 0!==t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function Dr(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.f(t)&&(40==i||37==i||39==i||38==i)){var n=(e=t.map.aa()).Pa()*this.l,o=0,r=0;40==i?r=-n:37==i?o=-n:39==i?o=n:r=n,tn(n=[o,r],e.Sa()),i=this.j,(o=e.xa())&&(n=e.Sc([o[0]+n[0],o[1]+n[1]]),i?e.animate({duration:i,easing:cn,center:n}):e.ub(n)),t.preventDefault(),e=!0}}return!e}function Rr(t){Yo.call(this,{handleEvent:Or}),t=t||{},this.f=t.condition?t.condition:rr,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Or(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.f(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,Zo(i=t.map.aa(),e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function Fr(t){Yo.call(this,{handleEvent:kr}),t=t||{},this.j=0,this.D=void 0!==t.duration?t.duration:250,this.$=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.O=t.constrainResolution||!1,this.a=null,this.s=this.l=this.o=this.f=void 0}function kr(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var i=t.originalEvent;if(this.C&&(this.a=t.coordinate),"wheel"==t.type){var n=i.deltaY;Ye&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Ke),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}else"mousewheel"==t.type&&(n=-i.wheelDeltaY,Xe&&(n/=3));if(0===n)return!1;if(t=Date.now(),void 0===this.f&&(this.f=t),(!this.l||400<t-this.f)&&(this.l=4>Math.abs(n)?Gr:Br),this.l===Gr){e=e.aa(),this.s?clearTimeout(this.s):_o(e,1,1),this.s=setTimeout(this.B.bind(this),400),i=e.Pa()*Math.pow(2,n/300);var o=e.i,r=e.a,s=0;if(i<o?(i=Math.max(i,o/1.5),s=1):i>r&&(i=Math.min(i,1.5*r),s=-1),this.a){var a=yo(e,i,this.a);e.ub(e.Sc(a))}return e.gd(i),0===s&&this.O&&e.animate({resolution:e.constrainResolution(i,0<n?-1:1),easing:ln,anchor:this.a,duration:this.D}),0<s?e.animate({resolution:o,easing:ln,anchor:this.a,duration:500}):0>s&&e.animate({resolution:r,easing:ln,anchor:this.a,duration:500}),this.f=t,!1}return this.j+=n,n=Math.max(this.$-(t-this.f),0),clearTimeout(this.o),this.o=setTimeout(this.T.bind(this,e),n),!1}s(Pr,be),s(Lr,Ir),Lr.prototype.j=function(){var t=this.v,e=t.aa(),i=t.Cb(),n=this.U().G();if(this.T){var o,r=e.qd(i);n=[t.Ia(U(n)),t.Ia(J(n))],t=O(void 0);var s=0;for(o=n.length;s<o;++s)z(t,n[s]);et(r,1/(n=e.Je(t,i))),n=r}i=e.constrainResolution(e.Je(n,i)),r=Y(n),r=e.Sc(r),e.animate({resolution:i,center:r,duration:this.B,easing:ln})},s(Nr,Yo),s(Rr,Yo),s(Fr,Yo),Fr.prototype.B=function(){this.s=void 0,_o(this.v.aa(),1,-1)},Fr.prototype.T=function(t){(t=t.aa()).Ac()&&t.rd(),Zo(t,-f(this.j,-1,1),this.a,this.D),this.l=void 0,this.j=0,this.a=null,this.o=this.f=void 0},Fr.prototype.V=function(t){this.C=t,t||(this.a=null)};var Gr="trackpad",Br="wheel";function zr(t){lr.call(this,{handleDownEvent:Hr,handleDragEvent:Vr,handleUpEvent:jr}),t=t||{},this.f=null,this.j=void 0,this.a=!1,this.s=0,this.C=void 0!==t.threshold?t.threshold:.3,this.o=void 0!==t.duration?t.duration:250}function Vr(t){var e=0,i=this.l[0],n=this.l[1];if(i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX),void 0!==this.j&&(e=i-this.j,this.s+=e,!this.a&&Math.abs(this.s)>this.C&&(this.a=!0)),this.j=i,(i=(t=t.map).aa()).l.rotation!==Wi){n=t.a.getBoundingClientRect();var o=hr(this.l);o[0]-=n.left,o[1]-=n.top,this.f=t.Ra(o),this.a&&(n=i.Sa(),t.render(),Xo(i,n+e,this.f))}}function jr(t){if(2>this.l.length){if(_o(t=t.map.aa(),1,-1),this.a){var e=t.Sa(),i=this.f,n=this.o;e=t.constrainRotation(e,0),Xo(t,e,i,n)}return!1}return!0}function Hr(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.j=void 0,this.a=!1,this.s=0,this.D||_o(t.aa(),1,1),!0)}function Ur(t){lr.call(this,{handleDownEvent:Xr,handleDragEvent:Wr,handleUpEvent:Yr}),t=t||{},this.s=t.constrainResolution||!1,this.f=null,this.o=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Wr(t){var e=1,i=this.l[0],n=this.l[1],o=i.clientX-n.clientX;i=i.clientY-n.clientY,o=Math.sqrt(o*o+i*i),void 0!==this.a&&(e=this.a/o),this.a=o,n=(o=(t=t.map).aa()).Pa();var r=o.a,s=o.i;(i=n*e)>r?(e=r/n,i=r):i<s&&(e=s/n,i=s),1!=e&&(this.j=e),e=t.a.getBoundingClientRect(),(n=hr(this.l))[0]-=e.left,n[1]-=e.top,this.f=t.Ra(n),t.render(),qo(o,i,this.f)}function Yr(t){if(2>this.l.length){_o(t=t.map.aa(),1,-1);var e=t.Pa();if(this.s||e<t.i||e>t.a){var i=this.f,n=this.o;e=t.constrainResolution(e,0,this.j-1),qo(t,e,i,n)}return!1}return!0}function Xr(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.a=void 0,this.j=1,this.D||_o(t.aa(),1,1),!0)}function Zr(t){t=t||{};var e=new Re,i=new Uo(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new fr),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Ko({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new ur({kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new zr),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Ur({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Nr),e.push(new Rr({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Fr({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Lr({duration:t.zoomDuration})),e}function qr(t,e,i,n){Se.call(this),this.extent=t,this.a=i,this.resolution=e,this.state=n}function Kr(t,e,i,n,o){this.c=void 0!==o?o:null,qr.call(this,t,e,i,void 0!==o?0:2),this.g=n}function Jr(t,e,i,n,o){be.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=o}function Qr(t){Se.call(this),this.highWaterMark=void 0!==t?t:2048,this.i=0,this.a={},this.c=this.g=null}function $r(t){return t.i>t.highWaterMark}s(zr,lr),zr.prototype.jd=pn,s(Ur,lr),Ur.prototype.jd=pn,s(qr,Se),qr.prototype.u=function(){this.b("change")},qr.prototype.G=function(){return this.extent},qr.prototype.getState=function(){return this.state},s(Kr,qr),Kr.prototype.i=function(t){this.state=t?3:2,this.u()},Kr.prototype.load=function(){0==this.state&&(this.state=1,this.u(),this.c(this.i.bind(this)))},Kr.prototype.Y=function(){return this.g},s(Jr,be),s(Qr,Se),(t=Qr.prototype).clear=function(){this.i=0,this.a={},this.c=this.g=null,this.b("clear")},t.forEach=function(t,e){for(var i=this.g;i;)t.call(e,i.Pc,i.jc,this),i=i.kb},t.get=function(t){return d(void 0!==(t=this.a[t]),15),t===this.c||(t===this.g?(this.g=this.g.kb,this.g.Pb=null):(t.kb.Pb=t.Pb,t.Pb.kb=t.kb),t.kb=null,t.Pb=this.c,this.c=this.c.kb=t),t.Pc},t.remove=function(t){var e=this.a[t];return d(void 0!==e,15),e===this.c?(this.c=e.Pb)&&(this.c.kb=null):e===this.g?(this.g=e.kb)&&(this.g.Pb=null):(e.kb.Pb=e.Pb,e.Pb.kb=e.kb),delete this.a[t],--this.i,e.Pc},t.pop=function(){var t=this.g;return delete this.a[t.jc],t.kb&&(t.kb.Pb=null),this.g=t.kb,this.g||(this.c=null),--this.i,t.Pc},t.replace=function(t,e){this.get(t),this.a[t].Pc=e},t.set=function(t,e){d(!(t in this.a),16),e={jc:t,kb:null,Pb:this.c,Pc:e},this.c?this.c.kb=e:this.g=e,this.c=e,this.a[t]=e,++this.i};var ts=[0,0,0,1],es=[],is=[0,0,0,1],ns=[0,0,0,0],os=new Qr,rs={},ss=null,as={},ls=function(){function t(t){var e=hs();e.font="32px monospace",n=e.measureText("wmytzilWMYTZIL@#/&?$%10").width;var i=!0;return"monospace"!=t&&(e.font="32px "+t+",monospace",i=e.measureText("wmytzilWMYTZIL@#/&?$%10").width!=n),i}function e(){var e,n=!0;for(e in o)60>o[e]&&(t(e)?(o[e]=60,ot(as),ss=null,r.clear()):(++o[e],n=!1));n&&(window.clearInterval(i),i=void 0)}var i,n,o=rs,r=os;return function(n){if(n=Ro(n))for(var r=0,s=n.length;r<s;++r){var a=n[r];a in o||(o[a]=60,t(a)||(o[a]=0,void 0===i&&(i=window.setInterval(e,32))))}}}();function hs(){var t=ss;return t||(t=ss=xo(1,1)),t}var cs=function(){var t;return function(e){var i=as[e];return null==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=e,document.body.appendChild(t),i=as[e]=t.offsetHeight,document.body.removeChild(t)),i}}();function us(t,e){var i=hs();return t!=i.font&&(i.font=t),i.measureText(e).width}function ps(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}var gs=[1,0,0,1,0,0];function ds(t,e,i,n,o,r,s,a,l,h,c){if(1!=i){var u=t.globalAlpha;t.globalAlpha=u*i}e&&t.setTransform.apply(t,e),t.drawImage(n,o,r,s,a,l,h,s*c,a*c),u&&(t.globalAlpha=u),e&&t.setTransform.apply(t,gs)}var fs=/^#(?:[0-9a-f]{3,4}){1,2}$/i,ys=/^([a-z]*)$/i;function ms(t){return Array.isArray(t)?t:_s(t)}function vs(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}var _s=function(){var t={},e=0;return function(i){if(t.hasOwnProperty(i))var n=t[i];else{if(1024<=e)for(var o in n=0,t)0==(3&n++)&&(delete t[o],--e);if(n=i,ys.exec(n)&&((o=document.createElement("div")).style.color=n,document.body.appendChild(o),n=getComputedStyle(o).color,document.body.removeChild(o)),fs.exec(n)){var r=4>=(o=n.length-1)?1:2,s=4===o||8===o;o=parseInt(n.substr(1+0*r,r),16);var a=parseInt(n.substr(1+1*r,r),16),l=parseInt(n.substr(1+2*r,r),16);n=s?parseInt(n.substr(1+3*r,r),16):255,1==r&&(o=(o<<4)+o,a=(a<<4)+a,l=(l<<4)+l,s&&(n=(n<<4)+n)),r=[o,a,l,n/255]}else 0==n.indexOf("rgba(")?r=xs(n=n.slice(5,-1).split(",").map(Number)):0==n.indexOf("rgb(")?((n=n.slice(4,-1).split(",").map(Number)).push(1),r=xs(n)):d(!1,14);n=r,t[i]=n,++e}return n}}();function xs(t){var e=[];return e[0]=f(t[0]+.5|0,0,255),e[1]=f(t[1]+.5|0,0,255),e[2]=f(t[2]+.5|0,0,255),e[3]=f(t[3],0,1),e}function Cs(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:vs(t)}function Is(){}function As(t,e,i,n,o){this.g=t,this.f=e,this.c=i,this.N=n,this.ob=o,this.M=this.b=this.a=this.Wa=this.O=this.T=null,this.$=this.V=this.v=this.B=this.C=this.D=0,this.ca=!1,this.i=this.ab=0,this.ra=!1,this.oa=0,this.ta="",this.Ub=this.ua=0,this.Ea=!1,this.s=this.La=0,this.qa=this.l=this.j=null,this.o=[],this.bb=[1,0,0,1,0,0]}function bs(t,e,i){if(t.M){e=gn(e,0,i,2,t.N,t.o),i=t.g;var n=t.bb,o=i.globalAlpha;1!=t.v&&(i.globalAlpha=o*t.v);var r,s=t.ab;t.ca&&(s+=t.ob);var a=0;for(r=e.length;a<r;a+=2){var l=e[a]-t.D,h=e[a+1]-t.C;if(t.ra&&(l=Math.round(l),h=Math.round(h)),0!==s||1!=t.i){var c=l+t.D,u=h+t.C;bn(n,c,u,t.i,t.i,s,-c,-u),i.setTransform.apply(i,n)}i.drawImage(t.M,t.V,t.$,t.oa,t.B,l,h,t.oa,t.B)}0===s&&1==t.i||i.setTransform(1,0,0,1,0,0),1!=t.v&&(i.globalAlpha=o)}}function ws(t,e,i,n){var o=0;if(t.qa&&""!==t.ta){t.j&&Es(t,t.j),t.l&&Ts(t,t.l);var r=t.qa,s=t.g,a=t.Wa,l=r.textAlign?r.textAlign:"center";for(a?(a.font!=r.font&&(a.font=s.font=r.font),a.textAlign!=l&&(a.textAlign=l),a.textBaseline!=r.textBaseline&&(a.textBaseline=s.textBaseline=r.textBaseline)):(s.font=r.font,s.textAlign=l,s.textBaseline=r.textBaseline,t.Wa={font:r.font,textAlign:l,textBaseline:r.textBaseline}),e=gn(e,o,i,n,t.N,t.o),r=t.g,s=t.La,t.Ea&&(s+=t.ob);o<i;o+=n){if(a=e[o]+t.ua,l=e[o+1]+t.Ub,0!==s||1!=t.s){var h=bn(t.bb,a,l,t.s,t.s,s,-a,-l);r.setTransform.apply(r,h)}t.l&&r.strokeText(t.ta,a,l),t.j&&r.fillText(t.ta,a,l)}0===s&&1==t.s||r.setTransform(1,0,0,1,0,0)}}function Ss(t,e,i,n,o,r){var s=t.g;for(t=gn(e,i,n,o,t.N,t.o),s.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),i=2;i<e;i+=2)s.lineTo(t[i],t[i+1]);return r&&s.closePath(),n}function Ms(t,e,i,n,o){var r,s=0;for(r=n.length;s<r;++s)i=Ss(t,e,i,n[s],o,!0);return i}function Es(t,e){var i=t.g,n=t.T;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.T={fillStyle:e.fillStyle})}function Ts(t,e){var i=t.g,n=t.O;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Je&&(Kt(n.lineDash,e.lineDash)||i.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Je&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.O={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Ps(t){Ee.call(this),this.a=t}function Ls(t,e){var i=e.getState();return 2!=i&&3!=i&&me(e,"change",t.$,t),0==i&&(e.load(),i=e.getState()),2==i}function Ns(t){var e=t.a;e.Jb()&&"ready"==e.hg()&&t.u()}function Ds(t,e){e.cj()&&t.postRenderFunctions.push(function(t,e,i){(e=l(t).toString())in i.usedTiles&&t.sd(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function Rs(t,e){void 0!==(e=e.T)&&("string"==typeof e?t.logos[e]="":e&&(d("string"==typeof e.href,44),d("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Os(t,e,i,n){e=l(e).toString(),i=i.toString(),e in t?i in t[e]?(t=t[e][i],n.fa<t.fa&&(t.fa=n.fa),n.la>t.la&&(t.la=n.la),n.ea<t.ea&&(t.ea=n.ea),n.ka>t.ka&&(t.ka=n.ka)):t[e][i]=n:(t[e]={},t[e][i]=n)}function Fs(t,e,i,n,o,r,s,a,h,c){var u=l(e).toString();u in t.wantedTiles||(t.wantedTiles[u]={});var p,g,d,f=t.wantedTiles[u];for(t=t.tileQueue,d=i.minZoom;d<=s;++d){var y=oe(i,r,d,y),m=i.Ta(d);for(p=y.fa;p<=y.la;++p)for(g=y.ea;g<=y.ka;++g)if(s-d<=a){var v=e.ad(d,p,g,n,o);0==v.getState()&&(f[v.lb()]=!0,v.lb()in t.a||t.i([v,u,re(i,v.ya),m])),void 0!==h&&h.call(c,v)}else e.kh(d,p,g,o)}}function ks(t){Ps.call(this,t),this.V=[1,0,0,1,0,0]}function Gs(t,e,i){var n=e.pixelRatio,o=e.size[0]*n,r=e.size[1]*n,s=e.viewState.rotation,a=K(i),l=J(i),h=W(i);i=U(i),xn(e.coordinateToPixelTransform,a),xn(e.coordinateToPixelTransform,l),xn(e.coordinateToPixelTransform,h),xn(e.coordinateToPixelTransform,i),t.save(),ps(t,-s,o/2,r/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),ps(t,s,o/2,r/2)}function Bs(t,e,i,n,o){var r=t.a;if(Me(r,e)){var s=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,l=n.viewState.rotation;ps(i,-l,s/2,a/2),t=void 0!==o?o:zs(t,n,0),r.b(new Jr(e,new As(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),ps(i,l,s/2,a/2)}}function zs(t,e,i){var n=e.viewState,o=e.pixelRatio,r=o/n.resolution;return bn(t.V,o*e.size[0]/2,o*e.size[1]/2,r,-r,-n.rotation,-n.center[0]+i,-n.center[1])}function Vs(t){ks.call(this,t),this.l=[1,0,0,1,0,0],this.j=null}function js(t){Vs.call(this,t),this.M=null,this.f=[1,0,0,1,0,0],this.o=[],this.c=null}function Hs(){this.b={},this.a=0,this.g=32}function Us(t){if(t.a>t.g){var e,i=0;for(e in t.b){var n=t.b[e];0!=(3&i++)||Me(n)||(delete t.b[e],--t.a)}}}(t=Is.prototype).Hh=function(){},t.Hb=function(){},t.Dd=function(){},t.cc=function(){},t.Ce=function(){},t.De=function(){},t.uc=function(){},t.vc=function(){},t.wc=function(){},t.xc=function(){},t.yc=function(){},t.zc=function(){},t.Wb=function(){},t.Oa=function(){},t.Zb=function(){},t.nb=function(){},s(As,Is),(t=As.prototype).cc=function(t){if($(this.c,t.G())){if(this.a||this.b){this.a&&Es(this,this.a),this.b&&Ts(this,this.b);var e=this.N,i=this.o,n=t.da();i=(e=n?gn(n,0,n.length,t.pa(),e,i):null)[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),(n=this.g).beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.a&&n.fill(),this.b&&n.stroke()}""!==this.ta&&ws(this,t.xa(),2,2)}},t.Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t);break;case"LineString":this.uc(t);break;case"Polygon":this.zc(t);break;case"MultiPoint":this.wc(t);break;case"MultiLineString":this.vc(t);break;case"MultiPolygon":this.xc(t);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&$(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e,i=0;for(e=(t=t.a).length;i<e;++i)this.Hb(t[i])},t.yc=function(t){var e=t.da();t=t.pa(),this.M&&bs(this,e,e.length),""!==this.ta&&ws(this,e,e.length,t)},t.wc=function(t){var e=t.da();t=t.pa(),this.M&&bs(this,e,e.length),""!==this.ta&&ws(this,e,e.length,t)},t.uc=function(t){if($(this.c,t.G())){if(this.b){Ts(this,this.b);var e=this.g,i=t.da();e.beginPath(),Ss(this,i,0,i.length,t.pa(),!1),e.stroke()}""!==this.ta&&ws(this,t=t.Fe(),2,2)}},t.vc=function(t){var e=t.G();if($(this.c,e)){if(this.b){Ts(this,this.b),e=this.g;var i,n=t.da(),o=0,r=t.pb(),s=t.pa();e.beginPath();var a=0;for(i=r.length;a<i;++a)o=Ss(this,n,o,r[a],s,!1);e.stroke()}""!==this.ta&&ws(this,t=t.Ge(),t.length,2)}},t.zc=function(t){if($(this.c,t.G())){if(this.b||this.a){this.a&&Es(this,this.a),this.b&&Ts(this,this.b);var e=this.g;e.beginPath(),Ms(this,t.Xb(),0,t.pb(),t.pa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.ta&&ws(this,t=t.Td(),2,2)}},t.xc=function(t){if($(this.c,t.G())){if(this.b||this.a){this.a&&Es(this,this.a),this.b&&Ts(this,this.b);var e,i=this.g,n=rp(t),o=0,r=t.td(),s=t.pa();i.beginPath();var a=0;for(e=r.length;a<e;++a)o=Ms(this,n,o,r[a],s);this.a&&i.fill(),this.b&&i.stroke()}""!==this.ta&&ws(this,t=op(t),t.length,2)}},t.Oa=function(t,e){if(t?(t=t.b,this.a={fillStyle:Cs(t||ts)}):this.a=null,e){t=e.a;var i=e.f,n=e.g,o=e.i,r=e.j,s=e.c;e=e.l,this.b={lineCap:void 0!==i?i:"round",lineDash:n||es,lineDashOffset:o||0,lineJoin:void 0!==r?r:"round",lineWidth:this.f*(void 0!==s?s:1),miterLimit:void 0!==e?e:10,strokeStyle:Cs(t||is)}}else this.b=null},t.Zb=function(t){if(t){var e=t.Vc(),i=t.Y(1),n=t.bd(),o=t.oc();this.D=e[0],this.C=e[1],this.B=o[1],this.M=i,this.v=t.i,this.V=n[0],this.$=n[1],this.ca=t.s,this.ab=t.f,this.i=t.a*this.f,this.ra=t.v,this.oa=o[0]}else this.M=null},t.nb=function(t){if(t){var e=t.Fa();e?(e=e.b,this.j={fillStyle:Cs(e||ts)}):this.j=null;var i=t.Ga();if(i){e=i.a;var n=i.f,o=i.g,r=i.i,s=i.j,a=i.c;i=i.l,this.l={lineCap:void 0!==n?n:"round",lineDash:o||es,lineDashOffset:r||0,lineJoin:void 0!==s?s:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:Cs(e||is)}}else this.l=null;e=t.a,n=t.g,o=t.c,r=t.l,s=t.i,a=t.b,i=t.Ka();var l=t.f;t=t.j,this.qa={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==t?t:"middle"},this.ta=void 0!==i?i:"",this.ua=void 0!==n?this.f*n:0,this.Ub=void 0!==o?this.f*o:0,this.Ea=void 0!==r&&r,this.La=void 0!==s?s:0,this.s=this.f*(void 0!==a?a:1)}else this.ta=""},s(Ps,Ee),Ps.prototype.wa=a,Ps.prototype.cf=pn,Ps.prototype.Rf=function(t,e,i){return function(n,o){return Rx(t,e,n,o,(function(t){i[n]||(i[n]={}),i[n][t.ya.toString()]=t}))}},Ps.prototype.$=function(t){2===t.target.getState()&&Ns(this)},s(ks,Ps),ks.prototype.s=function(t,e,i,n){if(this.wa(t,e,0,un,this))return i.call(n,this.a,null)},ks.prototype.pf=function(t,e,i,n){Bs(this,"postcompose",t,e,n)},s(Vs,ks),Vs.prototype.df=function(t,e,i){Bs(this,"precompose",i,t,void 0);var n=this.Y();if(n){var o=e.extent,r=void 0!==o&&!P(o,t.extent)&&$(o,t.extent);r&&Gs(i,t,o),o=this.v();var s=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(o[4]),Math.round(o[5]),Math.round(n.width*o[0]),Math.round(n.height*o[3])),i.globalAlpha=s,r&&i.restore()}this.pf(i,t,e)},Vs.prototype.wa=function(t,e,i,n,o){var r=this.a;return r.ha().wa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,(function(t){return n.call(o,t,r)}))},Vs.prototype.s=function(t,e,i,n){if(this.Y()){if(this.a.ha().wa!==a)return ks.prototype.s.apply(this,arguments);var o=xn(this.l,t.slice());if(en(o,e.viewState.resolution/this.i),this.j||(this.j=xo(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),o[0],o[1],1,1,0,0,1,1),0<(o=this.j.getImageData(0,0,1,1).data)[3])return i.call(n,this.a,o)}},s(js,Vs),js.handles=function(t,e){return"canvas"===t&&("IMAGE"===e.S()||"VECTOR"===e.S()&&"image"===e.l)},js.create=function(t,e){var i=new js(e);if("VECTOR"===e.S())for(var n=0,o=Eo.length;n<o;++n){var r=Eo[n];r!==js&&r.handles("canvas",e)&&(r=r.create(t,e),i.c=r)}return i},js.prototype.Y=function(){return this.M?this.M.Y():null},js.prototype.v=function(){return this.f},js.prototype.$c=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,r=o.center,s=o.resolution,a=this.a.ha(),l=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=q(h,e.extent)),!l[0]&&!l[1]&&!tt(h))if(l=o.projection,o=this.c){l=o.context;var c=nt({},t,{size:[Q(h)/s,Z(h)/s],viewState:nt({},t.viewState,{rotation:0})}),u=Object.keys(c.skippedFeatureUids).sort();!o.$c(c,e)||!o.j&&Kt(u,this.o)||(l.canvas.width=c.size[0]*i,l.canvas.height=c.size[1]*i,o.df(c,e,l),this.M=new Kr(h,s,i,l.canvas),this.o=u)}else(o=a.Y(h,s,i,l))&&Ls(this,o)&&(this.M=o);return this.M&&(h=(o=this.M).G(),l=i*(e=o.resolution)/(s*(o=o.a)),h=bn(this.f,i*n[0]/2,i*n[1]/2,l,l,0,o*(h[0]-r[0])/e,o*(r[1]-h[3])/e),bn(this.l,i*n[0]/2-h[4],i*n[1]/2-h[5],i/s,-i/s,0,-r[0],-r[1]),Rs(t,a),this.i=e*i/o),!!this.M},js.prototype.wa=function(t,e,i,n,o){return this.c?this.c.wa(t,e,i,n,o):Vs.prototype.wa.call(this,t,e,i,n,o)},Hs.prototype.clear=function(){this.b={},this.a=0},Hs.prototype.get=function(t,e,i){return(t=e+":"+t+":"+(i?vs(i):"null"))in this.b?this.b[t]:null},Hs.prototype.set=function(t,e,i,n){this.b[e+":"+t+":"+(i?vs(i):"null")]=n,++this.a},Hs.prototype.c=function(t){this.g=t,Us(this)};var Ws=new Hs;function Ys(t,e){this.l=e,this.c={},this.v={}}function Xs(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;bn(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),wn(_n(n,i))}function Zs(){Us(Ws)}function qs(t,e){var i=l(e).toString();if(i in t.c)return t.c[i];for(var n,o=t.S(),r=0,s=Eo.length;r<s;++r){var a=Eo[r];if(a.handles(o,e)){n=a.create(t,e);break}}if(!n)throw Error("Unable to create renderer for layer: "+e.S());return t.c[i]=n,t.v[i]=me(n,"change",t.gm,t),n}function Ks(t,e){var i=t.c[e];return delete t.c[e],xe(t.v[e]),delete t.v[e],i}function Js(t,e){for(var i in t.c)if(!(i in e.layerStates)){e.postRenderFunctions.push(t.oq.bind(t));break}}function Qs(t,e){return t.zIndex-e.zIndex}function $s(t,e){Ys.call(this,t,e),this.g=xo(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=[1,0,0,1,0,0]}function ta(t,e,i){var n=t.l,o=t.g;if(Me(n,e)){var r=i.extent,s=i.pixelRatio,a=i.viewState.rotation,l=i.viewState,h=i.pixelRatio/l.resolution;t=bn(t.i,t.b.width/2,t.b.height/2,h,-h,-l.rotation,-l.center[0],-l.center[1]),n.b(new Jr(e,new As(o,s,r,t,a),i,o,null))}}function ea(t){Vs.call(this,t),this.context=null===this.context?null:xo(),this.c=null,this.f=[],this.T=[1/0,1/0,-1/0,-1/0],this.ra=new u(0,0,0,0),this.o=[1,0,0,1,0,0],this.O=0}function ia(t,e){return e=e.getState(),t=t.a.i(),2==e||4==e||3==e&&!t}s(Ys,Ie),(t=Ys.prototype).wa=function(t,e,i,n,o,r,s){function a(t,i){var r=l(t).toString(),s=e.layerStates[l(i)].Te;if(!(r in e.skippedFeatureUids)||s)return n.call(o,t,s?i:null)}var h,c=e.viewState,u=c.resolution,p=c.projection;if(c=t,p.g){var g=Q(p=p.G()),d=t[0];(d<p[0]||d>p[2])&&(c=[d+g*Math.ceil((p[0]-d)/g),t[1]])}for(g=(p=e.layerStatesArray).length-1;0<=g;--g){var f=p[g];if(d=f.layer,Fo(f,u)&&r.call(s,d)&&(f=qs(this,d),d.ha()&&(h=f.wa(d.ha().D?c:t,e,i,a,o)),h))return h}},t.Ui=function(t,e,i,n,o){return void 0!==this.wa(t,e,i,un,this,n,o)},t.gm=function(){this.l.render()},t.bh=a,t.oq=function(t,e){for(var i in this.c)e&&i in e.layerStates||Ae(Ks(this,i))},s($s,Ys),$s.handles=function(t){return"canvas"===t},$s.create=function(t,e){return new $s(t,e)},$s.prototype.S=function(){return"canvas"},$s.prototype.bh=function(t){if(t){var e=this.g,i=t.pixelRatio,n=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.b.width!=n||this.b.height!=o?(this.b.width=n,this.b.height=o):e.clearRect(0,0,n,o),i=t.viewState.rotation,Xs(t),ta(this,"precompose",t);var r,s=t.layerStatesArray;for(Jt(s),i&&(e.save(),ps(e,i,n/2,o/2)),n=t.viewState.resolution,o=0,r=s.length;o<r;++o){var a=s[o],l=a.layer;l=qs(this,l),Fo(a,n)&&"ready"==a.Vj&&l.$c(t,a)&&l.df(t,a,e)}i&&e.restore(),ta(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Js(this,t),t.postRenderFunctions.push(Zs)}else this.a&&(this.b.style.display="none",this.a=!1)},$s.prototype.Ti=function(t,e,i,n,o,r){var s=e.viewState.resolution,a=e.layerStatesArray,l=a.length;for(t=xn(e.pixelToCoordinateTransform,t.slice()),--l;0<=l;--l){var h=a[l],c=h.layer;if(Fo(h,s)&&o.call(r,c)&&(h=qs(this,c).s(t,e,i,n)))return h}},s(ea,Vs),ea.handles=function(t,e){return"canvas"===t&&"TILE"===e.S()},ea.create=function(t,e){return new ea(e)},ea.prototype.$c=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,r=o.projection,s=o.resolution;o=o.center;var a=this.a,h=a.ha(),c=h.g,u=h.eb(r),p=u.Dc(s,this.O),g=u.Ta(p),d=Math.round(s/g)||1,f=t.extent;if(void 0!==e.extent&&(f=q(f,e.extent)),tt(f))return!1;var y=oe(u,f,p),m=function(t,e,i){var n=t.Ic(e),o=t.Ta(e);return t=b(t.Za(e),t.f),R(n[0]+i.fa*t[0]*o,n[1]+i.ea*t[1]*o,n[0]+(i.la+1)*t[0]*o,n[1]+(i.ka+1)*t[1]*o,void 0)}(u,p,y),v=h.Xc(i),_={};_[p]={};var x,C,I=this.Rf(h,r,_),A=this.T,w=this.ra,S=!1;for(x=y.fa;x<=y.la;++x)for(C=y.ea;C<=y.ka;++C){var M=h.ad(p,x,C,i,r);if(3==M.getState()&&(a.i()?0<a.c()&&(S=!0):Ml(M,2)),ia(this,M)||(M=wl(M)),ia(this,M)){var E=l(this);if(2==M.getState()){_[p][M.ya.toString()]=M;var T=!!M.j&&-1!==M.s[E];S||!T&&-1!==this.f.indexOf(M)||(S=!0)}if(1===El(M,E,t.time))continue}T=!1,(E=ne(u,M.ya,w,A))&&(T=I(p+1,E)),T||ie(u,M.ya,I,w,A)}if(M=(M=t.viewHints)[0]||M[1],!(this.i&&16<Date.now()-t.time&&M||!S&&this.c&&P(this.c,f)&&this.wf==c&&d==this.C&&(M||g*i/v*d==this.i))){for((M=this.context)&&(C=h.Zd(p,i,r),x=Math.round((y.la-y.fa+1)*C[0]/d),C=Math.round((y.ka-y.ea+1)*C[1]/d),(S=M.canvas).width!=x||S.height!=C?(this.C=d,S.width=x,S.height=C):(this.c&&!G(m,this.c)&&M.clearRect(0,0,x,C),d=this.C)),this.f.length=0,(S=Object.keys(_).map(Number)).sort((function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0})),E=0,T=S.length;E<T;++E){w=S[E],I=h.Zd(w,i,r);var L=(M=u.Ta(w))/g,N=v*h.Zf(r),D=_[w];for(var O in D){M=D[O],x=((C=u.Ma(M.ya,A))[0]-m[0])/g*v/d,C=(m[3]-C[3])/g*v/d;var F=I[0]*L/d,k=I[1]*L/d;this.Sf(M,t,e,x,C,F,k,N,p===w),this.f.push(M)}}this.wf=c,this.i=g*i/v*d,this.c=m}return e=this.i/s,e=bn(this.o,i*n[0]/2,i*n[1]/2,e,e,0,(this.c[0]-o[0])/this.i*i,(o[1]-this.c[3])/this.i*i),bn(this.l,i*n[0]/2-e[4],i*n[1]/2-e[5],i/s,-i/s,0,-o[0],-o[1]),Os(t.usedTiles,h,p,y),Fs(t,h,u,i,r,f,p,a.c()),Ds(t,h),Rs(t,h),0<this.f.length},ea.prototype.Sf=function(t,e,i,n,o,r,s,a,h){if(i=t.Y(this.a)){var c=l(this),u=h?El(t,c,e.time):1;1!==u||this.a.ha().eg(e.viewState.projection)||this.context.clearRect(n,o,r,s);var p=u!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(i,a,a,i.width-2*a,i.height-2*a,n,o,r,s),p&&this.context.restore(),1!==u?e.animate=!0:h&&t.j&&(t.s[c]=-1)}},ea.prototype.Y=function(){var t=this.context;return t?t.canvas:null},ea.prototype.v=function(){return this.o};var na={Jc:function(){}};function oa(){}function ra(t,e,i,n){var o=t[e],r=t[e+1],s=0;for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1];s+=Math.sqrt((a-o)*(a-o)+(l-r)*(l-r)),o=a,r=l}return s}(function(t){function e(t,e,n,r,s){i(t,e,n||0,r||t.length-1,s||o)}function i(t,e,o,r,s){for(;r>o;){if(600<r-o){var a=r-o+1,l=e-o+1,h=Math.log(a),c=.5*Math.exp(2*h/3);h=.5*Math.sqrt(h*c*(a-c)/a)*(0>l-a/2?-1:1),i(t,e,Math.max(o,Math.floor(e-l*c/a+h)),Math.min(r,Math.floor(e+(a-l)*c/a+h)),s)}for(a=t[e],l=o,c=r,n(t,o,e),0<s(t[r],a)&&n(t,o,r);l<c;){for(n(t,l,c),l++,c--;0>s(t[l],a);)l++;for(;0<s(t[c],a);)c--}0===s(t[o],a)?n(t,o,c):n(t,++c,r),c<=e&&(o=c+1),e<=c&&(r=c-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return t<e?-1:t>e?1:0}function r(t,e){if(!(this instanceof r))return new r(t,e);this.Lf=Math.max(4,t||9),this.wh=Math.max(2,Math.ceil(.4*this.Lf)),e&&this.Ak(e),this.clear()}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,o){o||(o=f(null)),o.fa=1/0,o.ea=1/0,o.la=-1/0,o.ka=-1/0;for(var r;e<i;e++)r=t.children[e],l(o,t.fb?n(r):r);return o}function l(t,e){return t.fa=Math.min(t.fa,e.fa),t.ea=Math.min(t.ea,e.ea),t.la=Math.max(t.la,e.la),t.ka=Math.max(t.ka,e.ka),t}function h(t,e){return t.fa-e.fa}function c(t,e){return t.ea-e.ea}function u(t){return(t.la-t.fa)*(t.ka-t.ea)}function p(t){return t.la-t.fa+(t.ka-t.ea)}function g(t,e){return t.fa<=e.fa&&t.ea<=e.ea&&e.la<=t.la&&e.ka<=t.ka}function d(t,e){return e.fa<=t.la&&e.ea<=t.ka&&e.la>=t.fa&&e.ka>=t.ea}function f(t){return{children:t,height:1,fb:!0,fa:1/0,ea:1/0,la:-1/0,ka:-1/0}}function y(t,e,i,n,o){for(var r,s=[e,i];s.length;)(i=s.pop())-(e=s.pop())<=n||(r=e+Math.ceil((i-e)/n/2)*n,m(t,r,e,i,o),s.push(e,r,r,i))}var m=e;m.default=e,r.prototype={all:function(){return this.rh(this.data,[])},search:function(t){var e=this.data,i=[],n=this.xb;if(!d(t,e))return i;for(var o,r,s,a,l=[];e;){for(o=0,r=e.children.length;o<r;o++)s=e.children[o],d(t,a=e.fb?n(s):s)&&(e.fb?i.push(s):g(t,a)?this.rh(s,i):l.push(s));e=l.pop()}return i},Ok:function(t){var e=this.data,i=this.xb;if(!d(t,e))return!1;for(var n,o,r,s,a=[];e;){for(n=0,o=e.children.length;n<o;n++)if(r=e.children[n],d(t,s=e.fb?i(r):r)){if(e.fb||g(t,s))return!0;a.push(r)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.wh){for(var e=0,i=t.length;e<i;e++)this.Ca(t[e]);return this}return t=this.th(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.yh(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.vh(t,this.data.height-t.height-1,!0)):this.data=t,this},Ca:function(t){return t&&this.vh(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var i,n,o,r,s=this.data,a=this.xb(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),s.fb){t:{o=t;var c=s.children,u=e;if(u){for(var p=0;p<c.length;p++)if(u(o,c[p])){o=p;break t}o=-1}else o=c.indexOf(o)}if(-1!==o){s.children.splice(o,1),l.push(s),this.yk(l);break}}r||s.fb||!g(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(l.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},xb:function(t){return t},Pf:h,Qf:c,toJSON:function(){return this.data},rh:function(t,e){for(var i=[];t;)t.fb?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},th:function(t,e,i,n){var o,r=i-e+1,a=this.Lf;if(r<=a){var l=f(t.slice(e,i+1));return s(l,this.xb),l}for(n||(n=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,n-1))),(l=f([])).fb=!1,l.height=n,y(t,e,i,a=(r=Math.ceil(r/a))*Math.ceil(Math.sqrt(a)),this.Pf);e<=i;e+=a){var h=Math.min(e+a-1,i);for(y(t,e,h,r,this.Qf),o=e;o<=h;o+=r){var c=Math.min(o+r-1,h);l.children.push(this.th(t,o,c,n-1))}}return s(l,this.xb),l},xk:function(t,e,i,n){for(var o,r,s,a,l,h,c,p;n.push(e),!e.fb&&n.length-1!==i;){for(c=p=1/0,o=0,r=e.children.length;o<r;o++)l=u(s=e.children[o]),(h=(Math.max(s.la,t.la)-Math.min(s.fa,t.fa))*(Math.max(s.ka,t.ka)-Math.min(s.ea,t.ea))-l)<p?(p=h,c=l<c?l:c,a=s):h===p&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},vh:function(t,e,i){var n=this.xb;i=i?t:n(t),n=[];var o=this.xk(i,this.data,e,n);for(o.children.push(t),l(o,i);0<=e&&n[e].children.length>this.Lf;)this.Dk(n,e),e--;this.uk(i,n,e)},Dk:function(t,e){var i=t[e],n=i.children.length,o=this.wh;this.vk(i,o,n),n=this.wk(i,o,n),(n=f(i.children.splice(n,i.children.length-n))).height=i.height,n.fb=i.fb,s(i,this.xb),s(n,this.xb),e?t[e-1].children.push(n):this.yh(i,n)},yh:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.fb=!1,s(this.data,this.xb)},wk:function(t,e,i){var n,o,r=o=1/0;for(n=e;n<=i-e;n++){var s=a(t,0,n,this.xb),l=a(t,n,i,this.xb),h=Math.max(0,Math.min(s.la,l.la)-Math.max(s.fa,l.fa))*Math.max(0,Math.min(s.ka,l.ka)-Math.max(s.ea,l.ea));if(s=u(s)+u(l),h<r){r=h;var c=n;o=s<o?s:o}else h===r&&s<o&&(o=s,c=n)}return c},vk:function(t,e,i){var n=t.fb?this.Pf:h,o=t.fb?this.Qf:c;this.sh(t,e,i,n)<(e=this.sh(t,e,i,o))&&t.children.sort(n)},sh:function(t,e,i,n){t.children.sort(n);var o,r=a(t,0,e,n=this.xb),s=a(t,i-e,i,n),h=p(r)+p(s);for(o=e;o<i-e;o++){var c=t.children[o];l(r,t.fb?n(c):c),h+=p(r)}for(o=i-e-1;o>=e;o--)c=t.children[o],l(s,t.fb?n(c):c),h+=p(s);return h},uk:function(t,e,i){for(;0<=i;i--)l(e[i],t)},yk:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():s(t[i],this.xb)},Ak:function(t){var e=["return a"," - b",";"];this.Pf=new Function("a","b",e.join(t[0])),this.Qf=new Function("a","b",e.join(t[1])),this.xb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=r})(na.Jc=na.Jc||{}),na.Jc=na.Jc.default;var sa="Polygon Circle LineString Image Text Default".split(" "),aa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function la(t,e,i,n,o,r){this.ra=r,this.La=[1/0,1/0,-1/0,-1/0],this.ob=t,this.Ea=e,this.overlaps=o,this.pixelRatio=n,this.Wa=0,this.resolution=i,this.i=this.T=this.qa=null,this.a=[],this.coordinates=[],this.Ub={},this.ca=[1,0,0,1,0,0],this.b=[],this.oa=null,this.state={},this.$=0,this.bb=[1,0,0,1,0,0]}function ha(t,e,i,n,o,r,s,a){e.beginPath(),e.moveTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,o),e.lineTo.apply(e,r),e.lineTo.apply(e,i),s&&(t.O=s[2],t.Xa(e)),a&&(fa(e,a),e.stroke())}function ca(t,e,i,n,o,r,s,a,l,h,c,u,p,g,d,f,y,m,v){var _=m||v,x=t.bb;i-=r*=g,n-=s*=g,d&&(i=Math.round(i),n=Math.round(n)),d=f+c>o.width?o.width-c:f,l=l+u>o.height?o.height-u:l,f=t.La;var C=y[3]+d*g+y[1],I=y[0]+l*g+y[2],A=i-y[3],b=n-y[0];if(_||0!==p)var w=[A,b],S=[A+C,b],M=[A+C,b+I],E=[A,b+I];y=null,0!==p?(y=bn(x,r=i+r,s=n+s,1,1,p,-r,-s),O(f),z(f,xn(x,w)),z(f,xn(x,S)),z(f,xn(x,M)),z(f,xn(x,E))):R(A,b,A+C,b+I,f),p=e.canvas,p=f[0]<=p.width&&0<=f[2]&&f[1]<=p.height&&0<=f[3],a?(p||1!=a[4])&&(B(a,f),(t=p?[e,y?y.slice(0):null,h,o,c,u,d,l,i,n,g]:null)&&_&&t.push(m,v,w,S,M,E),a.push(t)):p&&(_&&ha(t,e,w,S,M,E,m,v),ds(e,y,h,o,c,u,d,l,i,n,g))}function ua(t,e){var i=t.pixelRatio;return 1==i?e:e.map((function(t){return t*i}))}function pa(t,e,i,n,o,r,s){var a=t.coordinates.length,l=Aa(t);s&&(i+=o),s=[e[i],e[i+1]];var h,c=[NaN,NaN],u=!0;for(h=i+o;h<n;h+=o){c[0]=e[h],c[1]=e[h+1];var p=N(l,c);p!==g?(u&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],u=!1):1===p?(t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],u=!1):u=!0,s[0]=c[0],s[1]=c[1];var g=p}return(r&&u||h===i+o)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function ga(t,e,i,n,o,r){for(var s=0,a=n.length;s<a;++s){var l=n[s];i=pa(t,e,i,l,o,!1,!1),r.push(i),i=l}return i}function da(t,e){t.qa=[0,e,0],t.a.push(t.qa),t.T=[0,e,0],t.b.push(t.T)}function fa(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Je&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}function ya(t,e,i){if(e&&5<e.length){var n=e[4];if(1==n||n==e.length-5){if(i={fa:e[0],ea:e[1],la:e[2],ka:e[3],value:i},!t.ra.Ok(i))for(t.ra.Ca(i),i=5,n=e.length;i<n;++i){var o=e[i];o&&(11<o.length&&ha(t,o[0],o[13],o[14],o[15],o[16],o[11],o[12]),ds.apply(void 0,o))}e.length=5,O(e)}}}function ma(t,e,i,n,o,r,s){if(t.oa&&Kt(i,t.ca))var a=t.oa;else t.oa||(t.oa=[]),a=gn(t.coordinates,0,t.coordinates.length,2,i,t.oa),_n(t.ca,i);for(var h,c,u,p,g,d,f,y,m,v=!st(n),_=0,x=o.length,I=0,A=0,b=0,w=null,S=null,M=t.Ub,E=t.$,T={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:E},P=t.a!=o||t.overlaps?0:200;_<x;){var L=o[_];switch(L[0]){case 0:var N=L[1];v&&n[l(N).toString()]||!N.U()?_=L[2]:void 0===s||$(s,N.U().G())?++_:_=L[2]+1;break;case 1:A>P&&(t.Xa(e),A=0),b>P&&(e.stroke(),b=0),A||b||(e.beginPath(),p=g=NaN),++_;break;case 2:var D=a[I=L[1]],R=a[I+1],O=a[I+2]-D,F=a[I+3]-R,k=Math.sqrt(O*O+F*F);e.moveTo(D+k,R),e.arc(D,R,k,0,2*Math.PI,!0),++_;break;case 3:e.closePath(),++_;break;case 4:I=L[1],h=L[2];var G=L[4],B=6==L.length?L[5]:void 0;T.geometry=L[3],T.feature=N,_ in M||(M[_]=[]);var z=M[_];B?B(a,I,h,2,z):(z[0]=a[I],z[1]=a[I+1],z.length=2),G(z,T),++_;break;case 6:I=L[1],h=L[2],m=L[3],c=L[4],u=L[5],y=r?null:L[6];var V=L[7],j=L[8],H=L[9],U=L[10],W=L[11],Y=L[12],X=L[13],Z=L[14],q=L[15];if(16<L.length)var K=L[16],J=L[17],Q=L[18];else K=ns,J=Q=!1;for(W&&(Y+=E);I<h;I+=2)ca(t,e,a[I],a[I+1],m,c,u,y,V,j,H,U,Y,X,Z,q,K,J?w:null,Q?S:null);ya(t,y,N),++_;break;case 5:var tt=L[1],et=L[2],it=L[3];y=r?null:L[4];var nt=L[5],ot=L[6],rt=L[7],at=L[8],lt=L[9],ht=L[10],ct=L[11],ut=L[12],pt=L[13],gt=L[14],dt=ra(a,tt,et,2),ft=at(ut);if(nt||ft<=dt){t:{for(var yt=void 0,mt=void 0,vt=void 0,_t=a,xt=tt,Ct=et,It=ut,At=at,bt=(dt-ft)*aa[t.s[pt].textAlign],wt=rt,St=[],Mt=_t[xt]>_t[Ct-2],Et=It.length,Tt=_t[xt],Pt=_t[xt+1],Lt=_t[xt+=2],Nt=_t[xt+1],Dt=0,Rt=Math.sqrt(Math.pow(Lt-Tt,2)+Math.pow(Nt-Pt,2)),Ot="",Ft=0,kt=0;kt<Et;++kt){mt=Mt?Et-kt-1:kt;var Gt=It.charAt(mt),Bt=At(Ot=Mt?Gt+Ot:Ot+Gt)-Ft;Ft+=Bt;for(var zt=bt+Bt/2;xt<Ct-2&&Dt+Rt<zt;)Tt=Lt,Pt=Nt,Lt=_t[xt+=2],Nt=_t[xt+1],Dt+=Rt,Rt=Math.sqrt(Math.pow(Lt-Tt,2)+Math.pow(Nt-Pt,2));var Vt=zt-Dt,jt=Math.atan2(Nt-Pt,Lt-Tt);if(Mt&&(jt+=0<jt?-Math.PI:Math.PI),void 0!==yt){var Ht=jt-yt;if(Ht+=Ht>Math.PI?-2*Math.PI:Ht<-Math.PI?2*Math.PI:0,Math.abs(Ht)>wt){var Ut=null;break t}}var Wt=Vt/Rt,Yt=C(Tt,Lt,Wt),Xt=C(Pt,Nt,Wt);yt==jt?(Mt&&(vt[0]=Yt,vt[1]=Xt,vt[2]=Bt/2),vt[4]=Ot):(Ft=Bt,vt=[Yt,Xt,Bt/2,jt,Ot=Gt],Mt?St.unshift(vt):St.push(vt),yt=jt),bt+=Bt}Ut=St}if(Ut){var Zt;if(ht){var qt=0;for(Zt=Ut.length;qt<Zt;++qt){var Jt=Ut[qt],Qt=Jt[4],$t=t.Y(Qt,pt,"",ht);c=Jt[2]+ct,u=it*$t.height+2*(.5-it)*ct-lt,ca(t,e,Jt[0],Jt[1],$t,c,u,y,$t.height,1,0,0,Jt[3],gt,!1,$t.width,ns,null,null)}}if(ot)for(qt=0,Zt=Ut.length;qt<Zt;++qt)Qt=(Jt=Ut[qt])[4],$t=t.Y(Qt,pt,ot,""),c=Jt[2],u=it*$t.height-lt,ca(t,e,Jt[0],Jt[1],$t,c,u,y,$t.height,1,0,0,Jt[3],gt,!1,$t.width,ns,null,null)}}ya(t,y,N),++_;break;case 7:if(void 0!==r){var te=r(N=L[1]);if(te)return te}++_;break;case 8:P?A++:t.Xa(e),++_;break;case 9:I=L[1],h=L[2];var ee=a[I],ie=a[I+1];for(f=ie+.5|0,(d=ee+.5|0)===p&&f===g||(e.moveTo(ee,ie),p=d,g=f),I+=2;I<h;I+=2)d=(ee=a[I])+.5|0,f=(ie=a[I+1])+.5|0,(I==h-2||d!==p||f!==g)&&(e.lineTo(ee,ie),p=d,g=f);++_;break;case 10:w=L,t.O=L[2],A&&(t.Xa(e),A=0,b&&(e.stroke(),b=0)),e.fillStyle=L[1],++_;break;case 11:S=L,b&&(e.stroke(),b=0),fa(e,L),++_;break;case 12:P?b++:e.stroke(),++_;break;default:++_}}A&&t.Xa(e),b&&e.stroke()}function va(t,e,i,n,o,r,s){return t.$=n,ma(t,e,i,o,t.b,r,s)}function _a(t){var e=t.b;e.reverse();var i,n=e.length,o=-1;for(i=0;i<n;++i){var r=e[i],s=r[0];if(7==s)o=i;else if(0==s){for(r[2]=i,r=t.b,s=i;o<s;){var a=r[o];r[o]=r[s],r[s]=a,++o,--s}o=-1}}}function xa(t,e,i,n){var o=e.fillStyle;"string"==typeof o&&e.Pk==o||(i.call(t,e,n),e.Pk=o)}function Ca(t,e,i){var n=e.strokeStyle,o=e.lineCap,r=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,h=e.miterLimit;(e.Vk!=n||e.Qk!=o||r!=e.Fh&&!Kt(e.Fh,r)||e.Rk!=s||e.Sk!=a||e.Tk!=l||e.Uk!=h)&&(i.call(t,e),e.Vk=n,e.Qk=o,e.Fh=r,e.Rk=s,e.Sk=a,e.Tk=l,e.Uk=h)}function Ia(t,e){t.qa[2]=t.a.length,t.qa=null,t.T[2]=t.b.length,t.T=null,e=[7,e],t.a.push(e),t.b.push(e)}function Aa(t){return t.i||(t.i=M(t.Ea),0<t.Wa&&S(t.i,t.resolution*(t.Wa+1)/2,t.i)),t.i}function ba(t,e,i,n,o,r){la.call(this,t,e,i,n,o,r),this.M=this.V=this.B=null,this.N=this.o=this.v=this.s=this.l=this.C=this.D=this.j=this.f=this.c=this.g=void 0}function wa(t,e,i,n,o,r){la.call(this,t,e,i,n,o,r)}function Sa(t,e,i,n,o){var r=t.coordinates.length;return r=[9,r,e=pa(t,e,i,n,o,!1,!1)],t.a.push(r),t.b.push(r),n}function Ma(t,e,i,n,o,r){la.call(this,t,e,i,n,o,r)}function Ea(t,e,i,n,o){var r=t.state,s=void 0!==r.fillStyle;r=null!=r.strokeStyle;var a=n.length,l=[1];for(t.a.push(l),t.b.push(l),l=0;l<a;++l){var h=n[l];i=[9,t.coordinates.length,i=pa(t,e,i,h,o,!0,!r)],t.a.push(i),t.b.push(i),r&&(i=[3],t.a.push(i),t.b.push(i)),i=h}return e=[8],t.b.push(e),s&&t.a.push(e),r&&(s=[12],t.a.push(s),t.b.push(s)),i}function Ta(t,e){var i=t.state;void 0!==i.fillStyle&&xa(t,i,t.Ah,e),void 0!==i.strokeStyle&&Ca(t,i,t.pd)}function Pa(t,e,i,n,o,r){for(la.call(this,t,e,i,n,o,r),this.ta="",this.l=this.D=0,this.C=void 0,this.B=0,this.c=null,this.o={},this.g=null,this.ab={},this.f={},this.s={},this.V=this.v=this.j="",this.ua={};$r(os);)os.pop()}function La(t,e,i,n){var o=t.g,r=t.f,s=t.c,a=t.V;o&&(a in t.ab||(t.ab[a]={strokeStyle:o.strokeStyle,lineCap:o.lineCap,lineDashOffset:o.lineDashOffset,lineWidth:o.lineWidth,lineJoin:o.lineJoin,miterLimit:o.miterLimit,lineDash:o.lineDash}));var l=t.j;t.j in t.s||(t.s[t.j]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var h=t.v;s&&(h in t.o||(t.o[h]={fillStyle:s.fillStyle}));var c=t.pixelRatio;s=aa[r.textBaseline];var u=t.l*c,p=t.ta,g=r.font,d=r.scale;o=o?o.lineWidth*d/2:0;var f=t.ua[g];f||(t.ua[g]=f={}),t.a.push([5,e,i,s,n,r.overflow,h,r.maxAngle,function(t){var e=f[t];return e||(e=f[t]=us(g,t)),e*d*c},u,a,o*c,p,l,1]),t.b.push([5,e,i,s,n,r.overflow,h,r.maxAngle,function(t){var e=f[t];return e||(e=f[t]=us(g,t)),e*d},u,a,o,p,l,1/c])}function Na(t,e,i,n,o,r,s){this.a=r,this.g=null,this.o=t,this.c=e,this.l=o,this.s=n,this.v=i,this.i=s,this.b={},this.f=xo(1,1),this.j=[1,0,0,1,0,0]}s(la,Is),(t=la.prototype).Hh=function(t,e,i){da(this,e);var n,o=t.S(),r=t.pa(),s=this.coordinates.length;if("MultiPolygon"==o){o=rp(t);for(var a=[],l=t.td(),h=n=0,c=l.length;h<c;++h){var u=[];n=ga(this,o,n,l[h],r,u),a.push(u)}this.a.push([4,s,a,t,i,Hn])}else"Polygon"==o||"MultiLineString"==o?(a=[],ga(this,o="Polygon"==o?t.Xb():t.da(),0,t.pb(),r,a),this.a.push([4,s,a,t,i,jn])):"LineString"==o||"MultiPoint"==o?(r=pa(this,o=t.da(),0,o.length,r,!1,!1),this.a.push([4,s,r,t,i,Vn])):"Point"==o&&(o=t.da(),this.coordinates.push(o[0],o[1]),r=this.coordinates.length,this.a.push([4,s,r,t,i]));Ia(this,e)},t.Xa=function(t){if(this.O){var e=xn(this.ca,this.O.slice());t.translate(e[0],e[1]),t.rotate(this.$)}t.fill(),this.O&&t.setTransform.apply(t,gs)},t.Na=function(t,e,i,n){this.$=i,ma(this,t,e,n,this.a,void 0,void 0)},t.Oa=function(t,e){var i=this.state;t?(t=t.b,i.fillStyle=Cs(t||ts)):i.fillStyle=void 0,e?(t=e.a,i.strokeStyle=Cs(t||is),t=e.f,i.lineCap=void 0!==t?t:"round",t=e.g,i.lineDash=t?t.slice():es,t=e.i,i.lineDashOffset=t||0,t=e.j,i.lineJoin=void 0!==t?t:"round",t=e.c,i.lineWidth=void 0!==t?t:1,e=e.l,i.miterLimit=void 0!==e?e:10,i.lineWidth>this.Wa&&(this.Wa=i.lineWidth,this.i=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},t.Ah=function(t,e){var i=t.fillStyle;t=[10,i],"string"!=typeof i&&(e=e.G(),t.push([e[0],e[3]])),this.a.push(t)},t.pd=function(t){this.a.push([11,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,ua(this,t.lineDash),t.lineDashOffset*this.pixelRatio])},t.bf=a,s(ba,la),ba.prototype.yc=function(t,e){if(this.M){da(this,e);var i=t.da(),n=this.coordinates.length;t=pa(this,i,0,i.length,t.pa(),!1,!1),this.a.push([6,n,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,n,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),Ia(this,e)}},ba.prototype.wc=function(t,e){if(this.M){da(this,e);var i=t.da(),n=this.coordinates.length;t=pa(this,i,0,i.length,t.pa(),!1,!1),this.a.push([6,n,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,n,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),Ia(this,e)}},ba.prototype.bf=function(){_a(this),this.c=this.g=void 0,this.M=this.V=null,this.N=this.o=this.s=this.l=this.C=this.D=this.j=this.v=this.f=void 0},ba.prototype.Zb=function(t,e){var i=t.Vc(),n=t.oc(),o=t.Eg(),r=t.Y(1),s=t.bd();this.g=i[0],this.c=i[1],this.B=e,this.V=o,this.M=r,this.f=n[1],this.j=t.i,this.D=s[0],this.C=s[1],this.l=t.s,this.s=t.f,this.v=t.a,this.o=t.v,this.N=n[0]},s(wa,la),wa.prototype.uc=function(t,e){var i=this.state,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(Ca(this,i,this.pd),da(this,e),this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),Sa(this,i=t.da(),0,i.length,t.pa()),this.b.push([12]),Ia(this,e))},wa.prototype.vc=function(t,e){var i=this.state,n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){Ca(this,i,this.pd),da(this,e),this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.pb(),n=t.da(),t=t.pa();var o,r=0,s=0;for(o=i.length;s<o;++s)r=Sa(this,n,r,i[s],t);this.b.push([12]),Ia(this,e)}},wa.prototype.bf=function(){var t=this.state;null!=t.$d&&t.$d!=this.coordinates.length&&this.a.push([12]),_a(this),this.state=null},wa.prototype.pd=function(t){null!=t.$d&&t.$d!=this.coordinates.length&&(this.a.push([12]),t.$d=this.coordinates.length),t.$d=0,la.prototype.pd.call(this,t),this.a.push([1])},s(Ma,la),Ma.prototype.cc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Ta(this,t),da(this,e),this.b.push([10,vs(ts)]),void 0!==i.strokeStyle&&this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.da();n=this.coordinates.length,pa(this,o,0,o.length,t.pa(),!1,!1),t=[1],n=[2,n],this.a.push(t,n),this.b.push(t,n),t=[8],this.b.push(t),void 0!==i.fillStyle&&this.a.push(t),void 0!==i.strokeStyle&&(i=[12],this.a.push(i),this.b.push(i)),Ia(this,e)}},Ma.prototype.zc=function(t,e){var i=this.state;Ta(this,t),da(this,e),this.b.push([10,vs(ts)]),void 0!==i.strokeStyle&&this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.pb(),Ea(this,t.Xb(),0,i,t.pa()),Ia(this,e)},Ma.prototype.xc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Ta(this,t),da(this,e),this.b.push([10,vs(ts)]),void 0!==i.strokeStyle&&this.b.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.td(),n=rp(t),t=t.pa();var o,r=0,s=0;for(o=i.length;s<o;++s)r=Ea(this,n,r,i[s],t);Ia(this,e)}},Ma.prototype.bf=function(){_a(this),this.state=null;var t=this.ob;if(0!==t){var e,i=this.coordinates,n=0;for(e=i.length;n<e;++n)i[n]=t*Math.round(i[n]/t)}},s(Pa,la),Pa.prototype.Wb=function(t,e){var i=this.c,n=this.g,o=this.f;if(""!==this.ta&&o&&(i||n)){i=this.coordinates.length;var r=t.S();n=null;var s=2,a=2;if("line"===o.placement){if(!$(Aa(this),t.G()))return;if(n=t.da(),a=t.pa(),"LineString"==r)var l=[n.length];else if("MultiLineString"==r)l=t.pb();else if("Polygon"==r)l=t.pb().slice(0,1);else if("MultiPolygon"==r)for(l=[],s=0,r=(t=t.td()).length;s<r;++s)l.push(t[s][0]);da(this,e),t=o.textAlign;var h,c=0;r=0;for(var u=l.length;r<u;++r){if(null==t){for(var p,g,d=void 0,f=void 0,y=s=g=p=void 0,m=h=c,v=0,_=0,x=c;c<l[r];c+=a){var C=n[c],I=n[c+1];void 0!==g&&(g=C-g,p=I-p,s=Math.sqrt(g*g+p*p),void 0!==f&&(_+=y,(d=Math.acos((f*g+d*p)/(y*s)))>o.maxAngle&&(_>v&&(v=_,h=x,m=c),_=0,x=c-a)),y=s,f=g,d=p),g=C,p=I}c=(s=_+s>v?[x,c]:[h,m])[0],h=s[1]}else h=l[r];for(s=c;s<h;s+=a)this.coordinates.push(n[s],n[s+1]);s=this.coordinates.length,c=l[r],La(this,i,s,this.N),i=s}}else{switch(u=(l=this.Y(this.ta,this.j,this.v,this.V)).width/this.pixelRatio,r){case"Point":case"MultiPoint":s=(n=t.da()).length;break;case"LineString":n=t.Fe();break;case"Circle":n=t.xa();break;case"MultiLineString":s=(n=t.Ge()).length;break;case"Polygon":if(n=t.Td(),!o.overflow&&n[2]/this.resolution<u)return;a=3;break;case"MultiPolygon":for(n=[],s=0,r=(h=op(t)).length;s<r;s+=3)(o.overflow||h[s+2]/this.resolution>=u)&&n.push(h[s],h[s+1]);if(0==(s=n.length))return}s=pa(this,n,0,s,a,!1,!1),da(this,e),(o.backgroundFill||o.backgroundStroke)&&(this.Oa(o.backgroundFill,o.backgroundStroke),xa(this,this.state,this.Ah,t),Ca(this,this.state,this.pd)),function(t,e,i,n){var o=t.f,r=t.g,s=t.pixelRatio,a=aa[o.textAlign||"center"],l=aa[o.textBaseline];r=r&&r.lineWidth?r.lineWidth:0,a=a*e.width/s+2*(.5-a)*r,l=l*e.height/s+2*(.5-l)*r,t.a.push([6,i,n,e,(a-t.D)*s,(l-t.l)*s,t.N,e.height,1,0,0,t.C,t.B,1,!0,e.width,o.padding==ns?ns:o.padding.map((function(t){return t*s})),!!o.backgroundFill,!!o.backgroundStroke]),t.b.push([6,i,n,e,(a-t.D)*s,(l-t.l)*s,t.N,e.height,1,0,0,t.C,t.B,1/s,!0,e.width,o.padding,!!o.backgroundFill,!!o.backgroundStroke])}(this,l,i,s)}Ia(this,e)}},Pa.prototype.Y=function(t,e,i,n){var o=n+e+t+i+this.pixelRatio;if(!os.a.hasOwnProperty(o)){var r=n?this.ab[n]||this.g:null,s=i?this.o[i]||this.c:null,a=this.s[e]||this.f,l=a.scale*this.pixelRatio,h=aa[a.textAlign||"center"];e=n&&r.lineWidth?r.lineWidth:0;var c,u=(t=t.split("\n")).length,p=[],g=a.font,d=t.length,f=0;for(c=0;c<d;++c){var y=us(g,t[c]);f=Math.max(f,y),p.push(y)}if(d=f,g=cs(a.font),f=(d=xo(Math.ceil((d+e)*l),Math.ceil((g*u+e)*l))).canvas,os.set(o,f),1!=l&&d.scale(l,l),d.font=a.font,n&&(d.strokeStyle=r.strokeStyle,d.lineWidth=e*(Xe?l:1),d.lineCap=r.lineCap,d.lineJoin=r.lineJoin,d.miterLimit=r.miterLimit,Je&&r.lineDash.length&&(d.setLineDash(r.lineDash),d.lineDashOffset=r.lineDashOffset)),i&&(d.fillStyle=s.fillStyle),d.textBaseline="middle",d.textAlign="center",r=.5-h,s=h*f.width/l+r*e,n)for(n=0;n<u;++n)d.strokeText(t[n],s+r*p[n],.5*(e+g)+n*g);if(i)for(n=0;n<u;++n)d.fillText(t[n],s+r*p[n],.5*(e+g)+n*g)}return os.get(o)},Pa.prototype.nb=function(t,e){var i,n;if(t){if(this.N=e,(n=t.Fa())?((e=this.c)||(e=this.c={}),e.fillStyle=Cs(n.b||ts)):e=this.c=null,i=t.Ga()){(n=this.g)||(n=this.g={});var o=i.g,r=i.i,s=i.c,a=i.l;n.lineCap=i.f||"round",n.lineDash=o?o.slice():es,n.lineDashOffset=void 0===r?0:r,n.lineJoin=i.j||"round",n.lineWidth=void 0===s?1:s,n.miterLimit=void 0===a?10:a,n.strokeStyle=Cs(i.a||is)}else n=this.g=null;i=this.f,o=t.a||"10px sans-serif",ls(o),r=t.b,i.overflow=t.v,i.font=o,i.maxAngle=t.s,i.placement=t.o,i.textAlign=t.f,i.textBaseline=t.j||"middle",i.backgroundFill=t.N,i.backgroundStroke=t.D,i.padding=t.C||ns,i.scale=void 0===r?1:r,o=t.g,r=t.c,s=t.l,a=t.i,this.ta=t.Ka()||"",this.D=void 0===o?0:o,this.l=void 0===r?0:r,this.C=void 0!==s&&s,this.B=void 0===a?0:a,this.V=n?("string"==typeof n.strokeStyle?n.strokeStyle:l(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.j=i.font+i.scale+(i.textAlign||"?"),this.v=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+l(e.fillStyle):""}else this.ta=""},s(Na,oa);var Da={0:[[!0]]};function Ra(t,e,i){var n,o=Math.floor(t.length/2);if(e>=o)for(n=o;n<e;n++)t[n][i]=!0;else if(e<o)for(n=e+1;n<o;n++)t[n][i]=!0}function Oa(t){for(var e in t.b){var i,n=t.b[e];for(i in n)n[i].bf()}}function Fa(t,e){var i=t.c;t=i[0];var n=i[1],o=i[2];return gn(t=[t,n,t,i=i[3],o,i,o,n],0,8,2,e,t),t}(t=Na.prototype).Vb=function(t){var e=null;return this.a&&(t?(e=this.g)[4]++:(e=this.g=[1/0,1/0,-1/0,-1/0]).push(1)),e},t.wa=function(t,e,i,n,o,r,s){function a(t){for(var e=c.getImageData(0,0,l,l).data,i=0;i<l;i++)for(var n=0;n<l;n++)if(g[i][n]&&0<e[4*(n*l+i)+3]){if(!p||"Image"!=y&&"Text"!=y||-1!==p.indexOf(t))var o=r(t);return o||void c.clearRect(0,0,l,l)}}var l=2*(n=Math.round(n))+1,h=bn(this.j,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),c=this.f;if(c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.i){var u=[1/0,1/0,-1/0,-1/0];z(u,t),S(u,e*(this.i+n),u)}var p,g=function(t){if(void 0!==Da[t])return Da[t];for(var e=2*t+1,i=Array(e),n=0;n<e;n++)i[n]=Array(e);e=t;for(var o=n=0;e>=n;)Ra(i,t+e,t+n),Ra(i,t+n,t+e),Ra(i,t-n,t+e),Ra(i,t-e,t+n),Ra(i,t-e,t-n),Ra(i,t-n,t-e),Ra(i,t+n,t-e),Ra(i,t+e,t-n),0<2*((o+=1+2*++n)-e)+1&&(o+=1-2*--e);return Da[t]=i}(n);for(this.a&&(p=this.a.all().map((function(t){return t.value}))),(t=Object.keys(this.b).map(Number)).sort(Wt),e=t.length-1;0<=e;--e){var d=t[e].toString(),f=this.b[d];for(n=sa.length-1;0<=n;--n){var y=sa[n],m=f[y];if(void 0!==m)if(!s||"Image"!=y&&"Text"!=y){if(m=va(m,c,h,i,o,a,u))return m}else{var v=s[d];v?v.push(m,h.slice(0)):s[d]=[m,h.slice(0)]}}}},t.Ja=function(t,e){var i=void 0!==t?t.toString():"0";return void 0===(t=this.b[i])&&(t={},this.b[i]=t),void 0===(i=t[e])&&(i=new ka[e](this.o,this.c,this.v,this.s,this.l,this.a),t[e]=i),i},t.yg=function(){return st(this.b)},t.Na=function(t,e,i,n,o,r){var s=Object.keys(this.b).map(Number);s.sort(Wt),t.save();var a,l,h=Fa(this,e);for(t.beginPath(),t.moveTo(h[0],h[1]),t.lineTo(h[2],h[3]),t.lineTo(h[4],h[5]),t.lineTo(h[6],h[7]),t.clip(),o=o||sa,h=0,a=s.length;h<a;++h){var c=s[h].toString(),u=this.b[c],p=0;for(l=o.length;p<l;++p){var g=o[p],d=u[g];void 0!==d&&(!r||"Image"!=g&&"Text"!=g?d.Na(t,e,i,n):(g=r[c])?g.push(d,e.slice(0)):r[c]=[d,e.slice(0)])}}t.restore()};var ka={Circle:Ma,Default:la,Image:ba,LineString:wa,Polygon:Ma,Text:Pa};function Ga(t,e){return l(t)-l(e)}function Ba(t,e){return(t=.5*t/e)*t}function za(t,e,i,n,o,r){var s,a=!1;if(s=i.Y()){var l=s.gf();2==l||3==l?s.Yj(o,r):(0==l&&s.load(),s.gi(o,r),a=!0)}return(o=(0,i.cb)(e))&&(n=o.Wd(n),i.Ie()?function t(e,i,n,o){if("GeometryCollection"==i.S()){i=i.vd();for(var r=0,s=i.length;r<s;++r)t(e,i[r],n,o)}else e.Ja(n.Ba(),"Default").Hh(i,o,n.Ie())}(t,n,i,e):(0,Va[n.S()])(t,n,i,e)),a}var Va={Point:function(t,e,i,n){var o=i.Y();if(o){if(2!=o.gf())return;var r=t.Ja(i.Ba(),"Image");r.Zb(o,t.Vb(!1)),r.yc(e,n)}(r=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(r,t.Vb(!!o)),i.Wb(e,n))},LineString:function(t,e,i,n){var o=i.Ga();if(o){var r=t.Ja(i.Ba(),"LineString");r.Oa(null,o),r.uc(e,n)}(o=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(o,t.Vb(!1)),i.Wb(e,n))},Polygon:function(t,e,i,n){var o=i.Fa(),r=i.Ga();if(o||r){var s=t.Ja(i.Ba(),"Polygon");s.Oa(o,r),s.zc(e,n)}(o=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(o,t.Vb(!1)),i.Wb(e,n))},MultiPoint:function(t,e,i,n){var o=i.Y();if(o){if(2!=o.gf())return;var r=t.Ja(i.Ba(),"Image");r.Zb(o,t.Vb(!1)),r.wc(e,n)}(r=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(r,t.Vb(!!o)),i.Wb(e,n))},MultiLineString:function(t,e,i,n){var o=i.Ga();if(o){var r=t.Ja(i.Ba(),"LineString");r.Oa(null,o),r.vc(e,n)}(o=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(o,t.Vb(!1)),i.Wb(e,n))},MultiPolygon:function(t,e,i,n){var o=i.Fa(),r=i.Ga();if(r||o){var s=t.Ja(i.Ba(),"Polygon");s.Oa(o,r),s.xc(e,n)}(o=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(o,t.Vb(!1)),i.Wb(e,n))},GeometryCollection:function(t,e,i,n){var o,r=0;for(o=(e=e.a).length;r<o;++r)(0,Va[e[r].S()])(t,e[r],i,n)},Circle:function(t,e,i,n){var o=i.Fa(),r=i.Ga();if(o||r){var s=t.Ja(i.Ba(),"Circle");s.Oa(o,r),s.cc(e,n)}(o=i.Ka())&&((i=t.Ja(i.Ba(),"Text")).nb(o,t.Vb(!1)),i.Wb(e,n))}};function ja(t){ks.call(this,t),this.f=t.D?na.Jc(9):null,this.i=!1,this.N=-1,this.o=NaN,this.l=[1/0,1/0,-1/0,-1/0],this.c=this.v=null,this.j=!0,this.context=xo(),me(os,"clear",this.Vi,this)}function Ha(t){this.context=null,ea.call(this,t),this.N=t.D?na.Jc(9):null,this.D=!1,this.ca=[1,0,0,1,0,0],this.O="vector"==t.l?1:0,me(os,"clear",this.Xi,this)}s(ja,ks),ja.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.S()},ja.create=function(t,e){return new ja(e)},(t=ja.prototype).ia=function(){_e(os,"clear",this.Vi,this),ks.prototype.ia.call(this)},t.df=function(t,e,i){var n=t.extent,o=t.pixelRatio,r=e.Te?t.skippedFeatureUids:{},s=t.viewState,a=s.projection,l=s.rotation,h=a.G(),c=this.a.ha(),u=zs(this,t,0);Bs(this,"precompose",i,t,u);var p=e.extent;(s=void 0!==p)&&Gs(i,t,p);var g=this.c;if(g&&!g.yg()){this.f&&this.f.clear();var d=p=0,f=1!==e.opacity,y=Me(this.a,"render");if(f||y){var m=i.canvas.width,v=i.canvas.height;if(l){var _=Math.round(Math.sqrt(m*m+v*v));p=(_-m)/2,d=(_-v)/2,m=v=_}this.context.canvas.width=m,this.context.canvas.height=v,m=this.context}else m=i;if(v=m.globalAlpha,f||(m.globalAlpha=e.opacity),m!=i&&m.translate(p,d),ps(m,-l,(_=t.size[0]*o)/2,(o*=t.size[1])/2),g.Na(m,u,l,r),c.D&&a.g&&!P(h,n)){a=n[0],c=Q(h);for(var x=0;a<h[0];)u=zs(this,t,u=c*--x),g.Na(m,u,l,r),a+=c;for(x=0,a=n[2];a>h[2];)u=zs(this,t,u=c*++x),g.Na(m,u,l,r),a-=c;u=zs(this,t,0)}ps(m,l,_/2,o/2),m!=i&&(y&&Bs(this,"render",m,t,u),f?(n=i.globalAlpha,i.globalAlpha=e.opacity,i.drawImage(m.canvas,-p,-d),i.globalAlpha=n):i.drawImage(m.canvas,-p,-d),m.translate(-p,-d)),f||(m.globalAlpha=v)}s&&i.restore(),this.pf(i,t,e,u)},t.wa=function(t,e,i,n,o){if(this.c){var r=this.a,s={};return this.c.wa(t,e.viewState.resolution,e.viewState.rotation,i,{},(function(t){var e=l(t).toString();if(!(e in s))return s[e]=!0,n.call(o,t,r)}),null)}},t.Vi=function(){var t=this.a;t.Jb()&&this.c&&t.u()},t.Wi=function(){Ns(this)},t.$c=function(t){var e=this.a,i=e.ha();Rs(t,i);var n=t.viewHints[0],o=t.viewHints[1],r=e.ca,s=e.ra;if(!this.i&&!r&&n||!s&&o)return!0;r=t.extent;var a=t.viewState;s=a.projection;var l=a.resolution,h=t.pixelRatio;n=e.g;var c=e.f;if(void 0===(o=e.get(Zv))&&(o=Ga),r=S(r,c*l),c=a.projection.G(),i.D&&a.projection.g&&!P(c,t.extent)&&(t=Math.max(Q(r)/2,Q(c)),r[0]=c[0]-t,r[2]=c[2]+t),!this.i&&this.o==l&&this.N==n&&this.v==o&&P(this.l,r))return this.j=!1,!0;this.c=null,this.i=!1;var u=new Na(.5*l/h,r,l,h,i.$,this.f,e.f);if(i.ae(r,l,s),t=function(t){var i=t.ib();if(i)var n=i.call(t,l);else(i=e.ib())&&(n=i(t,l));if(n){if(n){if(i=!1,Array.isArray(n))for(var o=0,r=n.length;o<r;++o)i=za(u,t,n[o],Ba(l,h),this.Wi,this)||i;else i=za(u,t,n,Ba(l,h),this.Wi,this);t=i}else t=!1;this.i=this.i||t}}.bind(this),o){var p=[];for(i.ec(r,(function(t){p.push(t)}),this),p.sort(o),i=0,s=p.length;i<s;++i)t(p[i])}else i.ec(r,t,this);return Oa(u),this.o=l,this.N=n,this.v=o,this.l=r,this.c=u,this.j=!0},s(Ha,ea),Ha.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.S()},Ha.create=function(t,e){return new Ha(e)};var Ua={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},Wa={image:["Default"],hybrid:["Image","Text","Default"],vector:sa};function Ya(t){delete(t=nt({},t)).renderer,t.controls||(t.controls=Ho()),t.interactions||(t.interactions=Zr()),Lo.call(this,t)}function Xa(t){Te.call(this),t=t||{},this.a=null,me(this,Le(Qa),this.$m,this),this.rg(void 0!==t.tracking&&t.tracking)}(t=Ha.prototype).ia=function(){_e(os,"clear",this.Xi,this),ea.prototype.ia.call(this)},t.$c=function(t,e){var i=this.a,n=i.g;return this.B!=n&&(this.f.length=0,i=i.l,this.context||"vector"==i||(this.context=xo()),this.context&&"vector"==i&&(this.context=null)),this.B=n,ea.prototype.$c.apply(this,arguments)},t.Sf=function(t,e,i,n,o,r,s,a,h){var c=t,u=this.a,p=e.pixelRatio,g=e.viewState.projection,d=u.g,f=u.get(Zv)||null,y=BC(c,u);if(y.Be||y.wf!=d||y.eh!=f){var m=u.ha(),v=m.tileGrid,_=m.eb(g),x=_.Ta(c.ya[0]);_=_.Ma(c.l);for(var C=0,I=c.a.length;C<I;++C){var A=c.c[c.a[C]];if(3!=A.getState()){var b=v.Ma(A.ya),w=q(_,b),M=G(b,w)?null:S(w,u.f*x),E=A.o,T=!1;kt(g,E)||(T=!0,A.vg(g)),y.Be=!1,w=new Na(0,w,x,p,m.s,this.N,u.f);var P=Ba(x,p),L=A.a;f&&f!==y.eh&&L.sort(f);for(var N,D=0,R=L.length;D<R;++D)if(N=L[D],T&&("tile-pixels"==E.a&&(E.Sj(b),E.Si(A.G())),N.U().mb(E,g)),!M||$(M,N.U().G())){var O=void 0,F=N.ib();if(F?O=F.call(N,x):(F=u.ib())&&(O=F(N,x)),O){F=P;var k=w;if(O){var B=!1;if(Array.isArray(O))for(var z=0,V=O.length;z<V;++z)B=za(k,N,O[z],F,this.Yi,this)||B;else B=za(k,N,O,F,this.Yi,this);N=B}else N=!1;this.D=this.D||N,y.Be=y.Be||N}}for(var j in Oa(w),w.b);b=c.ya.toString(),M=w,A.f[l(u)+","+b]=M}}y.wf=d,y.eh=f}if(this.context){if(y=e,g=BC(c,u=this.a),d=u.g,(p=Ua[u.l])&&g.fh!==d)for(g.fh=d,x=(m=c.l)[0],g=y.pixelRatio,d=(v=(j=u.ha()).eb(y.viewState.projection)).Ta(x),f=GC(c,u),y=j.Zd(x,g,y.viewState.projection),f.canvas.width=y[0],f.canvas.height=y[1],y=v.Ma(m),m=0,v=c.a.length;m<v;++m)3!=(x=c.c[c.a[m]]).getState()&&(j=g/d,In(_=yn(this.ca),j,-j),An(_,-y[0],-y[3]),Jc(x,u,c.ya.toString()).Na(f,_,0,{},p));ea.prototype.Sf.apply(this,arguments)}},t.wa=function(t,e,i,n,o){var r=e.viewState.resolution,s=e.viewState.rotation;i=null==i?0:i;var a,h=this.a,c={},u=this.f;e=h.ha().eb(e.viewState.projection);var p=0;for(a=u.length;p<a;++p){var g=u[p],d=g.l,f=S(d=e.Ma(d,this.T),i*r,f);if(T(f,t)){d=0;for(var y=g.a.length;d<y;++d){var m=g.c[g.a[d]];if(3!=m.getState()){m=Jc(m,h,g.ya.toString());var v=v||m.wa(t,r,s,i,{},(function(t){var e=l(t).toString();if(!(e in c))return c[e]=!0,n.call(o,t,h)}),null)}}}}return v},t.Xi=function(){var t=this.a;t.Jb()&&void 0!==this.B&&t.u()},t.Yi=function(){Ns(this)},t.pf=function(t,e,i){var n=this.a,o=n.D?{}:null,r=n.ha(),s=n.l,a=Wa[s],l=e.pixelRatio,h=e.viewState.rotation,c=e.size;if(h){var u=Math.round(l*c[0]/2),p=Math.round(l*c[1]/2);ps(t,-h,u,p)}o&&this.N.clear(),l=this.f,r=r.eb(e.viewState.projection),c=[];for(var g=[],d=l.length-1;0<=d;--d){var f=l[d];if(5!=f.getState())for(var y=f.ya,m=r.Ma(y)[0]-r.Ma(f.l)[0],v=void 0,_=0,x=f.a.length;_<x;++_){var C=f.c[f.a[_]];if(3!=C.getState()){var I,A=Jc(C,n,y.toString());if(!(I="vector"==s))t:{for(I in I=void 0,A.b)for(var b=A.b[I],w=0,S=a.length;w<S;++w)if(a[w]in b){I=!0;break t}I=!1}if(I){for(v||(v=zs(this,e,m)),C=C.ya[0],I=Fa(A,v),t.save(),t.globalAlpha=i.opacity,b=0,w=c.length;b<w;++b)S=c[b],C<g[b]&&(t.beginPath(),t.moveTo(I[0],I[1]),t.lineTo(I[2],I[3]),t.lineTo(I[4],I[5]),t.lineTo(I[6],I[7]),t.moveTo(S[6],S[7]),t.lineTo(S[4],S[5]),t.lineTo(S[2],S[3]),t.lineTo(S[0],S[1]),t.clip());A.Na(t,v,h,{},a,o),t.restore(),c.push(I),g.push(C)}}}}if(o)for(n=t,a={},l=0,r=(s=Object.keys(o).map(Number).sort(Wt)).length;l<r;++l)for(g=0,d=(c=o[s[l].toString()]).length;g<d;)f=c[g++],y=c[g++],f.Na(n,y,h,a);h&&ps(t,h,u,p),ea.prototype.pf.apply(this,arguments)},To("MAP_RENDERER",$s),Po([js,ea,ja,Ha]),s(Ya,Lo),s(Xa,Te),(t=Xa.prototype).ia=function(){this.rg(!1),Te.prototype.ia.call(this)},t.Dp=function(t){if(null!==t.alpha){var e=_(t.alpha);this.set(Za,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Ja,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Ja,_(t.webkitCompassHeading))}null!==t.beta&&this.set(qa,_(t.beta)),null!==t.gamma&&this.set(Ka,_(t.gamma)),this.u()},t.Ym=function(){return this.get(Za)},t.ll=function(){return this.get(qa)},t.ql=function(){return this.get(Ka)},t.Zm=function(){return this.get(Ja)},t.li=function(){return this.get(Qa)},t.$m=function(){if($e){var t=this.li();t&&!this.a?this.a=me(window,"deviceorientation",this.Dp,this):t||null===this.a||(xe(this.a),this.a=null)}},t.rg=function(t){this.set(Qa,t)};var Za="alpha",qa="beta",Ka="gamma",Ja="heading",Qa="tracking";function $a(t){this.i=t.opacity,this.s=t.rotateWithView,this.f=t.rotation,this.a=t.scale,this.v=t.snapToPixel}function tl(t){this.D=this.o=this.c=null,this.Xa=void 0!==t.fill?t.fill:null,this.oa=[0,0],this.l=t.points,this.b=void 0!==t.radius?t.radius:t.radius1,this.g=t.radius2,this.j=void 0!==t.angle?t.angle:0,this.Ya=void 0!==t.stroke?t.stroke:null,this.B=this.qa=this.C=null,this.N=t.atlasManager,el(this,this.N),$a.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function el(t,e){var i="",n="",o=0,r=null,s=0,a=0;if(t.Ya){var h=t.Ya.a;null===h&&(h=is),h=Cs(h),void 0===(a=t.Ya.c)&&(a=1),r=t.Ya.g,s=t.Ya.i,Je||(r=null,s=0),void 0===(n=t.Ya.j)&&(n="round"),void 0===(i=t.Ya.f)&&(i="round"),void 0===(o=t.Ya.l)&&(o=10)}var c=2*(t.b+a)+1;if(i={strokeStyle:h,Wj:a,size:c,lineCap:i,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:o},void 0===e){var u=xo(c,c);t.o=u.canvas,e=c=t.o.width,t.Jh(i,u,0,0),t.Xa?t.D=t.o:(u=xo(i.size,i.size),t.D=u.canvas,t.Ih(i,u,0,0))}else c=Math.round(c),(n=!t.Xa)&&(u=t.Ih.bind(t,i)),t.Ya?(void 0===(o=t.Ya).b&&(o.b="s",o.b=o.a?"string"==typeof o.a?o.b+o.a:o.b+l(o.a).toString():o.b+"-",o.b+=","+(void 0!==o.f?o.f.toString():"-")+","+(o.g?o.g.toString():"-")+","+(void 0!==o.i?o.i:"-")+","+(void 0!==o.j?o.j:"-")+","+(void 0!==o.l?o.l.toString():"-")+","+(void 0!==o.c?o.c.toString():"-")),o=o.b):o="-",t.Xa?(void 0===(r=t.Xa).a&&(r.a=r.b instanceof CanvasPattern||r.b instanceof CanvasGradient?l(r.b).toString():"f"+(r.b?vs(r.b):"-")),r=r.a):r="-",t.c&&o==t.c[1]&&r==t.c[2]&&t.b==t.c[3]&&t.g==t.c[4]&&t.j==t.c[5]&&t.l==t.c[6]||(t.c=["r"+o+r+(void 0!==t.b?t.b.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.l?t.l.toString():"-"),o,r,t.b,t.g,t.j,t.l]),u=e.add(t.c[0],c,c,t.Jh.bind(t,i),u),t.o=u.image,t.oa=[u.offsetX,u.offsetY],e=u.image.width,t.D=n?u.Bm:t.o;t.C=[c/2,c/2],t.qa=[c,c],t.B=[e,e]}function il(t){t=t||{},tl.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function nl(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function ol(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.b=void 0}function rl(t){t=t||{},this.Uc=null,this.cb=cl,void 0!==t.geometry&&this.Va(t.geometry),this.Xa=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.pc=void 0!==t.renderer?t.renderer:null,this.Ya=void 0!==t.stroke?t.stroke:null,this.ta=void 0!==t.text?t.text:null,this.bk=t.zIndex}function sl(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else d(t instanceof rl,41),e=[t];t=function(){return e}}return t}(t=$a.prototype).hf=function(){return this.i},t.jf=function(){return this.s},t.kf=function(){return this.f},t.lf=function(){return this.a},t.Ke=function(){return this.v},t.Ed=function(t){this.i=t},t.mf=function(t){this.f=t},t.Fd=function(t){this.a=t},s(tl,$a),(t=tl.prototype).clone=function(){var t=new tl({fill:this.Fa()?this.Fa().clone():void 0,points:this.l,radius:this.b,radius2:this.g,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.f,rotateWithView:this.s,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},t.Vc=function(){return this.C},t.ij=function(){return this.j},t.Fa=function(){return this.Xa},t.Eg=function(){return this.D},t.Y=function(){return this.o},t.He=function(){return this.B},t.gf=function(){return 2},t.bd=function(){return this.oa},t.jj=function(){return this.l},t.kj=function(){return this.b},t.Zh=function(){return this.g},t.oc=function(){return this.qa},t.Ga=function(){return this.Ya},t.gi=function(){},t.load=function(){},t.Yj=function(){},t.Jh=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var o=this.l;if(1/0===o)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{var r=void 0!==this.g?this.g:this.b;for(r!==this.b&&(o*=2),i=0;i<=o;i++){n=2*i*Math.PI/o-Math.PI/2+this.j;var s=0==i%2?this.b:r;e.lineTo(t.size/2+s*Math.cos(n),t.size/2+s*Math.sin(n))}}this.Xa&&(null===(i=this.Xa.b)&&(i=ts),e.fillStyle=Cs(i),e.fill()),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},t.Ih=function(t,e,i,n){var o;if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===(i=this.l))e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else for((n=void 0!==this.g?this.g:this.b)!==this.b&&(i*=2),o=0;o<=i;o++){var r=2*o*Math.PI/i-Math.PI/2+this.j,s=0==o%2?this.b:n;e.lineTo(t.size/2+s*Math.cos(r),t.size/2+s*Math.sin(r))}e.fillStyle=ts,e.fill(),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},s(il,tl),il.prototype.clone=function(){var t=new il({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},il.prototype.fd=function(t){this.b=t,el(this,this.N)},nl.prototype.clone=function(){var t=this.b;return new nl({color:t&&t.slice?t.slice():t||void 0})},nl.prototype.g=function(){return this.b},nl.prototype.c=function(t){this.b=t,this.a=void 0},(t=ol.prototype).clone=function(){var t=this.a;return new ol({color:t&&t.slice?t.slice():t||void 0,lineCap:this.f,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},t.pp=function(){return this.a},t.vl=function(){return this.f},t.qp=function(){return this.g},t.wl=function(){return this.i},t.xl=function(){return this.j},t.Dl=function(){return this.l},t.rp=function(){return this.c},t.sp=function(t){this.a=t,this.b=void 0},t.yq=function(t){this.f=t,this.b=void 0},t.setLineDash=function(t){this.g=t,this.b=void 0},t.zq=function(t){this.i=t,this.b=void 0},t.Aq=function(t){this.j=t,this.b=void 0},t.Eq=function(t){this.l=t,this.b=void 0},t.Kq=function(t){this.c=t,this.b=void 0},(t=rl.prototype).clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new rl({geometry:t,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.Ba()})},t.Ie=function(){return this.pc},t.Iq=function(t){this.pc=t},t.U=function(){return this.Uc},t.rl=function(){return this.cb},t.Fa=function(){return this.Xa},t.yf=function(t){this.Xa=t},t.Y=function(){return this.M},t.ih=function(t){this.M=t},t.Ga=function(){return this.Ya},t.Af=function(t){this.Ya=t},t.Ka=function(){return this.ta},t.Hd=function(t){this.ta=t},t.Ba=function(){return this.bk},t.Va=function(t){"function"==typeof t?this.cb=t:"string"==typeof t?this.cb=function(e){return e.get(t)}:t?void 0!==t&&(this.cb=function(){return t}):this.cb=cl,this.Uc=t},t.$b=function(t){this.bk=t};var al=null;function ll(){if(!al){var t=new nl({color:"rgba(255,255,255,0.4)"}),e=new ol({color:"#3399CC",width:1.25});al=[new rl({image:new il({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return al}function hl(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new rl({fill:new nl({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new rl({stroke:new ol({color:e,width:5})}),new rl({stroke:new ol({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new rl({image:new il({radius:6,fill:new nl({color:i}),stroke:new ol({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function cl(t){return t.U()}function ul(t){Te.call(this),this.c=void 0,this.a="geometry",this.f=null,this.j=void 0,this.i=null,me(this,Le(this.a),this.Oe,this),void 0!==t&&(t instanceof Sn||!t?this.Va(t):this.H(t))}function pl(t){Te.call(this),t=t||{},this.a=null,this.i=zt,this.f=new at(6378137),this.c=void 0,me(this,Le("projection"),this.en,this),me(this,Le("tracking"),this.fn,this),void 0!==t.projection&&this.oi(t.projection),void 0!==t.trackingOptions&&this.Rj(t.trackingOptions),this.Ue(void 0!==t.tracking&&t.tracking)}function gl(t,e,i,n,o,r){var s=NaN,a=NaN,l=(i-e)/n;if(1===l)s=t[e],a=t[e+1];else if(2==l)s=(1-o)*t[e]+o*t[e+n],a=(1-o)*t[e+1]+o*t[e+n+1];else if(0!==l){a=t[e],l=t[e+1];var h,c=0;for(s=[0],h=e+n;h<i;h+=n){var u=t[h],p=t[h+1];c+=Math.sqrt((u-a)*(u-a)+(p-l)*(p-l)),s.push(c),a=u,l=p}for(i=o*c,l=0,c=s.length,h=!1;l<c;)0>(a=+Wt(s[o=l+(c-l>>1)],i))?l=o+1:(c=o,h=!a);0>(o=h?l:~l)?(i=(i-s[-o-2])/(s[-o-1]-s[-o-2]),s=C(t[e+=(-o-2)*n],t[e+n],i),a=C(t[e+1],t[e+n+1],i)):(s=t[e+o*n],a=t[e+o*n+1])}return r?(r[0]=s,r[1]=a,r):[s,a]}function dl(t,e,i,n,o,r){if(i==e)return null;if(o<t[e+n-1])return r?((i=t.slice(e,e+n))[n-1]=o,i):null;if(t[i-1]<o)return r?((i=t.slice(i-n,i))[n-1]=o,i):null;if(o==t[e+n-1])return t.slice(e,e+n);for(e/=n,i/=n;e<i;)o<t[(1+(r=e+i>>1))*n-1]?i=r:e=r+1;if(o==(i=t[e*n-1]))return t.slice((e-1)*n,(e-1)*n+n);var s;for(r=(o-i)/(t[(e+1)*n-1]-i),i=[],s=0;s<n-1;++s)i.push(C(t[(e-1)*n+s],t[e*n+s],r));return i.push(o),i}function fl(t,e){Mn.call(this),this.c=null,this.o=this.D=this.j=-1,this.na(t,e)}function yl(t,e,i){for(var n,o,r,s,a,l=[],h=t(0),c=t(1),u=e(h),p=e(c),g=[c,h],d=[p,u],f=[1,0],y={},v=1e5;0<--v&&0<f.length;)r=f.pop(),h=g.pop(),u=d.pop(),(c=r.toString())in y||(l.push(u[0],u[1]),y[c]=!0),s=f.pop(),c=g.pop(),p=d.pop(),m((o=e(n=t(a=(r+s)/2)))[0],o[1],u[0],u[1],p[0],p[1])<i?(l.push(p[0],p[1]),y[c=s.toString()]=!0):(f.push(s,a,a,r),d.push(p,o,o,u),g.push(c,n,n,h));return l}function ml(t){t=t||{},this.a=t.font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.ta=t.text,this.f=t.textAlign,this.j=t.textBaseline,this.Xa=void 0!==t.fill?t.fill:new nl({color:"#333"}),this.s=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.o=void 0!==t.placement?t.placement:"point";var e=void 0===t.overflow?t.exceedLength:t.overflow;this.v=void 0!==e&&e,this.Ya=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0,this.N=t.backgroundFill?t.backgroundFill:null,this.D=t.backgroundStroke?t.backgroundStroke:null,this.C=void 0===t.padding?null:t.padding}function vl(t){t=t||{},this.i=this.v=null,this.j=this.f=1/0,this.s=this.l=-1/0,this.qa=this.oa=1/0,this.O=this.T=-1/0,this.ua=void 0!==t.targetSize?t.targetSize:100,this.ab=void 0!==t.maxLines?t.maxLines:100,this.g=[],this.c=[],this.ra=void 0!==t.strokeStyle?t.strokeStyle:_l,this.D=this.o=void 0,this.a=this.b=this.N=null,1==t.showLabels&&(this.$=null==t.lonLabelFormatter?Ji.bind(this,"EW"):t.lonLabelFormatter,this.Wa=null==t.latLabelFormatter?Ji.bind(this,"NS"):t.latLabelFormatter,this.ca=null==t.lonLabelPosition?0:t.lonLabelPosition,this.V=null==t.latLabelPosition?1:t.latLabelPosition,this.B=void 0!==t.lonLabelStyle?t.lonLabelStyle:new ml({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new nl({color:"rgba(0,0,0,1)"}),stroke:new ol({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==t.latLabelStyle?t.latLabelStyle:new ml({font:"12px Calibri,sans-serif",textAlign:"end",fill:new nl({color:"rgba(0,0,0,1)"}),stroke:new ol({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==t.map?t.map:null)}s(ul,Te),(t=ul.prototype).clone=function(){var t=new ul(this.L());t.Lc(this.a);var e=this.U();return e&&t.Va(e.clone()),(e=this.f)&&t.sg(e),t},t.U=function(){return this.get(this.a)},t.an=function(){return this.c},t.sl=function(){return this.a},t.bn=function(){return this.f},t.ib=function(){return this.j},t.bm=function(){this.u()},t.Oe=function(){this.i&&(xe(this.i),this.i=null);var t=this.U();t&&(this.i=me(t,"change",this.bm,this)),this.u()},t.Va=function(t){this.set(this.a,t)},t.sg=function(t){this.j=(this.f=t)?function(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var i=t;else d(t instanceof rl,41),i=[t];e=function(){return i}}return e}(t):void 0,this.u()},t.qc=function(t){this.c=t,this.u()},t.Lc=function(t){_e(this,Le(this.a),this.Oe,this),this.a=t,me(this,Le(this.a),this.Oe,this),this.Oe()},s(pl,Te),(t=pl.prototype).ia=function(){this.Ue(!1),Te.prototype.ia.call(this)},t.en=function(){var t=this.mi();t&&(this.i=Bt(Ft("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},t.fn=function(){if(ti){var t=this.ni();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Pp.bind(this),this.Qp.bind(this),this.ai()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},t.Pp=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:_(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),(t=ao(this.f,this.a,t.accuracy)).Rc(this.i),this.set("accuracyGeometry",t),this.u()},t.Qp=function(t){t.type="error",this.Ue(!1),this.b(t)},t.el=function(){return this.get("accuracy")},t.fl=function(){return this.get("accuracyGeometry")||null},t.gl=function(){return this.get("altitude")},t.hl=function(){return this.get("altitudeAccuracy")},t.cn=function(){return this.get("heading")},t.dn=function(){return this.get("position")},t.mi=function(){return this.get("projection")},t.Ol=function(){return this.get("speed")},t.ni=function(){return this.get("tracking")},t.ai=function(){return this.get("trackingOptions")},t.oi=function(t){this.set("projection",Ft(t))},t.Ue=function(t){this.set("tracking",t)},t.Rj=function(t){this.set("trackingOptions",t)},s(fl,Mn),(t=fl.prototype).Fk=function(t){this.A?Zt(this.A,t):this.A=t.slice(),this.u()},t.clone=function(){var t=new fl(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,i,n){return n<E(this.G(),t,e)?n:(this.o!=this.g&&(this.D=Math.sqrt(Rn(this.A,0,this.A.length,this.a,0)),this.o=this.g),Fn(this.A,0,this.A.length,this.a,this.D,!1,t,e,i,n))},t.dl=function(t,e){return $n(this.A,0,this.A.length,this.a,t,e)},t.Tn=function(t,e){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:dl(this.A,0,this.A.length,this.a,t,void 0!==e&&e)},t.W=function(){return Vn(this.A,0,this.A.length,this.a)},t.Ph=function(t,e){return gl(this.A,0,this.A.length,this.a,t,e)},t.Un=function(){return ra(this.A,0,this.A.length,this.a)},t.Fe=function(){return this.j!=this.g&&(this.c=this.Ph(.5,this.c),this.j=this.g),this.c},t.xd=function(t){var e=[];return e.length=Un(this.A,0,this.A.length,this.a,t,e,0),(t=new fl(null)).ba("XY",e),t},t.S=function(){return"LineString"},t.$a=function(t){return to(this.A,0,this.A.length,this.a,t)},t.na=function(t,e){t?(Pn(this,e,t,1),this.A||(this.A=[]),this.A.length=Bn(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Tn(this,t,e),this.u()},(t=ml.prototype).clone=function(){return new ml({font:this.a,placement:this.o,maxAngle:this.s,overflow:this.v,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ka(),textAlign:this.f,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.g,offsetY:this.c})},t.Gl=function(){return this.v},t.pl=function(){return this.a},t.Bl=function(){return this.s},t.Kl=function(){return this.o},t.El=function(){return this.g},t.Fl=function(){return this.c},t.Fa=function(){return this.Xa},t.tp=function(){return this.l},t.up=function(){return this.i},t.vp=function(){return this.b},t.Ga=function(){return this.Ya},t.Ka=function(){return this.ta},t.Ql=function(){return this.f},t.Rl=function(){return this.j},t.jl=function(){return this.N},t.kl=function(){return this.D},t.Il=function(){return this.C},t.Fq=function(t){this.v=t},t.Jj=function(t){this.a=t},t.Bq=function(t){this.s=t},t.Nj=function(t){this.g=t},t.Oj=function(t){this.c=t},t.Hq=function(t){this.o=t},t.yf=function(t){this.Xa=t},t.wp=function(t){this.i=t},t.lj=function(t){this.b=t},t.Af=function(t){this.Ya=t},t.Hd=function(t){this.ta=t},t.Qj=function(t){this.f=t},t.Jq=function(t){this.j=t},t.sq=function(t){this.N=t},t.tq=function(t){this.D=t},t.Gq=function(t){this.C=t};var _l=new ol({color:"rgba(0,0,0,0.2)"}),xl=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function Cl(t,e,i,n,o,r,s){var a=s;return i=function(t,e,i,n,o){return yl((function(n){return[t,e+(i-e)*n]}),Gt(Ft("EPSG:4326"),n),o)}(e,i,n,t.i,o),(a=void 0!==t.g[a]?t.g[a]:new fl(null)).ba("XY",i),$(a.G(),r)&&(t.b&&(i=s,r=[(n=a.da())[0],f(r[1]+Math.abs(r[1]-r[3])*t.ca,Math.max(r[1],n[1]),Math.min(r[3],n[n.length-1]))],(i=void 0!==t.b[i]?t.b[i].Qd:new Zn(null)).na(r),t.b[s]={Qd:i,text:t.$(e)}),t.g[s++]=a),s}function Il(t,e,i,n,o,r,s){var a=s;return i=function(t,e,i,n,o){return yl((function(n){return[e+(i-e)*n,t]}),Gt(Ft("EPSG:4326"),n),o)}(e,i,n,t.i,o),(a=void 0!==t.c[a]?t.c[a]:new fl(null)).ba("XY",i),$(a.G(),r)&&(t.a&&(i=s,n=a.da(),r=[f(r[0]+Math.abs(r[0]-r[2])*t.V,Math.max(r[0],n[0]),Math.min(r[2],n[n.length-2])),n[1]],(i=void 0!==t.a[i]?t.a[i].Qd:new Zn(null)).na(r),t.a[s]={Qd:i,text:t.Wa(e)}),t.c[s++]=a),s}function Al(t,e,i,n,o,r){qr.call(this,t,e,i,0),this.i=n,this.M=new Image,null!==o&&(this.M.crossOrigin=o),this.g=null,this.state=0,this.c=r}function bl(t,e,i){Se.call(this),i=i||{},this.ya=t,this.state=e,this.g=null,this.key="",this.j=void 0===i.transition?250:i.transition,this.s={}}function wl(t){if(!t.g)return t;var e=t.g;do{if(2==e.getState())return e;e=e.g}while(e);return t}function Sl(t){if(t.g){var e=t.g;do{if(2==e.getState()){e.g=null;break}1==e.getState()?t=e:0==e.getState()?t.g=e.g:t=e,e=t.g}while(e)}}function Ml(t,e){t.state=e,t.u()}function El(t,e,i){if(!t.j)return 1;var n=t.s[e];if(n){if(-1===n)return 1}else n=i,t.s[e]=n;return(e=i-n+1e3/60)>=t.j?1:an(e/t.j)}function Tl(t,e,i,n,o,r){bl.call(this,t,e,r),this.f=n,this.l=i,this.M=new Image,null!==n&&(this.M.crossOrigin=n),this.c=null,this.v=o}function Pl(t){t.c.forEach(xe),t.c=null}function Ll(){var t=xo(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function Nl(t){this.b=t}function Dl(t){this.b=t}function Rl(t){this.b=t}(t=vl.prototype).gn=function(){return this.v},t.Cl=function(){return this.g},t.Jl=function(){return this.c},t.di=function(t){var e=t.vectorContext,i=t.frameState;t=i.extent;var n=i.viewState,o=n.center,r=n.projection;if(i=(n=n.resolution)*n/(4*(i=i.pixelRatio)*i),!this.i||!kt(this.i,r)){var s=Ft("EPSG:4326"),a=r.G(),l=r.oe,h=Ht(l,s,r),c=l[2],u=l[1],p=l[0],g=h[3],d=h[2],y=h[1];h=h[0],this.f=l[3],this.j=c,this.l=u,this.s=p,this.oa=g,this.qa=d,this.T=y,this.O=h,this.o=Gt(s,r),this.D=Gt(r,s),this.N=this.D(Y(a)),this.i=r}for(r=this.N[0],s=this.N[1],a=-1,c=Math.pow(this.ua*n,2),u=[],p=[],n=0,l=xl.length;n<l&&(g=xl[n]/2,u[0]=r-g,u[1]=s-g,p[0]=r+g,p[1]=s+g,this.o(u,u),this.o(p,p),!((g=Math.pow(p[0]-u[0],2)+Math.pow(p[1]-u[1],2))<=c));++n)a=xl[n];if(-1==(n=a))this.g.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(o=(r=this.D(o))[0],r=r[1],s=this.ab,u=(l=Ht(l=[Math.max(t[0],this.O),Math.max(t[1],this.T),Math.min(t[2],this.qa),Math.min(t[3],this.oa)],this.i,"EPSG:4326"))[3],a=l[2],p=l[1],g=l[0],c=Cl(this,d=f(o=Math.floor(o/n)*n,this.s,this.j),p,u,i,t,0),l=0;d!=this.s&&l++<s;)c=Cl(this,d=Math.max(d-n,this.s),p,u,i,t,c);for(d=f(o,this.s,this.j),l=0;d!=this.j&&l++<s;)c=Cl(this,d=Math.min(d+n,this.j),p,u,i,t,c);for(this.g.length=c,this.b&&(this.b.length=c),c=Il(this,o=f(r=Math.floor(r/n)*n,this.l,this.f),g,a,i,t,0),l=0;o!=this.l&&l++<s;)c=Il(this,o=Math.max(o-n,this.l),g,a,i,t,c);for(o=f(r,this.l,this.f),l=0;o!=this.f&&l++<s;)c=Il(this,o=Math.min(o+n,this.f),g,a,i,t,c);this.c.length=c,this.a&&(this.a.length=c)}for(e.Oa(null,this.ra),t=0,i=this.g.length;t<i;++t)o=this.g[t],e.Hb(o);for(t=0,i=this.c.length;t<i;++t)o=this.c[t],e.Hb(o);if(this.b)for(t=0,i=this.b.length;t<i;++t)o=this.b[t],this.B.Hd(o.text),e.nb(this.B),e.Hb(o.Qd);if(this.a)for(t=0,i=this.a.length;t<i;++t)o=this.a[t],this.C.Hd(o.text),e.nb(this.C),e.Hb(o.Qd)},t.setMap=function(t){this.v&&(this.v.J("postcompose",this.di,this),this.v.render()),t&&(t.I("postcompose",this.di,this),t.render()),this.v=t},s(Al,qr),(t=Al.prototype).Y=function(){return this.M},t.kn=function(){this.state=3,this.g.forEach(xe),this.g=null,this.u()},t.ln=function(){void 0===this.resolution&&(this.resolution=Z(this.extent)/this.M.height),this.state=2,this.g.forEach(xe),this.g=null,this.u()},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.u(),this.g=[ve(this.M,"error",this.kn,this),ve(this.M,"load",this.ln,this)],this.c(this,this.i))},t.ih=function(t){this.M=t},s(bl,Se),bl.prototype.u=function(){this.b("change")},bl.prototype.lb=function(){return this.key+"/"+this.ya},bl.prototype.i=function(){return this.ya},bl.prototype.getState=function(){return this.state},s(Tl,bl),(t=Tl.prototype).ia=function(){1==this.state&&(Pl(this),this.M=Ll()),this.g&&Ae(this.g),this.state=5,this.u(),bl.prototype.ia.call(this)},t.Y=function(){return this.M},t.lb=function(){return this.l},t.hn=function(){this.state=3,Pl(this),this.M=Ll(),this.u()},t.jn=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,Pl(this),this.u()},t.load=function(){3==this.state&&(this.state=0,this.M=new Image,null!==this.f&&(this.M.crossOrigin=this.f)),0==this.state&&(this.state=1,this.u(),this.c=[ve(this.M,"error",this.hn,this),ve(this.M,"load",this.jn,this)],this.v(this,this.l))},s(Dl,Nl),Dl.prototype.S=function(){return 35632},s(Rl,Nl),Rl.prototype.S=function(){return 35633};var Ol=new Dl("precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),Fl=new Rl("varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");function kl(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.qa=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.O=t.getUniformLocation(e,"o"),this.T=t.getUniformLocation(e,"p"),this.b=t.getAttribLocation(e,"e"),this.j=t.getAttribLocation(e,"f"),this.N=t.getAttribLocation(e,"g")}function Gl(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Bl(t,e){this.origin=Y(e),this.bb=[1,0,0,1,0,0],this.Ea=[1,0,0,1,0,0],this.La=[1,0,0,1,0,0],this.V=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.b=[],this.j=null,this.g=[],this.i=[],this.a=[],this.s=null,this.f=void 0}function zl(t,e,i,n){t.drawElements(4,n-i,e.f?5125:5123,i*(e.f?4:2))}s(Bl,Is),Bl.prototype.Na=function(t,e,i,n,o,r,s,a,l,h,c){var u=t.b;if(this.f){var p=u.isEnabled(u.STENCIL_TEST),g=u.getParameter(u.STENCIL_FUNC),d=u.getParameter(u.STENCIL_VALUE_MASK),f=u.getParameter(u.STENCIL_REF),y=u.getParameter(u.STENCIL_WRITEMASK),m=u.getParameter(u.STENCIL_FAIL),v=u.getParameter(u.STENCIL_PASS_DEPTH_PASS),_=u.getParameter(u.STENCIL_PASS_DEPTH_FAIL);u.enable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.stencilMask(255),u.stencilFunc(u.ALWAYS,1,255),u.stencilOp(u.KEEP,u.KEEP,u.REPLACE),this.f.Na(t,e,i,n,o,r,s,a,l,h,c),u.stencilMask(0),u.stencilFunc(u.NOTEQUAL,1,255)}th(t,34962,this.s),th(t,34963,this.j),r=this.Bf(u,t,o,r);var x=yn(this.bb);if(In(x,2/(i*o[0]),2/(i*o[1])),Cn(x,-n),An(x,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),In(e=yn(this.La),2/o[0],2/o[1]),o=yn(this.Ea),0!==n&&Cn(o,-n),u.uniformMatrix4fv(r.g,!1,Gl(this.V,x)),u.uniformMatrix4fv(r.i,!1,Gl(this.V,e)),u.uniformMatrix4fv(r.c,!1,Gl(this.V,o)),u.uniform1f(r.a,s),void 0===l)this.Od(u,t,a,!1);else{h?t=this.Ee(u,t,a,l,c):(u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),this.Od(u,t,a,!0),t=(t=l(null))?t:void 0);var C=t}return this.Cf(u,r),this.f&&(p||u.disable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.stencilFunc(g,f,d),u.stencilMask(y),u.stencilOp(m,_,v)),C};var Vl=[0,0,0,1],jl=[],Hl=[0,0,0,1];function Ul(t,e,i,n,o,r){return(t=(i-t)*(r-e)-(o-t)*(n-e))<=Wl&&t>=-Wl?void 0:0<t}var Wl=Number.EPSILON||2220446049250313e-31;function Yl(t){this.b=void 0!==t?t:[],this.a=Xl}var Xl=35044;function Zl(t,e){Bl.call(this,t,e),this.v=null,this.l=[],this.o=[],this.N=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,u:!1}}function ql(t,e,i,n){e.uniform4fv(t.v.O,i),e.uniform1f(t.v.oa,n)}s(Zl,Bl),(t=Zl.prototype).cc=function(t,e){var i=t.Bd(),n=t.pa();if(i){this.g.push(this.b.length),this.i.push(e),this.c.u&&(this.o.push(this.b.length),this.c.u=!1),this.N=i,t=dn(t=t.da(),0,2,n,-this.origin[0],-this.origin[1]),e=this.a.length,i=this.b.length;var o,r=e/4;for(o=0;2>o;o+=n)this.a[e++]=t[o],this.a[e++]=t[o+1],this.a[e++]=0,this.a[e++]=this.N,this.a[e++]=t[o],this.a[e++]=t[o+1],this.a[e++]=1,this.a[e++]=this.N,this.a[e++]=t[o],this.a[e++]=t[o+1],this.a[e++]=2,this.a[e++]=this.N,this.a[e++]=t[o],this.a[e++]=t[o+1],this.a[e++]=3,this.a[e++]=this.N,this.b[i++]=r,this.b[i++]=r+1,this.b[i++]=r+2,this.b[i++]=r+2,this.b[i++]=r+3,this.b[i++]=r,r+=4}else this.c.u&&(this.l.pop(),this.l.length&&(n=this.l[this.l.length-1],this.c.fillColor=n[0],this.c.strokeColor=n[1],this.c.lineWidth=n[2],this.c.u=!1))},t.gb=function(){this.s=new Yl(this.a),this.j=new Yl(this.b),this.g.push(this.b.length),0===this.o.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,i=this.j;return function(){eh(t,e),eh(t,i)}},t.Bf=function(t,e,i,n){var o=oh(e,Ol,Fl);if(this.v)var r=this.v;else this.v=r=new kl(t,o);return e.cd(o),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,16,0),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,1,5126,!1,16,8),t.enableVertexAttribArray(r.N),t.vertexAttribPointer(r.N,1,5126,!1,16,12),t.uniform2fv(r.T,i),t.uniform1f(r.qa,n),r},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.N)},t.Od=function(t,e,i){if(st(i)){var n=this.g[this.g.length-1];for(i=this.o.length-1;0<=i;--i){var o=this.o[i],r=this.l[i];t.uniform4fv(this.v.C,r[0]),ql(this,t,r[1],r[2]),zl(t,e,o,n),n=o}}else{var s=this.g.length-2;for(r=n=this.g[s+1],o=this.o.length-1;0<=o;--o){var a=this.l[o];for(t.uniform4fv(this.v.C,a[0]),ql(this,t,a[1],a[2]),a=this.o[o];0<=s&&this.g[s]>=a;){var h=this.g[s],c=this.i[s];i[c=l(c).toString()]&&(n!==r&&zl(t,e,n,r),r=h),s--,n=h}n!==r&&zl(t,e,n,r),n=r=a}}},t.Ee=function(t,e,i,n,o){var r,s,a=this.g.length-2,h=this.g[a+1];for(r=this.o.length-1;0<=r;--r){var c=this.l[r];for(t.uniform4fv(this.v.C,c[0]),ql(this,t,c[1],c[2]),s=this.o[r];0<=a&&this.g[a]>=s;){c=this.g[a];var u=this.i[a];if(void 0===i[l(u).toString()]&&u.U()&&(void 0===o||$(o,u.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zl(t,e,c,h),h=n(u)))return h;a--,h=c}}},t.Oa=function(t,e){if(e){var i=e.g;this.c.lineDash=i||jl,i=e.i,this.c.lineDashOffset=i||0,i=(i=e.a)instanceof CanvasGradient||i instanceof CanvasPattern?Hl:ms(i).map((function(t,e){return 3!=e?t/255:t}))||Hl,e=void 0!==(e=e.c)?e:1}else i=[0,0,0,0],e=0;t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?Vl:ms(t).map((function(t,e){return 3!=e?t/255:t}))||Vl,this.c.strokeColor&&Kt(this.c.strokeColor,i)&&this.c.fillColor&&Kt(this.c.fillColor,t)&&this.c.lineWidth===e||(this.c.u=!0,this.c.fillColor=t,this.c.strokeColor=i,this.c.lineWidth=e,this.l.push([t,i,e]))};var Kl=new Dl("precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Jl=new Rl("varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");function Ql(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.a=t.getUniformLocation(e,"k"),this.b=t.getAttribLocation(e,"c"),this.B=t.getAttribLocation(e,"d"),this.v=t.getAttribLocation(e,"e"),this.o=t.getAttribLocation(e,"f"),this.D=t.getAttribLocation(e,"g")}function $l(t,e){this.j=t,this.b=e,this.a={},this.c={},this.g={},this.s=this.v=this.i=this.l=null,(this.f=Yt(i,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),me(this.j,"webglcontextlost",this.zp,this),me(this.j,"webglcontextrestored",this.Ap,this)}function th(t,e,i){var n=t.b,o=i.b,r=String(l(i));if(r in t.a)n.bindBuffer(e,t.a[r].buffer);else{var s,a=n.createBuffer();n.bindBuffer(e,a),34962==e?s=new Float32Array(o):34963==e&&(s=t.f?new Uint32Array(o):new Uint16Array(o)),n.bufferData(e,s,i.a),t.a[r]={tc:i,buffer:a}}}function eh(t,e){var i=t.b;e=String(l(e));var n=t.a[e];i.isContextLost()||i.deleteBuffer(n.buffer),delete t.a[e]}function ih(t){if(!t.i){var e=t.b,i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i);var n=sh(e,1,1),o=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=i,t.v=n,t.s=o}return t.i}function nh(t,e){var i=String(l(e));if(i in t.c)return t.c[i];var n=t.b,o=n.createShader(e.S());return n.shaderSource(o,e.b),n.compileShader(o),t.c[i]=o}function oh(t,e,i){var n=l(e)+"/"+l(i);if(n in t.g)return t.g[n];var o=t.b,r=o.createProgram();return o.attachShader(r,nh(t,e)),o.attachShader(r,nh(t,i)),o.linkProgram(r),t.g[n]=r}function rh(t,e,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==i&&t.texParameteri(3553,10243,i),n}function sh(t,e,i){var n=rh(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),n}function ah(t,e){var i=rh(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}function lh(t,e){Bl.call(this,t,e),this.C=this.D=void 0,this.v=[],this.o=[],this.qa=this.oa=this.height=void 0,this.Wa=null,this.width=this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0}function hh(t,e,i,n){var o=t.D,r=t.C,s=t.height,a=t.oa,l=t.qa,h=t.opacity,c=t.T,u=t.O,p=t.rotateWithView?1:0,g=-t.rotation,d=t.scale,f=t.width,y=Math.cos(g);g=Math.sin(g);var m,v=t.b.length,_=t.a.length;for(m=0;m<i;m+=n){var x=e[m]-t.origin[0],C=e[m+1]-t.origin[1],I=_/8,A=-d*o,b=-d*(s-r);t.a[_++]=x,t.a[_++]=C,t.a[_++]=A*y-b*g,t.a[_++]=A*g+b*y,t.a[_++]=c/l,t.a[_++]=(u+s)/a,t.a[_++]=h,t.a[_++]=p,A=d*(f-o),b=-d*(s-r),t.a[_++]=x,t.a[_++]=C,t.a[_++]=A*y-b*g,t.a[_++]=A*g+b*y,t.a[_++]=(c+f)/l,t.a[_++]=(u+s)/a,t.a[_++]=h,t.a[_++]=p,A=d*(f-o),b=d*r,t.a[_++]=x,t.a[_++]=C,t.a[_++]=A*y-b*g,t.a[_++]=A*g+b*y,t.a[_++]=(c+f)/l,t.a[_++]=u/a,t.a[_++]=h,t.a[_++]=p,A=-d*o,b=d*r,t.a[_++]=x,t.a[_++]=C,t.a[_++]=A*y-b*g,t.a[_++]=A*g+b*y,t.a[_++]=c/l,t.a[_++]=u/a,t.a[_++]=h,t.a[_++]=p,t.b[v++]=I,t.b[v++]=I+1,t.b[v++]=I+2,t.b[v++]=I,t.b[v++]=I+2,t.b[v++]=I+3}}function ch(t,e,i,n){var o,r=e.length;for(o=0;o<r;++o){var s=e[o],a=l(s).toString();a in i?s=i[a]:(s=ah(n,s),i[a]=s),t[o]=s}}function uh(t,e){lh.call(this,t,e),this.l=[],this.c=[],this.B=[],this.N=[]}function ph(t,e,i){var n=e-i;return t[0]===t[n]&&t[1]===t[n+1]&&3<(e-0)/i&&!!Ln(t,0,e,i)}s($l,Ie),(t=$l.prototype).ia=function(){Ce(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.s),t.deleteTexture(this.v)}},t.yp=function(){return this.b},t.zp=function(){ot(this.a),ot(this.c),ot(this.g),this.s=this.v=this.i=this.l=null},t.Ap=function(){},t.cd=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},s(lh,Bl),(t=lh.prototype).Db=function(t){var e=this.s,i=this.j,n=this.ig(!0),o=t.b;return function(){if(!o.isContextLost()){var r,s=0;for(r=n.length;s<r;++s)o.deleteTexture(n[s])}eh(t,e),eh(t,i)}},t.Bf=function(t,e){var i=oh(e,Kl,Jl);if(this.Wa)var n=this.Wa;else this.Wa=n=new Ql(t,i);return e.cd(i),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,32,0),t.enableVertexAttribArray(n.v),t.vertexAttribPointer(n.v,2,5126,!1,32,8),t.enableVertexAttribArray(n.B),t.vertexAttribPointer(n.B,2,5126,!1,32,16),t.enableVertexAttribArray(n.o),t.vertexAttribPointer(n.o,1,5126,!1,32,24),t.enableVertexAttribArray(n.D),t.vertexAttribPointer(n.D,1,5126,!1,32,28),n},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.B),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.D)},t.Od=function(t,e,i,n){var o=n?this.ag():this.ig();if(n=n?this.o:this.v,st(i)){var r;i=0;var s=o.length;for(r=0;i<s;++i){t.bindTexture(3553,o[i]);var a=n[i];zl(t,e,r,a),r=a}}else for(r=s=0,a=o.length;r<a;++r){t.bindTexture(3553,o[r]);for(var h=0<r?n[r-1]:0,c=n[r],u=h;s<this.g.length&&this.g[s]<=c;)void 0!==i[l(this.i[s]).toString()]?(u!==h&&zl(t,e,u,h),h=u=s===this.g.length-1?c:this.g[s+1]):h=s===this.g.length-1?c:this.g[s+1],s++;u!==h&&zl(t,e,u,h)}},t.Ee=function(t,e,i,n,o){var r,s,a=this.g.length-1,h=this.ag();for(r=h.length-1;0<=r;--r){t.bindTexture(3553,h[r]);var c=0<r?this.o[r-1]:0;for(s=this.o[r];0<=a&&this.g[a]>=c;){var u=this.g[a],p=this.i[a];if(void 0===i[l(p).toString()]&&p.U()&&(void 0===o||$(o,p.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zl(t,e,u,s),s=n(p)))return s;s=u,a--}}},t.gb=function(){this.qa=this.oa=this.height=this.C=this.D=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0,this.a=null,this.width=void 0},s(uh,lh),(t=uh.prototype).wc=function(t,e){this.g.push(this.b.length),this.i.push(e),hh(this,e=t.da(),e.length,t.pa())},t.yc=function(t,e){this.g.push(this.b.length),this.i.push(e),hh(this,e=t.da(),e.length,t.pa())},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o.push(this.b.length),this.s=new Yl(this.a),this.j=new Yl(this.b);var i={};ch(this.B,this.l,i,e),ch(this.N,this.c,i,e),this.c=this.l=null,lh.prototype.gb.call(this,t)},t.Zb=function(t){var e=t.Vc(),i=t.Y(1),n=t.He(),o=t.Eg(),r=t.i,s=t.bd(),a=t.s,h=t.f,c=t.oc();if(t=t.a,0===this.l.length)this.l.push(i);else{var u=this.l[this.l.length-1];l(u)!=l(i)&&(this.v.push(this.b.length),this.l.push(i))}0===this.c.length?this.c.push(o):l(u=this.c[this.c.length-1])!=l(o)&&(this.o.push(this.b.length),this.c.push(o)),this.D=e[0],this.C=e[1],this.height=c[1],this.oa=n[1],this.qa=n[0],this.opacity=r,this.T=s[0],this.O=s[1],this.rotation=h,this.rotateWithView=a,this.scale=t,this.width=c[0]},t.ig=function(t){return t?this.B.concat(this.N):this.B},t.ag=function(){return this.N};var gh=new Dl("precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),dh=new Rl("varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");function fh(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.O=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.T=t.getUniformLocation(e,"o"),this.qa=t.getUniformLocation(e,"p"),this.l=t.getAttribLocation(e,"d"),this.b=t.getAttribLocation(e,"e"),this.s=t.getAttribLocation(e,"f"),this.f=t.getAttribLocation(e,"g")}function yh(t,e){Bl.call(this,t,e),this.v=null,this.o=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,u:!1}}function mh(t,e,i,n){var o,r=t.a.length,s=t.b.length,a="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,l="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,h=ph(e,i,n),c=s,u=1;for(o=0;o<i;o+=n){var p=r/7,g=d,d=f||[e[o],e[o+1]];if(0===o){var f=[e[o+n],e[o+n+1]];if(i-0==2*n&&Kt(d,f))break;if(!h){l&&(r=vh(t,[0,0],d,f,u*wh*l,r),r=vh(t,[0,0],d,f,-u*wh*l,r),t.b[s++]=p+2,t.b[s++]=p,t.b[s++]=p+1,t.b[s++]=p+1,t.b[s++]=p+3,t.b[s++]=p+2),r=vh(t,[0,0],d,f,u*Ah*(l||1),r),c=(r=vh(t,[0,0],d,f,-u*Ah*(l||1),r))/7-1;continue}g=[e[i-2*n],e[i-2*n+1]];var y=f}else{if(o===i-n){h?f=y:(r=vh(t,g=g||[0,0],d,[0,0],u*bh*(l||1),r),r=vh(t,g,d,[0,0],-u*bh*(l||1),r),t.b[s++]=p,t.b[s++]=c-1,t.b[s++]=c,t.b[s++]=c,t.b[s++]=p+1,t.b[s++]=p,l&&(r=vh(t,g,d,[0,0],u*Sh*l,r),r=vh(t,g,d,[0,0],-u*Sh*l,r),t.b[s++]=p+2,t.b[s++]=p,t.b[s++]=p+1,t.b[s++]=p+1,t.b[s++]=p+3,t.b[s++]=p+2));break}f=[e[o+n],e[o+n+1]]}var m=Ul(g[0],g[1],d[0],d[1],f[0],f[1])?-1:1;r=vh(t,g,d,f,m*Mh*(a||1),r),r=vh(t,g,d,f,m*Eh*(a||1),r),r=vh(t,g,d,f,-m*Th*(a||1),r),0<o&&(t.b[s++]=p,t.b[s++]=c-1,t.b[s++]=c,t.b[s++]=p+2,t.b[s++]=p,t.b[s++]=0<u*m?c:c-1),t.b[s++]=p,t.b[s++]=p+2,t.b[s++]=p+1,c=p+2,u=m,a&&(r=vh(t,g,d,f,m*Ph*a,r),t.b[s++]=p+1,t.b[s++]=p+3,t.b[s++]=p)}h&&(p=p||r/7,r=vh(t,g,d,f,(m=io([g[0],g[1],d[0],d[1],f[0],f[1]],0,6,2)?1:-1)*Mh*(a||1),r),vh(t,g,d,f,-m*Th*(a||1),r),t.b[s++]=p,t.b[s++]=c-1,t.b[s++]=c,t.b[s++]=p+1,t.b[s++]=p,t.b[s++]=0<u*m?c:c-1)}function vh(t,e,i,n,o,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=i[0],t.a[r++]=i[1],t.a[r++]=n[0],t.a[r++]=n[1],t.a[r++]=o,r}function _h(t,e,i,n){return!((i-=e)<2*n||i===2*n&&Kt([t[e],t[e+1]],[t[e+n],t[e+n+1]]))}function xh(t,e,i,n){var o;if(ph(e,e.length,n)||(e.push(e[0]),e.push(e[1])),mh(t,e,e.length,n),i.length)for(e=0,o=i.length;e<o;++e)ph(i[e],i[e].length,n)||(i[e].push(i[e][0]),i[e].push(i[e][1])),mh(t,i[e],i[e].length,n)}function Ch(t,e,i){i=void 0===i?t.b.length:i,t.g.push(i),t.i.push(e),t.c.u&&(t.l.push(i),t.c.u=!1)}function Ih(t,e,i,n,o){e.uniform4fv(t.v.C,i),e.uniform1f(t.v.oa,n),e.uniform1f(t.v.O,o)}s(yh,Bl),(t=yh.prototype).uc=function(t,e){var i=t.da();t=t.pa(),_h(i,0,i.length,t)&&(i=dn(i,0,i.length,t,-this.origin[0],-this.origin[1]),this.c.u&&(this.l.push(this.b.length),this.c.u=!1),this.g.push(this.b.length),this.i.push(e),mh(this,i,i.length,t))},t.vc=function(t,e){var i=this.b.length,n=t.pb();n.unshift(0);var o,r=t.da();if(t=t.pa(),1<n.length){var s=1;for(o=n.length;s<o;++s)if(_h(r,n[s-1],n[s],t)){var a=dn(r,n[s-1],n[s],t,-this.origin[0],-this.origin[1]);mh(this,a,a.length,t)}}this.b.length>i&&(this.g.push(i),this.i.push(e),this.c.u&&(this.l.push(i),this.c.u=!1))},t.gb=function(){this.s=new Yl(this.a),this.j=new Yl(this.b),this.g.push(this.b.length),0===this.l.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,i=this.j;return function(){eh(t,e),eh(t,i)}},t.Bf=function(t,e,i,n){var o=oh(e,gh,dh);if(this.v)var r=this.v;else this.v=r=new fh(t,o);return e.cd(o),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,2,5126,!1,28,0),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,28,8),t.enableVertexAttribArray(r.s),t.vertexAttribPointer(r.s,2,5126,!1,28,16),t.enableVertexAttribArray(r.f),t.vertexAttribPointer(r.f,1,5126,!1,28,24),t.uniform2fv(r.T,i),t.uniform1f(r.qa,n),r},t.Cf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.s),t.disableVertexAttribArray(e.f)},t.Od=function(t,e,i,n){var o=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),st(i)){var s=this.g[this.g.length-1];for(i=this.l.length-1;0<=i;--i){var a=this.l[i],h=this.o[i];Ih(this,t,h[0],h[1],h[2]),zl(t,e,a,s),t.clear(t.DEPTH_BUFFER_BIT),s=a}}else{var c=this.g.length-2;for(h=s=this.g[c+1],a=this.l.length-1;0<=a;--a){var u=this.o[a];for(Ih(this,t,u[0],u[1],u[2]),u=this.l[a];0<=c&&this.g[c]>=u;){var p=this.g[c],g=this.i[c];i[g=l(g).toString()]&&(s!==h&&(zl(t,e,s,h),t.clear(t.DEPTH_BUFFER_BIT)),h=p),c--,s=p}s!==h&&(zl(t,e,s,h),t.clear(t.DEPTH_BUFFER_BIT)),s=h=u}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(o))},t.Ee=function(t,e,i,n,o){var r,s,a=this.g.length-2,h=this.g[a+1];for(r=this.l.length-1;0<=r;--r){var c=this.o[r];for(Ih(this,t,c[0],c[1],c[2]),s=this.l[r];0<=a&&this.g[a]>=s;){c=this.g[a];var u=this.i[a];if(void 0===i[l(u).toString()]&&u.U()&&(void 0===o||$(o,u.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zl(t,e,c,h),h=n(u)))return h;a--,h=c}}},t.Oa=function(t,e){t=e.f,this.c.lineCap=void 0!==t?t:"round",t=e.g,this.c.lineDash=t||jl,t=e.i,this.c.lineDashOffset=t||0,t=e.j,this.c.lineJoin=void 0!==t?t:"round",t=(t=e.a)instanceof CanvasGradient||t instanceof CanvasPattern?Hl:ms(t).map((function(t,e){return 3!=e?t/255:t}))||Hl;var i=e.c;i=void 0!==i?i:1,e=void 0!==(e=e.l)?e:10,this.c.strokeColor&&Kt(this.c.strokeColor,t)&&this.c.lineWidth===i&&this.c.miterLimit===e||(this.c.u=!0,this.c.strokeColor=t,this.c.lineWidth=i,this.c.miterLimit=e,this.o.push([t,i,e]))};var Ah=3,bh=5,wh=7,Sh=11,Mh=13,Eh=17,Th=19,Ph=23,Lh=new Dl("precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Nh=new Rl("attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");function Dh(t,e){this.g=t.getUniformLocation(e,"b"),this.i=t.getUniformLocation(e,"c"),this.c=t.getUniformLocation(e,"d"),this.C=t.getUniformLocation(e,"e"),this.a=t.getUniformLocation(e,"f"),this.b=t.getAttribLocation(e,"a")}function Rh(){this.b=this.a=this.g=void 0,this.c=0}function Oh(t){var e=t.b;if(e){var i=e.next,n=e.Eb;i&&(i.Eb=n),n&&(n.next=i),t.b=i||n,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=n?t.b.Eb:t.b),t.c--}}function Fh(t){if(t.b=t.g,t.b)return t.b.data}function kh(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Gh(t){if(t.b&&t.b.next)return t.b.next.data}function Bh(t){if(t.b&&t.b.Eb)return t.b=t.b.Eb,t.b.data}function zh(t){if(t.b&&t.b.Eb)return t.b.Eb.data}function Vh(t){if(t.b)return t.b.data}function jh(){this.a=na.Jc(void 0),this.b={}}function Hh(t,e,i){var n=t.b[l(i)];G([n.fa,n.ea,n.la,n.ka],e)||(t.remove(i),t.Ca(e,i))}function Uh(t){return t.a.all().map((function(t){return t.value}))}function Wh(t,e){return t.a.search({fa:e[0],ea:e[1],la:e[2],ka:e[3]}).map((function(t){return t.value}))}function Yh(t,e,i,n){return Xh(Wh(t,e),i,n)}function Xh(t,e,i){for(var n,o=0,r=t.length;o<r&&!(n=e.call(i,t[o]));o++);return n}function Zh(t,e){Bl.call(this,t,e),this.f=new yh(t,e),this.v=null,this.o=[],this.c=[],this.l={fillColor:null,u:!1}}function qh(t,e,i,n){var o=new Rh,r=new jh;if(Kh(t,e,n,o,r,!0),e=Jh(o),i.length){var s,a=[],l=0;for(s=i.length;l<s;++l){var h={list:new Rh,Ec:void 0,gh:new jh};a.push(h),Kh(t,i[l],n,h.list,h.gh,!1),Qh(h.list,h.gh,!0),h.Ec=Jh(h.list)}for(a.sort((function(t,e){return e.Ec[0]===t.Ec[0]?t.Ec[1]-e.Ec[1]:e.Ec[0]-t.Ec[0]})),l=0;l<a.length;++l){s=n=Fh(i=a[l].list);do{if(ac(s,r).length){var c=!0;break}s=kh(i)}while(n!==s);!c&&$h(i,a[l].Ec[0],o,e[0],r)&&(r.concat(a[l].gh),Qh(o,r,!1))}}else Qh(o,r,!1);!function t(e,i,n){for(var o=!1,r=ic(i,n);3<i.c;)if(r){if(!tc(e,i,n,r,o)&&!Qh(i,n,o)&&!ec(e,i,n,!0))break}else if(!tc(e,i,n,r,o)&&!Qh(i,n,o)&&!ec(e,i,n)){if(!(r=ic(i,n))){r=e,s=a=Fh(o=i);do{if((l=ac(s,n)).length){for(a=l[0],l=lc(s.Z,s.X,a.Z,a.X),l=nc(r,l[0],l[1],r.a.length/2),h=new Rh,c=new jh,oc(l,s.X,h,c),s.X=l,Hh(n,[Math.min(s.Z.x,l.x),Math.min(s.Z.y,l.y),Math.max(s.Z.x,l.x),Math.max(s.Z.y,l.y)],s),s=kh(o);s!==a;)oc(s.Z,s.X,h,c),n.remove(s),Oh(o),s=Vh(o);oc(a.Z,l,h,c),a.Z=l,Hh(n,[Math.min(a.X.x,l.x),Math.min(a.X.y,l.y),Math.max(a.X.x,l.x),Math.max(a.X.y,l.y)],a),Qh(o,n,!1),t(r,o,n),Qh(h,c,!1),t(r,h,c);break}s=kh(o)}while(s!==a);break}var s=2*(o=i).c,a=Array(s),l=Fh(o),h=l,c=0;do{a[c++]=h.Z.x,a[c++]=h.Z.y,h=kh(o)}while(h!==l);o=!io(a,0,s,2),Qh(i,n,o)}3===i.c&&(r=e.b.length,e.b[r++]=zh(i).Z.qb,e.b[r++]=Vh(i).Z.qb,e.b[r++]=Gh(i).Z.qb)}(t,o,r)}function Kh(t,e,i,n,o,r){var s,a=t.a.length/2,l=[],h=[];if(r===io(e,0,e.length,i)){var c=r=nc(t,e[0],e[1],a++),u=i;for(s=e.length;u<s;u+=i){var p=nc(t,e[u],e[u+1],a++);h.push(oc(c,p,n)),l.push([Math.min(c.x,p.x),Math.min(c.y,p.y),Math.max(c.x,p.x),Math.max(c.y,p.y)]),c=p}}else for(c=r=nc(t,e[u=e.length-i],e[u+1],a++),u-=i,s=0;u>=s;u-=i)p=nc(t,e[u],e[u+1],a++),h.push(oc(c,p,n)),l.push([Math.min(c.x,p.x),Math.min(c.y,p.y),Math.max(c.x,p.x),Math.max(c.y,p.y)]),c=p;h.push(oc(p,r,n)),l.push([Math.min(c.x,p.x),Math.min(c.y,p.y),Math.max(c.x,p.x),Math.max(c.y,p.y)]),o.load(l,h)}function Jh(t){var e=Fh(t),i=e,n=[i.Z.x,i.Z.y];do{(i=kh(t)).Z.x>n[0]&&(n=[i.Z.x,i.Z.y])}while(i!==e);return n}function Qh(t,e,i){var n=Fh(t),o=n,r=kh(t),s=!1;do{var a=i?Ul(r.X.x,r.X.y,o.X.x,o.X.y,o.Z.x,o.Z.y):Ul(o.Z.x,o.Z.y,o.X.x,o.X.y,r.X.x,r.X.y);void 0===a?(rc(o,r,t,e),s=!0,r===n&&(n=Gh(t)),r=o,Bh(t)):o.X.Kb!==a&&(o.X.Kb=a,s=!0),o=r,r=kh(t)}while(o!==n);return s}function $h(t,e,i,n,o){for(var r=Fh(t);r.X.x!==e;)r=kh(t);var s,a=1/0,l=ac({Z:e=r.X,X:n={x:n,y:e.y,qb:-1}},o,!0),h=0;for(s=l.length;h<s;++h){var c=l[h],u=lc(e,n,c.Z,c.X,!0),p=Math.abs(e.x-u[0]);if(p<a&&void 0!==Ul(e.x,e.y,c.Z.x,c.Z.y,c.X.x,c.X.y)){a=p;var g={x:u[0],y:u[1],qb:-1};r=c}}if(1/0===a)return!1;if(l=r.X,0<a&&(r=sc(e,g,r.X,o)).length)for(g=1/0,h=0,s=r.length;h<s;++h)a=r[h],((c=Math.atan2(e.y-a.y,n.x-a.x))<g||c===g&&a.x<l.x)&&(g=c,l=a);for(r=Fh(i);r.X.x!==l.x||r.X.y!==l.y;)r=kh(i);return n={x:e.x,y:e.y,qb:e.qb,Kb:void 0},h={x:r.X.x,y:r.X.y,qb:r.X.qb,Kb:void 0},Gh(t).Z=n,oc(e,r.X,t,o),oc(h,n,t,o),r.X=h,t.b&&(t.g=t.b,t.a=t.b.Eb),i.concat(t),!0}function tc(t,e,i,n,o){var r=t.b.length,s=Fh(e),a=zh(e),l=s,h=kh(e),c=Gh(e),u=!1;do{var p=l.Z,g=l.X,d=h.X;if(!1===g.Kb){var f=n?0===sc(p,g,d,i,!0).length:o?hc(c.X,d,g,p,a.Z):hc(a.Z,p,g,d,c.X);!n&&0!==ac({Z:p,X:d},i).length||!f||!n&&!1!==p.Kb&&!1!==d.Kb&&io([a.Z.x,a.Z.y,p.x,p.y,g.x,g.y,d.x,d.y,c.X.x,c.X.y],0,10,2)!==!o||(t.b[r++]=p.qb,t.b[r++]=g.qb,t.b[r++]=d.qb,rc(l,h,e,i),h===s&&(s=c),u=!0)}a=zh(e),l=Vh(e),h=kh(e),c=Gh(e)}while(l!==s&&3<e.c);return u}function ec(t,e,i,n){var o=Fh(e);kh(e);var r=o,s=kh(e),a=!1;do{var l=lc(r.Z,r.X,s.Z,s.X,n);if(l){a=t.b.length;var h=t.a.length/2,c=Bh(e);Oh(e),i.remove(c);var u=c===o;if(n?(l[0]===r.Z.x&&l[1]===r.Z.y?(Bh(e),l=r.Z,s.Z=l,i.remove(r),u=u||r===o):(l=s.X,r.X=l,i.remove(s),u=u||s===o),Oh(e)):(l=nc(t,l[0],l[1],h),r.X=l,s.Z=l,Hh(i,[Math.min(r.Z.x,r.X.x),Math.min(r.Z.y,r.X.y),Math.max(r.Z.x,r.X.x),Math.max(r.Z.y,r.X.y)],r),Hh(i,[Math.min(s.Z.x,s.X.x),Math.min(s.Z.y,s.X.y),Math.max(s.Z.x,s.X.x),Math.max(s.Z.y,s.X.y)],s)),t.b[a++]=c.Z.qb,t.b[a++]=c.X.qb,t.b[a++]=l.qb,a=!0,u)break}r=zh(e),s=kh(e)}while(r!==o);return a}function ic(t,e){var i=Fh(t),n=i;do{if(ac(n,e).length)return!1;n=kh(t)}while(n!==i);return!0}function nc(t,e,i,n){var o=t.a.length;return t.a[o++]=e,t.a[o++]=i,{x:e,y:i,qb:n,Kb:void 0}}function oc(t,e,i,n){var o={Z:t,X:e},r={Eb:void 0,next:void 0,data:o},s=i.b;if(s){var a=s.next;r.Eb=s,r.next=a,s.next=r,a&&(a.Eb=r),s===i.a&&(i.a=r)}else i.g=r,i.a=r,r.next=r,r.Eb=r;return i.b=r,i.c++,n&&n.Ca([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],o),o}function rc(t,e,i,n){Vh(i)===e&&(Oh(i),t.X=e.X,n.remove(e),Hh(n,[Math.min(t.Z.x,t.X.x),Math.min(t.Z.y,t.X.y),Math.max(t.Z.x,t.X.x),Math.max(t.Z.y,t.X.y)],t))}function sc(t,e,i,n,o){var r,s,a=[],l=Wh(n,[Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]);for(n=0,r=l.length;n<r;++n)for(s in l[n]){var h=l[n][s];"object"!=typeof h||o&&!h.Kb||h.x===t.x&&h.y===t.y||h.x===e.x&&h.y===e.y||h.x===i.x&&h.y===i.y||-1!==a.indexOf(h)||!Kn([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,h.x,h.y)||a.push(h)}return a}function ac(t,e,i){var n,o=t.Z,r=t.X,s=[],a=0;for(n=(e=Wh(e,[Math.min(o.x,r.x),Math.min(o.y,r.y),Math.max(o.x,r.x),Math.max(o.y,r.y)])).length;a<n;++a){var l=e[a];t!==l&&(i||l.Z!==r||l.X!==o)&&lc(o,r,l.Z,l.X,i)&&s.push(l)}return s}function lc(t,e,i,n,o){var r=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!==r&&(n=((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x))/r,i=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/r,!o&&n>Wl&&n<1-Wl&&i>Wl&&i<1-Wl||o&&0<=n&&1>=n&&0<=i&&1>=i))return[t.x+n*(e.x-t.x),t.y+n*(e.y-t.y)]}function hc(t,e,i,n,o){if(void 0===e.Kb||void 0===n.Kb)return!1;var r=(i.x-n.x)*(e.y-n.y)>(i.y-n.y)*(e.x-n.x);return o=(o.x-n.x)*(e.y-n.y)<(o.y-n.y)*(e.x-n.x),t=(t.x-e.x)*(n.y-e.y)>(t.y-e.y)*(n.x-e.x),i=(i.x-e.x)*(n.y-e.y)<(i.y-e.y)*(n.x-e.x),e=e.Kb?i||t:i&&t,(n.Kb?o||r:o&&r)&&e}function cc(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.g=xo(t,t),this.i=this.g.canvas}function uc(t,e,i,n){e=[e,1],0<i.width&&0<i.height&&e.push(i),0<n.width&&0<n.height&&e.push(n),t.a.splice.apply(t.a,e)}function pc(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==e?e:2048,this.b=void 0!==t.space?t.space:1,this.f=[new cc(this.a,this.b)],this.c=this.a,this.i=[new cc(this.c,this.b)]}function gc(t,e){var i,n=0;for(i=t.length;n<i;++n){var o=t[n];if(o=o.get(e))return o}return null}function dc(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,Bm:e.image}}function fc(t,e,i,n,o,r,s){var a,l=e?t.i:t.f,h=0;for(a=l.length;h<a;++h){var c=l[h];if(c=c.add(i,n,o,r,s))return c;c||h!==a-1||(e?(c=Math.min(2*t.c,t.g),t.c=c):(c=Math.min(2*t.a,t.g),t.a=c),c=new cc(c,t.b),l.push(c),++a)}return null}function yc(t,e){lh.call(this,t,e),this.c=[],this.ua=[],this.Ub=xo(0,0).canvas,this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.B={},this.l=void 0,this.opacity=this.scale=1}function mc(t,e){if(1===e.length){var i=t.l,n=t.N;(t=t.Ub.getContext("2d")).font=n.font,t=Math.ceil(t.measureText(e).width*n.scale),i.Bh.add(e,t,i.height,(function(t,i,o){t.font=n.font,t.fillStyle=n.fillColor,t.strokeStyle=n.strokeColor,t.lineWidth=n.lineWidth,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.miterLimit=n.miterLimit,t.textAlign="left",t.textBaseline="top",Je&&n.lineDash&&(t.setLineDash(n.lineDash),t.lineDashOffset=n.lineDashOffset),1!==n.scale&&t.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&t.strokeText(e,i,o),n.fillColor&&t.fillText(e,i,o)}))&&(i.width[e]=t)}}function vc(t,e,i){this.c=e,this.i=t,this.g=i,this.a={}}function _c(t,e){var i,n=[];for(i in t.a){var o,r=t.a[i];for(o in r)n.push(r[o].Db(e))}return function(){for(var t,e=n.length,i=0;i<e;i++)t=n[i].apply(this,arguments);return t}}function xc(t,e,i,n,o,r,s,a,l,h,c){var u,p,g=Cc,d=Object.keys(t.a).map(Number);d.sort((function(t,e){return e-t}));var f=0;for(u=d.length;f<u;++f){var y=t.a[d[f].toString()];for(p=sa.length-1;0<=p;--p){var m=y[sa[p]];if(void 0!==m&&(m=m.Na(e,i,n,o,g,r,s,a,l,h,c)))return m}}}Rh.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.Eb=this.b,e.Eb=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.g=t.g,this.a=t.a,this.c=t.c;t.b=void 0,t.g=void 0,t.a=void 0,t.c=0}},(t=jh.prototype).Ca=function(t,e){t={fa:t[0],ea:t[1],la:t[2],ka:t[3],value:e},this.a.Ca(t),this.b[l(e)]=t},t.load=function(t,e){for(var i=Array(e.length),n=0,o=e.length;n<o;n++){var r=t[n],s=e[n];r={fa:r[0],ea:r[1],la:r[2],ka:r[3],value:s},i[n]=r,this.b[l(s)]=r}this.a.load(i)},t.remove=function(t){t=l(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},t.forEach=function(t,e){return Xh(Uh(this),t,e)},t.clear=function(){this.a.clear(),this.b={}},t.G=function(t){var e=this.a.data;return R(e.fa,e.ea,e.la,e.ka,t)},t.concat=function(t){for(var e in this.a.load(t.a.all()),t.b)this.b[0|e]=t.b[0|e]},s(Zh,Bl),(t=Zh.prototype).xc=function(t,e){var i,n,o,r=t.td(),s=t.pa(),a=this.b.length,l=this.f.b.length;t=t.da();var h=n=0;for(i=r.length;h<i;++h){var c=r[h];if(0<c.length){var u=dn(t,n,c[0],s,-this.origin[0],-this.origin[1]);if(u.length){var p=[];for(n=1,o=c.length;n<o;++n)if(c[n]!==c[n-1]){var g=dn(t,c[n-1],c[n],s,-this.origin[0],-this.origin[1]);p.push(g)}xh(this.f,u,p,s),qh(this,u,p,s)}}n=c[c.length-1]}this.b.length>a&&(this.g.push(a),this.i.push(e),this.l.u&&(this.c.push(a),this.l.u=!1)),this.f.b.length>l&&Ch(this.f,e,l)},t.zc=function(t,e){var i=t.pb(),n=t.pa();if(0<i.length){var o=dn(t=t.da().map(Number),0,i[0],n,-this.origin[0],-this.origin[1]);if(o.length){var r,s=[],a=1;for(r=i.length;a<r;++a)if(i[a]!==i[a-1]){var l=dn(t,i[a-1],i[a],n,-this.origin[0],-this.origin[1]);s.push(l)}this.g.push(this.b.length),this.i.push(e),this.l.u&&(this.c.push(this.b.length),this.l.u=!1),Ch(this.f,e),xh(this.f,o,s,n),qh(this,o,s,n)}}},t.gb=function(t){this.s=new Yl(this.a),this.j=new Yl(this.b),this.g.push(this.b.length),this.f.gb(t),0===this.c.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,i=this.j,n=this.f.Db(t);return function(){eh(t,e),eh(t,i),n()}},t.Bf=function(t,e){var i=oh(e,Lh,Nh);if(this.v)var n=this.v;else this.v=n=new Dh(t,i);return e.cd(i),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,8,0),n},t.Cf=function(t,e){t.disableVertexAttribArray(e.b)},t.Od=function(t,e,i,n){var o=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),st(i)){var s=this.g[this.g.length-1];for(i=this.c.length-1;0<=i;--i){var a=this.c[i],h=this.o[i];t.uniform4fv(this.v.C,h),zl(t,e,a,s),s=a}}else{var c=this.g.length-2;for(h=s=this.g[c+1],a=this.c.length-1;0<=a;--a){var u=this.o[a];for(t.uniform4fv(this.v.C,u),u=this.c[a];0<=c&&this.g[c]>=u;){var p=this.g[c],g=this.i[c];i[g=l(g).toString()]&&(s!==h&&(zl(t,e,s,h),t.clear(t.DEPTH_BUFFER_BIT)),h=p),c--,s=p}s!==h&&(zl(t,e,s,h),t.clear(t.DEPTH_BUFFER_BIT)),s=h=u}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(o))},t.Ee=function(t,e,i,n,o){var r,s,a=this.g.length-2,h=this.g[a+1];for(r=this.c.length-1;0<=r;--r){var c=this.o[r];for(t.uniform4fv(this.v.C,c),s=this.c[r];0<=a&&this.g[a]>=s;){c=this.g[a];var u=this.i[a];if(void 0===i[l(u).toString()]&&u.U()&&(void 0===o||$(o,u.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zl(t,e,c,h),h=n(u)))return h;a--,h=c}}},t.Oa=function(t,e){t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?Vl:ms(t).map((function(t,e){return 3!=e?t/255:t}))||Vl,this.l.fillColor&&Kt(t,this.l.fillColor)||(this.l.fillColor=t,this.l.u=!0,this.o.push(t)),e?this.f.Oa(null,e):this.f.Oa(null,new ol({color:[0,0,0,0],lineWidth:0}))},cc.prototype.get=function(t){return this.c[t]||null},cc.prototype.add=function(t,e,i,n,o){var r,s=0;for(r=this.a.length;s<r;++s){var a=this.a[s];if(a.width>=e+this.b&&a.height>=i+this.b)return r={offsetX:a.x+this.b,offsetY:a.y+this.b,image:this.i},this.c[t]=r,n.call(o,this.g,a.x+this.b,a.y+this.b),t=s,e+=this.b,n=i+this.b,a.width-e>a.height-n?uc(this,t,i={x:a.x+e,y:a.y,width:a.width-e,height:a.height},e={x:a.x,y:a.y+n,width:e,height:a.height-n}):uc(this,t,i={x:a.x+e,y:a.y,width:a.width-e,height:n},e={x:a.x,y:a.y+n,width:a.width,height:a.height-n}),r}return null},pc.prototype.add=function(t,e,i,n,o,r){return e+this.b>this.g||i+this.b>this.g?null:(n=fc(this,!1,t,e,i,n,r))?dc(n,t=fc(this,!0,t,e,i,void 0!==o?o:a,r)):null},s(yc,lh),(t=yc.prototype).Wb=function(t,e){if(this.ta){var i=null,n=2,o=2;switch(t.S()){case"Point":case"MultiPoint":n=(i=t.da()).length,o=t.pa();break;case"Circle":i=t.xa();break;case"LineString":i=t.Fe();break;case"MultiLineString":n=(i=t.Ge()).length;break;case"Polygon":i=t.Td();break;case"MultiPolygon":n=(i=op(t)).length}this.g.push(this.b.length),this.i.push(e),t=this.l;var r,s,a=function(t,e){var i=t.l,n=e.length*i.height;return[e.map((function(e){var n,o=0,r=0;for(n=e.length;r<n;++r){var s=e[r];i.width[s]||mc(t,s),o+=i.width[s]?i.width[s]:0}return o})).reduce((function(t,e){return Math.max(t,e)})),n]}(this,e=this.ta.split("\n")),h=Math.round(a[0]*this.ab-this.$),c=Math.round(a[1]*this.ra-this.ca),u=this.N.lineWidth/2*this.N.scale;for(a=0,r=e.length;a<r;++a){var p=0,g=t.height*a,d=e[a].split(""),f=0;for(s=d.length;f<s;++f){var y=t.Bh,m=d[f],v=gc(y.f,m);if(y=v?dc(v,y=gc(y.i,m)):null){v=y.image,this.D=h-p,this.C=c-g,this.T=0===f?y.offsetX-u:y.offsetX,this.O=y.offsetY,this.height=t.height,this.width=0===f||f===d.length-1?t.width[d[f]]+u:t.width[d[f]],this.oa=v.height,this.qa=v.width,0===this.c.length?this.c.push(v):l(y=this.c[this.c.length-1])!=l(v)&&(this.v.push(this.b.length),this.c.push(v)),y=i,m=n;var _=o;for(v=0;v<m;v+=_)hh(this,y,m,_)}p+=this.width}}}},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o=this.v,this.s=new Yl(this.a),this.j=new Yl(this.b),ch(this.ua,this.c,{},e),this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.c=null,this.B={},this.l=void 0,lh.prototype.gb.call(this,t)},t.nb=function(t){var e=this.N,i=t.Fa(),n=t.Ga();if(t&&t.Ka()&&(i||n)){for(var o in i?(i=i.b,e.fillColor=Cs(i||Vl)):e.fillColor=null,n?(i=n.a,e.strokeColor=Cs(i||Hl),e.lineWidth=n.c||1,e.lineCap=n.f||"round",e.lineDashOffset=n.i||0,e.lineJoin=n.j||"round",e.miterLimit=n.l||10,n=n.g,e.lineDash=n?n.slice():jl):(e.strokeColor=null,e.lineWidth=0),e.font=t.a||"10px sans-serif",e.scale=t.b||1,this.ta=t.Ka(),n=aa[t.f],i=aa[t.j],this.ab=void 0===n?.5:n,this.ra=void 0===i?.5:i,this.$=t.g||0,this.ca=t.c||0,this.rotateWithView=!!t.l,this.rotation=t.i||0,t=[],e)(e[o]||0===e[o])&&(Array.isArray(e[o])?t=t.concat(e[o]):t.push(e[o]));for(i="",o=0,n=t.length;o<n;++o)i+=t[o];o=i,this.B[o]||((t=this.Ub.getContext("2d")).font=e.font,t=Math.ceil((1.5*t.measureText("M").width+e.lineWidth/2)*e.scale),this.B[o]={Bh:new pc({space:e.lineWidth+1}),width:{},height:t}),this.l=this.B[o]}else this.ta=""},t.ig=function(){return this.ua},t.ag=function(){return this.ua},s(vc,oa),(t=vc.prototype).Vb=function(){},t.Ja=function(t,e){var i=void 0!==t?t.toString():"0";return void 0===(t=this.a[i])&&(t={},this.a[i]=t),void 0===(i=t[e])&&(i=new Ic[e](this.i,this.c),t[e]=i),i},t.yg=function(){return st(this.a)},t.Na=function(t,e,i,n,o,r,s,a){var l,h,c=Object.keys(this.a).map(Number);c.sort(Wt);var u=0;for(l=c.length;u<l;++u){var p=this.a[c[u].toString()],g=0;for(h=sa.length;g<h;++g){var d=p[sa[g]];void 0!==d&&d.Na(t,e,i,n,o,r,s,a,void 0,!1)}}},t.wa=function(t,e,i,n,o,r,s,a,l,h){var c,u=e.b;return u.bindFramebuffer(u.FRAMEBUFFER,ih(e)),void 0!==this.g&&(c=S(F(t),n*this.g)),xc(this,e,t,n,o,s,a,l,(function(t){var e=new Uint8Array(4);if(u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t}),!0,c)};var Cc=[1,1],Ic={Circle:Zl,Image:uh,LineString:yh,Polygon:Zh,Text:yc};function Ac(t,e,i,n,o,r,s){this.b=t,this.g=e,this.c=r,this.i=s,this.l=o,this.j=n,this.f=i,this.a=this.s=this.v=this.o=null}function bc(t,e,i){var n=t.b;(e=e.Ja(0,"Text")).nb(t.a),e.Wb(i,null),e.gb(n),e.Na(t.b,t.g,t.f,t.j,t.l,t.i,1,{},void 0,!1),e.Db(n)()}s(Ac,Is),(t=Ac.prototype).Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t,null);break;case"LineString":this.uc(t,null);break;case"Polygon":this.zc(t,null);break;case"MultiPoint":this.wc(t,null);break;case"MultiLineString":this.vc(t,null);break;case"MultiPolygon":this.xc(t,null);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t,null)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&$(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e,i=0;for(e=(t=t.a).length;i<e;++i)this.Hb(t[i])},t.yc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"Image");o.Zb(this.o),o.yc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.wc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"Image");o.Zb(this.o),o.wc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.uc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"LineString");o.Oa(null,this.s),o.uc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.vc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"LineString");o.Oa(null,this.s),o.vc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.zc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"Polygon");o.Oa(this.v,this.s),o.zc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.xc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"Polygon");o.Oa(this.v,this.s),o.xc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.cc=function(t,e){var i=this.b,n=new vc(1,this.c),o=n.Ja(0,"Circle");o.Oa(this.v,this.s),o.cc(t,e),o.gb(i),o.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),o.Db(i)(),this.a&&bc(this,n,t)},t.Zb=function(t){this.o=t},t.Oa=function(t,e){this.v=t,this.s=e},t.nb=function(t){this.a=t};var wc=new Dl("precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),Sc=new Rl("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");function Mc(t,e){this.f=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"f"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Ec(t,e){Ps.call(this,e),this.c=t,this.V=new Yl([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.f=this.Mb=null,this.j=void 0,this.v=[1,0,0,1,0,0],this.N=[1,0,0,1,0,0],this.C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.o=null}function Tc(t,e,i,n){if(Me(t=t.a,e)){var o=n.viewState;t.b(new Jr(e,new Ac(i,o.center,o.resolution,o.rotation,n.size,n.extent,n.pixelRatio),n,null,i))}}function Pc(t,e){Ec.call(this,t,e),this.l=this.i=this.M=null}function Lc(t,e){Ys.call(this,t,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.N=this.D=0,this.C=xo(),this.s=!0,this.g=je(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new $l(this.b,this.g),me(this.b,"webglcontextlost",this.Co,this),me(this.b,"webglcontextrestored",this.Do,this),this.a=new Qr,this.o=null,this.j=new Fi(function(t){var e=t[1];t=t[2];var i=e[0]-this.o[0];return e=e[1]-this.o[1],65536*Math.log(t)+Math.sqrt(i*i+e*e)/t}.bind(this),(function(t){return t[0].lb()})),this.B=function(){if(0!==this.j.b.length){zi(this.j);var t=ki(this.j);Nc(this,t[0],t[3],t[4])}return!1}.bind(this),this.f=0,Rc(this)}function Nc(t,e,i,n){var o=t.g,r=e.lb();if(t.a.a.hasOwnProperty(r))t=t.a.get(r),o.bindTexture(3553,t.Mb),9729!=t.hi&&(o.texParameteri(3553,10240,9729),t.hi=9729),9729!=t.ji&&(o.texParameteri(3553,10241,9729),t.ji=9729);else{var s=o.createTexture();if(o.bindTexture(3553,s),0<n){var a=t.C.canvas,l=t.C;t.D!==i[0]||t.N!==i[1]?(a.width=i[0],a.height=i[1],t.D=i[0],t.N=i[1]):l.clearRect(0,0,i[0],i[1]),l.drawImage(e.Y(),n,n,i[0],i[1],0,0,i[0],i[1]),o.texImage2D(3553,0,6408,6408,5121,a)}else o.texImage2D(3553,0,6408,6408,5121,e.Y());o.texParameteri(3553,10240,9729),o.texParameteri(3553,10241,9729),o.texParameteri(3553,10242,33071),o.texParameteri(3553,10243,33071),t.a.set(r,{Mb:s,hi:9729,ji:9729})}}function Dc(t,e,i){var n=t.l;if(Me(n,e)){t=t.i;var o=i.viewState;n.b(new Jr(e,new Ac(t,o.center,o.resolution,o.rotation,i.size,i.extent,i.pixelRatio),i,null,t))}}function Rc(t){(t=t.g).activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}s(Ec,Ps),Ec.prototype.Zi=function(t,e,i){Tc(this,"precompose",i,t),th(i,34962,this.V);var n=i.b,o=oh(i,wc,Sc);if(this.o)var r=this.o;else this.o=r=new Mc(n,o);i.cd(o)&&(n.enableVertexAttribArray(r.b),n.vertexAttribPointer(r.b,2,5126,!1,16,0),n.enableVertexAttribArray(r.a),n.vertexAttribPointer(r.a,2,5126,!1,16,8),n.uniform1i(r.i,0)),n.uniformMatrix4fv(r.f,!1,Gl(this.C,this.v)),n.uniformMatrix4fv(r.c,!1,Gl(this.C,this.N)),n.uniform1f(r.g,e.opacity),n.bindTexture(3553,this.Mb),n.drawArrays(5,0,4),Tc(this,"postcompose",i,t)},Ec.prototype.Ag=function(){this.f=this.Mb=null,this.j=void 0},s(Pc,Ec),Pc.handles=function(t,e){return"webgl"===t&&"IMAGE"===e.S()},Pc.create=function(t,e){return new Pc(t,e)},Pc.prototype.wa=function(t,e,i,n,o){var r=this.a;return r.ha().wa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,(function(t){return n.call(o,t,r)}))},Pc.prototype.Bg=function(t,e){var i=this.c.g,n=t.pixelRatio,o=t.viewState,r=o.center,s=o.resolution,a=o.rotation,l=this.M,h=this.Mb,c=this.a.ha(),u=t.viewHints,p=t.extent;return void 0!==e.extent&&(p=q(p,e.extent)),u[0]||u[1]||tt(p)||(e=c.Y(p,s,n,o.projection))&&Ls(this,e)&&(l=e,h=function(t,e){return e=e.Y(),ah(t.c.g,e)}(this,e),this.Mb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,i,this.Mb))),l&&(function(t,e,i,n,o,r,s,a){e*=r,i*=r,yn(t=t.N),In(t,2*n/e,2*n/i),Cn(t,-s),An(t,a[0]-o[0],a[1]-o[1]),In(t,(a[2]-a[0])/2,(a[3]-a[1])/2),An(t,1,1)}(this,(i=this.c.i.j).width,i.height,n,r,s,a,l.G()),this.l=null,yn(n=this.v),In(n,1,-1),An(n,0,-1),this.M=l,this.Mb=h,Rs(t,c)),!!l},Pc.prototype.cf=function(t,e){return void 0!==this.wa(t,e,0,un,this)},Pc.prototype.zg=function(t,e,i,n){if(this.M&&this.M.Y())if(this.a.ha().wa!==a){var o=xn(e.pixelToCoordinateTransform,t.slice());if(this.wa(o,e,0,un,this))return i.call(n,this.a,null)}else{if(o=[this.M.Y().width,this.M.Y().height],!this.l){var r=e.size;An(e=[1,0,0,1,0,0],-1,-1),In(e,2/r[0],2/r[1]),An(e,0,r[1]),In(e,1,-1),r=wn(this.N.slice());var s=[1,0,0,1,0,0];An(s,0,o[1]),In(s,1,-1),In(s,o[0]/2,o[1]/2),An(s,1,1),mn(s,r),mn(s,e),this.l=s}if(!(0>(t=xn(this.l,t.slice()))[0]||t[0]>o[0]||0>t[1]||t[1]>o[1])&&(this.i||(this.i=xo(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),t[0],t[1],1,1,0,0,1,1),0<(o=this.i.getImageData(0,0,1,1).data)[3]))return i.call(n,this.a,o)}},s(Lc,Ys),Lc.handles=function(t){return He&&"webgl"===t},Lc.create=function(t,e){return new Lc(t,e)},(t=Lc.prototype).ia=function(){var t=this.g;t.isContextLost()||this.a.forEach((function(e){e&&t.deleteTexture(e.Mb)})),Ae(this.i),Ys.prototype.ia.call(this)},t.Yk=function(t,e){t=this.g;for(var i;1024<this.a.i-this.f;){if(i=this.a.g.Pc)t.deleteTexture(i.Mb);else{if(+this.a.g.jc==e.index)break;--this.f}this.a.pop()}},t.S=function(){return"webgl"},t.Co=function(t){for(var e in t.preventDefault(),this.a.clear(),this.f=0,t=this.c)t[e].Ag()},t.Do=function(){Rc(this),this.l.render()},t.bh=function(t){var e=this.i,i=this.g;if(i.isContextLost())return!1;if(!t)return this.s&&(this.b.style.display="none",this.s=!1),!1;this.o=t.focus,this.a.set((-t.index).toString(),null),++this.f,Dc(this,"precompose",t);var n=[],o=t.layerStatesArray;Jt(o);var r,s=t.viewState.resolution,a=0;for(r=o.length;a<r;++a){var l=o[a];if(Fo(l,s)&&"ready"==l.Vj){var h=qs(this,l.layer);h.Bg(t,l,e)&&n.push(l)}}for(o=t.size[0]*t.pixelRatio,s=t.size[1]*t.pixelRatio,this.b.width==o&&this.b.height==s||(this.b.width=o,this.b.height=s),i.bindFramebuffer(36160,null),i.clearColor(0,0,0,0),i.clear(16384),i.enable(3042),i.viewport(0,0,this.b.width,this.b.height),a=0,r=n.length;a<r;++a)(h=qs(this,(l=n[a]).layer)).Zi(t,l,e);this.s||(this.b.style.display="",this.s=!0),Xs(t),1024<this.a.i-this.f&&t.postRenderFunctions.push(this.Yk.bind(this)),0!==this.j.b.length&&(t.postRenderFunctions.push(this.B),t.animate=!0),Dc(this,"postcompose",t),Js(this,t),t.postRenderFunctions.push(Zs)},t.wa=function(t,e,i,n,o,r,s){if(this.g.isContextLost())return!1;var a,l=e.viewState,h=e.layerStatesArray;for(a=h.length-1;0<=a;--a){var c=h[a],u=c.layer;if(Fo(c,l.resolution)&&r.call(s,u)&&(c=qs(this,u).wa(t,e,i,n,o)))return c}},t.Ui=function(t,e,i,n,o){if(i=!1,this.g.isContextLost())return!1;var r,s=e.viewState,a=e.layerStatesArray;for(r=a.length-1;0<=r;--r){var l=a[r],h=l.layer;if(Fo(l,s.resolution)&&n.call(o,h)&&(i=qs(this,h).cf(t,e)))return!0}return i},t.Ti=function(t,e,i,n,o){if(this.g.isContextLost())return!1;var r,s=e.viewState,a=e.layerStatesArray;for(r=a.length-1;0<=r;--r){var l=a[r],h=l.layer;if(Fo(l,s.resolution)&&o.call(n,h)&&(l=qs(this,h).zg(t,e,i,n)))return l}};var Oc=new Dl("precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Fc=new Rl("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");function kc(t,e){this.c=t.getUniformLocation(e,"d"),this.g=t.getUniformLocation(e,"e"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Gc(t,e){Ec.call(this,t,e),this.T=Oc,this.ca=Fc,this.i=null,this.B=new Yl([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.l=null,this.s=-1,this.O=[0,0]}function Bc(t,e){Ec.call(this,t,e),this.s=!1,this.O=-1,this.T=NaN,this.D=[1/0,1/0,-1/0,-1/0],this.l=this.i=this.B=null}function zc(t){(t=nt({},t)).controls||(t.controls=Ho()),t.interactions||(t.interactions=Zr()),Lo.call(this,t)}function Vc(t){Te.call(this),this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={ze:"",Se:"",xf:"",Ef:"",visible:!0},this.c=null,me(this,Le(Wc),this.am,this),me(this,Le(Yc),this.km,this),me(this,Le(Xc),this.om,this),me(this,Le(Zc),this.qm,this),me(this,Le(qc),this.rm,this),void 0!==t.element&&this.Hj(t.element),this.Mj(void 0!==t.offset?t.offset:[0,0]),this.Pj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.We(t.position)}function jc(t,e){var i=t.getBoundingClientRect();return[t=i.left+window.pageXOffset,i=i.top+window.pageYOffset,t+e[0],i+e[1]]}function Hc(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function Uc(t){var e=t.Ve(),i=t.pi();if(e&&e.c&&i){i=e.Ia(i);var n=e.Cb();e=t.element.style;var o=t.Xh(),r=t.Yh();Hc(t,!0);var s=o[0];o=o[1],"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.Se&&(t.a.Se=e.left=""),s=Math.round(n[0]-i[0]-s)+"px",t.a.xf!=s&&(t.a.xf=e.right=s)):(""!==t.a.xf&&(t.a.xf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s-=t.element.offsetWidth/2),s=Math.round(i[0]+s)+"px",t.a.Se!=s&&(t.a.Se=e.left=s)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.Ef&&(t.a.Ef=e.top=""),i=Math.round(n[1]-i[1]-o)+"px",t.a.ze!=i&&(t.a.ze=e.bottom=i)):(""!==t.a.ze&&(t.a.ze=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(o-=t.element.offsetHeight/2),i=Math.round(i[1]+o)+"px",t.a.Ef!=i&&(t.a.Ef=e.top=i))}else Hc(t,!1)}s(Gc,Ec),Gc.handles=function(t,e){return"webgl"===t&&"TILE"===e.S()},Gc.create=function(t,e){return new Gc(t,e)},(t=Gc.prototype).ia=function(){eh(this.c.i,this.B),Ec.prototype.ia.call(this)},t.Rf=function(t,e,i){var n=this.c;return function(o,r){return Rx(t,e,o,r,(function(t){var e=n.a.a.hasOwnProperty(t.lb());return e&&(i[o]||(i[o]={}),i[o][t.ya.toString()]=t),e}))}},t.Ag=function(){Ec.prototype.Ag.call(this),this.i=null},t.Bg=function(t,e,i){var n=this.c,o=i.b,r=t.viewState,s=r.projection,a=this.a,l=a.ha(),h=l.eb(s),c=h.Dc(r.resolution),p=h.Ta(c),g=l.Zd(c,t.pixelRatio,s),f=g[0]/b(h.Za(c),this.O)[0],y=p/f,m=l.Xc(f)*l.Zf(s),v=r.center,_=t.extent,x=oe(h,_,c);if(this.l&&function(t,e){return t.fa==e.fa&&t.ea==e.ea&&t.la==e.la&&t.ka==e.ka}(this.l,x)&&this.s==l.g)y=this.D;else{var C=[x.la-x.fa+1,x.ka-x.ea+1],I=function(t){return d(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(Math.max(C[0]*g[0],C[1]*g[1]));C=y*I;var A=h.Ic(c),w=A[0]+x.fa*g[0]*y;y=[w,y=A[1]+x.ea*g[1]*y,w+C,y+C],function(t,e,i){var n=t.c.g;if(void 0===t.j||t.j!=i){e.postRenderFunctions.push(function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}.bind(null,n,t.f,t.Mb)),e=sh(n,i,i);var o=n.createFramebuffer();n.bindFramebuffer(36160,o),n.framebufferTexture2D(36160,36064,3553,e,0),t.Mb=e,t.f=o,t.j=i}else n.bindFramebuffer(36160,t.f)}(this,t,I),o.viewport(0,0,I,I),o.clearColor(0,0,0,0),o.clear(16384),o.disable(3042),I=oh(i,this.T,this.ca),i.cd(I),this.i||(this.i=new kc(o,I)),th(i,34962,this.B),o.enableVertexAttribArray(this.i.b),o.vertexAttribPointer(this.i.b,2,5126,!1,16,0),o.enableVertexAttribArray(this.i.a),o.vertexAttribPointer(this.i.a,2,5126,!1,16,8),o.uniform1i(this.i.g,0),(i={})[c]={};var S=this.Rf(l,s,i),M=a.i();I=!0,w=[1/0,1/0,-1/0,-1/0];var E,T,P,L=new u(0,0,0,0);for(E=x.fa;E<=x.la;++E)for(T=x.ea;T<=x.ka;++T){if(A=l.ad(c,E,T,f,s),void 0!==e.extent){var N=h.Ma(A.ya,w);if(!$(N,e.extent))continue}if((N=2==(N=A.getState())||4==N||3==N&&!M)||(A=wl(A)),2==(N=A.getState())){if(n.a.a.hasOwnProperty(A.lb())){i[c][A.ya.toString()]=A;continue}}else if(4==N||3==N&&!M)continue;I=!1,(N=ie(h,A.ya,S,L,w))||(A=ne(h,A.ya,L,w))&&S(c+1,A)}for((e=Object.keys(i).map(Number)).sort(Wt),S=new Float32Array(4),M=0,L=e.length;M<L;++M)for(P in E=i[e[M]])A=E[P],N=h.Ma(A.ya,w),S[0]=2*(N[2]-N[0])/C,S[1]=2*(N[3]-N[1])/C,S[2]=2*(N[0]-y[0])/C-1,S[3]=2*(N[1]-y[1])/C-1,o.uniform4fv(this.i.c,S),Nc(n,A,g,m*f),o.drawArrays(5,0,4);I?(this.l=x,this.D=y,this.s=l.g):(this.D=this.l=null,this.s=-1,t.animate=!0)}Os(t.usedTiles,l,c,x);var D=n.j;return Fs(t,l,h,f,s,_,c,a.c(),(function(t){2!=t.getState()||n.a.a.hasOwnProperty(t.lb())||t.lb()in D.a||D.i([t,re(h,t.ya),h.Ta(t.ya[0]),g,m*f])}),this),Ds(t,l),Rs(t,l),yn(o=this.v),An(o,(Math.round(v[0]/p)*p-y[0])/(y[2]-y[0]),(Math.round(v[1]/p)*p-y[1])/(y[3]-y[1])),0!==r.rotation&&Cn(o,r.rotation),In(o,t.size[0]*r.resolution/(y[2]-y[0]),t.size[1]*r.resolution/(y[3]-y[1])),An(o,-.5,-.5),!0},t.zg=function(t,e,i,n){if(this.f){t=[(t=xn(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()))[0]*this.j,t[1]*this.j],(e=this.c.i.b).bindFramebuffer(e.FRAMEBUFFER,this.f);var o=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,o),0<o[3])return i.call(n,this.a,o)}},s(Bc,Ec),Bc.handles=function(t,e){return"webgl"===t&&"VECTOR"===e.S()},Bc.create=function(t,e){return new Bc(t,e)},(t=Bc.prototype).Zi=function(t,e,i){this.l=e;var n=t.viewState,o=this.i,r=t.size,s=t.pixelRatio,a=this.c.g;o&&!o.yg()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,r[0]*s,r[1]*s),o.Na(i,n.center,n.resolution,n.rotation,r,s,e.opacity,e.Te?t.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},t.ia=function(){var t=this.i;t&&(_c(t,this.c.i)(),this.i=null),Ec.prototype.ia.call(this)},t.wa=function(t,e,i,n,o){if(this.i&&this.l){i=e.viewState;var r=this.a,s={};return this.i.wa(t,this.c.i,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,this.l.opacity,{},(function(t){var e=l(t).toString();if(!(e in s))return s[e]=!0,n.call(o,t,r)}))}},t.cf=function(t,e){if(this.i&&this.l){var i=e.viewState;return function(t,e,i,n,o,r,s,a){var l=i.b;return l.bindFramebuffer(l.FRAMEBUFFER,ih(i)),void 0!==xc(t,i,e,n,o,r,s,a,(function(){var t=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,t),0<t[3]}),!1)}(this.i,t,this.c.i,i.resolution,i.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},t.zg=function(t,e,i,n){if(t=xn(e.pixelToCoordinateTransform,t.slice()),this.cf(t,e))return i.call(n,this.a,null)},t.$i=function(){Ns(this)},t.Bg=function(t,e,i){function n(t){var e=t.ib();if(e)var i=e.call(t,h);else(e=o.ib())&&(i=e(t,h));if(i){if(i){if(e=!1,Array.isArray(i))for(var n=i.length-1;0<=n;--n)e=za(p,t,i[n],Ba(h,c),this.$i,this)||e;else e=za(p,t,i,Ba(h,c),this.$i,this)||e;t=e}else t=!1;this.s=this.s||t}}var o=this.a;Rs(t,e=o.ha());var r=t.viewHints[0],s=t.viewHints[1],a=o.ca,l=o.ra;if(!this.s&&!a&&r||!l&&s)return!0;s=t.extent,r=(a=t.viewState).projection;var h=a.resolution,c=t.pixelRatio;a=o.g;var u=o.f;if(void 0===(l=o.get(Zv))&&(l=Ga),s=S(s,u*h),!this.s&&this.T==h&&this.O==a&&this.B==l&&P(this.D,s))return!0;this.i&&t.postRenderFunctions.push(_c(this.i,i)),this.s=!1;var p=new vc(.5*h/c,s,o.f);if(e.ae(s,h,r),l){var g=[];e.ec(s,(function(t){g.push(t)}),this),g.sort(l),g.forEach(n,this)}else e.ec(s,n,this);return function(t,e){for(var i in t.a){var n,o=t.a[i];for(n in o)o[n].gb(e)}}(p,i),this.T=h,this.O=a,this.B=l,this.D=s,this.i=p,!0},To("MAP_RENDERER",$s),Po([js,ea,ja,Ha]),To("MAP_RENDERER",Lc),Po([Pc,Gc,Bc]),s(zc,Lo),s(Vc,Te),(t=Vc.prototype).Rd=function(){return this.get(Wc)},t.nn=function(){return this.id},t.Ve=function(){return this.get(Yc)},t.Xh=function(){return this.get(Xc)},t.pi=function(){return this.get(Zc)},t.Yh=function(){return this.get(qc)},t.am=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.element.appendChild(t)},t.km=function(){this.c&&(Io(this.element),xe(this.c),this.c=null);var t=this.Ve();t&&(this.c=me(t,"postrender",this.render,this),Uc(this),t=this.stopEvent?t.v:t.o,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},t.render=function(){Uc(this)},t.om=function(){Uc(this)},t.qm=function(){if(Uc(this),this.get(Zc)&&this.autoPan){var t=this.Ve();if(t&&t.Cc()){var e=jc(t.Cc(),t.Cb()),i=this.Rd(),n=i.offsetWidth,o=getComputedStyle(i);n+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10),o=i.offsetHeight;var r=getComputedStyle(i),s=jc(i,[n,o+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)]);i=this.autoPanMargin,P(e,s)||(n=s[0]-e[0],o=e[2]-s[2],r=s[1]-e[1],s=e[3]-s[3],e=[0,0],0>n?e[0]=n-i:0>o&&(e[0]=Math.abs(o)+i),0>r?e[1]=r-i:0>s&&(e[1]=Math.abs(s)+i),0===e[0]&&0===e[1])||(i=t.aa().xa(),e=[(i=t.Ia(i))[0]+e[0],i[1]+e[1]],t.aa().animate({center:t.Ra(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},t.rm=function(){Uc(this)},t.Hj=function(t){this.set(Wc,t)},t.setMap=function(t){this.set(Yc,t)},t.Mj=function(t){this.set(Xc,t)},t.We=function(t){this.set(Zc,t)},t.Pj=function(t){this.set(qc,t)};var Wc="element",Yc="map",Xc="offset",Zc="position",qc="positioning";function Kc(t,e,i,n,o,r){bl.call(this,t,e,r),this.c=0,this.l=null,this.v=n,this.a=null,this.f={},this.C=o,this.N=i}function Jc(t,e,i){return t.f[l(e)+","+i]}s(Kc,bl),(t=Kc.prototype).ia=function(){this.a=null,this.f={},this.state=5,this.u(),bl.prototype.ia.call(this)},t.G=function(){return this.l||Qc},t.qn=function(){return this.v},t.pn=function(){return this.a},t.lb=function(){return this.N},t.rn=function(){return this.o},t.load=function(){0==this.state&&(Ml(this,1),this.C(this,this.N),this.D(null,NaN,null))},t.Cp=function(t,e,i){this.vg(e),this.Ij(t),this.ri(i)},t.Bp=function(){Ml(this,3)},t.ri=function(t){this.l=t},t.Ij=function(t){this.a=t,Ml(this,2)},t.vg=function(t){this.o=t},t.ug=function(t){this.D=t};var Qc=[0,0,4096,4096];function $c(t){t=t||{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.v="string"==typeof e?document.createTextNode(e):e;var i=t.tipLabel?t.tipLabel:"Toggle full-screen";(e=document.createElement("button")).className=this.c+"-"+eu(),e.setAttribute("type","button"),e.title=i,e.appendChild(this.l),me(e,"click",this.C,this),(i=document.createElement("div")).className=this.c+" ol-unselectable ol-control "+(tu()?"":"ol-unsupported"),i.appendChild(e),Do.call(this,{element:i,target:t.target}),this.D=void 0!==t.keys&&t.keys,this.j=t.source}function tu(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function eu(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function iu(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}s($c,Do),$c.prototype.C=function(t){t.preventDefault(),tu()&&(t=this.a)&&(eu()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.Cc(),this.D?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):iu(t):iu(t)))},$c.prototype.o=function(){var t=this.element.firstElementChild,e=this.a;eu()?(t.className=this.c+"-true",Co(this.v,this.l)):(t.className=this.c+"-false",Co(this.l,this.v)),e&&e.Oc()},$c.prototype.setMap=function(t){Do.prototype.setMap.call(this,t),t&&this.s.push(me(document,nu(),this.o,this))};var nu=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();function ou(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Do.call(this,{element:e,render:t.render?t.render:ru,target:t.target}),me(this,Le(au),this.En,this),t.coordinateFormat&&this.Gj(t.coordinateFormat),t.projection&&this.ti(t.projection),this.o=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.v=e.innerHTML,this.l=this.j=this.c=null}function ru(t){(t=t.frameState)?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,su(this,this.l)}function su(t,e){var i=t.o;if(e&&t.c){if(!t.j){var n=t.si();t.j=n?Bt(t.c,n):zt}(e=t.a.Ra(e))&&(t.j(e,e),i=(i=t.Qh())?i(e):e.toString())}t.v&&i==t.v||(t.element.innerHTML=i,t.v=i)}s(ou,Do),(t=ou.prototype).En=function(){this.j=null},t.Qh=function(){return this.get(lu)},t.si=function(){return this.get(au)},t.mm=function(t){this.l=this.a.ud(t),su(this,this.l)},t.nm=function(){su(this,null),this.l=null},t.setMap=function(t){Do.prototype.setMap.call(this,t),t&&(t=t.a,this.s.push(me(t,"mousemove",this.mm,this),me(t,"mouseout",this.nm,this)))},t.Gj=function(t){this.set(lu,t)},t.ti=function(t){this.set(au,Ft(t))};var au="projection",lu="coordinateFormat";function hu(t){function e(t){t=a.Sd(t),l.a.aa().ub(t),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e)}function i(t){t=a.Sd({clientX:t.clientX-c.offsetWidth/2,clientY:t.clientY+c.offsetHeight/2}),h.We(t)}t=t||{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var n=void 0!==t.className?t.className:"ol-overviewmap",o=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"«";"string"==typeof r?(this.o=document.createElement("span"),this.o.textContent=r):this.o=r,"string"==typeof(r=void 0!==t.label?t.label:"»")?(this.D=document.createElement("span"),this.D.textContent=r):this.D=r;var s=this.l&&!this.j?this.o:this.D;(r=document.createElement("button")).setAttribute("type","button"),r.title=o,r.appendChild(s),me(r,"click",this.Hn,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var a=this.c=new Lo({controls:new Re,interactions:new Re,view:t.view});t.layers&&t.layers.forEach((function(t){a.xe(t)}),this),(o=document.createElement("DIV")).className="ol-overviewmap-box",o.style.boxSizing="border-box",this.v=new Vc({position:[0,0],positioning:"bottom-left",element:o}),this.c.ye(this.v),(o=document.createElement("div")).className=n+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),o.appendChild(this.C),o.appendChild(r),Do.call(this,{element:o,render:t.render?t.render:cu,target:t.target});var l=this,h=this.v,c=this.v.Rd();c.addEventListener("mousedown",(function(){window.addEventListener("mousemove",i),window.addEventListener("mouseup",e)}))}function cu(){var t=this.a,e=this.c;if(t.c&&e.c){var i=t.Cb();t=t.aa().qd(i);var n=e.Cb();i=e.aa().qd(n);var o=e.Ia(K(t)),r=e.Ia(W(t));e=Math.abs(o[0]-r[0]),o=Math.abs(o[1]-r[1]),r=n[0],n=n[1],e<.1*r||o<.1*n||e>.75*r||o>.75*n?uu(this):P(i,t)||(t=this.c,i=this.a.aa(),t.aa().ub(i.xa()))}pu(this)}function uu(t){var e=t.a;t=t.c;var i=e.Cb();e=e.aa().qd(i),t=t.aa(),et(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Uf(e)}function pu(t){var e=t.a,i=t.c;if(e.c&&i.c){var n=e.Cb(),o=e.aa(),r=i.aa();i=o.Sa(),e=t.v;var s=t.v.Rd(),a=o.qd(n);if(n=r.Pa(),o=U(a),r=J(a),t=t.a.aa().xa()){var l=[o[0]-t[0],o[1]-t[1]];tn(l,i),qi(l,t)}e.We(l),s&&(s.style.width=Math.abs((o[0]-r[0])/n)+"px",s.style.height=Math.abs((r[1]-o[1])/n)+"px")}}function gu(t){t.element.classList.toggle("ol-collapsed"),t.j?Co(t.o,t.D):Co(t.D,t.o),t.j=!t.j;var e=t.c;t.j||e.c||(e.Oc(),uu(t),ve(e,"postrender",(function(){pu(this)}),t))}function du(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.o=null,this.v=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.B=void 0,this.D="",Do.call(this,{element:this.c,render:t.render?t.render:yu,target:t.target}),me(this,Le(vu),this.V,this),this.O(t.units||"metric")}s(hu,Do),(t=hu.prototype).setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.aa())&&_e(e,Le("rotation"),this.Qe,this),this.c.Ad(null)),Do.prototype.setMap.call(this,t),t&&(this.c.Ad(this.C),this.s.push(me(t,"propertychange",this.lm,this)),0===this.c.Xe().kc()&&this.c.zf(t.hc()),t=t.aa()))&&(me(t,Le("rotation"),this.Qe,this),vo(t)&&(this.c.Oc(),uu(this)))},t.lm=function(t){"view"===t.key&&((t=t.oldValue)&&_e(t,Le("rotation"),this.Qe,this),me(t=this.a.aa(),Le("rotation"),this.Qe,this))},t.Qe=function(){this.c.aa().ce(this.a.aa().Sa())},t.Hn=function(t){t.preventDefault(),gu(this)},t.Gn=function(){return this.l},t.Jn=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&gu(this))},t.In=function(t){this.l&&this.j!==t&&gu(this)},t.Fn=function(){return this.j},t.Hl=function(){return this.c},s(du,Do);var fu=[1,2,5];function yu(t){(t=t.frameState)?this.o=t.viewState:this.o=null,mu(this)}function mu(t){var e=t.o;if(e){var i=e.center,n=e.projection,o=t.C();e=Pt(n,e.resolution,i,"degrees"==o?"degrees":"m"),"degrees"!=o&&(e*=n.Bc());var r=t.v*e;for(i="","degrees"==o?(i=ut.degrees,"degrees"==n.a?r*=i:e/=i,r<i/60?(i="″",e*=3600):r<i?(i="′",e*=60):i="°"):"imperial"==o?.9144>r?(i="in",e/=.0254):1609.344>r?(i="ft",e/=.3048):(i="mi",e/=1609.344):"nautical"==o?(e/=1852,i="nm"):"metric"==o?.001>r?(i="μm",e*=1e6):1>r?(i="mm",e*=1e3):1e3>r?i="m":(i="km",e/=1e3):"us"==o?.9144>r?(i="in",e*=39.37):1609.344>r?(i="ft",e/=.30480061):(i="mi",e/=1609.3472):d(!1,33),o=3*Math.floor(Math.log(t.v*e)/Math.log(10));;){if(r=fu[(o%3+3)%3]*Math.pow(10,Math.floor(o/3)),n=Math.round(r/e),isNaN(n))return t.c.style.display="none",void(t.j=!1);if(n>=t.v)break;++o}e=r+" "+i,t.D!=e&&(t.l.innerHTML=e,t.D=e),t.B!=n&&(t.l.style.width=n+"px",t.B=n),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}du.prototype.C=function(){return this.get(vu)},du.prototype.V=function(){mu(this)},du.prototype.O=function(t){this.set(vu,t)};var vu="units";function _u(t){t=t||{},this.c=void 0,this.j=xu,this.D=this.v=0,this.O=null,this.$=!1,this.V=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=e+"-thumb ol-unselectable";var n=document.createElement("div");n.className=e+" ol-unselectable ol-control",n.appendChild(i),this.l=new Ii(n),me(this.l,"pointerdown",this.$l,this),me(this.l,"pointermove",this.Yl,this),me(this.l,"pointerup",this.Zl,this),me(n,"click",this.Xl,this),me(i,"click",we),Do.call(this,{element:n,render:t.render?t.render:Cu})}s(_u,Do),_u.prototype.ia=function(){Ae(this.l),Do.prototype.ia.call(this)};var xu=0;function Cu(t){if(t.frameState){if(!this.$){var e=this.element,i=e.offsetWidth,n=e.offsetHeight,o=e.firstElementChild,r=getComputedStyle(o);e=o.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),o=o.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom),this.O=[e,o],i>n?(this.j=1,this.D=i-e):(this.j=xu,this.v=n-o),this.$=!0}(t=t.frameState.viewState.resolution)!==this.c&&(this.c=t,Iu(this,t))}}function Iu(t,e){e=1-function(t){var e=t.a,i=Math.log(e/t.i)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/i}}(t.a.aa())(e);var i=t.element.firstElementChild;1==t.j?i.style.left=t.D*e+"px":i.style.top=t.v*e+"px"}function Au(t,e){return function(t){var e=t.a,i=Math.log(e/t.i)/Math.log(2);return function(t){return e/Math.pow(2,t*i)}}(t.a.aa())(1-e)}function bu(t){t=t||{},this.extent=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",i=void 0!==t.label?t.label:"E",n=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",o=document.createElement("button");o.setAttribute("type","button"),o.title=n,o.appendChild("string"==typeof i?document.createTextNode(i):i),me(o,"click",this.c,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(o),Do.call(this,{element:i,target:t.target})}(t=_u.prototype).setMap=function(t){Do.prototype.setMap.call(this,t),t&&t.render()},t.Xl=function(t){var e=this.a.aa();t=Au(this,f(1===this.j?(t.offsetX-this.O[0]/2)/this.D:(t.offsetY-this.O[1]/2)/this.v,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.V,easing:ln})},t.$l=function(t){this.o||t.b.target!==this.element.firstElementChild||(_o(this.a.aa(),1,1),this.C=t.clientX,this.B=t.clientY,this.o=!0)},t.Yl=function(t){if(this.o){var e=this.element.firstElementChild;this.c=Au(this,f(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.D:(t.clientY-this.B+parseInt(e.style.top,10))/this.v,0,1)),this.a.aa().gd(this.c),Iu(this,this.c),this.C=t.clientX,this.B=t.clientY}},t.Zl=function(){if(this.o){var t=this.a.aa();_o(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.V,easing:ln}),this.o=!1,this.B=this.C=void 0}},s(bu,Do),bu.prototype.c=function(t){t.preventDefault(),t=this.a.aa();var e=this.extent?this.extent:t.v.G();t.Uf(e)};var wu=document.implementation.createDocument("","",null);function Su(t,e){return wu.createElementNS(t,e)}function Mu(t,e){return function t(e,i,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)i?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else for(e=e.firstChild;e;e=e.nextSibling)t(e,i,n);return n}(t,e,[]).join("")}function Eu(t){return t instanceof Document}function Tu(t){return t instanceof Node}function Pu(t){return(new DOMParser).parseFromString(t,"application/xml")}function Lu(t,e){return function(i,n){void 0!==(i=t.call(e,i,n))&&Zt(n[n.length-1],i)}}function Nu(t,e){return function(i,n){void 0!==(i=t.call(void 0!==e?e:this,i,n))&&n[n.length-1].push(i)}}function Du(t,e){return function(i,n){void 0!==(i=t.call(void 0!==e?e:this,i,n))&&(n[n.length-1]=i)}}function Ru(t){return function(e,i){var n=t.call(this,e,i);void 0!==n&&(i=i[i.length-1],((e=e.localName)in i?i[e]:i[e]=[]).push(n))}}function Ou(t,e){return function(i,n){var o=t.call(this,i,n);void 0!==o&&(n[n.length-1][void 0!==e?e:i.localName]=o)}}function Fu(t,e){return function(i,n,o){t.call(void 0!==e?e:this,i,n,o),o[o.length-1].node.appendChild(i)}}function ku(t){var e,i;return function(n,o,r){if(void 0===e){e={};var s={};s[n.localName]=t,e[n.namespaceURI]=s,i=Gu(n.localName)}Uu(e,i,o,r)}}function Gu(t,e){return function(i,n,o){return i=n[n.length-1].node,void 0===(n=t)&&(n=o),o=e,void 0===e&&(o=i.namespaceURI),Su(o,n)}}var Bu=Gu();function zu(t,e){for(var i=e.length,n=Array(i),o=0;o<i;++o)n[o]=t[e[o]];return n}function Vu(t,e,i){var n;i=void 0!==i?i:{};var o=0;for(n=t.length;o<n;++o)i[t[o]]=e;return i}function ju(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var o=t[e.namespaceURI];void 0!==o&&void 0!==(o=o[e.localName])&&o.call(n,e,i)}}function Hu(t,e,i,n,o){return n.push(t),ju(e,i,n,o),n.pop()}function Uu(t,e,i,n,o,r){for(var s,a,l=(void 0!==o?o:i).length,h=0;h<l;++h)void 0!==(s=i[h])&&void 0!==(a=e.call(r,s,n,void 0!==o?o[h]:void 0))&&t[a.namespaceURI][a.localName].call(r,a,s,n)}function Wu(t,e,i,n,o,r,s){o.push(t),Uu(e,i,n,o,r,s),o.pop()}function Yu(t,e,i,n){return function(o,r,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(o,r,s):t,!0),"arraybuffer"==e.S()&&(a.responseType="arraybuffer"),a.onload=function(){if(!a.status||200<=a.status&&300>a.status){var t=e.S();if("json"==t||"text"==t)var o=a.responseText;else"xml"==t?(o=a.responseXML)||(o=Pu(a.responseText)):"arraybuffer"==t&&(o=a.response);o?i.call(this,e.Qa(o,{featureProjection:s}),e.sb(o),e.cg()):n.call(this)}else n.call(this)}.bind(this),a.onerror=function(){n.call(this)}.bind(this),a.send()}}function Xu(t,e){return Yu(t,e,(function(t){this.Qc(t)}),a)}function Zu(){this.i=this.defaultDataProjection=null}function qu(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.sb(e),featureProjection:i.featureProjection}),Ku(t,n)}function Ku(t,e){return nt({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function Ju(t,e,i){var n,o=i?Ft(i.featureProjection):null,r=i?Ft(i.dataProjection):null;if(n=o&&r&&!kt(o,r)?t instanceof Sn?(e?t.clone():t).mb(e?o:r,e?r:o):Ht(t,r,o):t,e&&i&&void 0!==i.decimals){var s=Math.pow(10,i.decimals);n===t&&(n=n.clone()),n.Rc((function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return n}function Qu(){Zu.call(this)}function $u(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function tp(t,e){Mn.call(this),this.c=[],this.j=this.o=-1,this.na(t,e)}function ep(t,e){var i,n=t.ja,o=[],r=[],s=0;for(i=e.length;s<i;++s){var a=e[s];0===s&&(n=a.ja),Zt(o,a.da()),r.push(o.length)}t.ba(n,o,r)}function ip(t,e){Mn.call(this),this.na(t,e)}function np(t,e){Mn.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function op(t){if(t.o!=t.g){var e,i=t.A,n=t.c,o=t.a,r=0,s=[],a=0;for(e=n.length;a<e;++a){var l=n[a];r=k(i,r,l[0],o),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=l[l.length-1]}for(i=rp(t),n=t.c,o=t.a,a=0,e=[],l=0,r=n.length;l<r;++l){var h=n[l];e=Qn(i,a,h,o,s,2*l,e),a=h[h.length-1]}t.D=e,t.o=t.g}return t.D}function rp(t){if(t.T!=t.g){var e=t.A;t:{var i,n=t.c,o=0;for(i=n.length;o<i;++o)if(!no(e,n[o],t.a,void 0)){n=!1;break t}n=!0}n?t.j=e:(t.j=e.slice(),t.j.length=ro(t.j,t.c,t.a)),t.T=t.g}return t.j}function sp(t,e){var i,n=t.ja,o=[],r=[],s=0;for(i=e.length;s<i;++s){var a=e[s];0===s&&(n=a.ja);var l,h=o.length,c=a.pb(),u=0;for(l=c.length;u<l;++u)c[u]+=h;Zt(o,a.da()),r.push(c)}t.ba(n,o,r)}function ap(t){t=t||{},Zu.call(this),this.b=t.geometryName}function lp(t,e){if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)var i="Point";else if(t.points)i="MultiPoint";else if(t.paths)i=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var n,o=t.rings,r=hp(t),s=[],a=[];i=[];var l=0;for(n=o.length;l<n;++l)s.length=0,Bn(s,0,o[l],r.length),io(s,0,s.length,r.length)?a.push([o[l]]):i.push(o[l]);for(;i.length;){for(o=i.shift(),r=!1,l=a.length-1;0<=l;l--)if(P(new Yn(a[l][0]).G(),new Yn(o).G())){a[l].push(o),r=!0;break}r||a.push([o.reverse()])}t=nt({},t),1===a.length?(i="Polygon",t.rings=a[0]):(i="MultiPolygon",t.rings=a)}return Ju((0,up[i])(t),!1,e)}function hp(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function cp(t){return{hasZ:"XYZ"===(t=t.ja)||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}Zu.prototype.cg=function(){return null},s(Qu,Zu),(t=Qu.prototype).S=function(){return"json"},t.Yb=function(t,e){return this.dd($u(t),qu(this,t,e))},t.Qa=function(t,e){return this.Mg($u(t),qu(this,t,e))},t.ed=function(t,e){return this.Qg($u(t),qu(this,t,e))},t.sb=function(t){return this.Tg($u(t))},t.Jd=function(t,e){return JSON.stringify(this.ld(t,e))},t.ac=function(t,e){return JSON.stringify(this.qe(t,e))},t.md=function(t,e){return JSON.stringify(this.se(t,e))},s(tp,Mn),(t=tp.prototype).Gk=function(t){this.A?Zt(this.A,t.da().slice()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new tp(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,i,n){return n<E(this.G(),t,e)?n:(this.j!=this.g&&(this.o=Math.sqrt(On(this.A,0,this.c,this.a,0)),this.j=this.g),kn(this.A,0,this.c,this.a,this.o,!1,t,e,i,n))},t.Wn=function(t,e,i){return"XYM"!=this.ja&&"XYZM"!=this.ja||0===this.A.length?null:function(t,e,i,n,o,r){var s=0;if(r)return dl(t,s,e[e.length-1],i,n,o);if(n<t[i-1])return o?((t=t.slice(0,i))[i-1]=n,t):null;if(t[t.length-1]<n)return o?((t=t.slice(t.length-i))[i-1]=n,t):null;for(o=0,r=e.length;o<r;++o){var a=e[o];if(s!=a){if(n<t[s+i-1])break;if(n<=t[a-1])return dl(t,s,a,i,n,!1);s=a}}return null}(this.A,this.c,this.a,t,void 0!==e&&e,void 0!==i&&i)},t.W=function(){return jn(this.A,0,this.c,this.a)},t.pb=function(){return this.c},t.yl=function(t){if(0>t||this.c.length<=t)return null;var e=new fl(null);return e.ba(this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.wd=function(){var t,e=this.A,i=this.c,n=this.ja,o=[],r=0,s=0;for(t=i.length;s<t;++s){var a=i[s],l=new fl(null);l.ba(n,e.slice(r,a)),o.push(l),r=a}return o},t.Ge=function(){var t,e=[],i=this.A,n=0,o=this.c,r=this.a,s=0;for(t=o.length;s<t;++s){var a=o[s];Zt(e,n=gl(i,n,a,r,.5)),n=a}return e},t.xd=function(t){var e,i=[],n=[],o=this.A,r=this.c,s=this.a,a=0,l=0,h=0;for(e=r.length;h<e;++h){var c=r[h];l=Un(o,a,c,s,t,i,l),n.push(l),a=c}return i.length=l,(t=new tp(null)).ba("XY",i,n),t},t.S=function(){return"MultiLineString"},t.$a=function(t){t:{var e,i=this.A,n=this.c,o=this.a,r=0,s=0;for(e=n.length;s<e;++s){if(to(i,r,n[s],o,t)){t=!0;break t}r=n[s]}t=!1}return t},t.na=function(t,e){t?(Pn(this,e,t,2),this.A||(this.A=[]),t=zn(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,i){Tn(this,t,e),this.c=i,this.u()},s(ip,Mn),(t=ip.prototype).Ik=function(t){this.A?Zt(this.A,t.da()):this.A=t.da().slice(),this.u()},t.clone=function(){var t=new ip(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,i,n){if(n<E(this.G(),t,e))return n;var o,r=this.A,s=this.a,a=0;for(o=r.length;a<o;a+=s){var l=v(t,e,r[a],r[a+1]);if(l<n){for(n=l,l=0;l<s;++l)i[l]=r[a+l];i.length=s}}return n},t.W=function(){return Vn(this.A,0,this.A.length,this.a)},t.Ll=function(t){var e=this.A?this.A.length/this.a:0;return 0>t||e<=t?null:((e=new Zn(null)).ba(this.ja,this.A.slice(t*this.a,(t+1)*this.a)),e)},t.de=function(){var t,e=this.A,i=this.ja,n=this.a,o=[],r=0;for(t=e.length;r<t;r+=n){var s=new Zn(null);s.ba(i,e.slice(r,r+n)),o.push(s)}return o},t.S=function(){return"MultiPoint"},t.$a=function(t){var e,i=this.A,n=this.a,o=0;for(e=i.length;o<e;o+=n)if(L(t,i[o],i[o+1]))return!0;return!1},t.na=function(t,e){t?(Pn(this,e,t,1),this.A||(this.A=[]),this.A.length=Bn(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Tn(this,t,e),this.u()},s(np,Mn),(t=np.prototype).Jk=function(t){if(this.A){var e,i=this.A.length;Zt(this.A,t.da());var n=0;for(e=(t=t.pb().slice()).length;n<e;++n)t[n]+=i}else this.A=t.da().slice(),t=t.pb().slice(),this.c.push();this.c.push(t),this.u()},t.clone=function(){for(var t=new np(null),e=this.c.length,i=Array(e),n=0;n<e;++n)i[n]=this.c[n].slice();return t.ba(this.ja,this.A.slice(),i),t},t.Nb=function(t,e,i,n){if(n<E(this.G(),t,e))return n;if(this.C!=this.g){var o,r=this.c,s=0,a=0,l=0;for(o=r.length;l<o;++l){var h=r[l];a=On(this.A,s,h,this.a,a),s=h[h.length-1]}this.B=Math.sqrt(a),this.C=this.g}var c;r=rp(this),s=this.c,a=this.a,l=this.B,o=0,h=[NaN,NaN];var u=0;for(c=s.length;u<c;++u){var p=s[u];n=kn(r,o,p,a,l,!0,t,e,i,n,h),o=p[p.length-1]}return n},t.Zc=function(t,e){t:{var i=rp(this),n=this.c,o=0;if(0!==n.length){var r,s=0;for(r=n.length;s<r;++s){var a=n[s];if(Jn(i,o,a,this.a,t,e)){t=!0;break t}o=a[a.length-1]}}t=!1}return t},t.Xn=function(){var t,e=rp(this),i=this.c,n=0,o=0,r=0;for(t=i.length;r<t;++r){var s=i[r];o+=Nn(e,n,s,this.a),n=s[s.length-1]}return o},t.W=function(t){if(void 0!==t){var e=rp(this).slice();ro(e,this.c,this.a,t)}else e=this.A;return Hn(e,0,this.c,this.a)},t.td=function(){return this.c},t.ul=function(){var t=new ip(null);return t.ba("XYM",op(this).slice()),t},t.xd=function(t){var e=[],i=[],n=this.A,o=this.c,r=this.a;t=Math.sqrt(t);var s,a=0,l=0,h=0;for(s=o.length;h<s;++h){var c=o[h],u=[];l=Wn(n,a,c,r,t,e,l,u),i.push(u),a=c[c.length-1]}return e.length=l,(n=new np(null)).ba("XY",e,i),n},t.Ml=function(t){if(0>t||this.c.length<=t)return null;if(0===t)var e=0;else e=(e=this.c[t-1])[e.length-1];var i=(t=this.c[t].slice())[t.length-1];if(0!==e){var n,o=0;for(n=t.length;o<n;++o)t[o]-=e}return(o=new so(null)).ba(this.ja,this.A.slice(e,i),t),o},t.Vd=function(){var t,e,i=this.ja,n=this.A,o=this.c,r=[],s=0,a=0;for(t=o.length;a<t;++a){var l=o[a].slice(),h=l[l.length-1];if(0!==s){var c=0;for(e=l.length;c<e;++c)l[c]-=s}(c=new so(null)).ba(i,n.slice(s,h),l),r.push(c),s=h}return r},t.S=function(){return"MultiPolygon"},t.$a=function(t){t:{var e,i=rp(this),n=this.c,o=this.a,r=0,s=0;for(e=n.length;s<e;++s){var a=n[s];if(eo(i,r,a,o,t)){t=!0;break t}r=a[a.length-1]}t=!1}return t},t.na=function(t,e){if(t){Pn(this,e,t,3),this.A||(this.A=[]),e=this.A;var i=this.a,n=this.c,o=0;n=n||[];var r,s=0,a=0;for(r=t.length;a<r;++a)o=zn(e,o,t[a],i,n[s]),n[s++]=o,o=o[o.length-1];n.length=s,0===n.length?this.A.length=0:(t=n[n.length-1],this.A.length=0===t.length?0:t[t.length-1]),this.u()}else this.ba("XY",null,this.c)},t.ba=function(t,e,i){Tn(this,t,e),this.c=i,this.u()},s(ap,Qu);var up={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Zn([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Zn([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Zn([t.x,t.y,t.m],"XYM"):new Zn([t.x,t.y])},LineString:function(t){return new fl(t.paths[0],hp(t))},Polygon:function(t){return new so(t.rings,hp(t))},MultiPoint:function(t){return new ip(t.points,hp(t))},MultiLineString:function(t){return new tp(t.paths,hp(t))},MultiPolygon:function(t){return new np(t.rings,hp(t))}},pp={Point:function(t){var e,i=t.W();return"XYZ"===(t=t.ja)?e={x:i[0],y:i[1],z:i[2]}:"XYM"===t?e={x:i[0],y:i[1],m:i[2]}:"XYZM"===t?e={x:i[0],y:i[1],z:i[2],m:i[3]}:"XY"===t?e={x:i[0],y:i[1]}:d(!1,34),e},LineString:function(t){var e=cp(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.W()]}},Polygon:function(t){var e=cp(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.W(!1)}},MultiPoint:function(t){var e=cp(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.W()}},MultiLineString:function(t){var e=cp(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.W()}},MultiPolygon:function(t){var e=cp(t);t=t.W(!1);for(var i=[],n=0;n<t.length;n++)for(var o=t[n].length-1;0<=o;o--)i.push(t[n][o]);return{hasZ:e.hasZ,hasM:e.hasM,rings:i}}};function gp(t,e){return(0,pp[t.S()])(Ju(t,!0,e),e)}function dp(){this.g=new XMLSerializer,Zu.call(this)}function fp(t,e,i){return 0<(t=yp(t,e,i)).length?t[0]:null}function yp(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Zt(n,t.Kc(e,i));return n}function mp(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Du(mp.prototype.ge),featureMembers:Du(mp.prototype.ge)},dp.call(this)}(t=ap.prototype).dd=function(t,e){var i=lp(t.geometry,e),n=new ul;return this.b&&n.Lc(this.b),n.Va(i),e&&e.pg&&t.attributes[e.pg]&&n.qc(t.attributes[e.pg]),t.attributes&&n.H(t.attributes),n},t.Mg=function(t,e){if(e=e||{},t.features){var i,n=[],o=t.features;for(e.pg=t.objectIdFieldName,t=0,i=o.length;t<i;++t)n.push(this.dd(o[t],e));return n}return[this.dd(t,e)]},t.Qg=function(t,e){return lp(t,e)},t.Tg=function(t){return t.spatialReference&&t.spatialReference.wkid?Ft("EPSG:"+t.spatialReference.wkid):null},t.se=function(t,e){return gp(t,Ku(this,e))},t.ld=function(t,e){e=Ku(this,e);var i={},n=t.U();return n&&(i.geometry=gp(n,e),e&&e.featureProjection&&(i.geometry.spatialReference={wkid:Ft(e.featureProjection).wb.split(":").pop()})),delete(e=t.L())[t.a],i.attributes=st(e)?{}:e,i},t.qe=function(t,e){e=Ku(this,e);var i,n=[],o=0;for(i=t.length;o<i;++o)n.push(this.ld(t[o],e));return{features:n}},s(dp,Zu),(t=dp.prototype).S=function(){return"xml"},t.Yb=function(t,e){return Eu(t)?fp(this,t,e):Tu(t)?this.Lg(t,e):"string"==typeof t?fp(this,t=Pu(t),e):null},t.Lg=function(){return null},t.Qa=function(t,e){return Eu(t)?yp(this,t,e):Tu(t)?this.Kc(t,e):"string"==typeof t?yp(this,t=Pu(t),e):[]},t.ed=function(t,e){return Eu(t)?null:Tu(t)?this.vj(t,e):("string"==typeof t&&Pu(t),null)},t.vj=function(){return null},t.sb=function(t){return Eu(t)?this.Sg(t):Tu(t)?this.uf(t):"string"==typeof t?(t=Pu(t),this.Sg(t)):null},t.Sg=function(){return this.defaultDataProjection},t.uf=function(){return this.defaultDataProjection},t.Jd=function(){return this.g.serializeToString(this.mh())},t.mh=function(){return null},t.ac=function(t,e){return t=this.bc(t,e),this.g.serializeToString(t)},t.bc=function(){return null},t.md=function(t,e){return t=this.re(t,e),this.g.serializeToString(t)},t.re=function(){return null},s(mp,dp);var vp=/^[\s\xa0]*$/;function _p(t){return xp(t=Mu(t,!1))}function xp(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Cp(t){return t=Mu(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Ip(t){return Ap(t=Mu(t,!1))}function Ap(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function bp(t){return wp(t=Mu(t,!1))}function wp(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Sp(t){return Mu(t,!1).trim()}function Mp(t,e){Pp(t,e?"1":"0")}function Ep(t,e){t.appendChild(wu.createTextNode(e.toPrecision()))}function Tp(t,e){t.appendChild(wu.createTextNode(e.toString()))}function Pp(t,e){t.appendChild(wu.createTextNode(e))}function Lp(t){t=t||{},mp.call(this,t),this.s=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.f=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==t.hasZ&&t.hasZ}function Np(t,e,i){var n=i[i.length-1];i=n.hasZ,t.setAttribute("srsDimension",i?3:2),n=n.srsName;for(var o,r=(e=e.W()).length,s=Array(r),a=0;a<r;++a){o=e[a];var l=a,h=i,c="enu";n&&(c=Ft(n).b),c="en"===c.substr(0,2)?o[0]+" "+o[1]:o[1]+" "+o[0],h&&(c+=" "+(o[2]||0)),s[l]=c}Pp(t,s.join(" "))}(t=mp.prototype).ge=function(t,e){var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?Hu([],this.b,t,e,this):Hu(null,this.b,t,e,this);else if("featureMembers"==i||"featureMember"==i){var o,r=e[0],s=r.featureType,a=r.featureNS;if(!s&&t.childNodes){s=[],a={};var l=0;for(o=t.childNodes.length;l<o;++l){var h=t.childNodes[l];if(1===h.nodeType){var c=h.nodeName.split(":").pop();if(-1===s.indexOf(c)){var u="",p=0;for(var g in h=h.namespaceURI,a){if(a[g]===h){u=g;break}++p}u||(a[u="p"+p]=h),s.push(u+":"+c)}}}"featureMember"!=i&&(r.featureType=s,r.featureNS=a)}for(var d in"string"==typeof a&&(l=a,(a={}).p0=l),r={},s=Array.isArray(s)?s:[s],a){for(c={},l=0,o=s.length;l<o;++l)(-1===s[l].indexOf(":")?"p0":s[l].split(":")[0])===d&&(c[s[l].split(":").pop()]="featureMembers"==i?Nu(this.Kg,this):Du(this.Kg,this));r[a[d]]=c}n=Hu("featureMember"==i?void 0:[],r,t,e)}return null===n&&(n=[]),n},t.rf=function(t,e){var i=e[0];if(i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension"),t=Hu(null,this.qh,t,e,this))return Ju(t,!1,i)},t.Kg=function(t,e){var i;(i=t.getAttribute("fid"))||(i=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var n,o={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var s=Mu(t,!1);vp.test(s)&&(s=void 0),o[r]=s}else"boundedBy"!==r&&(n=r),o[r]=this.rf(t,e)}return e=new ul(o),n&&e.Lc(n),i&&e.qc(i),e},t.Aj=function(t,e){if(t=this.qf(t,e))return(e=new Zn(null)).ba("XYZ",t),e},t.yj=function(t,e){if(t=Hu([],this.kk,t,e,this))return new ip(t)},t.xj=function(t,e){if(t=Hu([],this.jk,t,e,this))return ep(e=new tp(null),t),e},t.zj=function(t,e){if(t=Hu([],this.lk,t,e,this))return sp(e=new np(null),t),e},t.qj=function(t,e){ju(this.pk,t,e,this)},t.fi=function(t,e){ju(this.hk,t,e,this)},t.rj=function(t,e){ju(this.qk,t,e,this)},t.sf=function(t,e){if(t=this.qf(t,e))return(e=new fl(null)).ba("XYZ",t),e},t.Xp=function(t,e){if(t=Hu(null,this.te,t,e,this))return t},t.wj=function(t,e){if(t=this.qf(t,e))return Xn(e=new Yn(null),"XYZ",t),e},t.tf=function(t,e){if((t=Hu([null],this.Gf,t,e,this))&&t[0]){e=new so(null);var i,n=t[0],o=[n.length],r=1;for(i=t.length;r<i;++r)Zt(n,t[r]),o.push(n.length);return e.ba("XYZ",n,o),e}},t.qf=function(t,e){return Hu(null,this.te,t,e,this)},t.kk={"http://www.opengis.net/gml":{pointMember:Nu(mp.prototype.qj),pointMembers:Nu(mp.prototype.qj)}},t.jk={"http://www.opengis.net/gml":{lineStringMember:Nu(mp.prototype.fi),lineStringMembers:Nu(mp.prototype.fi)}},t.lk={"http://www.opengis.net/gml":{polygonMember:Nu(mp.prototype.rj),polygonMembers:Nu(mp.prototype.rj)}},t.pk={"http://www.opengis.net/gml":{Point:Nu(mp.prototype.qf)}},t.hk={"http://www.opengis.net/gml":{LineString:Nu(mp.prototype.sf)}},t.qk={"http://www.opengis.net/gml":{Polygon:Nu(mp.prototype.tf)}},t.ue={"http://www.opengis.net/gml":{LinearRing:Du(mp.prototype.Xp)}},t.vj=function(t,e){return(t=this.rf(t,[qu(this,t,e||{})]))?t:null},t.Kc=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&nt(i,qu(this,t,e)),this.ge(t,[i])||[]},t.uf=function(t){return Ft(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},s(Lp,mp),(t=Lp.prototype).aq=function(t,e){if(t=Hu([],this.ik,t,e,this))return ep(e=new tp(null),t),e},t.bq=function(t,e){if(t=Hu([],this.mk,t,e,this))return sp(e=new np(null),t),e},t.Gh=function(t,e){ju(this.ek,t,e,this)},t.Xj=function(t,e){ju(this.sk,t,e,this)},t.fq=function(t,e){return Hu([null],this.nk,t,e,this)},t.iq=function(t,e){return Hu([null],this.rk,t,e,this)},t.gq=function(t,e){return Hu([null],this.Gf,t,e,this)},t.$p=function(t,e){return Hu([null],this.te,t,e,this)},t.Fm=function(t,e){(t=Hu(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Zk=function(t,e){(t=Hu(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.Bj=function(t,e){if((t=Hu([null],this.tk,t,e,this))&&t[0]){e=new so(null);var i,n=t[0],o=[n.length],r=1;for(i=t.length;r<i;++r)Zt(n,t[r]),o.push(n.length);return e.ba("XYZ",n,o),e}},t.tj=function(t,e){if(t=Hu([null],this.fk,t,e,this))return(e=new fl(null)).ba("XYZ",t),e},t.Wp=function(t,e){return R((t=Hu([null],this.gk,t,e,this))[1][0],t[1][1],t[2][0],t[2][1])},t.Yp=function(t,e){var i,n=Mu(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;for(t=[];i=o.exec(n);)t.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""===n){if(n="enu",(e=e[0].srsName)&&(n=Ft(e).b),"neu"===n)for(e=0,n=t.length;e<n;e+=3)o=t[e],t[e]=t[e+1],t[e+1]=o;if(2==(e=t.length)&&t.push(0),0!==e)return t}},t.Pg=function(t,e){var i=Mu(t,!1).replace(/^\s*|\s*$/g,""),n=(e=e[0]).srsName,o=e.srsDimension;e="enu",n&&(e=Ft(n).b),i=i.split(/\s+/),n=2,t.getAttribute("srsDimension")?n=wp(t.getAttribute("srsDimension")):t.getAttribute("dimension")?n=wp(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?n=wp(t.parentNode.getAttribute("srsDimension")):o&&(n=wp(o));for(var r,s=[],a=0,l=i.length;a<l;a+=n)t=parseFloat(i[a]),o=parseFloat(i[a+1]),r=3===n?parseFloat(i[a+2]):0,"en"===e.substr(0,2)?s.push(t,o,r):s.push(o,t,r);return s},t.te={"http://www.opengis.net/gml":{pos:Du(Lp.prototype.Yp),posList:Du(Lp.prototype.Pg)}},t.Gf={"http://www.opengis.net/gml":{interior:Lp.prototype.Fm,exterior:Lp.prototype.Zk}},t.qh={"http://www.opengis.net/gml":{Point:Du(mp.prototype.Aj),MultiPoint:Du(mp.prototype.yj),LineString:Du(mp.prototype.sf),MultiLineString:Du(mp.prototype.xj),LinearRing:Du(mp.prototype.wj),Polygon:Du(mp.prototype.tf),MultiPolygon:Du(mp.prototype.zj),Surface:Du(Lp.prototype.Bj),MultiSurface:Du(Lp.prototype.bq),Curve:Du(Lp.prototype.tj),MultiCurve:Du(Lp.prototype.aq),Envelope:Du(Lp.prototype.Wp)}},t.ik={"http://www.opengis.net/gml":{curveMember:Nu(Lp.prototype.Gh),curveMembers:Nu(Lp.prototype.Gh)}},t.mk={"http://www.opengis.net/gml":{surfaceMember:Nu(Lp.prototype.Xj),surfaceMembers:Nu(Lp.prototype.Xj)}},t.ek={"http://www.opengis.net/gml":{LineString:Nu(mp.prototype.sf),Curve:Nu(Lp.prototype.tj)}},t.sk={"http://www.opengis.net/gml":{Polygon:Nu(mp.prototype.tf),Surface:Nu(Lp.prototype.Bj)}},t.tk={"http://www.opengis.net/gml":{patches:Du(Lp.prototype.fq)}},t.fk={"http://www.opengis.net/gml":{segments:Du(Lp.prototype.iq)}},t.gk={"http://www.opengis.net/gml":{lowerCorner:Nu(Lp.prototype.Pg),upperCorner:Nu(Lp.prototype.Pg)}},t.nk={"http://www.opengis.net/gml":{PolygonPatch:Du(Lp.prototype.gq)}},t.rk={"http://www.opengis.net/gml":{LineStringSegment:Du(Lp.prototype.$p)}},t.Hi=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=Su(t.namespaceURI,"pos"),t.appendChild(n),t=(i=i[i.length-1]).hasZ,n.setAttribute("srsDimension",t?3:2);var o=i.srsName;i="enu",o&&(i=Ft(o).b),e=e.W(),i="en"===i.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(i+=" "+(e[2]||0)),Pp(n,i)};var Dp={"http://www.opengis.net/gml":{lowerCorner:Fu(Pp),upperCorner:Fu(Pp)}};(t=Lp.prototype).Pn=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),Wu({node:t},Dp,Bu,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},t.Ei=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=Su(t.namespaceURI,"posList"),t.appendChild(n),Np(n,e,i)},t.On=function(t,e){e=(t=e[e.length-1]).node;var i=t.exteriorWritten;return void 0===i&&(t.exteriorWritten=!0),Su(e.namespaceURI,void 0!==i?"interior":"exterior")},t.af=function(t,e,i){var n=i[i.length-1],o=n.hasZ;n=n.srsName,"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Wu({node:t,hasZ:o,srsName:n},kp,this.On,e,i,void 0,this)):"Surface"===t.nodeName&&(o=Su(t.namespaceURI,"patches"),t.appendChild(o),t=Su(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.af(t,e,i))},t.$e=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=Su(t.namespaceURI,"posList"),t.appendChild(n),Np(n,e,i)):"Curve"===t.nodeName&&(n=Su(t.namespaceURI,"segments"),t.appendChild(n),t=Su(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.$e(t,e,i))},t.Gi=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.surface,r&&t.setAttribute("srsName",r),e=e.Vd(),Wu({node:t,hasZ:o,srsName:r,surface:n},Rp,this.l,e,i,void 0,this)},t.Qn=function(t,e,i){var n=i[i.length-1],o=n.srsName;n=n.hasZ,o&&t.setAttribute("srsName",o),e=e.de(),Wu({node:t,hasZ:n,srsName:o},Op,Gu("pointMember"),e,i,void 0,this)},t.Fi=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.curve,r&&t.setAttribute("srsName",r),e=e.wd(),Wu({node:t,hasZ:o,srsName:r,curve:n},Fp,this.l,e,i,void 0,this)},t.Ii=function(t,e,i){var n=Su(t.namespaceURI,"LinearRing");t.appendChild(n),this.Ei(n,e,i)},t.Ji=function(t,e,i){var n=this.a(e,i);n&&(t.appendChild(n),this.af(n,e,i))},t.Rn=function(t,e,i){var n=Su(t.namespaceURI,"Point");t.appendChild(n),this.Hi(n,e,i)},t.Di=function(t,e,i){var n=this.a(e,i);n&&(t.appendChild(n),this.$e(n,e,i))},t.Yc=function(t,e,i){var n,o=i[i.length-1],r=nt({},o);r.node=t,n=Array.isArray(e)?o.dataProjection?Ht(e,o.featureProjection,o.dataProjection):e:Ju(e,!0,o),Wu(r,Gp,this.a,[n],i,void 0,this)},t.Ci=function(t,e,i){var n=e.c;n&&t.setAttribute("fid",n);var o=(n=i[i.length-1]).featureNS,r=e.a;n.tb||(n.tb={},n.tb[o]={});var s=e.L();e=[];var a=[];for(h in s){var l=s[h];null!==l&&(e.push(h),a.push(l),h==r||l instanceof Sn?h in n.tb[o]||(n.tb[o][h]=Fu(this.Yc,this)):h in n.tb[o]||(n.tb[o][h]=Fu(Pp)))}var h=nt({},n);h.node=t,Wu(h,n.tb,Gu(void 0,o),a,i,e)};var Rp={"http://www.opengis.net/gml":{surfaceMember:Fu(Lp.prototype.Ji),polygonMember:Fu(Lp.prototype.Ji)}},Op={"http://www.opengis.net/gml":{pointMember:Fu(Lp.prototype.Rn)}},Fp={"http://www.opengis.net/gml":{lineStringMember:Fu(Lp.prototype.Di),curveMember:Fu(Lp.prototype.Di)}},kp={"http://www.opengis.net/gml":{exterior:Fu(Lp.prototype.Ii),interior:Fu(Lp.prototype.Ii)}},Gp={"http://www.opengis.net/gml":{Curve:Fu(Lp.prototype.$e),MultiCurve:Fu(Lp.prototype.Fi),Point:Fu(Lp.prototype.Hi),MultiPoint:Fu(Lp.prototype.Qn),LineString:Fu(Lp.prototype.$e),MultiLineString:Fu(Lp.prototype.Fi),LinearRing:Fu(Lp.prototype.Ei),Polygon:Fu(Lp.prototype.af),MultiPolygon:Fu(Lp.prototype.Gi),Surface:Fu(Lp.prototype.af),MultiSurface:Fu(Lp.prototype.Gi),Envelope:Fu(Lp.prototype.Pn)}},Bp={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};function zp(t){t=t||{},mp.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=Nu(mp.prototype.ge),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Vp(t){return(t=Su(t,"coordinates")).setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function jp(t,e,i){var n=i[i.length-1];i=n.hasZ,n=n.srsName;for(var o,r=(e=e.W()).length,s=Array(r),a=0;a<r;++a)o=e[a],s[a]=Hp(o,n,i);Pp(t,s.join(" "))}function Hp(t,e,i){var n="enu";return e&&(n=Ft(e).b),e="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],i&&(e+=","+(t[2]||0)),e}Lp.prototype.l=function(t,e){return Su("http://www.opengis.net/gml",Bp[e[e.length-1].node.nodeName])},Lp.prototype.a=function(t,e){var i=e[e.length-1];e=i.multiSurface;var n=i.surface,o=i.curve;return i=i.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===n?t="Surface":"LineString"===t&&!0===o?t="Curve":"MultiLineString"===t&&!0===i&&(t="MultiCurve"),Su("http://www.opengis.net/gml",t)},Lp.prototype.re=function(t,e){e=Ku(this,e);var i=Su("http://www.opengis.net/gml","geom"),n={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f};return e&&nt(n,e),this.Yc(i,t,[n]),i},Lp.prototype.bc=function(t,e){e=Ku(this,e);var i=Su("http://www.opengis.net/gml","featureMembers");i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};e&&nt(n,e);var o=(e=[n])[e.length-1];n=o.featureType;var r=o.featureNS,s={};return s[r]={},s[r][n]=Fu(this.Ci,this),(o=nt({},o)).node=i,Wu(o,s,Gu(n,r),t,e),i},s(zp,mp),(t=zp.prototype).uj=function(t,e){t=Mu(t,!1).replace(/^\s*|\s*$/g,"");var i=e[0].srsName;e="enu",i&&(i=Ft(i))&&(e=i.b);for(var n,o,r=[],s=0,a=(t=t.trim().split(/\s+/)).length;s<a;s++)o=t[s].split(/,+/),i=parseFloat(o[0]),n=parseFloat(o[1]),o=3===o.length?parseFloat(o[2]):0,"en"===e.substr(0,2)?r.push(i,n,o):r.push(n,i,o);return r},t.Up=function(t,e){return R((t=Hu([null],this.dk,t,e,this))[1][0],t[1][1],t[1][3],t[1][4])},t.Dm=function(t,e){(t=Hu(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Ep=function(t,e){(t=Hu(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.te={"http://www.opengis.net/gml":{coordinates:Du(zp.prototype.uj)}},t.Gf={"http://www.opengis.net/gml":{innerBoundaryIs:zp.prototype.Dm,outerBoundaryIs:zp.prototype.Ep}},t.dk={"http://www.opengis.net/gml":{coordinates:Nu(zp.prototype.uj)}},t.qh={"http://www.opengis.net/gml":{Point:Du(mp.prototype.Aj),MultiPoint:Du(mp.prototype.yj),LineString:Du(mp.prototype.sf),MultiLineString:Du(mp.prototype.xj),LinearRing:Du(mp.prototype.wj),Polygon:Du(mp.prototype.tf),MultiPolygon:Du(mp.prototype.zj),Box:Du(zp.prototype.Up)}},t.wg=function(t,e){var i=e[e.length-1];e=i.multiSurface;var n=i.surface;return i=i.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===n?t="Surface":"MultiLineString"===t&&!0===i&&(t="MultiCurve"),Su("http://www.opengis.net/gml",t)},t.ui=function(t,e,i){var n,o=i[i.length-1],r=nt({},o);r.node=t,n=Array.isArray(e)?o.dataProjection?Ht(e,o.featureProjection,o.dataProjection):e:Ju(e,!0,o),Wu(r,Up,this.wg,[n],i,void 0,this)},t.Ye=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=Vp(t.namespaceURI),t.appendChild(n),jp(n,e,i)):"Curve"===t.nodeName&&(n=Su(t.namespaceURI,"segments"),t.appendChild(n),t=Su(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.Ye(t,e,i))},t.Ze=function(t,e,i){var n=i[i.length-1],o=n.hasZ;n=n.srsName,"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Wu({node:t,hasZ:o,srsName:n},Wp,this.Kn,e,i,void 0,this)):"Surface"===t.nodeName&&(o=Su(t.namespaceURI,"patches"),t.appendChild(o),t=Su(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.Ze(t,e,i))},t.Kn=function(t,e){e=(t=e[e.length-1]).node;var i=t.exteriorWritten;return void 0===i&&(t.exteriorWritten=!0),Su(e.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},t.Ai=function(t,e,i){var n=Su(t.namespaceURI,"LinearRing");t.appendChild(n),this.wi(n,e,i)},t.xi=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.curve,r&&t.setAttribute("srsName",r),e=e.wd(),Wu({node:t,hasZ:o,srsName:r,curve:n},Xp,this.a,e,i,void 0,this)},t.zi=function(t,e,i){var n=i[i.length-1];i=n.hasZ;var o=n.srsName;o&&t.setAttribute("srsName",o),n=Vp(t.namespaceURI),t.appendChild(n),Pp(n,t=Hp(t=e.W(),o,i))},t.Mn=function(t,e,i){var n=i[i.length-1],o=n.hasZ;(n=n.srsName)&&t.setAttribute("srsName",n),e=e.de(),Wu({node:t,hasZ:o,srsName:n},Yp,Gu("pointMember"),e,i,void 0,this)},t.Nn=function(t,e,i){var n=Su(t.namespaceURI,"Point");t.appendChild(n),this.zi(n,e,i)},t.vi=function(t,e,i){var n=this.wg(e,i);n&&(t.appendChild(n),this.Ye(n,e,i))},t.wi=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=Vp(t.namespaceURI),t.appendChild(n),jp(n,e,i)},t.yi=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.surface,r&&t.setAttribute("srsName",r),e=e.Vd(),Wu({node:t,hasZ:o,srsName:r,surface:n},qp,this.a,e,i,void 0,this)},t.Bi=function(t,e,i){var n=this.wg(e,i);n&&(t.appendChild(n),this.Ze(n,e,i))},t.Ln=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),Wu({node:t},Kp,Bu,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)};var Up={"http://www.opengis.net/gml":{Curve:Fu(zp.prototype.Ye),MultiCurve:Fu(zp.prototype.xi),Point:Fu(zp.prototype.zi),MultiPoint:Fu(zp.prototype.Mn),LineString:Fu(zp.prototype.Ye),MultiLineString:Fu(zp.prototype.xi),LinearRing:Fu(zp.prototype.wi),Polygon:Fu(zp.prototype.Ze),MultiPolygon:Fu(zp.prototype.yi),Surface:Fu(zp.prototype.Ze),MultiSurface:Fu(zp.prototype.yi),Envelope:Fu(zp.prototype.Ln)}},Wp={"http://www.opengis.net/gml":{outerBoundaryIs:Fu(zp.prototype.Ai),innerBoundaryIs:Fu(zp.prototype.Ai)}},Yp={"http://www.opengis.net/gml":{pointMember:Fu(zp.prototype.Nn)}},Xp={"http://www.opengis.net/gml":{lineStringMember:Fu(zp.prototype.vi),curveMember:Fu(zp.prototype.vi)}};zp.prototype.a=function(t,e){return Su("http://www.opengis.net/gml",Zp[e[e.length-1].node.nodeName])};var Zp={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},qp={"http://www.opengis.net/gml":{surfaceMember:Fu(zp.prototype.Bi),polygonMember:Fu(zp.prototype.Bi)}},Kp={"http://www.opengis.net/gml":{lowerCorner:Fu(Pp),upperCorner:Fu(Pp)}};function Jp(t){t=t||{},dp.call(this),this.defaultDataProjection=Ft("EPSG:4326"),this.b=t.readExtensions}s(Jp,dp);var Qp=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function $p(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function tg(t,e,i){var n="XY",o=2;if(t.hasZ&&t.hasM?(n="XYZM",o=4):t.hasZ?(n="XYZ",o=3):t.hasM&&(n="XYM",o=3),4!==o){var r,s=0;for(r=e.length/4;s<r;s++)e[s*o]=e[4*s],e[s*o+1]=e[4*s+1],t.hasZ&&(e[s*o+2]=e[4*s+2]),t.hasM&&(e[s*o+2]=e[4*s+3]);if(e.length=e.length/4*o,i)for(s=0,r=i.length;s<r;s++)i[s]=i[s]/4*o}return n}function eg(t,e){var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),ju(lg,t,e)}function ig(t,e){e[e.length-1].extensionsNode_=t}function ng(t,e){var i=e[0];if(t=Hu({flatCoordinates:[],layoutOptions:{}},hg,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.layoutOptions;delete t.layoutOptions,n=tg(n,e);var o=new fl(null);return o.ba(n,e),Ju(o,!1,i),(i=new ul(o)).H(t),i}}function og(t,e){var i=e[0];if(t=Hu({flatCoordinates:[],ends:[],layoutOptions:{}},ug,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.ends;delete t.ends;var o=t.layoutOptions;delete t.layoutOptions,o=tg(o,e,n);var r=new tp(null);return r.ba(o,e,n),Ju(r,!1,i),(i=new ul(r)).H(t),i}}function rg(t,e){var i=e[0];if(e=Hu({},dg,t,e)){var n={};return Ju(t=new Zn(t=$p([],n,t,e),n=tg(n,t)),!1,i),(i=new ul(t)).H(e),i}}var sg={rte:ng,trk:og,wpt:rg},ag=Vu(Qp,{rte:Nu(ng),trk:Nu(og),wpt:Nu(rg)}),lg=Vu(Qp,{text:Ou(Sp,"linkText"),type:Ou(Sp,"linkType")}),hg=Vu(Qp,{name:Ou(Sp),cmt:Ou(Sp),desc:Ou(Sp),src:Ou(Sp),link:eg,number:Ou(bp),extensions:ig,type:Ou(Sp),rtept:function(t,e){var i=Hu({},cg,t,e);i&&$p((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,i)}}),cg=Vu(Qp,{ele:Ou(Ip),time:Ou(Cp)}),ug=Vu(Qp,{name:Ou(Sp),cmt:Ou(Sp),desc:Ou(Sp),src:Ou(Sp),link:eg,number:Ou(bp),type:Ou(Sp),extensions:ig,trkseg:function(t,e){var i=e[e.length-1];ju(pg,t,e),i.ends.push(i.flatCoordinates.length)}}),pg=Vu(Qp,{trkpt:function(t,e){var i=Hu({},gg,t,e);i&&$p((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,i)}}),gg=Vu(Qp,{ele:Ou(Ip),time:Ou(Cp)}),dg=Vu(Qp,{ele:Ou(Ip),time:Ou(Cp),magvar:Ou(Ip),geoidheight:Ou(Ip),name:Ou(Sp),cmt:Ou(Sp),desc:Ou(Sp),src:Ou(Sp),link:eg,sym:Ou(Sp),type:Ou(Sp),fix:Ou(Sp),sat:Ou(bp),hdop:Ou(Ip),vdop:Ou(Ip),pdop:Ou(Ip),ageofdgpsdata:Ou(Ip),dgpsid:Ou(bp),extensions:ig});function fg(t,e){e||(e=[]);for(var i=0,n=e.length;i<n;++i){var o=e[i];if(t.b){var r=o.get("extensionsNode_")||null;t.b(o,r)}o.set("extensionsNode_",void 0)}}function yg(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,Wu({node:t},_g,Bu,[e.linkText,e.linkType],i,vg)}function mg(t,e,i){var n=i[i.length-1],o=n.node.namespaceURI,r=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}n=zu(r,e="rtept"==t.nodeName?Ig[o]:Mg[o]),Wu({node:t,properties:r},Eg,Bu,n,i,e)}Jp.prototype.Lg=function(t,e){if(!Yt(Qp,t.namespaceURI))return null;var i=sg[t.localName];return i&&(t=i(t,[qu(this,t,e)]))?(fg(this,[t]),t):null},Jp.prototype.Kc=function(t,e){return Yt(Qp,t.namespaceURI)&&"gpx"==t.localName&&(t=Hu([],ag,t,[qu(this,t,e)]))?(fg(this,t),t):[]};var vg=["text","type"],_g=Vu(Qp,{text:Fu(Pp),type:Fu(Pp)}),xg=Vu(Qp,"name cmt desc src link number type rtept".split(" ")),Cg=Vu(Qp,{name:Fu(Pp),cmt:Fu(Pp),desc:Fu(Pp),src:Fu(Pp),link:Fu(yg),number:Fu(Tp),type:Fu(Pp),rtept:ku(Fu(mg))}),Ig=Vu(Qp,["ele","time"]),Ag=Vu(Qp,"name cmt desc src link number type trkseg".split(" ")),bg=Vu(Qp,{name:Fu(Pp),cmt:Fu(Pp),desc:Fu(Pp),src:Fu(Pp),link:Fu(yg),number:Fu(Tp),type:Fu(Pp),trkseg:ku(Fu((function(t,e,i){Wu({node:t,geometryLayout:e.ja,properties:{}},Sg,wg,e.W(),i)})))}),wg=Gu("trkpt"),Sg=Vu(Qp,{trkpt:Fu(mg)}),Mg=Vu(Qp,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Eg=Vu(Qp,{ele:Fu(Ep),time:Fu((function(t,e){e=new Date(1e3*e),t.appendChild(wu.createTextNode(e.getUTCFullYear()+"-"+Xi(e.getUTCMonth()+1)+"-"+Xi(e.getUTCDate())+"T"+Xi(e.getUTCHours())+":"+Xi(e.getUTCMinutes())+":"+Xi(e.getUTCSeconds())+"Z"))})),magvar:Fu(Ep),geoidheight:Fu(Ep),name:Fu(Pp),cmt:Fu(Pp),desc:Fu(Pp),src:Fu(Pp),link:Fu(yg),sym:Fu(Pp),type:Fu(Pp),fix:Fu(Pp),sat:Fu(Tp),hdop:Fu(Ep),vdop:Fu(Ep),pdop:Fu(Ep),ageofdgpsdata:Fu(Ep),dgpsid:Fu(Tp)}),Tg={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Pg(t,e){if((t=t.U())&&(t=Tg[t.S()]))return Su(e[e.length-1].node.namespaceURI,t)}var Lg=Vu(Qp,{rte:Fu((function(t,e,i){var n=i[0],o=e.L();t={node:t,properties:o},(e=e.U())&&(e=Ju(e,!0,n),t.geometryLayout=e.ja,o.rtept=e.W()),o=zu(o,n=xg[i[i.length-1].node.namespaceURI]),Wu(t,Cg,Bu,o,i,n)})),trk:Fu((function(t,e,i){var n=i[0],o=e.L();t={node:t,properties:o},(e=e.U())&&(e=Ju(e,!0,n),o.trkseg=e.wd()),o=zu(o,n=Ag[i[i.length-1].node.namespaceURI]),Wu(t,bg,Bu,o,i,n)})),wpt:Fu((function(t,e,i){var n=i[0],o=i[i.length-1];o.properties=e.L(),(e=e.U())&&(e=Ju(e,!0,n),o.geometryLayout=e.ja,mg(t,e.W(),i))}))});function Ng(t){Sn.call(this),this.a=t||null,Og(this)}function Dg(t){var e,i=[],n=0;for(e=t.length;n<e;++n)i.push(t[n].clone());return i}function Rg(t){var e;if(t.a){var i=0;for(e=t.a.length;i<e;++i)_e(t.a[i],"change",t.u,t)}}function Og(t){var e;if(t.a){var i=0;for(e=t.a.length;i<e;++i)me(t.a[i],"change",t.u,t)}}function Fg(t){t=t||{},Zu.call(this),this.defaultDataProjection=Ft(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Ft(t.featureProjection)),this.b=t.geometryName,this.a=t.extractGeometryName}function kg(t,e){return t?Ju((0,Bg[t.type])(t),!1,e):null}function Gg(t,e){return(0,zg[t.S()])(Ju(t,!0,e),e)}Jp.prototype.bc=function(t,e){e=Ku(this,e);var i=Su("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Wu({node:i},Lg,Pg,t,[e]),i},s(Ng,Sn),(t=Ng.prototype).clone=function(){var t=new Ng(null);return t.Kj(this.a),t},t.Nb=function(t,e,i,n){if(n<E(this.G(),t,e))return n;var o,r=this.a,s=0;for(o=r.length;s<o;++s)n=r[s].Nb(t,e,i,n);return n},t.Zc=function(t,e){var i,n=this.a,o=0;for(i=n.length;o<i;++o)if(n[o].Zc(t,e))return!0;return!1},t.Ae=function(t){O(t);for(var e=this.a,i=0,n=e.length;i<n;++i)B(t,e[i].G());return t},t.vd=function(){return Dg(this.a)},t.Wd=function(t){if(this.l!=this.g&&(ot(this.i),this.f=0,this.l=this.g),0>t||0!==this.f&&t<this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i,n=[],o=this.a,r=!1,s=0;for(i=o.length;s<i;++s){var a=o[s],l=a.Wd(t);n.push(l),l!==a&&(r=!0)}return r?(Rg(t=new Ng(null)),t.a=n,Og(t),t.u(),this.i[e]=t):(this.f=t,this)},t.S=function(){return"GeometryCollection"},t.$a=function(t){var e,i=this.a,n=0;for(e=i.length;n<e;++n)if(i[n].$a(t))return!0;return!1},t.rotate=function(t,e){for(var i=this.a,n=0,o=i.length;n<o;++n)i[n].rotate(t,e);this.u()},t.scale=function(t,e,i){i||(i=Y(this.G()));for(var n=this.a,o=0,r=n.length;o<r;++o)n[o].scale(t,e,i);this.u()},t.Kj=function(t){t=Dg(t),Rg(this),this.a=t,Og(this),this.u()},t.Rc=function(t){var e,i=this.a,n=0;for(e=i.length;n<e;++n)i[n].Rc(t);this.u()},t.translate=function(t,e){var i,n=this.a,o=0;for(i=n.length;o<i;++o)n[o].translate(t,e);this.u()},t.ia=function(){Rg(this),Sn.prototype.ia.call(this)},s(Fg,Qu);var Bg={Point:function(t){return new Zn(t.coordinates)},LineString:function(t){return new fl(t.coordinates)},Polygon:function(t){return new so(t.coordinates)},MultiPoint:function(t){return new ip(t.coordinates)},MultiLineString:function(t){return new tp(t.coordinates)},MultiPolygon:function(t){return new np(t.coordinates)},GeometryCollection:function(t,e){return new Ng(t=t.geometries.map((function(t){return kg(t,e)})))}},zg={Point:function(t){return{type:"Point",coordinates:t.W()}},LineString:function(t){return{type:"LineString",coordinates:t.W()}},Polygon:function(t,e){if(e)var i=e.rightHanded;return{type:"Polygon",coordinates:t.W(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.W()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.W()}},MultiPolygon:function(t,e){if(e)var i=e.rightHanded;return{type:"MultiPolygon",coordinates:t.W(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map((function(t){var i=nt({},e);return delete i.featureProjection,Gg(t,i)}))}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};function Vg(){Zu.call(this)}function jg(t){return"string"==typeof t?t:""}function Hg(t){t=t||{},Zu.call(this),this.defaultDataProjection=Ft("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}(t=Fg.prototype).dd=function(t,e){e=kg((t="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e);var i=new ul;return this.b?i.Lc(this.b):this.a&&void 0!==t.geometry_name&&i.Lc(t.geometry_name),i.Va(e),void 0!==t.id&&i.qc(t.id),t.properties&&i.H(t.properties),i},t.Mg=function(t,e){if("FeatureCollection"===t.type){var i,n=[],o=0;for(i=(t=t.features).length;o<i;++o)n.push(this.dd(t[o],e))}else n=[this.dd(t,e)];return n},t.Qg=function(t,e){return kg(t,e)},t.Tg=function(t){var e;return(t=t.crs)?"name"==t.type?e=Ft(t.properties.name):d(!1,36):e=this.defaultDataProjection,e},t.ld=function(t,e){e=Ku(this,e);var i={type:"Feature"},n=t.c;return void 0!==n&&(i.id=n),(n=t.U())?i.geometry=Gg(n,e):i.geometry=null,delete(e=t.L())[t.a],st(e)?i.properties=null:i.properties=e,i},t.qe=function(t,e){e=Ku(this,e);var i,n=[],o=0;for(i=t.length;o<i;++o)n.push(this.ld(t[o],e));return{type:"FeatureCollection",features:n}},t.se=function(t,e){return Gg(t,Ku(this,e))},s(Vg,Zu),(t=Vg.prototype).S=function(){return"text"},t.Yb=function(t,e){return this.fe(jg(t),Ku(this,e))},t.Qa=function(t,e){return this.Ng(jg(t),Ku(this,e))},t.ed=function(t,e){return this.Gd(jg(t),Ku(this,e))},t.sb=function(){return this.defaultDataProjection},t.Jd=function(t,e){return this.pe(t,Ku(this,e))},t.ac=function(t,e){return this.nh(t,Ku(this,e))},t.md=function(t,e){return this.Kd(t,Ku(this,e))},s(Hg,Vg);var Ug,Wg,Yg,Xg,Zg,qg,Kg,Jg,Qg,$g,td,ed,id,nd,od,rd=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,sd=/^H.([A-Z]{3}).*?:(.*)/,ad=/^HFDTE(\d{2})(\d{2})(\d{2})/,ld=/\r\n|\r|\n/;function hd(t,e,i,n,o,r){Se.call(this),this.j=null,this.M=t||new Image,null!==n&&(this.M.crossOrigin=n),this.c=r?document.createElement("CANVAS"):null,this.f=r,this.i=null,this.g=o,this.a=i,this.l=e,this.s=!1,2==this.g&&cd(this)}function cd(t){var e=xo(1,1);try{e.drawImage(t.M,0,0),e.getImageData(0,0,1,1)}catch(e){t.s=!0}}function ud(t){t=t||{},this.l=void 0!==t.anchor?t.anchor:[.5,.5],this.o=null,this.g=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.qa=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;d(!(void 0!==n&&e),4),d(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||l(e).toString()),d(void 0!==n&&0<n.length,6);var o=void 0!==t.src?0:2;this.j=void 0!==t.color?ms(t.color):null;var r=this.qa,s=this.j,a=Ws.get(n,r,s);a||(a=new hd(e,n,i,r,o,s),Ws.set(n,r,s,a)),this.b=a,this.oa=void 0!==t.offset?t.offset:[0,0],this.c=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.N=null,this.D=void 0!==t.size?t.size:null,$a.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function pd(t){t=t||{},dp.call(this),Ug||(Yg=new nl({color:Wg=[255,255,255,1]}),qg=Zg="pixels",$g=new ud({anchor:Xg=[20,2],anchorOrigin:"bottom-left",anchorXUnits:Zg,anchorYUnits:qg,crossOrigin:"anonymous",rotation:0,scale:Qg=.5,size:Kg=[64,64],src:Jg="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),td="NO_IMAGE",ed=new ol({color:Wg,width:1}),id=new ol({color:[51,51,51,1],width:2}),nd=new ml({font:"bold 16px Helvetica",fill:Yg,stroke:id,scale:.8}),od=new rl({fill:Yg,image:$g,text:nd,stroke:ed,zIndex:0}),Ug=[od]),this.defaultDataProjection=Ft("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:Ug,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.f=void 0===t.showPointNames||t.showPointNames}(t=Hg.prototype).fe=function(t,e){var i=this.b,n=t.split(ld);t={};var o,r=[],s=2e3,a=0,l=1,h=-1,c=0;for(o=n.length;c<o;++c){var u,p=n[c];if("B"==p.charAt(0)){if(u=rd.exec(p)){p=parseInt(u[1],10);var g=parseInt(u[2],10),d=parseInt(u[3],10),f=parseInt(u[4],10)+parseInt(u[5],10)/6e4;"S"==u[6]&&(f=-f);var y=parseInt(u[7],10)+parseInt(u[8],10)/6e4;"W"==u[9]&&(y=-y),r.push(y,f),"none"!=i&&r.push("gps"==i?parseInt(u[11],10):"barometric"==i?parseInt(u[12],10):0),(u=Date.UTC(s,a,l,p,g,d))<h&&(u=Date.UTC(s,a,l+1,p,g,d)),r.push(u/1e3),h=u}}else"H"==p.charAt(0)&&((u=ad.exec(p))?(l=parseInt(u[1],10),a=parseInt(u[2],10)-1,s=2e3+parseInt(u[3],10)):(u=sd.exec(p))&&(t[u[1]]=u[2].trim()))}return 0===r.length?null:((n=new fl(null)).ba("none"==i?"XYM":"XYZM",r),(e=new ul(Ju(n,!1,e))).H(t),e)},t.Ng=function(t,e){return(t=this.fe(t,e))?[t]:[]},t.pe=function(){},t.nh=function(){},t.Kd=function(){},t.Gd=function(){},s(hd,Se),hd.prototype.v=function(){this.g=3,this.i.forEach(xe),this.i=null,this.b("change")},hd.prototype.o=function(){if(this.g=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(xe),this.i=null,cd(this),!this.s&&null!==this.f){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),i=e.data,n=this.f[0]/255,o=this.f[1]/255,r=this.f[2]/255,s=0,a=i.length;s<a;s+=4)i[s]*=n,i[s+1]*=o,i[s+2]*=r;t.putImageData(e,0,0)}this.b("change")},hd.prototype.Y=function(){return this.c?this.c:this.M},hd.prototype.load=function(){if(0==this.g){this.g=1,this.i=[ve(this.M,"error",this.v,this),ve(this.M,"load",this.o,this)];try{this.M.src=this.l}catch(t){this.v()}}},s(ud,$a),(t=ud.prototype).clone=function(){return new ud({anchor:this.l.slice(),anchorOrigin:this.g,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.b.l,offset:this.oa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.f,rotateWithView:this.s})},t.Vc=function(){if(this.o)return this.o;var t=this.l,e=this.oc();if("fraction"==this.C||"fraction"==this.B){if(!e)return null;t=this.l.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.g){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=-t[0]+e[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=-t[1]+e[1])}return this.o=t},t.np=function(){return this.j},t.Y=function(t){return this.b.Y(t)},t.He=function(){return this.b.a},t.gf=function(){return this.b.g},t.Eg=function(){var t=this.b;if(!t.j)if(t.s){var e=t.a[0],i=t.a[1],n=xo(e,i);n.fillRect(0,0,e,i),t.j=n.canvas}else t.j=t.M;return t.j},t.bd=function(){if(this.N)return this.N;var t=this.oa;if("top-left"!=this.c){var e=this.oc(),i=this.b.a;if(!e||!i)return null;t=t.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=i[1]-e[1]-t[1])}return this.N=t},t.op=function(){return this.b.l},t.oc=function(){return this.D?this.D:this.b.a},t.gi=function(t,e){me(this.b,"change",t,e)},t.load=function(){this.b.load()},t.Yj=function(t,e){_e(this.b,"change",t,e)},s(pd,dp);var gd=["http://www.google.com/kml/ext/2.2"],dd=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],fd={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};function yd(t,e){var i=[0,0],n="start";if(t.Y()){var o=t.Y().He();null===o&&(o=Kg),2==o.length&&(n=t.Y().a,i[0]=n*o[0]/2,i[1]=-n*o[1]/2,n="left")}return null!==t.Ka()?(o=t.Ka(),(t=o.clone()).Jj(o.a||nd.a),t.lj(o.b||nd.b),t.yf(o.Fa()||nd.Fa()),t.Af(o.Ga()||id)):t=nd.clone(),t.Hd(e),t.Nj(i[0]),t.Oj(i[1]),t.Qj(n),new rl({text:t})}function md(t,e,i,n,o){return function(){var r=o,s="";if(r&&this.U()&&(r="Point"===this.U().S()),r&&(s=this.get("name"),r=r&&s),t)return r?(r=yd(t[0],s),t.concat(r)):t;if(e){var a=function t(e,i,n){return Array.isArray(e)?e:"string"==typeof e?(!(e in n)&&"#"+e in n&&(e="#"+e),t(n[e],i,n)):i}(e,i,n);return r?(r=yd(a[0],s),a.concat(r)):a}return r?(r=yd(i[0],s),i.concat(r)):i}}function vd(t){if(t=Mu(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function _d(t){t=Mu(t,!1);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return i}function xd(t){var e=Mu(t,!1).trim();return(t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function Cd(t){return Ip(t)}function Id(t,e){return Hu(null,Bd,t,e)}function Ad(t,e){if(e=Hu({A:[],ak:[]},Vd,t,e)){var i;t=e.A,e=e.ak;var n=0;for(i=Math.min(t.length,e.length);n<i;++n)t[4*n+3]=e[n];return(e=new fl(null)).ba("XYZM",t),e}}function bd(t,e){var i=Hu({},Gd,t,e);if(t=Hu(null,jd,t,e))return(e=new fl(null)).ba("XYZ",t),e.H(i),e}function wd(t,e){var i=Hu({},Gd,t,e);if(t=Hu(null,jd,t,e))return(e=new so(null)).ba("XYZ",t,[t.length]),e.H(i),e}function Sd(t,e){if(!(t=Hu([],Zd,t,e)))return null;if(0===t.length)return new Ng(t);var i,n=!0,o=t[0].S(),r=1;for(i=t.length;r<i;++r)if((e=t[r]).S()!=o){n=!1;break}if(n)if("Point"==o){var s=t[0];for(n=s.ja,o=s.da(),r=1,i=t.length;r<i;++r)Zt(o,(e=t[r]).da());(s=new ip(null)).ba(n,o),Pd(s,t)}else"LineString"==o?(ep(s=new tp(null),t),Pd(s,t)):"Polygon"==o?(sp(s=new np(null),t),Pd(s,t)):"GeometryCollection"==o?s=new Ng(t):d(!1,37);else s=new Ng(t);return s}function Md(t,e){var i=Hu({},Gd,t,e);if(t=Hu(null,jd,t,e))return(e=new Zn(null)).ba("XYZ",t),e.H(i),e}function Ed(t,e){var i=Hu({},Gd,t,e);if((t=Hu([null],zd,t,e))&&t[0]){e=new so(null);var n,o=t[0],r=[o.length],s=1;for(n=t.length;s<n;++s)Zt(o,t[s]),r.push(o.length);return e.ba("XYZ",o,r),e.H(i),e}}function Td(t,e){if(!(e=Hu({},of,t,e)))return null;t="fillStyle"in e?e.fillStyle:Yg;var i=e.fill;void 0===i||i||(t=null),(i="imageStyle"in e?e.imageStyle:$g)==td&&(i=void 0);var n="textStyle"in e?e.textStyle:nd,o="strokeStyle"in e?e.strokeStyle:ed;return void 0===(e=e.outline)||e||(o=null),[new rl({fill:t,image:i,stroke:o,text:n,zIndex:void 0})]}function Pd(t,e){var i,n,o,r=e.length,s=Array(e.length),a=Array(e.length),l=Array(e.length),h=n=o=!1;for(i=0;i<r;++i){var c=e[i];s[i]=c.get("extrude"),a[i]=c.get("tessellate"),l[i]=c.get("altitudeMode"),h=h||void 0!==s[i],n=n||void 0!==a[i],o=o||l[i]}h&&t.set("extrude",s),n&&t.set("tessellate",a),o&&t.set("altitudeMode",l)}function Ld(t,e){ju(Rd,t,e)}function Nd(t,e){ju(Od,t,e)}var Dd=Vu(dd,{displayName:Ou(Sp),value:Ou(Sp)}),Rd=Vu(dd,{Data:function(t,e){var i=t.getAttribute("name");ju(Dd,t,e),t=e[e.length-1],null!==i?t[i]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){ju(nf,t,e)}}),Od=Vu(dd,{LatLonAltBox:function(t,e){(t=Hu({},Fd,t,e))&&((e=e[e.length-1]).extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=Hu({},kd,t,e))&&((e=e[e.length-1]).minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Fd=Vu(dd,{altitudeMode:Ou(Sp),minAltitude:Ou(Ip),maxAltitude:Ou(Ip),north:Ou(Ip),south:Ou(Ip),east:Ou(Ip),west:Ou(Ip)}),kd=Vu(dd,{minLodPixels:Ou(Ip),maxLodPixels:Ou(Ip),minFadeExtent:Ou(Ip),maxFadeExtent:Ou(Ip)}),Gd=Vu(dd,{extrude:Ou(_p),tessellate:Ou(_p),altitudeMode:Ou(Sp)}),Bd=Vu(dd,{coordinates:Du(_d)}),zd=Vu(dd,{innerBoundaryIs:function(t,e){(t=Hu(void 0,Wd,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=Hu(void 0,Qd,t,e))&&(e[e.length-1][0]=t)}}),Vd=Vu(dd,{when:function(t,e){e=e[e.length-1].ak,t=Mu(t,!1),t=Date.parse(t),e.push(isNaN(t)?0:t)}},Vu(gd,{coord:function(t,e){e=e[e.length-1].A,t=Mu(t,!1),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),jd=Vu(dd,{coordinates:Du(_d)}),Hd=Vu(dd,{href:Ou(xd)},Vu(gd,{x:Ou(Ip),y:Ou(Ip),w:Ou(Ip),h:Ou(Ip)})),Ud=Vu(dd,{Icon:Ou((function(t,e){return(t=Hu({},Hd,t,e))?t:null})),heading:Ou(Ip),hotSpot:Ou((function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits"),n="insetPixels"!==e?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),oh:fd[e],y:parseFloat(t.getAttribute("y")),ph:fd[i],origin:n}})),scale:Ou(Cd)}),Wd=Vu(dd,{LinearRing:Du(Id)}),Yd=Vu(dd,{color:Ou(vd),scale:Ou(Cd)}),Xd=Vu(dd,{color:Ou(vd),width:Ou(Ip)}),Zd=Vu(dd,{LineString:Nu(bd),LinearRing:Nu(wd),MultiGeometry:Nu(Sd),Point:Nu(Md),Polygon:Nu(Ed)}),qd=Vu(gd,{Track:Nu(Ad)}),Kd=Vu(dd,{ExtendedData:Ld,Region:Nd,Link:function(t,e){ju(Jd,t,e)},address:Ou(Sp),description:Ou(Sp),name:Ou(Sp),open:Ou(_p),phoneNumber:Ou(Sp),visibility:Ou(_p)}),Jd=Vu(dd,{href:Ou(xd)}),Qd=Vu(dd,{LinearRing:Du(Id)}),$d=Vu(dd,{Style:Ou(Td),key:Ou(Sp),styleUrl:Ou(xd)}),tf=Vu(dd,{ExtendedData:Ld,Region:Nd,MultiGeometry:Ou(Sd,"geometry"),LineString:Ou(bd,"geometry"),LinearRing:Ou(wd,"geometry"),Point:Ou(Md,"geometry"),Polygon:Ou(Ed,"geometry"),Style:Ou(Td),StyleMap:function(t,e){(t=Hu(void 0,rf,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:d(!1,38))},address:Ou(Sp),description:Ou(Sp),name:Ou(Sp),open:Ou(_p),phoneNumber:Ou(Sp),styleUrl:Ou(xd),visibility:Ou(_p)},Vu(gd,{MultiTrack:Ou((function(t,e){if(t=Hu([],qd,t,e))return ep(e=new tp(null),t),e}),"geometry"),Track:Ou(Ad,"geometry")})),ef=Vu(dd,{color:Ou(vd),fill:Ou(_p),outline:Ou(_p)}),nf=Vu(dd,{SimpleData:function(t,e){var i=t.getAttribute("name");null!==i&&(t=Sp(t),e[e.length-1][i]=t)}}),of=Vu(dd,{IconStyle:function(t,e){if(t=Hu({},Ud,t,e)){e=e[e.length-1];var i,n="Icon"in t?t.Icon:{},o=!("Icon"in t)||0<Object.keys(n).length,r=n.href;r?i=r:o&&(i=Jg),r="bottom-left";var s,a=t.hotSpot;if(a){var l=[a.x,a.y],h=a.oh,c=a.ph;r=a.origin}else i===Jg?(l=Xg,h=Zg,c=qg):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(l=[.5,0],c=h="fraction");a=n.x;var u,p,g=n.y;void 0!==a&&void 0!==g&&(s=[a,g]),a=n.w,n=n.h,void 0!==a&&void 0!==n&&(u=[a,n]),void 0!==(n=t.heading)&&(p=_(n)),t=t.scale,o?(i==Jg&&(u=Kg,void 0===t&&(t=Qg)),i=new ud({anchor:l,anchorOrigin:r,anchorXUnits:h,anchorYUnits:c,crossOrigin:"anonymous",offset:s,offsetOrigin:"bottom-left",rotation:p,scale:t,size:u,src:i}),e.imageStyle=i):e.imageStyle=td}},LabelStyle:function(t,e){(t=Hu({},Yd,t,e))&&(e[e.length-1].textStyle=new ml({fill:new nl({color:"color"in t?t.color:Wg}),scale:t.scale}))},LineStyle:function(t,e){(t=Hu({},Xd,t,e))&&(e[e.length-1].strokeStyle=new ol({color:"color"in t?t.color:Wg,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=Hu({},ef,t,e)){(e=e[e.length-1]).fillStyle=new nl({color:"color"in t?t.color:Wg});var i=t.fill;void 0!==i&&(e.fill=i),void 0!==(t=t.outline)&&(e.outline=t)}}}),rf=Vu(dd,{Pair:function(t,e){if(t=Hu({},$d,t,e)){var i=t.key;i&&"normal"==i&&((i=t.styleUrl)&&(e[e.length-1]=i),(t=t.Style)&&(e[e.length-1]=t))}}});function sf(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=af(t,e);if(i)return i}}function af(t,e){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling)if(Yt(dd,i.namespaceURI)&&"name"==i.localName)return Sp(i);for(i=e.firstElementChild;i;i=i.nextElementSibling)if(e=i.localName,Yt(dd,i.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)&&(e=af(t,i)))return e}function lf(t,e){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Zt(i,hf(t,e));return i}function hf(t,e){var i,n=[];for(i=e.firstElementChild;i;i=i.nextElementSibling)if(Yt(dd,i.namespaceURI)&&"NetworkLink"==i.localName){var o=Hu({},Kd,i,[]);n.push(o)}for(i=e.firstElementChild;i;i=i.nextElementSibling)e=i.localName,!Yt(dd,i.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Zt(n,hf(t,i));return n}function cf(t,e){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Zt(i,t.vf(e));return i}function uf(t,e){var i;for(e=[255*(4==(e=ms(e)).length?e[3]:1),e[2],e[1],e[0]],i=0;4>i;++i){var n=parseInt(e[i],10).toString(16);e[i]=1==n.length?"0"+n:n}Pp(t,e.join(""))}function pf(t,e,i){t={node:t};var n=e.S();if("GeometryCollection"==n)var o=e.vd(),r=Hf;else"MultiPoint"==n?(o=e.de(),r=Zf):"MultiLineString"==n?(o=e.wd(),r=qf):"MultiPolygon"==n?(o=e.Vd(),r=Jf):d(!1,39);Wu(t,Nf,r,o,i)}function gf(t,e,i){Wu({node:t},Lf,Kf,[e],i)}function df(t,e,i){var n={node:t};e.c&&t.setAttribute("id",e.c),t=e.L();var o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.a]=1;var r=Object.keys(t||{}).sort().filter((function(t){return!o[t]}));if(0<r.length){var s=zu(t,r);Wu(n,Rf,Yf,[{names:r,values:s}],i)}(r=e.ib())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Ka())&&(t.name=r.Ka())),t=zu(t,r=Df[i[i.length-1].node.namespaceURI]),Wu(n,Rf,Bu,t,i,r),t=i[0],(e=e.U())&&(e=Ju(e,!0,t)),Wu(n,Rf,Hf,[e],i)}function ff(t,e,i){var n=e.da();(t={node:t}).layout=e.ja,t.stride=e.pa(),(e=e.L()).coordinates=n,e=zu(e,n=Of[i[i.length-1].node.namespaceURI]),Wu(t,Ff,Bu,e,i,n)}function yf(t,e,i){var n=(e=e.Ud()).shift();Wu(t={node:t},kf,Xf,e,i),Wu(t,kf,Qf,[n],i)}function mf(t,e){Ep(t,Math.round(1e6*e)/1e6)}(t=pd.prototype).Jg=function(t,e){if(t=Hu([],Vu(dd,{Document:Lu(this.Jg,this),Folder:Lu(this.Jg,this),Placemark:Nu(this.Rg,this),Style:this.kq.bind(this),StyleMap:this.jq.bind(this)}),t,e,this))return t},t.Rg=function(t,e){var i=Hu({geometry:null},tf,t,e);if(i){var n=new ul;return null!==(t=t.getAttribute("id"))&&n.qc(t),e=e[0],(t=i.geometry)&&Ju(t,!1,e),n.Va(t),delete i.geometry,this.c&&n.sg(md(i.Style,i.styleUrl,this.a,this.b,this.f)),delete i.Style,n.H(i),n}},t.kq=function(t,e){var i=t.getAttribute("id");null!==i&&(e=Td(t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),i=t?new URL("#"+i,t).href:"#"+i,this.b[i]=e)},t.jq=function(t,e){var i=t.getAttribute("id");null!==i&&(e=Hu(void 0,rf,t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),i=t?new URL("#"+i,t).href:"#"+i,this.b[i]=e)},t.Lg=function(t,e){return Yt(dd,t.namespaceURI)&&(t=this.Rg(t,[qu(this,t,e)]))?t:null},t.Kc=function(t,e){if(!Yt(dd,t.namespaceURI))return[];var i=t.localName;if("Document"==i||"Folder"==i)return(i=this.Jg(t,[qu(this,t,e)]))?i:[];if("Placemark"==i)return(e=this.Rg(t,[qu(this,t,e)]))?[e]:[];if("kml"==i){for(i=[],t=t.firstElementChild;t;t=t.nextElementSibling){var n=this.Kc(t,e);n&&Zt(i,n)}return i}return[]},t.cq=function(t){return Eu(t)?sf(this,t):Tu(t)?af(this,t):"string"==typeof t?sf(this,t=Pu(t)):void 0},t.eq=function(t){var e=[];return Eu(t)?Zt(e,lf(this,t)):Tu(t)?Zt(e,hf(this,t)):"string"==typeof t&&Zt(e,lf(this,t=Pu(t))),e},t.hq=function(t){var e=[];return Eu(t)?Zt(e,cf(this,t)):Tu(t)?Zt(e,this.vf(t)):"string"==typeof t&&Zt(e,cf(this,t=Pu(t))),e},t.vf=function(t){var e,i=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(Yt(dd,e.namespaceURI)&&"Region"==e.localName){var n=Hu({},Od,e,[]);i.push(n)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!Yt(dd,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Zt(i,this.vf(e));return i};var vf=Vu(dd,["Document","Placemark"]),_f=Vu(dd,{Document:Fu((function(t,e,i){Wu({node:t},xf,jf,e,i,void 0,this)})),Placemark:Fu(df)}),xf=Vu(dd,{Placemark:Fu(df)}),Cf=Vu(dd,{Data:Fu((function(t,e,i){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&Wu(t,Cf,Bu,[e.displayName],i,["displayName"]),null!==e&&e.value&&Wu(t,Cf,Bu,[e.value],i,["value"])):Wu(t,Cf,Bu,[e],i,["value"])})),value:Fu((function(t,e){Pp(t,e)})),displayName:Fu((function(t,e){t.appendChild(wu.createCDATASection(e))}))}),If={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Af=Vu(dd,["href"],Vu(gd,["x","y","w","h"])),bf=Vu(dd,{href:Fu(Pp)},Vu(gd,{x:Fu(Ep),y:Fu(Ep),w:Fu(Ep),h:Fu(Ep)})),wf=Vu(dd,["scale","heading","Icon","hotSpot"]),Sf=Vu(dd,{Icon:Fu((function(t,e,i){t={node:t};var n=Af[i[i.length-1].node.namespaceURI],o=zu(e,n);Wu(t,bf,Bu,o,i,n),o=zu(e,n=Af[gd[0]]),Wu(t,bf,Vf,o,i,n)})),heading:Fu(Ep),hotSpot:Fu((function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.oh),t.setAttribute("yunits",e.ph)})),scale:Fu(mf)}),Mf=Vu(dd,["color","scale"]),Ef=Vu(dd,{color:Fu(uf),scale:Fu(mf)}),Tf=Vu(dd,["color","width"]),Pf=Vu(dd,{color:Fu(uf),width:Fu(Ep)}),Lf=Vu(dd,{LinearRing:Fu(ff)}),Nf=Vu(dd,{LineString:Fu(ff),Point:Fu(ff),Polygon:Fu(yf),GeometryCollection:Fu(pf)}),Df=Vu(dd,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Rf=Vu(dd,{ExtendedData:Fu((function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var o=n.length,r=0;r<o;r++)Wu(t,Cf,Wf,[{name:n[r],value:e[r]}],i)})),MultiGeometry:Fu(pf),LineString:Fu(ff),LinearRing:Fu(ff),Point:Fu(ff),Polygon:Fu(yf),Style:Fu((function(t,e,i){t={node:t};var n={},o=e.Fa(),r=e.Ga(),s=e.Y();e=e.Ka(),s instanceof ud&&(n.IconStyle=s),e&&(n.LabelStyle=e),r&&(n.LineStyle=r),o&&(n.PolyStyle=o),n=zu(n,e=Bf[i[i.length-1].node.namespaceURI]),Wu(t,zf,Bu,n,i,e)})),address:Fu(Pp),description:Fu(Pp),name:Fu(Pp),open:Fu(Mp),phoneNumber:Fu(Pp),styleUrl:Fu(Pp),visibility:Fu(Mp)}),Of=Vu(dd,["extrude","tessellate","altitudeMode","coordinates"]),Ff=Vu(dd,{extrude:Fu(Mp),tessellate:Fu(Mp),altitudeMode:Fu(Pp),coordinates:Fu((function(t,e,i){var n,o=(i=i[i.length-1]).layout;i=i.stride,"XY"==o||"XYM"==o?n=2:"XYZ"==o||"XYZM"==o?n=3:d(!1,34);var r,s=e.length,a="";if(0<s){for(a+=e[0],o=1;o<n;++o)a+=","+e[o];for(r=i;r<s;r+=i)for(a+=" "+e[r],o=1;o<n;++o)a+=","+e[r+o]}Pp(t,a)}))}),kf=Vu(dd,{outerBoundaryIs:Fu(gf),innerBoundaryIs:Fu(gf)}),Gf=Vu(dd,{color:Fu(uf)}),Bf=Vu(dd,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),zf=Vu(dd,{IconStyle:Fu((function(t,e,i){t={node:t};var n={},o=e.oc(),r=e.He(),s={href:e.b.l};if(o){s.w=o[0],s.h=o[1];var a=e.Vc(),l=e.bd();l&&r&&0!==l[0]&&l[1]!==o[1]&&(s.x=l[0],s.y=r[1]-(l[1]+o[1])),!a||a[0]===o[0]/2&&a[1]===o[1]/2||(n.hotSpot={x:a[0],oh:"pixels",y:o[1]-a[1],ph:"pixels"})}n.Icon=s,1!==(o=e.a)&&(n.scale=o),0!==(e=e.f)&&(n.heading=e),n=zu(n,e=wf[i[i.length-1].node.namespaceURI]),Wu(t,Sf,Bu,n,i,e)})),LabelStyle:Fu((function(t,e,i){t={node:t};var n={},o=e.Fa();o&&(n.color=o.b),(e=e.b)&&1!==e&&(n.scale=e),n=zu(n,e=Mf[i[i.length-1].node.namespaceURI]),Wu(t,Ef,Bu,n,i,e)})),LineStyle:Fu((function(t,e,i){t={node:t};var n=Tf[i[i.length-1].node.namespaceURI];e=zu({color:e.a,width:e.c},n),Wu(t,Pf,Bu,e,i,n)})),PolyStyle:Fu((function(t,e,i){Wu({node:t},Gf,Uf,[e.b],i)}))});function Vf(t,e,i){return Su(gd[0],"gx:"+i)}function jf(t,e){return Su(e[e.length-1].node.namespaceURI,"Placemark")}function Hf(t,e){if(t)return Su(e[e.length-1].node.namespaceURI,If[t.S()])}var Uf=Gu("color"),Wf=Gu("Data"),Yf=Gu("ExtendedData"),Xf=Gu("innerBoundaryIs"),Zf=Gu("Point"),qf=Gu("LineString"),Kf=Gu("LinearRing"),Jf=Gu("Polygon"),Qf=Gu("outerBoundaryIs");function $f(t,e,i,n,o){this.l=o,this.f=t,this.b=e,this.a=this.c=null,this.g=i,this.j=n,this.s=[1,0,0,1,0,0]}function ty(t){Zu.call(this),t=t||{},this.defaultDataProjection=new gt({code:"EPSG:3857",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:$f,this.g=t.geometryName,this.f=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null,this.a=null}function ey(t,e,i){if(3===t){t={keys:[],values:[],features:[]};var n=i.Ua()+i.ga;i.Og(iy,t,n),t.length=t.features.length,t.length&&(e[t.name]=t)}}function iy(t,e,i){if(15===t)e.version=i.Ua();else if(1===t)e.name=i.Vg();else if(5===t)e.extent=i.Ua();else if(2===t)e.features.push(i.ga);else if(3===t)e.keys.push(i.Vg());else if(4===t){t=null;for(var n=i.Ua()+i.ga;i.ga<n;)t=1==(t=i.Ua()>>3)?i.Vg():2===t?i.Zp():3===t?i.Vp():4===t?i.lq():5===t?i.Ua():6===t?i.Ug():7===t?i.Tp():null;e.values.push(t)}}function ny(t,e,i){if(1==t)e.id=i.Ua();else if(2==t)for(t=i.Ua()+i.ga;i.ga<t;){var n=e.layer.keys[i.Ua()],o=e.layer.values[i.Ua()];e.properties[n]=o}else 3==t?e.type=i.Ua():4==t&&(e.geometry=i.ga)}function oy(t,e,i){var n=i.type;if(0===n)return null;var o=i.id,r=i.properties;r[t.f]=i.layer.name;var s,a=[],l=[],h=l;e.ga=i.geometry,i=e.Ua()+e.ga;for(var c=1,u=0,p=0,g=0,f=0,y=0;e.ga<i;)u||(c=7&(u=e.Ua()),u>>=3),u--,1===c||2===c?(p+=e.Ug(),g+=e.Ug(),1===c&&f>y&&(h.push(f),y=f),a.push(p,g),f+=2):7===c?f>y&&(a.push(a[y],a[y+1]),f+=2):d(!1,59);if(f>y&&h.push(f),e=l.length,1===n?s=1===e?"Point":"MultiPoint":2===n?s=1===e?"LineString":"MultiLineString":3===n&&(s="Polygon"),n=s,t.b===$f)a=new t.b(n,a,l,r,o);else{if("Polygon"==n){for(n=[],h=e=s=0,i=l.length;h<i;++h)io(a,s,c=l[h],2)||(n.push(l.slice(e,h)),e=h),s=c;1<n.length?(l=n,n=new np(null)):n=new so(null)}else n="Point"===n?new Zn(null):"LineString"===n?new fl(null):"Polygon"===n?new so(null):"MultiPoint"===n?new ip(null):"MultiLineString"===n?new tp(null):null;n.ba("XY",a,l),a=new t.b,t.g&&a.Lc(t.g),t=Ju(n,!1,Ku(t,void 0)),a.Va(t),a.qc(o),a.H(r)}return a}function ry(){dp.call(this),this.defaultDataProjection=Ft("EPSG:4326")}function sy(t,e){e[e.length-1].le[t.getAttribute("k")]=t.getAttribute("v")}pd.prototype.bc=function(t,e){e=Ku(this,e);var i=Su(dd[4],"kml");i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",gd[0]),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var n={node:i},o={};return 1<t.length?o.Document=t:1==t.length&&(o.Placemark=t[0]),o=zu(o,t=vf[i.namespaceURI]),Wu(n,_f,Bu,o,[e],t,this),i},na.Ld=function(){},function(t){function e(t){this.tc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ga=0,this.length=this.tc.length}function i(t,e,i){var o=i.tc,r=o[i.ga++],s=(112&r)>>4;if(128>r)return n(t,s,e);if(s|=(127&(r=o[i.ga++]))<<3,128>r)return n(t,s,e);if(s|=(127&(r=o[i.ga++]))<<10,128>r)return n(t,s,e);if(s|=(127&(r=o[i.ga++]))<<17,128>r)return n(t,s,e);if(s|=(127&(r=o[i.ga++]))<<24,128>r)return n(t,s,e);if(128>(r=o[i.ga++]))return n(t,s|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function n(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var o=function(t,e,i,n,o){var r=8*o-n-1,s=(1<<r)-1,a=s>>1,l=-7,h=i?-1:1,c=t[e+(o=i?o-1:0)];for(o+=h,i=c&(1<<-l)-1,c>>=-l,l+=r;0<l;i=256*i+t[e+o],o+=h,l-=8);for(r=i&(1<<-l)-1,i>>=-l,l+=n;0<l;r=256*r+t[e+o],o+=h,l-=8);if(0===i)i=1-a;else{if(i===s)return r?NaN:1/0*(c?-1:1);r+=Math.pow(2,n),i-=a}return(c?-1:1)*r*Math.pow(2,i-n)};e.c=0,e.g=1,e.b=2,e.a=5,e.prototype={Og:function(t,e,i){for(i=i||this.length;this.ga<i;){var n=this.Ua(),o=n>>3,r=this.ga;this.type=7&n,t(o,e,this),this.ga===r&&this.Lq(n)}return e},Zp:function(){var t=o(this.tc,this.ga,!0,23,4);return this.ga+=4,t},Vp:function(){var t=o(this.tc,this.ga,!0,52,8);return this.ga+=8,t},Ua:function(t){var e=this.tc,n=e[this.ga++],o=127&n;return 128>n?o:(o|=(127&(n=e[this.ga++]))<<7,128>n?o:(o|=(127&(n=e[this.ga++]))<<14,128>n?o:(o|=(127&(n=e[this.ga++]))<<21,128>n?o:i(o|(15&(n=e[this.ga]))<<28,t,this))))},lq:function(){return this.Ua(!0)},Ug:function(){var t=this.Ua();return 1==t%2?(t+1)/-2:t/2},Tp:function(){return!!this.Ua()},Vg:function(){for(var t=this.Ua()+this.ga,e=this.tc,i="",n=this.ga;n<t;){var o=e[n],r=null,s=239<o?4:223<o?3:191<o?2:1;if(n+s>t)break;if(1===s)128>o&&(r=o);else if(2===s){var a=e[n+1];128==(192&a)&&127>=(r=(31&o)<<6|63&a)&&(r=null)}else if(3===s){a=e[n+1];var l=e[n+2];128==(192&a)&&128==(192&l)&&(2047>=(r=(15&o)<<12|(63&a)<<6|63&l)||55296<=r&&57343>=r)&&(r=null)}else if(4===s){a=e[n+1],l=e[n+2];var h=e[n+3];128==(192&a)&&128==(192&l)&&128==(192&h)&&(65535>=(r=(15&o)<<18|(63&a)<<12|(63&l)<<6|63&h)||1114112<=r)&&(r=null)}null===r?(r=65533,s=1):65535<r&&(r-=65536,i+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),i+=String.fromCharCode(r),n+=s}return this.ga=t,i},Lq:function(t){if((t&=7)===e.c)for(;127<this.tc[this.ga++];);else if(t===e.b)this.ga=this.Ua()+this.ga;else if(t===e.a)this.ga+=4;else{if(t!==e.g)throw Error("Unimplemented type: "+t);this.ga+=8}}},t.default=e}(na.Ld=na.Ld||{}),na.Ld=na.Ld.default,(t=$f.prototype).get=function(t){return this.j[t]},t.pb=$f.prototype.td=function(){return this.g},t.G=function(){return this.i||(this.i="Point"===this.f?F(this.b):k(this.b,0,this.b.length,2)),this.i},t.Td=function(){if(!this.c){var t=Y(this.G());this.c=Qn(this.b,0,this.g,2,t,0)}return this.c},t.Fe=function(){return this.a||(this.a=gl(this.b,0,this.b.length,2,.5)),this.a},t.Ge=function(){if(!this.a){this.a=[];for(var t=this.b,e=0,i=this.g,n=0,o=i.length;n<o;++n){var r=i[n];e=gl(t,e,r,2,.5),Zt(this.a,e),e=r}}return this.a},t.Ao=function(){return this.l},t.Xb=function(){return this.b},t.da=$f.prototype.Xb,t.U=function(){return this},t.Bo=function(){return this.j},t.Wd=$f.prototype.U,t.pa=function(){return 2},t.ib=a,t.S=function(){return this.f},t.mb=function(t){var e=t.G();e=Z(t=t.oe)/Z(e);var i=this.s;bn(i,t[0],t[3],e,-e,0,0,0),gn(this.b,0,this.b.length,2,i,this.b)},s(ty,Zu),(t=ty.prototype).cg=function(){return this.a},t.S=function(){return"arraybuffer"},t.Qa=function(t){var e,i=this.c,n=(t=new na.Ld(t)).Og(ey,{}),o=[];for(e in n)if(!i||-1!=i.indexOf(e)){for(var r,s=n[e],a=0,l=s.length;a<l;++a){var h=s;(r=t).ga=h.features[a];var c=r.Ua()+r.ga;h={layer:h,type:0,properties:{}},r.Og(ny,h,c),r=h,o.push(oy(this,t,r))}this.a=s?[0,0,s.extent,s.extent]:null}return o},t.sb=function(){return this.defaultDataProjection},t.Sn=function(t){this.c=t},t.Yb=function(){},t.ed=function(){},t.Jd=function(){},t.md=function(){},t.ac=function(){},s(ry,dp);var ay=[null],ly=Vu(ay,{nd:function(t,e){e[e.length-1].zd.push(t.getAttribute("ref"))},tag:sy}),hy=Vu(ay,{node:function(t,e){var i=e[0],n=e[e.length-1],o=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.ki[o]=r,st((t=Hu({le:{}},cy,t,e)).le)||(Ju(r=new Zn(r),!1,i),(i=new ul(r)).qc(o),i.H(t.le),n.features.push(i))},way:function(t,e){var i=t.getAttribute("id");t=Hu({id:i,zd:[],le:{}},ly,t,e),e[e.length-1].lh.push(t)}}),cy=Vu(ay,{tag:sy});function uy(t,e,i,n){var o;o=void 0!==n?n:[];for(var r=n=0;r<e;){var s=t[r++];for(o[n++]=t[r++],o[n++]=s,s=2;s<i;++s)o[n++]=t[r++]}o.length=n}function py(t){t=t||{},Zu.call(this),this.defaultDataProjection=Ft("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function gy(t,e,i){var n,o,r=Array(e);for(n=0;n<e;++n)r[n]=0;var s=0;for(o=t.length;s<o;)for(n=0;n<e;++n,++s){var a=t[s],l=a-r[n];r[n]=a,t[s]=l}return fy(t,i||1e5)}function dy(t,e,i){var n,o,r=Array(e);for(n=0;n<e;++n)r[n]=0;for(t=yy(t,i||1e5),i=0,o=t.length;i<o;)for(n=0;n<e;++n,++i)r[n]+=t[i],t[i]=r[n];return t}function fy(t,e){var i;e=e||1e5;var n=0;for(i=t.length;n<i;++n)t[n]=Math.round(t[n]*e);for(e=0,n=t.length;e<n;++e)i=t[e],t[e]=0>i?~(i<<1):i<<1;for(e="",n=0,i=t.length;n<i;++n){for(var o,r=t[n],s="";32<=r;)o=63+(32|31&r),s+=String.fromCharCode(o),r>>=5;e+=s+=String.fromCharCode(r+63)}return e}function yy(t,e){e=e||1e5;var i,n=[],o=0,r=0,s=0;for(i=t.length;s<i;++s){var a=t.charCodeAt(s)-63;o|=(31&a)<<r,32>a?(n.push(o),r=o=0):r+=5}for(t=0,o=n.length;t<o;++t)r=n[t],n[t]=1&r?~(r>>1):r>>1;for(t=0,o=n.length;t<o;++t)n[t]/=e;return n}function my(t){t=t||{},Zu.call(this),this.a=t.layerName,this.b=t.layers?t.layers:null,this.defaultDataProjection=Ft(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function vy(t,e){var i,n,o=[],r=0;for(n=t.length;r<n;++r){var s=t[r];0<r&&o.pop(),i=0<=s?e[s]:e[~s].slice().reverse(),o.push.apply(o,i)}for(t=0,e=o.length;t<e;++t)o[t]=o[t].slice();return o}function _y(t,e,i,n,o,r,s){var a,l=[],h=0;for(a=(t=t.geometries).length;h<a;++h)l[h]=xy(t[h],e,i,n,o,r,s);return l}function xy(t,e,i,n,o,r,s){var a=t.type,l=Iy[a];return i="Point"===a||"MultiPoint"===a?l(t,i,n):l(t,e),(e=new ul).Va(Ju(i,!1,s)),void 0!==t.id&&e.qc(t.id),t=t.properties,o&&(t||(t={}),t[o]=r),t&&e.H(t),e}function Cy(t,e,i){t[0]=t[0]*e[0]+i[0],t[1]=t[1]*e[1]+i[1]}ry.prototype.Kc=function(t,e){if(e=qu(this,t,e),"osm"==t.localName){t=Hu({ki:{},lh:[],features:[]},hy,t,[e]);for(var i=0;i<t.lh.length;i++){for(var n=t.lh[i],o=[],r=0,s=n.zd.length;r<s;r++)Zt(o,t.ki[n.zd[r]]);n.zd[0]==n.zd[n.zd.length-1]?(r=new so(null)).ba("XY",o,[o.length]):(r=new fl(null)).ba("XY",o),Ju(r,!1,e),(o=new ul(r)).qc(n.id),o.H(n.le),t.features.push(o)}if(t.features)return t.features}return[]},ry.prototype.mh=function(){},ry.prototype.bc=function(){},ry.prototype.re=function(){},s(py,Vg),(t=py.prototype).fe=function(t,e){return new ul(t=this.Gd(t,e))},t.Ng=function(t,e){return[this.fe(t,e)]},t.Gd=function(t,e){var i=En(this.a);return uy(t=dy(t,i,this.b),t.length,i,t),Ju(new fl(i=Vn(t,0,t.length,i),this.a),!1,Ku(this,e))},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):(d(!1,40),"")},t.nh=function(t,e){return this.pe(t[0],e)},t.Kd=function(t,e){return e=(t=Ju(t,!0,Ku(this,e))).da(),t=t.pa(),uy(e,e.length,t,e),gy(e,t,this.b)},s(my,Qu),my.prototype.Mg=function(t,e){if("Topology"==t.type){var i=null,n=null;if(t.transform){var o=t.transform;i=o.scale,n=o.translate}var r=t.arcs;if(o){o=i;var s,a=n,l=0;for(s=r.length;l<s;++l){var h,c=r[l],u=o,p=a,g=0,d=0,f=0;for(h=c.length;f<h;++f){var y=c[f];g+=y[0],d+=y[1],y[0]=g,y[1]=d,Cy(y,u,p)}}}for(var m in o=[],t=t.objects,a=this.a,t)this.b&&-1==this.b.indexOf(m)||("GeometryCollection"===t[m].type?(l=t[m],o.push.apply(o,_y(l,r,i,n,a,m,e))):(l=t[m],o.push(xy(l,r,i,n,a,m,e))));return o}return[]},my.prototype.Tg=function(){return this.defaultDataProjection};var Iy={Point:function(t,e,i){return t=t.coordinates,e&&i&&Cy(t,e,i),new Zn(t)},LineString:function(t,e){return new fl(t=vy(t.arcs,e))},Polygon:function(t,e){var i,n=[],o=0;for(i=t.arcs.length;o<i;++o)n[o]=vy(t.arcs[o],e);return new so(n)},MultiPoint:function(t,e,i){var n;if(t=t.coordinates,e&&i){var o=0;for(n=t.length;o<n;++o)Cy(t[o],e,i)}return new ip(t)},MultiLineString:function(t,e){var i,n=[],o=0;for(i=t.arcs.length;o<i;++o)n[o]=vy(t.arcs[o],e);return new tp(n)},MultiPolygon:function(t,e){var i,n,o=[],r=0;for(n=t.arcs.length;r<n;++r){var s=t.arcs[r],a=[],l=0;for(i=s.length;l<i;++l)a[l]=vy(s[l],e);o[r]=a}return new np(o)}};function Ay(t){this.rc=t}function by(t,e){this.rc=t,this.b=Array.prototype.slice.call(arguments,1),d(2<=this.b.length,57)}function wy(t){var e=["And"].concat(Array.prototype.slice.call(arguments));by.apply(this,e)}function Sy(t,e,i){this.rc="BBOX",this.geometryName=t,this.extent=e,this.srsName=i}function My(t,e,i,n){this.rc=t,this.geometryName=e||"the_geom",this.geometry=i,this.srsName=n}function Ey(t,e,i){My.call(this,"Contains",t,e,i)}function Ty(t,e){this.rc=t,this.b=e}function Py(t,e,i){Ty.call(this,"During",t),this.a=e,this.g=i}function Ly(t,e,i,n){Ty.call(this,t,e),this.g=i,this.a=n}function Ny(t,e,i){Ly.call(this,"PropertyIsEqualTo",t,e,i)}function Dy(t,e){Ly.call(this,"PropertyIsGreaterThan",t,e)}function Ry(t,e){Ly.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Oy(t,e,i){My.call(this,"Intersects",t,e,i)}function Fy(t,e,i){Ty.call(this,"PropertyIsBetween",t),this.a=e,this.g=i}function ky(t,e,i,n,o,r){Ty.call(this,"PropertyIsLike",t),this.c=e,this.f=void 0!==i?i:"*",this.i=void 0!==n?n:".",this.g=void 0!==o?o:"!",this.a=r}function Gy(t){Ty.call(this,"PropertyIsNull",t)}function By(t,e){Ly.call(this,"PropertyIsLessThan",t,e)}function zy(t,e){Ly.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function Vy(t){this.rc="Not",this.condition=t}function jy(t,e,i){Ly.call(this,"PropertyIsNotEqualTo",t,e,i)}function Hy(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));by.apply(this,e)}function Uy(t,e,i){My.call(this,"Within",t,e,i)}function Wy(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(wy,e))}function Yy(t,e,i){return new Sy(t,e,i)}function Xy(t){t=t||{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Lp,this.l=t.schemaLocation?t.schemaLocation:Zy["1.1.0"],dp.call(this)}(t=my.prototype).ld=function(){},t.qe=function(){},t.se=function(){},t.Qg=function(){},t.dd=function(){},s(by,Ay),s(wy,by),s(Sy,Ay),s(My,Ay),s(Ey,My),s(Ty,Ay),s(Py,Ty),s(Ly,Ty),s(Ny,Ly),s(Dy,Ly),s(Ry,Ly),s(Oy,My),s(Fy,Ty),s(ky,Ty),s(Gy,Ty),s(By,Ly),s(zy,Ly),s(Vy,Ay),s(jy,Ly),s(Hy,by),s(Uy,My),s(Xy,dp);var Zy={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};function qy(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return Jy(t,e)}Xy.prototype.Kc=function(t,e){var i={featureType:this.c,featureNS:this.a};return nt(i,qu(this,t,e||{})),e=[i],this.b.b["http://www.opengis.net/gml"].featureMember=Nu(mp.prototype.ge),(t=Hu([],this.b.b,t,e,this.b))||(t=[]),t},Xy.prototype.j=function(t){return Eu(t)?im(t):Tu(t)?Hu({},em,t,[]):"string"==typeof t?im(t=Pu(t)):void 0},Xy.prototype.f=function(t){return Eu(t)?qy(this,t):Tu(t)?Jy(this,t):"string"==typeof t?qy(this,t=Pu(t)):void 0};var Ky={"http://www.opengis.net/gml":{boundedBy:Ou(mp.prototype.rf,"bounds")}};function Jy(t,e){var i={},n=wp(e.getAttribute("numberOfFeatures"));return i.numberOfFeatures=n,Hu(i,Ky,e,[],t.b)}var Qy={"http://www.opengis.net/wfs":{totalInserted:Ou(bp),totalUpdated:Ou(bp),totalDeleted:Ou(bp)}},$y={"http://www.opengis.net/ogc":{FeatureId:Nu((function(t){return t.getAttribute("fid")}))}},tm={"http://www.opengis.net/wfs":{Feature:function(t,e){ju($y,t,e)}}},em={"http://www.opengis.net/wfs":{TransactionSummary:Ou((function(t,e){return Hu({},Qy,t,e)}),"transactionSummary"),InsertResults:Ou((function(t,e){return Hu([],tm,t,e)}),"insertIds")}};function im(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Hu({},em,t,[])}var nm={"http://www.opengis.net/wfs":{PropertyName:Fu(Pp)}};function om(t,e){var i=Su("http://www.opengis.net/ogc","Filter"),n=Su("http://www.opengis.net/ogc","FeatureId");i.appendChild(n),n.setAttribute("fid",e),t.appendChild(i)}function rm(t,e){return t=(t||"feature")+":",0===e.indexOf(t)?e:t+e}var sm={"http://www.opengis.net/wfs":{Insert:Fu((function(t,e,i){var n=i[i.length-1],o=n.gmlVersion;if(n=Su(n.featureNS,n.featureType),t.appendChild(n),2===o){t=zp.prototype,(o=e.c)&&n.setAttribute("fid",o);var r=(o=i[i.length-1]).featureNS,s=e.a;o.tb||(o.tb={},o.tb[r]={});var a=e.L();e=[];var l=[];for(c in a){var h=a[c];null!==h&&(e.push(c),l.push(h),c==s||h instanceof Sn?c in o.tb[r]||(o.tb[r][c]=Fu(t.ui,t)):c in o.tb[r]||(o.tb[r][c]=Fu(Pp)))}var c=nt({},o);c.node=n,Wu(c,o.tb,Gu(void 0,r),l,i,e)}else Lp.prototype.Ci(n,e,i)})),Update:Fu((function(t,e,i){var n=i[i.length-1];d(void 0!==e.c,27);var o=n.featurePrefix,r=n.featureNS,s=e.a;if(t.setAttribute("typeName",rm(o,n.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,r),void 0!==(o=e.c)){for(var a=[],l=0,h=(r=e.P()).length;l<h;l++){var c=e.get(r[l]);if(void 0!==c){var u=r[l];c instanceof Sn&&(u=s),a.push({name:u,value:c})}}Wu({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},sm,Gu("Property"),a,i),om(t,o)}})),Delete:Fu((function(t,e,i){i=i[i.length-1],d(void 0!==e.c,26);var n=i.featurePrefix,o=i.featureNS;t.setAttribute("typeName",rm(n,i.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+n,o),void 0!==(e=e.c)&&om(t,e)})),Property:Fu((function(t,e,i){var n=Su("http://www.opengis.net/wfs","Name"),o=i[i.length-1].gmlVersion;t.appendChild(n),Pp(n,e.name),void 0!==e.value&&null!==e.value&&(n=Su("http://www.opengis.net/wfs","Value"),t.appendChild(n),e.value instanceof Sn?2===o?zp.prototype.ui(n,e.value,i):Lp.prototype.Yc(n,e.value,i):Pp(n,e.value))})),Native:Fu((function(t,e){e.Uq&&t.setAttribute("vendorId",e.Uq),void 0!==e.qq&&t.setAttribute("safeToIgnore",e.qq),void 0!==e.value&&Pp(t,e.value)}))}};function am(t,e,i){t={node:t};for(var n=0,o=(e=e.b).length;n<o;++n){var r=e[n];Wu(t,gm,Gu(r.rc),[r],i)}}function lm(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),cm(t,e.b),um(t,""+e.g)}function hm(t,e,i){Pp(t=Su("http://www.opengis.net/ogc",t),i),e.appendChild(t)}function cm(t,e){hm("PropertyName",t,e)}function um(t,e){hm("Literal",t,e)}function pm(t,e){var i=Su("http://www.opengis.net/gml","TimeInstant");t.appendChild(i),t=Su("http://www.opengis.net/gml","timePosition"),i.appendChild(t),Pp(t,e)}var gm={"http://www.opengis.net/wfs":{Query:Fu((function(t,e,i){var n=i[i.length-1],o=n.featurePrefix,r=n.featureNS,s=n.propertyNames,a=n.srsName;t.setAttribute("typeName",o?rm(o,e):e),a&&t.setAttribute("srsName",a),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,r),(e=nt({},n)).node=t,Wu(e,nm,Gu("PropertyName"),s,i),(n=n.filter)&&(s=Su("http://www.opengis.net/ogc","Filter"),t.appendChild(s),Wu({node:s},gm,Gu(n.rc),[n],i))}))},"http://www.opengis.net/ogc":{During:Fu((function(t,e){var i=Su("http://www.opengis.net/fes","ValueReference");Pp(i,e.b),t.appendChild(i),i=Su("http://www.opengis.net/gml","TimePeriod"),t.appendChild(i),t=Su("http://www.opengis.net/gml","begin"),i.appendChild(t),pm(t,e.a),t=Su("http://www.opengis.net/gml","end"),i.appendChild(t),pm(t,e.g)})),And:Fu(am),Or:Fu(am),Not:Fu((function(t,e,i){e=e.condition,Wu({node:t},gm,Gu(e.rc),[e],i)})),BBOX:Fu((function(t,e,i){i[i.length-1].srsName=e.srsName,cm(t,e.geometryName),Lp.prototype.Yc(t,e.extent,i)})),Contains:Fu((function(t,e,i){i[i.length-1].srsName=e.srsName,cm(t,e.geometryName),Lp.prototype.Yc(t,e.geometry,i)})),Intersects:Fu((function(t,e,i){i[i.length-1].srsName=e.srsName,cm(t,e.geometryName),Lp.prototype.Yc(t,e.geometry,i)})),Within:Fu((function(t,e,i){i[i.length-1].srsName=e.srsName,cm(t,e.geometryName),Lp.prototype.Yc(t,e.geometry,i)})),PropertyIsEqualTo:Fu(lm),PropertyIsNotEqualTo:Fu(lm),PropertyIsLessThan:Fu(lm),PropertyIsLessThanOrEqualTo:Fu(lm),PropertyIsGreaterThan:Fu(lm),PropertyIsGreaterThanOrEqualTo:Fu(lm),PropertyIsNull:Fu((function(t,e){cm(t,e.b)})),PropertyIsBetween:Fu((function(t,e){cm(t,e.b);var i=Su("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(i),um(i,""+e.a),i=Su("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(i),um(i,""+e.g)})),PropertyIsLike:Fu((function(t,e){t.setAttribute("wildCard",e.f),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),cm(t,e.b),um(t,""+e.c)}))}};function dm(t){t=t||{},Zu.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function fm(t){return 0===(t=t.W()).length?"":t.join(" ")}function ym(t){for(var e=[],i=0,n=(t=t.W()).length;i<n;++i)e.push(t[i].join(" "));return e.join(",")}function mm(t){for(var e=[],i=0,n=(t=t.Ud()).length;i<n;++i)e.push("("+ym(t[i])+")");return e.join(",")}function vm(t){var e=t.S(),i=(0,_m[e])(t);if(e=e.toUpperCase(),t instanceof Mn){var n="";"XYZ"!==(t=t.ja)&&"XYZM"!==t||(n+="Z"),"XYM"!==t&&"XYZM"!==t||(n+="M"),0<(t=n).length&&(e+=" "+t)}return 0===i.length?e+" EMPTY":e+"("+i+")"}Xy.prototype.s=function(t){var e=Su("http://www.opengis.net/wfs","GetFeature");if(e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0"),t){t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count);var i=t.filter;if(t.bbox){d(t.geometryName,12);var n=Yy(t.geometryName,t.bbox,t.srsName);i=i?Wy(i,n):n}}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),i={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:i,propertyNames:t.propertyNames?t.propertyNames:[]},d(Array.isArray(t.featureTypes),11),t=t.featureTypes,(n=nt({},(i=[i])[i.length-1])).node=e,Wu(n,gm,Gu("Query"),t,i),e},Xy.prototype.v=function(t,e,i,n){var o=[],r=Su("http://www.opengis.net/wfs","Transaction"),s=n.version?n.version:"1.1.0",a="1.0.0"===s?2:3;if(r.setAttribute("service","WFS"),r.setAttribute("version",s),n){var l=n.gmlOptions?n.gmlOptions:{};n.handle&&r.setAttribute("handle",n.handle)}r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Zy[s]);var h=n.featurePrefix?n.featurePrefix:"feature";return t&&(s={node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,hasZ:n.hasZ,srsName:n.srsName},nt(s,l),Wu(s,sm,Gu("Insert"),t,o)),e&&(s={node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,hasZ:n.hasZ,srsName:n.srsName},nt(s,l),Wu(s,sm,Gu("Update"),e,o)),i&&Wu({node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,srsName:n.srsName},sm,Gu("Delete"),i,o),n.nativeElements&&Wu({node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,srsName:n.srsName},sm,Gu("Native"),n.nativeElements,o),r},Xy.prototype.Sg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.uf(t);return null},Xy.prototype.uf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=(t=t.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.rf(t,e),Ft(e.pop().srsName)}return null},s(dm,Vg);var _m={Point:fm,LineString:ym,Polygon:mm,MultiPoint:function(t){for(var e=[],i=0,n=(t=t.de()).length;i<n;++i)e.push("("+fm(t[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],i=0,n=(t=t.wd()).length;i<n;++i)e.push("("+ym(t[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],i=0,n=(t=t.Vd()).length;i<n;++i)e.push("("+mm(t[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],i=0,n=(t=t.vd()).length;i<n;++i)e.push(vm(t[i]));return e.join(",")}};function xm(t){this.a=t,this.b=-1}function Cm(t){this.g=t,this.a="XY"}function Im(t){t.b=function t(e){var i=e.a.charAt(++e.b),n={position:e.b,value:i};if("("==i)n.type=2;else if(","==i)n.type=5;else if(")"==i)n.type=3;else if("0"<=i&&"9">=i||"."==i||"-"==i){n.type=4,i=e.b;var o=!1,r=!1;do{"."==s?o=!0:"e"!=s&&"E"!=s||(r=!0);var s=e.a.charAt(++e.b)}while("0"<=s&&"9">=s||"."==s&&(void 0===o||!o)||!r&&("e"==s||"E"==s)||r&&("-"==s||"+"==s));e=parseFloat(e.a.substring(i,e.b--)),n.value=e}else if("a"<=i&&"z">=i||"A"<=i&&"Z">=i){n.type=1,i=e.b;do{s=e.a.charAt(++e.b)}while("a"<=s&&"z">=s||"A"<=s&&"Z">=s);e=e.a.substring(i,e.b--).toUpperCase(),n.value=e}else{if(" "==i||"\t"==i||"\r"==i||"\n"==i)return t(e);if(""!==i)throw Error("Unexpected character: "+i);n.type=6}return n}(t.g)}function Am(t,e){return(e=t.b.type==e)&&Im(t),e}function bm(t){for(var e=[],i=t.a.length,n=0;n<i;++n){var o=t.b;if(!Am(t,4))break;e.push(o.value)}if(e.length==i)return e;throw Error(Em(t))}function wm(t){for(var e=[bm(t)];Am(t,5);)e.push(bm(t));return e}function Sm(t){for(var e=[t.Gg()];Am(t,5);)e.push(t.Gg());return e}function Mm(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&Im(t),e}function Em(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}(t=dm.prototype).fe=function(t,e){return(t=this.Gd(t,e))?((e=new ul).Va(t),e):null},t.Ng=function(t,e){var i=[];t=this.Gd(t,e),e=[];for(var n=0,o=(i=this.b&&"GeometryCollection"==t.S()?t.a:[t]).length;n<o;++n)(t=new ul).Va(i[n]),e.push(t);return e},t.Gd=function(t,e){return Im(t=new Cm(new xm(t))),(t=function t(e){var i=e.b;if(Am(e,1)){i=i.value;var n="XY",o=e.b;if(1==e.b.type&&("Z"===(o=o.value)?n="XYZ":"M"===o?n="XYM":"ZM"===o&&(n="XYZM"),"XY"!==n&&Im(e)),e.a=n,"GEOMETRYCOLLECTION"==i){t:{if(Am(e,2)){i=[];do{i.push(t(e))}while(Am(e,5));if(Am(e,3)){e=i;break t}}else if(Mm(e)){e=[];break t}throw Error(Em(e))}return new Ng(e)}if(o=Pm[i],n=Tm[i],!o||!n)throw Error("Invalid geometry type: "+i);return new n(i=o.call(e),e.a)}throw Error(Em(e))}(t))?Ju(t,!1,e):null},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):""},t.nh=function(t,e){if(1==t.length)return this.pe(t[0],e);for(var i=[],n=0,o=t.length;n<o;++n)i.push(t[n].U());return t=new Ng(i),this.Kd(t,e)},t.Kd=function(t,e){return vm(Ju(t,!0,e))},(t=Cm.prototype).Hg=function(){if(Am(this,2)){var t=bm(this);if(Am(this,3))return t}else if(Mm(this))return null;throw Error(Em(this))},t.Gg=function(){if(Am(this,2)){var t=wm(this);if(Am(this,3))return t}else if(Mm(this))return[];throw Error(Em(this))},t.Ig=function(){if(Am(this,2)){var t=Sm(this);if(Am(this,3))return t}else if(Mm(this))return[];throw Error(Em(this))},t.Hp=function(){if(Am(this,2)){var t;if(2==this.b.type)for(t=[this.Hg()];Am(this,5);)t.push(this.Hg());else t=wm(this);if(Am(this,3))return t}else if(Mm(this))return[];throw Error(Em(this))},t.Gp=function(){if(Am(this,2)){var t=Sm(this);if(Am(this,3))return t}else if(Mm(this))return[];throw Error(Em(this))},t.Ip=function(){if(Am(this,2)){for(var t=[this.Ig()];Am(this,5);)t.push(this.Ig());if(Am(this,3))return t}else if(Mm(this))return[];throw Error(Em(this))};var Tm={POINT:Zn,LINESTRING:fl,POLYGON:so,MULTIPOINT:ip,MULTILINESTRING:tp,MULTIPOLYGON:np},Pm={POINT:Cm.prototype.Hg,LINESTRING:Cm.prototype.Gg,POLYGON:Cm.prototype.Ig,MULTIPOINT:Cm.prototype.Hp,MULTILINESTRING:Cm.prototype.Gp,MULTIPOLYGON:Cm.prototype.Ip};function Lm(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Nm(){}function Dm(){this.version=void 0}function Rm(t,e){return Hu({},tv,t,e)}function Om(t,e){return Hu({},Km,t,e)}function Fm(t,e){if(e=Rm(t,e))return t=[wp(t.getAttribute("width")),wp(t.getAttribute("height"))],e.size=t,e}function km(t,e){return Hu([],ev,t,e)}Nm.prototype.read=function(t){return Eu(t)?this.a(t):Tu(t)?this.b(t):"string"==typeof t?(t=Pu(t),this.a(t)):null},s(Dm,Nm),Dm.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Dm.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Hu({version:this.version},Bm,t,[]))?t:null};var Gm=[null,"http://www.opengis.net/wms"],Bm=Vu(Gm,{Service:Ou((function(t,e){return Hu({},Vm,t,e)})),Capability:Ou((function(t,e){return Hu({},zm,t,e)}))}),zm=Vu(Gm,{Request:Ou((function(t,e){return Hu({},qm,t,e)})),Exception:Ou((function(t,e){return Hu([],Wm,t,e)})),Layer:Ou((function(t,e){return Hu({},Ym,t,e)}))}),Vm=Vu(Gm,{Name:Ou(Sp),Title:Ou(Sp),Abstract:Ou(Sp),KeywordList:Ou(km),OnlineResource:Ou(Lm),ContactInformation:Ou((function(t,e){return Hu({},jm,t,e)})),Fees:Ou(Sp),AccessConstraints:Ou(Sp),LayerLimit:Ou(bp),MaxWidth:Ou(bp),MaxHeight:Ou(bp)}),jm=Vu(Gm,{ContactPersonPrimary:Ou((function(t,e){return Hu({},Hm,t,e)})),ContactPosition:Ou(Sp),ContactAddress:Ou((function(t,e){return Hu({},Um,t,e)})),ContactVoiceTelephone:Ou(Sp),ContactFacsimileTelephone:Ou(Sp),ContactElectronicMailAddress:Ou(Sp)}),Hm=Vu(Gm,{ContactPerson:Ou(Sp),ContactOrganization:Ou(Sp)}),Um=Vu(Gm,{AddressType:Ou(Sp),Address:Ou(Sp),City:Ou(Sp),StateOrProvince:Ou(Sp),PostCode:Ou(Sp),Country:Ou(Sp)}),Wm=Vu(Gm,{Format:Nu(Sp)}),Ym=Vu(Gm,{Name:Ou(Sp),Title:Ou(Sp),Abstract:Ou(Sp),KeywordList:Ou(km),CRS:Ru(Sp),EX_GeographicBoundingBox:Ou((function(t,e){var i=Hu({},Zm,t,e);if(i){t=i.westBoundLongitude,e=i.southBoundLatitude;var n=i.eastBoundLongitude;if(i=i.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return[t,e,n,i]}})),BoundingBox:Ru((function(t){var e=[Ap(t.getAttribute("minx")),Ap(t.getAttribute("miny")),Ap(t.getAttribute("maxx")),Ap(t.getAttribute("maxy"))],i=[Ap(t.getAttribute("resx")),Ap(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}})),Dimension:Ru((function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:xp(t.getAttribute("multipleValues")),nearestValue:xp(t.getAttribute("nearestValue")),current:xp(t.getAttribute("current")),values:Sp(t)}})),Attribution:Ou((function(t,e){return Hu({},Xm,t,e)})),AuthorityURL:Ru((function(t,e){if(e=Rm(t,e))return e.name=t.getAttribute("name"),e})),Identifier:Ru(Sp),MetadataURL:Ru((function(t,e){if(e=Rm(t,e))return e.type=t.getAttribute("type"),e})),DataURL:Ru(Rm),FeatureListURL:Ru(Rm),Style:Ru((function(t,e){return Hu({},$m,t,e)})),MinScaleDenominator:Ou(Ip),MaxScaleDenominator:Ou(Ip),Layer:Ru((function(t,e){var i=e[e.length-1],n=Hu({},Ym,t,e);if(n)return void 0===(e=xp(t.getAttribute("queryable")))&&(e=i.queryable),n.queryable=void 0!==e&&e,void 0===(e=wp(t.getAttribute("cascaded")))&&(e=i.cascaded),n.cascaded=e,void 0===(e=xp(t.getAttribute("opaque")))&&(e=i.opaque),n.opaque=void 0!==e&&e,void 0===(e=xp(t.getAttribute("noSubsets")))&&(e=i.noSubsets),n.noSubsets=void 0!==e&&e,(e=Ap(t.getAttribute("fixedWidth")))||(e=i.fixedWidth),n.fixedWidth=e,(t=Ap(t.getAttribute("fixedHeight")))||(t=i.fixedHeight),n.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach((function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))})),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach((function(t){t in n||(n[t]=i[t])})),n}))}),Xm=Vu(Gm,{Title:Ou(Sp),OnlineResource:Ou(Lm),LogoURL:Ou(Fm)}),Zm=Vu(Gm,{westBoundLongitude:Ou(Ip),eastBoundLongitude:Ou(Ip),southBoundLatitude:Ou(Ip),northBoundLatitude:Ou(Ip)}),qm=Vu(Gm,{GetCapabilities:Ou(Om),GetMap:Ou(Om),GetFeatureInfo:Ou(Om)}),Km=Vu(Gm,{Format:Ru(Sp),DCPType:Ru((function(t,e){return Hu({},Jm,t,e)}))}),Jm=Vu(Gm,{HTTP:Ou((function(t,e){return Hu({},Qm,t,e)}))}),Qm=Vu(Gm,{Get:Ou(Rm),Post:Ou(Rm)}),$m=Vu(Gm,{Name:Ou(Sp),Title:Ou(Sp),Abstract:Ou(Sp),LegendURL:Ru(Fm),StyleSheetURL:Ou(Rm),StyleURL:Ou(Rm)}),tv=Vu(Gm,{Format:Ou(Sp),OnlineResource:Ou(Lm)}),ev=Vu(Gm,{Keyword:Nu(Sp)});function iv(t){t=t||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new zp,this.c=t.layers?t.layers:null,dp.call(this)}function nv(){}s(iv,dp),iv.prototype.Kc=function(t,e){var i={};e&&nt(i,qu(this,t,e)),i=[i],t.setAttribute("namespaceURI",this.a);var n=t.localName;if(e=[],0!==t.childNodes.length){if("msGMLOutput"==n)for(var o=0,r=t.childNodes.length;o<r;o++){var s=t.childNodes[o];if(s.nodeType===Node.ELEMENT_NODE){var a=i[0],l=s.localName.replace("_layer","");if(!this.c||Yt(this.c,l)){l+="_feature",a.featureType=l,a.featureNS=this.a;var h={};h[l]=Nu(this.b.Kg,this.b),a=Vu([a.featureNS,null],h),s.setAttribute("namespaceURI",this.a),(s=Hu([],a,s,i,this.b))&&Zt(e,s)}}}"FeatureCollection"==n&&(t=Hu([],this.b.b,t,[{}],this.b))&&(e=t)}return e},iv.prototype.mh=function(){},iv.prototype.bc=function(){},iv.prototype.re=function(){},s(nv,Nm),nv.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},nv.prototype.b=function(t){return(t=Hu({},rv,t,[]))?t:null};var ov=[null,"http://www.opengis.net/ows/1.1"],rv=Vu(ov,{ServiceIdentification:Ou((function(t,e){return Hu({},mv,t,e)})),ServiceProvider:Ou((function(t,e){return Hu({},vv,t,e)})),OperationsMetadata:Ou((function(t,e){return Hu({},gv,t,e)}))}),sv=Vu(ov,{DeliveryPoint:Ou(Sp),City:Ou(Sp),AdministrativeArea:Ou(Sp),PostalCode:Ou(Sp),Country:Ou(Sp),ElectronicMailAddress:Ou(Sp)}),av=Vu(ov,{Value:Ru((function(t){return Sp(t)}))}),lv=Vu(ov,{AllowedValues:Ou((function(t,e){return Hu({},av,t,e)}))}),hv=Vu(ov,{Phone:Ou((function(t,e){return Hu({},dv,t,e)})),Address:Ou((function(t,e){return Hu({},sv,t,e)}))}),cv=Vu(ov,{HTTP:Ou((function(t,e){return Hu({},uv,t,e)}))}),uv=Vu(ov,{Get:Ru((function(t,e){var i=Lm(t);if(i)return Hu({href:i},fv,t,e)})),Post:void 0}),pv=Vu(ov,{DCP:Ou((function(t,e){return Hu({},cv,t,e)}))}),gv=Vu(ov,{Operation:function(t,e){var i=t.getAttribute("name");(t=Hu({},pv,t,e))&&(e[e.length-1][i]=t)}}),dv=Vu(ov,{Voice:Ou(Sp),Facsimile:Ou(Sp)}),fv=Vu(ov,{Constraint:Ru((function(t,e){var i=t.getAttribute("name");if(i)return Hu({name:i},lv,t,e)}))}),yv=Vu(ov,{IndividualName:Ou(Sp),PositionName:Ou(Sp),ContactInfo:Ou((function(t,e){return Hu({},hv,t,e)}))}),mv=Vu(ov,{Abstract:Ou(Sp),AccessConstraints:Ou(Sp),Fees:Ou(Sp),Title:Ou(Sp),ServiceTypeVersion:Ou(Sp),ServiceType:Ou(Sp)}),vv=Vu(ov,{ProviderName:Ou(Sp),ProviderSite:Ou(Lm),ServiceContact:Ou((function(t,e){return Hu({},yv,t,e)}))});function _v(){this.g=new nv}function xv(t){var e=Sp(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}s(_v,Nm),_v.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},_v.prototype.b=function(t){var e=t.getAttribute("version").trim(),i=this.g.b(t);return i?(i.version=e,(i=Hu(i,Av,t,[]))?i:null):null};var Cv=[null,"http://www.opengis.net/wmts/1.0"],Iv=[null,"http://www.opengis.net/ows/1.1"],Av=Vu(Cv,{Contents:Ou((function(t,e){return Hu({},bv,t,e)}))}),bv=Vu(Cv,{Layer:Ru((function(t,e){return Hu({},wv,t,e)})),TileMatrixSet:Ru((function(t,e){return Hu({},Nv,t,e)}))}),wv=Vu(Cv,{Style:Ru((function(t,e){if(e=Hu({},Sv,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e})),Format:Ru(Sp),TileMatrixSetLink:Ru((function(t,e){return Hu({},Mv,t,e)})),Dimension:Ru((function(t,e){return Hu({},Pv,t,e)})),ResourceURL:Ru((function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n}))},Vu(Iv,{Title:Ou(Sp),Abstract:Ou(Sp),WGS84BoundingBox:Ou((function(t,e){if(2==(t=Hu([],Lv,t,e)).length)return w(t)})),Identifier:Ou(Sp)})),Sv=Vu(Cv,{LegendURL:Ru((function(t){var e={};return e.format=t.getAttribute("format"),e.href=Lm(t),e}))},Vu(Iv,{Title:Ou(Sp),Identifier:Ou(Sp)})),Mv=Vu(Cv,{TileMatrixSet:Ou(Sp),TileMatrixSetLimits:Ou((function(t,e){return Hu([],Ev,t,e)}))}),Ev=Vu(Cv,{TileMatrixLimits:Nu((function(t,e){return Hu({},Tv,t,e)}))}),Tv=Vu(Cv,{TileMatrix:Ou(Sp),MinTileRow:Ou(bp),MaxTileRow:Ou(bp),MinTileCol:Ou(bp),MaxTileCol:Ou(bp)}),Pv=Vu(Cv,{Default:Ou(Sp),Value:Ru(Sp)},Vu(Iv,{Identifier:Ou(Sp)})),Lv=Vu(Iv,{LowerCorner:Nu(xv),UpperCorner:Nu(xv)}),Nv=Vu(Cv,{WellKnownScaleSet:Ou(Sp),TileMatrix:Ru((function(t,e){return Hu({},Dv,t,e)}))},Vu(Iv,{SupportedCRS:Ou(Sp),Identifier:Ou(Sp)})),Dv=Vu(Cv,{TopLeftCorner:Ou(xv),ScaleDenominator:Ou(Ip),TileWidth:Ou(bp),TileHeight:Ou(bp),MatrixWidth:Ou(bp),MatrixHeight:Ou(bp)},Vu(Iv,{Identifier:Ou(Sp)}));function Rv(t,e,i){Mn.call(this),this.hh(t,e||0,i)}function Ov(t){var e=t.A[t.a]-t.A[0];return e*e+(t=t.A[t.a+1]-t.A[1])*t}function Fv(t){t=t||{},Yo.call(this,{handleEvent:un}),this.j=t.formatConstructors?t.formatConstructors:[],this.s=t.projection?Ft(t.projection):null,this.a=null,this.f=t.source||null,this.target=t.target?t.target:null}function kv(t){var e,i=0;for(e=(t=t.dataTransfer.files).length;i<e;++i){var n=t.item(i),o=new FileReader;o.addEventListener("load",this.l.bind(this,n)),o.readAsText(n)}}function Gv(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function Bv(t){var e=t.v;e&&(e=t.target?t.target:e.a,t.a=[me(e,"drop",kv,t),me(e,"dragenter",Gv,t),me(e,"dragover",Gv,t),me(e,"drop",Gv,t)])}function zv(t){t.a&&(t.a.forEach(xe),t.a=null)}s(Rv,Mn),(t=Rv.prototype).clone=function(){var t=new Rv(null);return Tn(t,this.ja,this.A.slice()),t.u(),t},t.Nb=function(t,e,i,n){var o=this.A;t-=o[0];var r=e-o[1];if((e=t*t+r*r)<n){if(0===e)for(n=0;n<this.a;++n)i[n]=o[n];else for(n=this.Bd()/Math.sqrt(e),i[0]=o[0]+n*t,i[1]=o[1]+n*r,n=2;n<this.a;++n)i[n]=o[n];return i.length=this.a,e}return n},t.Zc=function(t,e){var i=this.A;return(t-=i[0])*t+(e-=i[1])*e<=Ov(this)},t.xa=function(){return this.A.slice(0,this.a)},t.Ae=function(t){var e=this.A,i=e[this.a]-e[0];return R(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},t.Bd=function(){return Math.sqrt(Ov(this))},t.S=function(){return"Circle"},t.$a=function(t){var e=this.G();return!!$(t,e)&&(e=this.xa(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||j(t,this.Bb,this))},t.ub=function(t){var e,i=this.a,n=t.slice();for(n[i]=n[0]+(this.A[i]-this.A[0]),e=1;e<i;++e)n[i+e]=t[e];Tn(this,this.ja,n),this.u()},t.hh=function(t,e,i){if(t){var n;for(Pn(this,i,t,0),this.A||(this.A=[]),t=Gn(i=this.A,t),i[t++]=i[0]+e,e=1,n=this.a;e<n;++e)i[t++]=i[e];i.length=t}else Tn(this,"XY",null);this.u()},t.W=function(){},t.na=function(){},t.fd=function(t){this.A[this.a]=this.A[0]+t,this.u()},s(Fv,Yo),Fv.prototype.l=function(t,e){e=e.target.result;var i=this.v,n=this.s;n||(n=i.aa().v);var o,r=[],s=0;for(o=(i=this.j).length;s<o;++s){var a=new i[s],l={featureProjection:n};try{r=a.Qa(e,l)}catch(t){r=null}if(r&&0<r.length)break}this.f&&(this.f.clear(),this.f.Qc(r)),this.b(new jv(Vv,t,r,n))},Fv.prototype.Ha=function(t){Yo.prototype.Ha.call(this,t),t?Bv(this):zv(this)},Fv.prototype.setMap=function(t){zv(this),Yo.prototype.setMap.call(this,t),this.c()&&Bv(this)};var Vv="addfeatures";function jv(t,e,i,n){be.call(this,t),this.features=i,this.file=e,this.projection=n}function Hv(t){t=t||{},lr.call(this,{handleDownEvent:Yv,handleDragEvent:Uv,handleUpEvent:Wv}),this.s=t.condition?t.condition:or,this.a=this.f=void 0,this.j=0,this.o=void 0!==t.duration?t.duration:400}function Uv(t){if(sr(t)){var e=t.map,i=e.Cb(),n=t.pixel;t=n[0]-i[0]/2,n=i[1]/2-n[1],i=Math.atan2(n,t),t=Math.sqrt(t*t+n*n),(e=e.aa()).l.rotation!==Wi&&void 0!==this.f&&(n=i-this.f,Xo(e,e.Sa()-n)),this.f=i,void 0!==this.a&&(i=this.a*(e.Pa()/t),qo(e,i)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function Wv(t){if(!sr(t))return!0;_o(t=t.map.aa(),1,-1);var e=this.j-1,i=t.Sa();i=t.constrainRotation(i,0),Xo(t,i,void 0,void 0),i=t.Pa();var n=this.o;return i=t.constrainResolution(i,0,e),qo(t,i,void 0,n),this.j=0,!1}function Yv(t){return!(!sr(t)||!this.s(t)||(_o(t.map.aa(),1,1),this.a=this.f=void 0,0))}function Xv(t){var e=nt({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Oo.call(this,e),this.D=void 0!==t.declutter&&t.declutter,this.f=void 0!==t.renderBuffer?t.renderBuffer:100,this.C=null,this.V=void 0,this.j(t.style),this.ca=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.ra=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,this.l=t.renderMode||"vector",this.type="VECTOR"}s(jv,be),s(Hv,lr),s(Xv,Oo),Xv.prototype.B=function(){return this.C},Xv.prototype.ib=function(){return this.V},Xv.prototype.j=function(t){this.C=void 0!==t?t:ll,this.V=null===t?void 0:sl(this.C),this.u()};var Zv="renderOrder";function qv(){return[[-1/0,-1/0,1/0,1/0]]}function Kv(t){Te.call(this),this.c=Ft(t.projection),this.v=null,this.C=Jv(this,t.attributions),this.T=t.logo,this.ra=void 0!==t.state?t.state:"ready",this.D=void 0!==t.wrapX&&t.wrapX}function Jv(t,e){if(!e)return null;if(e instanceof pe)return t.v=[e],function(){return[e.og]};if(Array.isArray(e)){if(e[0]instanceof pe){t.v=e;var i=e.map((function(t){return t.og}));return function(){return i}}return t.v=e.map((function(t){return new pe({html:t})})),function(){return e}}return"function"==typeof e?e:(t.v=[new pe({html:e})],function(){return[e]})}function Qv(t,e){t.ra=e,t.u()}function $v(t){t=t||{},Kv.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.o=a,this.O=t.format,this.$=null==t.overlaps||t.overlaps,this.V=t.url,void 0!==t.loader?this.o=t.loader:void 0!==this.V&&(d(this.O,7),this.o=Xu(this.V,this.O)),this.ca=void 0!==t.strategy?t.strategy:qv;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=e?new jh:null,this.B=new jh,this.f={},this.j={},this.l={},this.s={},this.i=null,t.features instanceof Re)var i=t.features,n=i.a;else Array.isArray(t.features)&&(n=t.features);e||void 0!==i||(i=new Re(n)),void 0!==n&&i_(this,n),void 0!==i&&function(t,e){var i=!1;me(t,"addfeature",(function(t){i||(i=!0,e.push(t.feature),i=!1)})),me(t,"removefeature",(function(t){i||(i=!0,e.remove(t.feature),i=!1)})),me(e,"add",(function(t){i||(i=!0,this.Gb(t.element),i=!1)}),t),me(e,"remove",(function(t){i||(i=!0,this.Lb(t.element),i=!1)}),t),t.i=e}(this,i)}function t_(t,e,i){t.s[e]=[me(i,"change",t.gj,t),me(i,"propertychange",t.gj,t)]}function e_(t,e,i){var n=!0,o=i.c;return void 0!==o?o.toString()in t.j?n=!1:t.j[o.toString()]=i:(d(!(e in t.l),30),t.l[e]=i),n}function i_(t,e){var i,n=[],o=[],r=[],s=0;for(i=e.length;s<i;s++){var a=e[s],h=l(a).toString();e_(t,h,a)&&o.push(a)}for(s=0,i=o.length;s<i;s++)t_(t,h=l(a=o[s]).toString(),a),(e=a.U())?(h=e.G(),n.push(h),r.push(a)):t.f[h]=a;for(t.a&&t.a.load(n,r),s=0,i=o.length;s<i;s++)t.b(new o_("addfeature",o[s]))}function n_(t,e){for(var i in t.j)if(t.j[i]===e){delete t.j[i];break}}function o_(t,e){be.call(this,t),this.feature=e}function r_(t){lr.call(this,{handleDownEvent:l_,handleEvent:a_,handleUpEvent:h_}),this.V=!1,this.ca=null,this.o=!1,this.ob=t.source?t.source:null,this.La=t.features?t.features:null,this.Xk=t.snapTolerance?t.snapTolerance:12,this.O=t.type,this.f=function(t){var e;return"Point"===t||"MultiPoint"===t?e=y_:"LineString"===t||"MultiLineString"===t?e=m_:"Polygon"===t||"MultiPolygon"===t?e=v_:"Circle"===t&&(e=__),e}(this.O),this.$k=!!t.stopClick,this.Ea=t.minPoints?t.minPoints:this.f===v_?3:2,this.ua=t.maxPoints?t.maxPoints:1/0,this.Md=t.finishCondition?t.finishCondition:un;var e=t.geometryFunction;if(!e)if("Circle"===this.O)e=function(t,e){return(e=e||new Rv([NaN,NaN])).hh(t[0],Math.sqrt(nn(t[0],t[1]))),e};else{var i,n=this.f;n===y_?i=Zn:n===m_?i=fl:n===v_&&(i=so),e=function(t,e){return e?n===v_?t[0].length?e.na([t[0].concat([t[0][0]])]):e.na([]):e.na(t):e=new i(t),e}}this.cb=e,this.T=this.C=this.a=this.B=this.j=this.s=null,this.sc=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ra=new Xv({source:new $v({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:s_()}),this.bb=t.geometryName,this.Wk=t.condition?t.condition:nr,this.If=t.freehand?un:t.freehandCondition?t.freehandCondition:or,me(this,Le("active"),this.Ki,this)}function s_(){var t=hl();return function(e){return t[e.U().S()]}}function a_(t){this.o=this.f!==y_&&this.If(t);var e=!0;return this.o&&"pointerdrag"===t.type&&null!==this.j?(g_(this,t),e=!1):this.o&&"pointerdown"===t.type?e=!1:"pointermove"===t.type?e=c_(this,t):"dblclick"===t.type&&(e=!1),cr.call(this,t)&&e}function l_(t){return this.V=!this.o,this.o?(this.ca=t.pixel,this.s||p_(this,t),!0):!!this.Wk(t)&&(this.ca=t.pixel,!0)}function h_(t){var e=!0;c_(this,t);var i=this.f===__;return this.V?(this.s?this.o||i?this.Pd():u_(this,t)?this.Md(t)&&this.Pd():g_(this,t):(p_(this,t),this.f===y_&&this.Pd()),e=!1):this.o&&(this.s=null,d_(this)),!e&&this.$k&&t.stopPropagation(),e}function c_(t,e){if(t.ca&&(!t.o&&t.V||t.o&&!t.V)){var i=t.ca,n=e.pixel,o=i[0]-n[0];o=o*o+(i=i[1]-n[1])*i,t.V=t.o?o>t.sc:o<=t.sc}return t.s?(o=e.coordinate,i=t.j.U(),t.f===y_?n=t.a:t.f===v_?(n=(n=t.a[0])[n.length-1],u_(t,e)&&(o=t.s.slice())):n=(n=t.a)[n.length-1],n[0]=o[0],n[1]=o[1],t.cb(t.a,i),t.B&&t.B.U().na(o),i instanceof so&&t.f!==v_?(t.C||(t.C=new ul(new fl(null))),o=i.Wh(0),(e=t.C.U()).ba(o.ja,o.da())):t.T&&(e=t.C.U()).na(t.T),f_(t)):(e=e.coordinate.slice(),t.B?t.B.U().na(e):(t.B=new ul(new Zn(e)),f_(t))),!0}function u_(t,e){var i=!1;if(t.j){var n=!1,o=[t.s];if(t.f===m_?n=t.a.length>t.Ea:t.f===v_&&(n=t.a[0].length>t.Ea,o=[t.a[0][0],t.a[0][t.a[0].length-2]]),n){n=e.map;for(var r=0,s=o.length;r<s;r++){var a=o[r],l=n.Ia(a),h=e.pixel;if(i=h[0]-l[0],l=h[1]-l[1],i=Math.sqrt(i*i+l*l)<=(t.o?1:t.Xk)){t.s=a;break}}}}return i}function p_(t,e){e=e.coordinate,t.s=e,t.f===y_?t.a=e.slice():t.f===v_?(t.a=[[e.slice(),e.slice()]],t.T=t.a[0]):(t.a=[e.slice(),e.slice()],t.f===__&&(t.T=t.a)),t.T&&(t.C=new ul(new fl(t.T))),e=t.cb(t.a),t.j=new ul,t.bb&&t.j.Lc(t.bb),t.j.Va(e),f_(t),t.b(new x_("drawstart",t.j))}function g_(t,e){e=e.coordinate;var i,n=t.j.U();if(t.f===m_){t.s=e.slice();var o=t.a;o.length>=t.ua&&(t.o?o.pop():i=!0),o.push(e.slice()),t.cb(o,n)}else t.f===v_&&((o=t.a[0]).length>=t.ua&&(t.o?o.pop():i=!0),o.push(e.slice()),i&&(t.s=o[0]),t.cb(t.a,n));f_(t),i&&t.Pd()}function d_(t){t.s=null;var e=t.j;return e&&(t.j=null,t.B=null,t.C=null,t.ra.ha().clear(!0)),e}function f_(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.B&&e.push(t.B),(t=t.ra.ha()).clear(!0),t.Qc(e)}s(Kv,Te),(t=Kv.prototype).wa=a,t.za=function(){return this.v},t.Aa=function(){return this.T},t.Da=function(){return this.c},t.getState=function(){return this.ra},t.sa=function(){this.u()},t.va=function(t){this.C=Jv(this,t),this.u()},s($v,Kv),(t=$v.prototype).Gb=function(t){var e=l(t).toString();if(e_(this,e,t)){t_(this,e,t);var i=t.U();i?(e=i.G(),this.a&&this.a.Ca(e,t)):this.f[e]=t,this.b(new o_("addfeature",t))}this.u()},t.Qc=function(t){i_(this,t),this.u()},t.clear=function(t){if(t){for(var e in this.s)this.s[e].forEach(xe);this.i||(this.s={},this.j={},this.l={})}else if(this.a)for(var i in this.a.forEach(this.Yg,this),this.f)this.Yg(this.f[i]);this.i&&this.i.clear(),this.a&&this.a.clear(),this.B.clear(),this.f={},this.b(new o_("clear")),this.u()},t.Lh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},t.ec=function(t,e,i){return this.a?Yh(this.a,t,e,i):this.i?this.i.forEach(e,i):void 0},t.Mh=function(t,e,i){return this.ec(t,(function(n){if(n.U().$a(t)&&(n=e.call(i,n)))return n}))},t.Th=function(){return this.i},t.ee=function(){if(this.i)var t=this.i.a;else this.a&&(t=Uh(this.a),st(this.f)||Zt(t,rt(this.f)));return t},t.Sh=function(t){var e=[];return function(t,e,i){t.ec([e[0],e[1],e[0],e[1]],(function(t){if(t.U().Bb(e))return i.call(void 0,t)}))}(this,t,(function(t){e.push(t)})),e},t.Yf=function(t){return Wh(this.a,t)},t.Oh=function(t,e){var i=t[0],n=t[1],o=null,r=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||un;return Yh(this.a,a,(function(t){if(l(t)){var e=t.U(),h=s;(s=e.Nb(i,n,r,s))<h&&(o=t,t=Math.sqrt(s),a[0]=i-t,a[1]=n-t,a[2]=i+t,a[3]=n+t)}})),o},t.G=function(t){return this.a.G(t)},t.Rh=function(t){return void 0!==(t=this.j[t.toString()])?t:null},t.ej=function(){return this.O},t.fj=function(){return this.V},t.gj=function(t){var e=l(t=t.target).toString(),i=t.U();i?(i=i.G(),e in this.f?(delete this.f[e],this.a&&this.a.Ca(i,t)):this.a&&Hh(this.a,i,t)):e in this.f||(this.a&&this.a.remove(t),this.f[e]=t),void 0!==(i=t.c)?(i=i.toString(),e in this.l?(delete this.l[e],this.j[i]=t):this.j[i]!==t&&(n_(this,t),this.j[i]=t)):e in this.l||(n_(this,t),this.l[e]=t),this.u(),this.b(new o_("changefeature",t))},t.ae=function(t,e,i){var n,o=this.B,r=0;for(n=(t=this.ca(t,e)).length;r<n;++r){var s=t[r];Yh(o,s,(function(t){return P(t.extent,s)}))||(this.o.call(this,s,e,i),o.Ca(s,{extent:s.slice()}))}},t.Cj=function(t){var e,i=this.B;Yh(i,t,(function(i){if(G(i.extent,t))return e=i,!0})),e&&i.remove(e)},t.Lb=function(t){var e=l(t).toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(t),this.Yg(t),this.u()},t.Yg=function(t){var e=l(t).toString();this.s[e].forEach(xe),delete this.s[e];var i=t.c;void 0!==i?delete this.j[i.toString()]:delete this.l[e],this.b(new o_("removefeature",t))},t.hj=function(t){this.o=t},s(o_,be),s(r_,lr),(t=r_.prototype).setMap=function(t){lr.prototype.setMap.call(this,t),this.Ki()},t.nq=function(){if(this.j){var t=this.j.U();if(this.f===m_){var e=this.a;e.splice(-2,1),this.cb(e,t),2<=e.length&&(this.s=e[e.length-2].slice())}else this.f===v_&&((e=this.a[0]).splice(-2,1),this.C.U().na(e),this.cb(this.a,t));0===e.length&&(this.s=null),f_(this)}},t.Pd=function(){var t=d_(this),e=this.a,i=t.U();this.f===m_?(e.pop(),this.cb(e,i)):this.f===v_&&(e[0].pop(),this.cb(e,i),e=i.W()),"MultiPoint"===this.O?t.Va(new ip([e])):"MultiLineString"===this.O?t.Va(new tp([e])):"MultiPolygon"===this.O&&t.Va(new np([e])),this.b(new x_("drawend",t)),this.La&&this.La.push(t),this.ob&&this.ob.Gb(t)},t.Zn=function(t){var e=t.U();this.j=t,this.a=e.W(),t=this.a[this.a.length-1],this.s=t.slice(),this.a.push(t.slice()),f_(this),this.b(new x_("drawstart",this.j))},t.jd=pn,t.Ki=function(){var t=this.v,e=this.c();t&&e||d_(this),this.ra.setMap(e?t:null)};var y_="Point",m_="LineString",v_="Polygon",__="Circle";function x_(t,e){be.call(this,t),this.feature=e}function C_(t){var e=t||{};this.a=this.j=null,this.C=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.B=!1,this.T=this.s=null,t||(t={}),lr.call(this,{handleDownEvent:A_,handleDragEvent:b_,handleEvent:I_,handleUpEvent:w_}),this.o=new Xv({source:new $v({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:S_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.O=new Xv({source:new $v({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:M_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&this.f(t.extent)}function I_(t){if(!(t instanceof li))return!0;if("pointermove"==t.type&&!this.D){var e=t.pixel,i=t.map,n=P_(this,e,i);n||(n=i.Ra(e)),L_(this,n)}return cr.call(this,t),!1}function A_(t){function e(t){var e=null,i=null;return t[0]==o[0]?e=o[2]:t[0]==o[2]&&(e=o[0]),t[1]==o[1]?i=o[3]:t[1]==o[3]&&(i=o[1]),null!==e&&null!==i?[e,i]:null}var i=t.pixel,n=t.map,o=this.G();return(t=P_(this,i,n))&&o?(i=t[0]==o[0]||t[0]==o[2]?t[0]:null,n=t[1]==o[1]||t[1]==o[3]?t[1]:null,null!==i&&null!==n?this.a=E_(e(t)):null!==i?this.a=T_(e([i,o[1]]),e([i,o[3]])):null!==n&&(this.a=T_(e([o[0],n]),e([o[2],n])))):(t=n.Ra(i),this.f([t[0],t[1],t[0],t[1]]),this.a=E_(t)),!0}function b_(t){return this.a&&(t=t.coordinate,this.f(this.a(t)),L_(this,t)),!0}function w_(){this.a=null;var t=this.G();return t&&0!==H(t)||this.f(null),!1}function S_(){var t=hl();return function(){return t.Polygon}}function M_(){var t=hl();return function(){return t.Point}}function E_(t){return function(e){return w([t,e])}}function T_(t,e){return t[0]==e[0]?function(i){return w([t,[i[0],e[1]]])}:t[1]==e[1]?function(i){return w([t,[e[0],i[1]]])}:null}function P_(t,e,i){var n=i.Ra(e),o=t.G();if(o){(o=[[[o[0],o[1]],[o[0],o[3]]],[[o[0],o[3]],[o[2],o[3]]],[[o[2],o[3]],[o[2],o[1]]],[[o[2],o[1]],[o[0],o[1]]]]).sort((function(t,e){return rn(n,t)-rn(n,e)})),o=o[0];var r=Ki(n,o),s=i.Ia(r);if(on(e,s)<=t.C)return e=i.Ia(o[0]),i=i.Ia(o[1]),e=nn(s,e),i=nn(s,i),t.B=Math.sqrt(Math.min(e,i))<=t.C,t.B&&(r=e>i?o[1]:o[0]),r}return null}function L_(t,e){var i=t.T;i?i.U().na(e):(i=new ul(new Zn(e)),t.T=i,t.O.ha().Gb(i))}function N_(t){be.call(this,"extentchanged"),this.extent=t}function D_(t){if(lr.call(this,{handleDownEvent:G_,handleDragEvent:B_,handleEvent:V_,handleUpEvent:z_}),this.Md=t.condition?t.condition:ar,this.bb=function(t){return Qo(t)&&ir(t)},this.ob=t.deleteCondition?t.deleteCondition:this.bb,this.sc=t.insertVertexCondition?t.insertVertexCondition:un,this.La=this.f=null,this.Ea=[0,0],this.C=this.T=!1,this.a=new jh,this.ra=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.s=this.ua=!1,this.j=[],this.B=new Xv({source:new $v({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:Y_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ca={Point:this.io,LineString:this.Mi,LinearRing:this.Mi,Polygon:this.jo,MultiPoint:this.fo,MultiLineString:this.eo,MultiPolygon:this.ho,Circle:this.bo,GeometryCollection:this.co},this.V=null,t.source?(this.V=t.source,t=new Re(this.V.ee()),me(this.V,"addfeature",this.vm,this),me(this.V,"removefeature",this.xm,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.o=t,this.o.forEach(this.xg,this),me(this.o,"add",this.$n,this),me(this.o,"remove",this.ao,this),this.O=null}function R_(t,e){t.C||(t.C=!0,t.b(new X_("modifystart",t.o,e)))}function O_(t,e){!function(t,e){t=t.a;var i=[];t.forEach((function(t){e===t.feature&&i.push(t)}));for(var n=i.length-1;0<=n;--n)t.remove(i[n])}(t,e),t.f&&0===t.o.kc()&&(t.B.ha().Lb(t.f),t.f=null),_e(e,"change",t.Li,t)}function F_(t,e){var i=t.f;i?i.U().na(e):(i=new ul(new Zn(e)),t.f=i,t.B.ha().Gb(i))}function k_(t,e){return t.index-e.index}function G_(t){if(!this.Md(t))return!1;j_(this,t.pixel,t.map);var e=t.map.Ra(t.pixel);this.j.length=0,this.C=!1;var i=this.f;if(i){var n=[],o=w([i=i.U().W()]),r={};(o=Wh(this.a,o)).sort(k_);for(var s=0,a=o.length;s<a;++s){var h=o[s],c=h.ma,u=l(h.feature),p=h.depth;p&&(u+="-"+p.join("-")),r[u]||(r[u]=Array(2)),"Circle"===h.geometry.S()&&1===h.index?$i(c=U_(e,h),i)&&!r[u][0]&&(this.j.push([h,0]),r[u][0]=h):$i(c[0],i)&&!r[u][0]?(this.j.push([h,0]),r[u][0]=h):$i(c[1],i)&&!r[u][1]?("LineString"!==h.geometry.S()&&"MultiLineString"!==h.geometry.S()||!r[u][0]||0!==r[u][0].index)&&(this.j.push([h,1]),r[u][1]=h):this.sc(t)&&l(c)in this.La&&!r[u][0]&&!r[u][1]&&n.push([h,i])}for(n.length&&R_(this,t),t=n.length-1;0<=t;--t)this.Em.apply(this,n[t])}return!!this.f}function B_(t){this.T=!1,R_(this,t),t=t.coordinate;for(var e=0,i=this.j.length;e<i;++e){var n=this.j[e],o=n[0],r=o.depth,s=o.geometry,a=o.ma;for(n=n[1];t.length<s.pa();)t.push(a[n][t.length]);switch(s.S()){case"Point":var l=t;a[0]=a[1]=t;break;case"MultiPoint":(l=s.W())[o.index]=t,a[0]=a[1]=t;break;case"LineString":(l=s.W())[o.index+n]=t,a[n]=t;break;case"MultiLineString":case"Polygon":(l=s.W())[r[0]][o.index+n]=t,a[n]=t;break;case"MultiPolygon":(l=s.W())[r[1]][r[0]][o.index+n]=t,a[n]=t;break;case"Circle":a[0]=a[1]=t,0===o.index?(this.s=!0,s.ub(t)):(this.s=!0,s.fd(on(s.xa(),t))),this.s=!1}l&&(o=s,r=l,this.s=!0,o.na(r),this.s=!1)}F_(this,t)}function z_(t){for(var e,i,n=this.j.length-1;0<=n;--n)if("Circle"===(i=(e=this.j[n][0]).geometry).S()){var o=i.xa(),r=e.Tf[0];e=e.Tf[1],r.ma[0]=r.ma[1]=o,e.ma[0]=e.ma[1]=o,Hh(this.a,F(o),r),Hh(this.a,i.G(),e)}else Hh(this.a,w(e.ma),e);return this.C&&(this.b(new X_("modifyend",this.o,t)),this.C=!1),!1}function V_(t){return!(t instanceof li)||(this.O=t,t.map.aa().Vh()||"pointermove"!=t.type||this.D||(this.Ea=t.pixel,j_(this,t.pixel,t.map)),this.f&&this.ob(t)&&(e=!("singleclick"!=t.type||!this.T)||this.Dj()),"singleclick"==t.type&&(this.T=!1),cr.call(this,t)&&!e);var e}function j_(t,e,i){var n=i.Ra(e),o=S(F(n),i.aa().Pa()*t.ra);if(0<(o=Wh(t.a,o)).length){o.sort((function(t,e){return H_(n,t)-H_(n,e)}));var r=o[0],s=r.ma,a=U_(n,r),h=i.Ia(a),c=on(e,h);if(c<=t.ra){if(e={},"Circle"===r.geometry.S()&&1===r.index)t.ua=!0,F_(t,a);else for(c=i.Ia(s[0]),r=i.Ia(s[1]),i=nn(h,c),h=nn(h,r),c=Math.sqrt(Math.min(i,h)),t.ua=c<=t.ra,t.ua&&(a=i>h?s[1]:s[0]),F_(t,a),h=1,i=o.length;h<i&&(a=o[h].ma,$i(s[0],a[0])&&$i(s[1],a[1])||$i(s[0],a[1])&&$i(s[1],a[0]));++h)e[l(a)]=!0;return e[l(s)]=!0,void(t.La=e)}}t.f&&(t.B.ha().Lb(t.f),t.f=null)}function H_(t,e){var i=e.geometry;return"Circle"===i.S()&&1===e.index?(t=nn(i.xa(),t),(i=Math.sqrt(t)-i.Bd())*i):rn(t,e.ma)}function U_(t,e){var i=e.geometry;return"Circle"===i.S()&&1===e.index?i.Ib(t):Ki(t,e.ma)}function W_(t,e,i,n,o){Yh(t.a,e.G(),(function(t){t.geometry===e&&(void 0===n||void 0===t.depth||Kt(t.depth,n))&&t.index>i&&(t.index+=o)}))}function Y_(){var t=hl();return function(){return t.Point}}function X_(t,e,i){be.call(this,t),this.features=e,this.mapBrowserEvent=i}function Z_(t){if(Yo.call(this,{handleEvent:q_}),t=t||{},this.C=t.condition?t.condition:ir,this.D=t.addCondition?t.addCondition:pn,this.B=t.removeCondition?t.removeCondition:pn,this.T=t.toggleCondition?t.toggleCondition:or,this.s=!!t.multi&&t.multi,this.l=t.filter?t.filter:un,this.j=t.hitTolerance?t.hitTolerance:0,this.f=new Xv({source:new $v({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:K_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return Yt(e,t)}}else t=un;this.o=t,this.a={},me(t=this.f.ha().i,"add",this.ko,this),me(t,"remove",this.oo,this)}function q_(t){if(!this.C(t))return!0;var e=this.D(t),i=this.B(t),n=this.T(t),o=!e&&!i&&!n,r=t.map,s=this.f.ha().i,a=[],h=[];if(o){for(ot(this.a),r.Tc(t.pixel,function(t,e){if(this.l(t,e))return h.push(t),t=l(t),this.a[t]=e,!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j}),o=s.kc()-1;0<=o;--o){r=s.item(o);var c=h.indexOf(r);-1<c?h.splice(c,1):(s.remove(r),a.push(r))}0!==h.length&&s.qg(h)}else{for(r.Tc(t.pixel,function(t,o){if(this.l(t,o))return!e&&!n||Yt(s.a,t)?(i||n)&&Yt(s.a,t)&&(a.push(t),o=l(t),delete this.a[o]):(h.push(t),t=l(t),this.a[t]=o),!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j}),o=a.length-1;0<=o;--o)s.remove(a[o]);s.qg(h)}return(0<h.length||0<a.length)&&this.b(new J_(Q_,h,a,t)),er(t)}function K_(){var t=hl();return Zt(t.Polygon,t.LineString),Zt(t.GeometryCollection,t.LineString),function(e){return e.U()?t[e.U().S()]:null}}function J_(t,e,i,n){be.call(this,t),this.selected=e,this.deselected=i,this.mapBrowserEvent=n}s(x_,be),s(C_,lr),C_.prototype.setMap=function(t){this.o.setMap(t),this.O.setMap(t),lr.prototype.setMap.call(this,t)},C_.prototype.G=function(){return this.j},C_.prototype.f=function(t){this.j=t||null;var e=this.s;e?t?e.Va(lo(t)):e.Va(void 0):(this.s=e=new ul(t?lo(t):{}),this.o.ha().Gb(e)),this.b(new N_(this.j))},s(N_,be),s(D_,lr),(t=D_.prototype).xg=function(t){var e=t.U();e&&e.S()in this.ca&&this.ca[e.S()].call(this,t,e),(e=this.v)&&e.c&&this.c()&&j_(this,this.Ea,e),me(t,"change",this.Li,this)},t.Ha=function(t){this.f&&!t&&(this.B.ha().Lb(this.f),this.f=null),lr.prototype.Ha.call(this,t)},t.setMap=function(t){this.B.setMap(t),lr.prototype.setMap.call(this,t)},t.vm=function(t){t.feature&&this.o.push(t.feature)},t.xm=function(t){t.feature&&this.o.remove(t.feature)},t.$n=function(t){this.xg(t.element)},t.Li=function(t){this.s||(O_(this,t=t.target),this.xg(t))},t.ao=function(t){O_(this,t.element)},t.io=function(t,e){var i=e.W();t={feature:t,geometry:e,ma:[i,i]},this.a.Ca(e.G(),t)},t.fo=function(t,e){var i,n=e.W(),o=0;for(i=n.length;o<i;++o){var r=n[o];r={feature:t,geometry:e,depth:[o],index:o,ma:[r,r]},this.a.Ca(e.G(),r)}},t.Mi=function(t,e){var i,n=e.W(),o=0;for(i=n.length-1;o<i;++o){var r=n.slice(o,o+2),s={feature:t,geometry:e,index:o,ma:r};this.a.Ca(w(r),s)}},t.eo=function(t,e){var i,n,o=e.W(),r=0;for(n=o.length;r<n;++r){var s=o[r],a=0;for(i=s.length-1;a<i;++a){var l=s.slice(a,a+2),h={feature:t,geometry:e,depth:[r],index:a,ma:l};this.a.Ca(w(l),h)}}},t.jo=function(t,e){var i,n,o=e.W(),r=0;for(n=o.length;r<n;++r){var s=o[r],a=0;for(i=s.length-1;a<i;++a){var l=s.slice(a,a+2),h={feature:t,geometry:e,depth:[r],index:a,ma:l};this.a.Ca(w(l),h)}}},t.ho=function(t,e){var i,n,o,r=e.W(),s=0;for(o=r.length;s<o;++s){var a=r[s],l=0;for(n=a.length;l<n;++l){var h=a[l],c=0;for(i=h.length-1;c<i;++c){var u=h.slice(c,c+2),p={feature:t,geometry:e,depth:[l,s],index:c,ma:u};this.a.Ca(w(u),p)}}}},t.bo=function(t,e){var i=e.xa(),n={feature:t,geometry:e,index:0,ma:[i,i]};t={feature:t,geometry:e,index:1,ma:[i,i]},n.Tf=t.Tf=[n,t],this.a.Ca(F(i),n),this.a.Ca(e.G(),t)},t.co=function(t,e){var i=e.a;for(e=0;e<i.length;++e)this.ca[i[e].S()].call(this,t,i[e])},t.Em=function(t,e){for(var i,n=t.ma,o=t.feature,r=t.geometry,s=t.depth,a=t.index;e.length<r.pa();)e.push(0);switch(r.S()){case"MultiLineString":case"Polygon":(i=r.W())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(i=r.W())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(i=r.W()).splice(a+1,0,e);break;default:return}this.s=!0,r.na(i),this.s=!1,(i=this.a).remove(t),W_(this,r,a,s,1),t={ma:[n[0],e],feature:o,geometry:r,depth:s,index:a},i.Ca(w(t.ma),t),this.j.push([t,1]),e={ma:[e,n[1]],feature:o,geometry:r,depth:s,index:a+1},i.Ca(w(e.ma),e),this.j.push([e,0]),this.T=!0},t.Dj=function(){if(this.O&&"pointerdrag"!=this.O.type){var t=this.O;R_(this,t);var e,i,n=this.j,o={};for(i=n.length-1;0<=i;--i){var r=n[i],s=r[0],a=l(s.feature);s.depth&&(a+="-"+s.depth.join("-")),a in o||(o[a]={}),0===r[1]?(o[a].right=s,o[a].index=s.index):1==r[1]&&(o[a].left=s,o[a].index=s.index+1)}for(a in o){var h=o[a].right,c=o[a].left,u=(i=o[a].index)-1;0>u&&(u=0);var p=e=(r=(s=void 0!==c?c:h).geometry).W(),g=!1;switch(r.S()){case"MultiLineString":2<e[s.depth[0]].length&&(e[s.depth[0]].splice(i,1),g=!0);break;case"LineString":2<e.length&&(e.splice(i,1),g=!0);break;case"MultiPolygon":p=p[s.depth[1]];case"Polygon":4<(p=p[s.depth[0]]).length&&(i==p.length-1&&(i=0),p.splice(i,1),g=!0,0===i&&(p.pop(),p.push(p[0]),u=p.length-1))}g&&(g=r,this.s=!0,g.na(e),this.s=!1,e=[],void 0!==c&&(this.a.remove(c),e.push(c.ma[0])),void 0!==h&&(this.a.remove(h),e.push(h.ma[1])),void 0!==c&&void 0!==h&&(c={depth:s.depth,feature:s.feature,geometry:s.geometry,index:u,ma:e},this.a.Ca(w(c.ma),c)),W_(this,r,i,s.depth,-1),this.f&&(this.B.ha().Lb(this.f),this.f=null),n.length=0)}return this.b(new X_("modifyend",this.o,t)),this.C=!1,!0}return!1},s(X_,be),s(Z_,Yo),(t=Z_.prototype).lo=function(){return this.f.ha().i},t.mo=function(){return this.j},t.no=function(t){return t=l(t),this.a[t]},t.po=function(t){this.j=t},t.setMap=function(t){var e=this.v,i=this.f.ha().i;e&&i.forEach(e.Zj,e),Yo.prototype.setMap.call(this,t),this.f.setMap(t),t&&i.forEach(t.Uj,t)},t.ko=function(t){var e=this.v;e&&e.Uj(t.element)},t.oo=function(t){var e=this.v;e&&e.Zj(t.element)},s(J_,be);var Q_="select";function $_(t){lr.call(this,{handleEvent:ex,handleDownEvent:un,handleUpEvent:ix}),t=t||{},this.s=t.source?t.source:null,this.O=void 0===t.vertex||t.vertex,this.C=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.ra=[],this.B={},this.V={},this.o={},this.T=null,this.f=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.ua=nx.bind(this),this.a=new jh,this.ca={Point:this.wo,LineString:this.Pi,LinearRing:this.Pi,Polygon:this.xo,MultiPoint:this.uo,MultiLineString:this.to,MultiPolygon:this.vo,GeometryCollection:this.so,Circle:this.ro}}function tx(t,e,i,n){var o=n.Ra([e[0]-t.f,e[1]+t.f]),r=n.Ra([e[0]+t.f,e[1]-t.f]);o=w([o,r]);var s=Wh(t.a,o);t.O&&!t.C&&(s=s.filter((function(t){return"Circle"!==t.feature.U().S()})));var a=!1;o=!1;var l=r=null;if(0<s.length){t.T=i,s.sort(t.ua);var h=s[0].ma;a="Circle"===s[0].feature.U().S(),t.O&&!t.C?(i=n.Ia(h[0]),a=n.Ia(h[1]),i=nn(e,i),e=nn(e,a),(a=(a=Math.sqrt(Math.min(i,e)))<=t.f)&&(o=!0,r=i>e?h[1]:h[0],l=n.Ia(r))):t.C&&(r=a?function(t,e){var i=e.Bd(),n=e.xa();e=n[0],n=n[1];var o=t[0]-e;t=t[1]-n,0===o&&0===t&&(o=1);var r=Math.sqrt(o*o+t*t);return[e+i*o/r,n+i*t/r]}(i,s[0].feature.U()):Ki(i,h),on(e,l=n.Ia(r))<=t.f&&(o=!0,t.O&&!a&&(i=n.Ia(h[0]),a=n.Ia(h[1]),i=nn(l,i),e=nn(l,a),a=(a=Math.sqrt(Math.min(i,e)))<=t.f)))&&(r=i>e?h[1]:h[0],l=n.Ia(r)),o&&(l=[Math.round(l[0]),Math.round(l[1])])}return{Mq:o,vertex:r,Vq:l}}function ex(t){var e=tx(this,t.pixel,t.coordinate,t.map);return e.Mq&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.Vq),cr.call(this,t)}function ix(){var t=rt(this.o);return t.length&&(t.forEach(this.$j,this),this.o={}),!1}function nx(t,e){return rn(this.T,t.ma)-rn(this.T,e.ma)}function ox(t){if(lr.call(this,{handleDownEvent:rx,handleDragEvent:ax,handleMoveEvent:lx,handleUpEvent:sx}),t=t||{},this.a=null,this.j=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)var e=t.layers;else{var i=t.layers;e=function(t){return Yt(i,t)}}else e=un;this.C=e,this.s=t.hitTolerance?t.hitTolerance:0,this.f=null,me(this,Le("active"),this.o,this)}function rx(t){if(this.f=hx(this,t.pixel,t.map),!this.a&&this.f){this.a=t.coordinate,lx.call(this,t);var e=this.j||new Re([this.f]);return this.b(new ux("translatestart",e,t.coordinate)),!0}return!1}function sx(t){if(this.a){this.a=null,lx.call(this,t);var e=this.j||new Re([this.f]);return this.b(new ux("translateend",e,t.coordinate)),!0}return!1}function ax(t){if(this.a){var e=(t=t.coordinate)[0]-this.a[0],i=t[1]-this.a[1],n=this.j||new Re([this.f]);n.forEach((function(t){var n=t.U();n.translate(e,i),t.Va(n)})),this.a=t,this.b(new ux("translating",n,t))}}function lx(t){var e=t.map.a;hx(this,t.pixel,t.map)?(e.classList.remove(this.a?"ol-grab":"ol-grabbing"),e.classList.add(this.a?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}function hx(t,e,i){return i.Tc(e,function(t){if(!this.j||Yt(this.j.a,t))return t}.bind(t),{layerFilter:t.C,hitTolerance:t.s})}function cx(t,e){var i=t.v;t=t.c(),i&&t||(i=i||e)&&i.a.classList.remove("ol-grab","ol-grabbing")}function ux(t,e,i){be.call(this,t),this.features=e,this.coordinate=i}function px(t){var e=nt({},t=t||{});delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Xv.call(this,e),this.c=null,this.$=void 0!==t.shadow?t.shadow:250,this.O=void 0,this.T=null,me(this,Le(fx),this.cm,this),this.Lj(t.gradient?t.gradient:gx),this.Fj(void 0!==t.blur?t.blur:15),this.fd(void 0!==t.radius?t.radius:8),me(this,Le(dx),this.mg,this),me(this,Le(yx),this.mg,this),this.mg();var i,n=t.weight?t.weight:"weight";i="string"==typeof n?function(t){return t.get(n)}:n,this.j(function(t){var e=255*(t=void 0!==(t=i(t))?f(t,0,1):1)|0,n=this.T[e];return n||(n=[new rl({image:new ud({opacity:t,src:this.O})})],this.T[e]=n),n}.bind(this)),this.set(Zv,null),me(this,"render",this.tm,this)}s($_,lr),(t=$_.prototype).Gb=function(t,e){e=void 0===e||e;var i=l(t),n=t.U();if(n){var o=this.ca[n.S()];o&&(this.V[i]=n.G([1/0,1/0,-1/0,-1/0]),o.call(this,t,n))}e&&(this.B[i]=me(t,"change",this.qo,this))},t.bl=function(t){this.Gb(t)},t.cl=function(t){this.Lb(t)},t.Ni=function(t){if(t instanceof o_)var e=t.feature;else t instanceof Ge&&(e=t.element);this.Gb(e)},t.Oi=function(t){if(t instanceof o_)var e=t.feature;else t instanceof Ge&&(e=t.element);this.Lb(e)},t.qo=function(t){if(t=t.target,this.D){var e=l(t);e in this.o||(this.o[e]=t)}else this.$j(t)},t.Lb=function(t,e){e=void 0===e||e;var i=l(t),n=this.V[i];if(n){var o=this.a,r=[];for(Yh(o,n,(function(e){t===e.feature&&r.push(e)})),n=r.length-1;0<=n;--n)o.remove(r[n])}e&&(xe(this.B[i]),delete this.B[i])},t.setMap=function(t){var e,i=this.v,n=this.ra;this.j?e=this.j:this.s&&(e=this.s.ee()),i&&(n.forEach(xe),n.length=0,e.forEach(this.cl,this)),lr.prototype.setMap.call(this,t),t&&(this.j?n.push(me(this.j,"add",this.Ni,this),me(this.j,"remove",this.Oi,this)):this.s&&n.push(me(this.s,"addfeature",this.Ni,this),me(this.s,"removefeature",this.Oi,this)),e.forEach(this.bl,this))},t.jd=pn,t.$j=function(t){this.Lb(t,!1),this.Gb(t,!1)},t.ro=function(t,e){var i,n=0;for(i=(e=ho(e).W()[0]).length-1;n<i;++n){var o=e.slice(n,n+2),r={feature:t,ma:o};this.a.Ca(w(o),r)}},t.so=function(t,e){var i=e.a;for(e=0;e<i.length;++e){var n=this.ca[i[e].S()];n&&n.call(this,t,i[e])}},t.Pi=function(t,e){var i,n=0;for(i=(e=e.W()).length-1;n<i;++n){var o=e.slice(n,n+2),r={feature:t,ma:o};this.a.Ca(w(o),r)}},t.to=function(t,e){var i,n,o=0;for(n=(e=e.W()).length;o<n;++o){var r=e[o],s=0;for(i=r.length-1;s<i;++s){var a=r.slice(s,s+2),l={feature:t,ma:a};this.a.Ca(w(a),l)}}},t.uo=function(t,e){var i,n=e.W(),o=0;for(i=n.length;o<i;++o){var r=n[o];r={feature:t,ma:[r,r]},this.a.Ca(e.G(),r)}},t.vo=function(t,e){var i,n,o,r=0;for(o=(e=e.W()).length;r<o;++r){var s=e[r],a=0;for(n=s.length;a<n;++a){var l=s[a],h=0;for(i=l.length-1;h<i;++h){var c=l.slice(h,h+2),u={feature:t,ma:c};this.a.Ca(w(c),u)}}}},t.wo=function(t,e){var i=e.W();t={feature:t,ma:[i,i]},this.a.Ca(e.G(),t)},t.xo=function(t,e){var i,n,o=0;for(n=(e=e.W()).length;o<n;++o){var r=e[o],s=0;for(i=r.length-1;s<i;++s){var a=r.slice(s,s+2),l={feature:t,ma:a};this.a.Ca(w(a),l)}}},s(ox,lr),ox.prototype.B=function(){return this.s},ox.prototype.T=function(t){this.s=t},ox.prototype.setMap=function(t){var e=this.v;lr.prototype.setMap.call(this,t),cx(this,e)},ox.prototype.o=function(){cx(this,null)},s(ux,be),s(px,Xv);var gx=["#00f","#0ff","#0f0","#ff0","#f00"];(t=px.prototype).Nh=function(){return this.get(dx)},t.Uh=function(){return this.get(fx)},t.Ri=function(){return this.get(yx)},t.cm=function(){for(var t=this.Uh(),e=xo(1,256),i=e.createLinearGradient(0,0,1,256),n=1/(t.length-1),o=0,r=t.length;o<r;++o)i.addColorStop(o*n,t[o]);e.fillStyle=i,e.fillRect(0,0,1,256),this.c=e.getImageData(0,0,1,256).data},t.mg=function(){var t=this.Ri(),e=this.Nh(),i=t+e+1,n=2*i;(n=xo(n,n)).shadowOffsetX=n.shadowOffsetY=this.$,n.shadowBlur=e,n.shadowColor="#000",n.beginPath(),e=i-this.$,n.arc(e,e,t,0,2*Math.PI,!0),n.fill(),this.O=n.canvas.toDataURL(),this.T=Array(256),this.u()},t.tm=function(t){var e,i,n=(t=t.context).canvas,o=(n=t.getImageData(0,0,n.width,n.height)).data,r=0;for(e=o.length;r<e;r+=4)(i=4*o[r+3])&&(o[r]=this.c[i],o[r+1]=this.c[i+1],o[r+2]=this.c[i+2]);t.putImageData(n,0,0)},t.Fj=function(t){this.set(dx,t)},t.Lj=function(t){this.set(fx,t)},t.fd=function(t){this.set(yx,t)};var dx="blur",fx="gradient",yx="radius";function mx(t){Oo.call(this,t||{}),this.type="IMAGE"}function vx(t){var e=nt({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Oo.call(this,e),this.j(void 0!==t.preload?t.preload:0),this.C(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="TILE"}function _x(t){var e=(t=t||{}).renderMode||"hybrid";d(null==e||"image"==e||"hybrid"==e||"vector"==e,28),t.declutter&&"image"==e&&(e="hybrid"),t.renderMode=e,delete(e=nt({},t)).preload,delete e.useInterimTilesOnError,Xv.call(this,e),this.T(t.preload?t.preload:0),this.O(!t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="VECTOR_TILE"}function xx(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s){if(s)return t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,(function(){return(-s[2]-1).toString()})).replace(r,(function(){var t=e.a?e.a[s[0]]:null;return d(t,55),(t.ka-t.ea+1+s[2]).toString()}))}}function Cx(t,e){for(var i=t.length,n=Array(i),o=0;o<i;++o)n[o]=xx(t[o],e);return Ix(n)}function Ix(t){return 1===t.length?t[0]:function(e,i,n){if(e)return t[x((e[1]<<e[0])+e[2],t.length)](e,i,n)}}function Ax(){}function bx(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,o=i[2].charCodeAt(0);for(n=i[1].charCodeAt(0);n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(o=parseInt(i[2],10),n=parseInt(i[1],10);n<=o;n++)e.push(t.replace(i[0],n.toString()));return e}return e.push(t),e}function wx(t,e,i,n){function o(){delete window[s],r.parentNode.removeChild(r)}var r=document.createElement("script"),s="olc_"+l(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(n||"callback")+"="+s;var a=setTimeout((function(){o(),i&&i()}),1e4);window[s]=function(t){clearTimeout(a),o(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function Sx(t){Qr.call(this,t)}function Mx(t,e,i,n){var o=jt(i,e,t);return i=Pt(e,n,i),void 0!==(e=e.Bc())&&(i*=e),void 0!==(e=t.Bc())&&(i/=e),(e=t.G())&&!T(e,o)||(t=Pt(t,i,o)/i,isFinite(t)&&0<t&&(i/=t)),i}function Ex(t,e,i,n){t=i-t,e=n-e;var o=Math.sqrt(t*t+e*e);return[Math.round(i+t/o),Math.round(n+e/o)]}function Tx(t,e,i,n,o,r,s,a,l,h,c){var u=xo(Math.round(i*t),Math.round(i*e));if(0===l.length)return u.canvas;u.scale(i,i);var p=[1/0,1/0,-1/0,-1/0];l.forEach((function(t){B(p,t.extent)}));var g=xo(Math.round(i*Q(p)/n),Math.round(i*Z(p)/n)),d=i/n;l.forEach((function(t){g.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,(t.extent[0]-p[0])*d,-(t.extent[3]-p[3])*d,Q(t.extent)*d,Z(t.extent)*d)}));var f=K(s);return a.c.forEach((function(t){var e=t.source,o=t.target,s=e[1][0],a=e[1][1],l=e[2][0],h=e[2][1];t=(o[0][0]-f[0])/r;var c=-(o[0][1]-f[1])/r,d=(o[1][0]-f[0])/r,y=-(o[1][1]-f[1])/r,m=(o[2][0]-f[0])/r,v=-(o[2][1]-f[1])/r;t:{for(a=(s=[[s-=o=e[0][0],a-=e=e[0][1],0,0,d-t],[l-=o,h-=e,0,0,m-t],[0,0,s,a,y-c],[0,0,l,h,v-c]]).length,l=0;l<a;l++){h=l;for(var _=Math.abs(s[l][l]),x=l+1;x<a;x++){var C=Math.abs(s[x][l]);C>_&&(_=C,h=x)}if(0===_){s=null;break t}for(_=s[h],s[h]=s[l],s[l]=_,h=l+1;h<a;h++)for(_=-s[h][l]/s[l][l],x=l;x<a+1;x++)s[h][x]=l==x?0:s[h][x]+_*s[l][x]}for(l=Array(a),h=a-1;0<=h;h--)for(l[h]=s[h][a]/s[h][h],_=h-1;0<=_;_--)s[_][a]-=s[_][h]*l[h];s=l}s&&(u.save(),u.beginPath(),a=Ex(l=(t+d+m)/3,h=(c+y+v)/3,t,c),d=Ex(l,h,d,y),m=Ex(l,h,m,v),u.moveTo(d[0],d[1]),u.lineTo(a[0],a[1]),u.lineTo(m[0],m[1]),u.clip(),u.transform(s[0],s[2],s[1],s[3],t,c),u.translate(p[0]-o,p[3]-e),u.scale(n/i,-n/i),u.drawImage(g.canvas,0,0),u.restore())})),c&&(u.save(),u.strokeStyle="black",u.lineWidth=1,a.c.forEach((function(t){var e=t.target;t=(e[0][0]-f[0])/r;var i=-(e[0][1]-f[1])/r,n=(e[1][0]-f[0])/r,o=-(e[1][1]-f[1])/r,s=(e[2][0]-f[0])/r;e=-(e[2][1]-f[1])/r,u.beginPath(),u.moveTo(n,o),u.lineTo(t,i),u.lineTo(s,e),u.closePath(),u.stroke()})),u.restore()),u.canvas}function Px(t,e,i,n,o){this.g=t,this.i=e;var r={},s=Gt(this.i,this.g);if(this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=s(t)),r[e]},this.f=n,this.v=o*o,this.c=[],this.l=!1,this.s=this.g.g&&!!n&&!!this.g.G()&&Q(n)==Q(this.g.G()),this.b=this.g.G()?Q(this.g.G()):null,this.j=this.i.G()?Q(this.i.G()):null,function t(e,i,n,o,r,s,a,l,h,c){var u=w([s,a,l,h]),p=e.b?Q(u)/e.b:null,g=e.b,d=e.g.g&&.5<p&&1>p,f=!1;if(0<c){if(e.i.c&&e.j){var y=w([i,n,o,r]);f|=.25<Q(y)/e.j}!d&&e.g.c&&p&&(f|=.25<p)}if(f||!e.f||$(u,e.f)){if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(0<c))return;f=!0}if(0<c&&(f||(u=e.a([(i[0]+o[0])/2,(i[1]+o[1])/2]),g=d?(x(s[0],g)+x(l[0],g))/2-x(u[0],g):(s[0]+l[0])/2-u[0],u=(s[1]+l[1])/2-u[1],f=g*g+u*u>e.v),f))return void(Math.abs(i[0]-o[0])<=Math.abs(i[1]-o[1])?(d=[(n[0]+o[0])/2,(n[1]+o[1])/2],g=e.a(d),u=[(r[0]+i[0])/2,(r[1]+i[1])/2],p=e.a(u),t(e,i,n,d,u,s,a,g,p,c-1),t(e,u,d,o,r,p,g,l,h,c-1)):(d=[(i[0]+n[0])/2,(i[1]+n[1])/2],g=e.a(d),u=[(o[0]+r[0])/2,(o[1]+r[1])/2],p=e.a(u),t(e,i,d,u,r,s,g,p,h,c-1),t(e,d,n,o,u,g,a,l,p,c-1)));if(d){if(!e.s)return;e.l=!0}e.c.push({source:[s,l,h],target:[i,o,r]}),e.c.push({source:[s,a,l],target:[i,n,o]})}}(this,t=K(i),e=J(i),n=W(i),i=U(i),o=this.a(t),this.a(e),this.a(n),this.a(i),10),this.l){var a=1/0;this.c.forEach((function(t){a=Math.min(a,t.source[0][0],t.source[1][0],t.source[2][0])})),this.c.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-a>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-a>this.b/2&&(e[0][0]-=this.b),e[1][0]-a>this.b/2&&(e[1][0]-=this.b),e[2][0]-a>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}}),this)}r={}}function Lx(t){var e=[1/0,1/0,-1/0,-1/0];return t.c.forEach((function(t){t=t.source,z(e,t[0]),z(e,t[1]),z(e,t[2])})),e}function Nx(t,e,i,n,o,r,s,a,l,h,c){if(bl.call(this,o,0),this.B=void 0!==c&&c,this.C=s,this.D=a,this.N=null,this.c=e,this.l=n,this.v=r||o,this.a=[],this.Id=null,this.f=0,r=n.Ma(this.v),a=this.l.G(),o=this.c.G(),0===H(r=a?q(r,a):r))this.state=4;else if((a=t.G())&&(o=o?q(o,a):a),n=Mx(t,i,Y(r),n.Ta(this.v[0])),!isFinite(n)||0>=n)this.state=4;else if(this.o=new Px(t,i,r,o,n*(void 0!==h?h:.5)),0===this.o.c.length)this.state=4;else if(this.f=e.Dc(n),i=Lx(this.o),o&&(t.g?(i[1]=f(i[1],o[1],o[3]),i[3]=f(i[3],o[1],o[3])):i=q(i,o)),H(i)){for(e=(t=oe(e,i,this.f)).fa;e<=t.la;e++)for(i=t.ea;i<=t.ka;i++)(h=l(this.f,e,i,s))&&this.a.push(h);0===this.a.length&&(this.state=4)}else this.state=4}function Dx(t){Kv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.bb=void 0!==t.opaque&&t.opaque,this.sc=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Sx(t.cacheSize),this.j=[0,0],this.jc="",this.Ea={transition:t.transition}}function Rx(t,e,i,n,o){if(!(t=t.Yd(e)))return!1;e=!0;for(var r,s,a=n.fa;a<=n.la;++a)for(var l=n.ea;l<=n.ka;++l)r=i+"/"+a+"/"+l,s=!1,t.a.hasOwnProperty(r)&&(s=2===(r=t.get(r)).getState())&&(s=!1!==o(r)),s||(e=!1);return e}function Ox(t,e){t.jc!==e&&(t.jc=e,t.u())}function Fx(t,e,i){var n=void 0!==i?i:t.c;if(i=t.eb(n),t.D&&n.c){var o=e;e=o[0],t=re(i,o),T(n=ue(n),t)?e=o:(o=Q(n),t[0]+=o*Math.ceil((n[0]-t[0])/o),e=i.jg(t,e))}if(o=e[0],n=e[1],t=e[2],i.minZoom>o||o>i.maxZoom)i=!1;else{var r=i.G();i=!(i=r?oe(i,r,o):i.a?i.a[o]:null)||g(i,n,t)}return i?e:null}function kx(t,e){be.call(this,t),this.tile=e}function Gx(t){Dx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.dc?this.dc.bind(this):Ax,this.urls=null,t.urls?this.vb(t.urls):t.url&&this.rb(t.url),t.tileUrlFunction&&this.hb(t.tileUrlFunction),this.V={}}function Bx(t){Gx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:jx,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Tl,this.f={},this.s={},this.ob=t.reprojectionErrorThreshold,this.O=!1}function zx(t,e,i,n,o,r,s){return o=(i=Fx(t,e=[e,i,n],r))?t.tileUrlFunction(i,o,r):void 0,(o=new t.tileClass(e,void 0!==o?0:4,void 0!==o?o:"",t.crossOrigin,t.tileLoadFunction,t.Ea)).key=s,me(o,"change",t.dj,t),o}function Vx(t,e,i,n,o,r){var s=e+"/"+i+"/"+n,a=t.jc;if(t.a.a.hasOwnProperty(s)){var l=t.a.get(s);if(l.key!=a){var h=l;l=zx(t,e,i,n,o,r,a),0==h.getState()?l.g=h.g:l.g=h,Sl(l),t.a.replace(s,l)}}else l=zx(t,e,i,n,o,r,a),t.a.set(s,l);return l}function jx(t,e){t.Y().src=e}function Hx(t){this.i=void 0!==t.hidpi&&t.hidpi,Bx.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Ft("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.culture?t.culture:"en-us",this.$=void 0!==t.maxZoom?t.maxZoom:-1,this.l=t.key,this.B=t.imagerySet,wx("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.B+"?uriScheme=https&include=ImageryProviders&key="+this.l+"&c="+this.o,this.La.bind(this),void 0,"jsonp")}function Ux(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:le({extent:ue(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Bx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})}function Wx(t){this.o=t.account,this.B=t.map||"",this.i=t.config||{},this.l={},Ux.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),Yx(this)}function Yx(t){var e=JSON.stringify(t.i);if(t.l[e])Xx(t,t.l[e]);else{var i="https://"+t.o+".carto.com/api/v1/map";t.B&&(i+="/named/"+t.B);var n=new XMLHttpRequest;n.addEventListener("load",t.em.bind(t,e)),n.addEventListener("error",t.dm.bind(t)),n.open("POST",i),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(t.i))}}function Xx(t,e){t.rb("https://"+e.cdn_url.https+"/"+t.o+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function Zx(t){$v.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return d((t=t.U())instanceof Zn,10),t},this.source=t.source,this.source.I("change",Zx.prototype.sa,this)}function qx(t){if(void 0!==t.resolution){t.features.length=0;for(var e=[1/0,1/0,-1/0,-1/0],i=t.distance*t.resolution,n=t.source.ee(),o={},r=0,s=n.length;r<s;r++){var a=n[r];l(a).toString()in o||!(a=t.geometryFunction(a))||(F(a=a.W(),e),S(e,i,e),a=(a=t.source.Yf(e)).filter((function(t){return!((t=l(t).toString())in o)&&(o[t]=!0)})),t.features.push(Kx(t,a)))}}}function Kx(t,e){for(var i=[0,0],n=e.length-1;0<=n;--n){var o=t.geometryFunction(e[n]);o?qi(i,o.W()):e.splice(n,1)}return en(i,1/e.length),(t=new ul(new Zn(i))).set("features",e),t}function Jx(t,e,i,n,o,r){this.s=e,this.l=t.G();var s=e.G(),a=s?q(i,s):i;s=Mx(t,e,Y(a),n),this.f=new Px(t,e,a,this.l,.5*s),this.c=n,this.g=i,t=Lx(this.f),this.j=(this.Tb=r(t,s,o))?this.Tb.a:1,this.je=this.i=null,o=2,this.Tb&&(o=0),qr.call(this,i,n,this.j,o)}function Qx(t){Kv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.o=void 0!==t.resolutions?t.resolutions:null,this.i=null,this.ua=0}function $x(t,e){return t.o&&(e=t.o[Xt(t.o,e,0)]),e}function tC(t,e){t.Y().src=e}function eC(t,e){be.call(this,t),this.image=e}s(mx,Oo),s(vx,Oo),vx.prototype.c=function(){return this.get("preload")},vx.prototype.j=function(t){this.set("preload",t)},vx.prototype.i=function(){return this.get("useInterimTilesOnError")},vx.prototype.C=function(t){this.set("useInterimTilesOnError",t)},s(_x,Xv),_x.prototype.c=function(){return this.get("preload")},_x.prototype.i=function(){return this.get("useInterimTilesOnError")},_x.prototype.T=function(t){this.set("preload",t)},_x.prototype.O=function(t){this.set("useInterimTilesOnError",t)},s(Sx,Qr),Sx.prototype.sd=function(t){for(var e,i;$r(this);){var n;if((n=(i=(e=this.g.Pc).ya[0].toString())in t)&&(e=e.ya,n=g(t[i],e[1],e[2])),n)break;Ae(this.pop())}},s(Nx,bl),Nx.prototype.ia=function(){1==this.state&&(this.Id.forEach(xe),this.Id=null),bl.prototype.ia.call(this)},Nx.prototype.Y=function(){return this.N},Nx.prototype.he=function(){var t=[];if(this.a.forEach((function(e){e&&2==e.getState()&&t.push({extent:this.c.Ma(e.ya),image:e.Y()})}),this),this.a.length=0,0===t.length)this.state=3;else{var e=this.v[0],i=this.l.Za(e),n="number"==typeof i?i:i[0];i="number"==typeof i?i:i[1],e=this.l.Ta(e);var o=this.c.Ta(this.f),r=this.l.Ma(this.v);this.N=Tx(n,i,this.C,o,this.c.G(),e,r,this.o,t,this.D,this.B),this.state=2}this.u()},Nx.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=0;this.Id=[],this.a.forEach((function(e){var i=e.getState();if(0==i||1==i){t++;var n=me(e,"change",(function(){var i=e.getState();2!=i&&3!=i&&4!=i||(xe(n),0==--t&&(this.Id.forEach(xe),this.Id=null,this.he()))}),this);this.Id.push(n)}}),this),this.a.forEach((function(t){0==t.getState()&&t.load()})),0===t&&setTimeout(this.he.bind(this),0)}},s(Dx,Kv),(t=Dx.prototype).cj=function(){return $r(this.a)},t.sd=function(t,e){(t=this.Yd(t))&&t.sd(e)},t.Zf=function(){return 0},t.eg=function(){return this.bb},t.jb=function(){return this.tileGrid},t.eb=function(t){return this.tileGrid?this.tileGrid:ae(t)},t.Yd=function(t){var e=this.c;return e&&!kt(e,t)?null:this.a},t.Xc=function(){return this.sc},t.Zd=function(t,e,i){return i=this.eb(i),e=this.Xc(e),t=b(i.Za(t),this.j),1==e?t:A(t,e,this.j)},t.sa=function(){this.a.clear(),this.u()},t.kh=a,s(kx,be),s(Gx,Dx),(t=Gx.prototype).yb=function(){return this.tileLoadFunction},t.zb=function(){return this.tileUrlFunction},t.Ab=function(){return this.urls},t.dj=function(t){var e=l(t=t.target),i=t.getState();if(1==i){this.V[e]=!0;var n="tileloadstart"}else e in this.V&&(delete this.V[e],n=3==i?"tileloaderror":2==i||5==i?"tileloadend":void 0);null!=n&&this.b(new kx(n,t))},t.Fb=function(t){this.a.clear(),this.tileLoadFunction=t,this.u()},t.hb=function(t,e){this.tileUrlFunction=t,function(t){if(0!==t.i){var e=t.c.jc.split("/").map(Number)[0];t.forEach((function(t){if(t.ya[0]!==e){var i=t.ya;this.remove(i[0]+"/"+i[1]+"/"+i[2]),Ae(t)}}),t)}}(this.a),void 0!==e?Ox(this,e):this.u()},t.rb=function(t){var e=this.urls=bx(t);this.hb(this.dc?this.dc.bind(this):Cx(e,this.tileGrid),t)},t.vb=function(t){this.urls=t;var e=t.join("\n");this.hb(this.dc?this.dc.bind(this):Cx(t,this.tileGrid),e)},t.kh=function(t,e,i){t=t+"/"+e+"/"+i,this.a.a.hasOwnProperty(t)&&this.a.get(t)},s(Bx,Gx),(t=Bx.prototype).cj=function(){if($r(this.a))return!0;for(var t in this.f)if($r(this.f[t]))return!0;return!1},t.sd=function(t,e){for(var i in t=this.Yd(t),this.a.sd(this.a==t?e:{}),this.f){var n=this.f[i];n.sd(n==t?e:{})}},t.Zf=function(t){return this.c&&t&&!kt(this.c,t)?0:this.$f()},t.$f=function(){return 0},t.eg=function(t){return!(this.c&&t&&!kt(this.c,t))&&Gx.prototype.eg.call(this,t)},t.eb=function(t){var e=this.c;return!this.tileGrid||e&&!kt(e,t)?((e=l(t).toString())in this.s||(this.s[e]=ae(t)),this.s[e]):this.tileGrid},t.Yd=function(t){var e=this.c;return!e||kt(e,t)?this.a:((t=l(t).toString())in this.f||(this.f[t]=new Sx(this.a.highWaterMark)),this.f[t])},t.ad=function(t,e,i,n,o){var r=this.c;if(r&&o&&!kt(r,o)){var s,a=this.Yd(o);if(t=(i=[t,e,i])[0]+"/"+i[1]+"/"+i[2],a.a.hasOwnProperty(t)&&(s=a.get(t)),e=this.jc,s&&s.key==e)return s;var l=this.eb(r),h=this.eb(o),c=Fx(this,i,o);return(n=new Nx(r,l,o,h,i,c,this.Xc(n),this.$f(),function(t,e,i,n){return Vx(this,t,e,i,n,r)}.bind(this),this.ob,this.O)).key=e,s?(n.g=s,Sl(n),a.replace(t,n)):a.set(t,n),n}return Vx(this,t,e,i,n,r||o)},t.Qb=function(t){if(this.O!=t){for(var e in this.O=t,this.f)this.f[e].clear();this.u()}},t.Rb=function(t,e){(t=Ft(t))&&((t=l(t).toString())in this.s||(this.s[t]=e))},s(Hx,Bx),Hx.prototype.ca=function(){return this.l},Hx.prototype.ua=function(){return this.B},Hx.prototype.La=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Qv(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var i=t.resourceSets[0].resources[0];t=-1==this.$?i.zoomMax:this.$;var n=ue(this.c);this.tileGrid=le({extent:n,minZoom:i.zoomMin,maxZoom:t,tileSize:(i.imageWidth==i.imageHeight?i.imageWidth:[i.imageWidth,i.imageHeight])/(this.i?2:1)});var o=this.o,r=this.i;if(this.tileUrlFunction=Ix(i.imageUrlSubdomains.map((function(t){var e=[0,0,0],n=i.imageUrl.replace("{subdomain}",t).replace("{culture}",o);return function(t){if(t)return $t(t[0],t[1],-t[2]-1,e),t=n,r&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",function(t){var e,i=t[0],n=Array(i),o=1<<i-1;for(e=0;e<i;++e){var r=48;t[1]&o&&(r+=1),t[2]&o&&(r+=2),n[e]=String.fromCharCode(r),o>>=1}return n.join("")}(e))}}))),i.imageryProviders){var s=Bt(Ft("EPSG:4326"),this.c);this.va((function(t){var e=[],n=t.viewState.zoom;return i.imageryProviders.map((function(i){for(var o=!1,r=i.coverageAreas,a=0,l=r.length;a<l;++a){var h=r[a];if(n>=h.zoomMin&&n<=h.zoomMax&&$(h=it([(h=h.bbox)[1],h[0],h[3],h[2]],s),t.extent)){o=!0;break}}o&&e.push(i.attribution)})),e.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),e}))}this.T=e,Qv(this,"ready")}},s(Ux,Bx),s(Wx,Ux),(t=Wx.prototype).nl=function(){return this.i},t.Sq=function(t){nt(this.i,t),Yx(this)},t.uq=function(t){this.i=t||{},Yx(this)},t.em=function(t,e){if(!(e=e.target).status||200<=e.status&&300>e.status){try{var i=JSON.parse(e.responseText)}catch(t){return void Qv(this,"error")}Xx(this,i),this.l[t]=i,Qv(this,"ready")}else Qv(this,"error")},t.dm=function(){Qv(this,"error")},s(Zx,$v),(t=Zx.prototype).Eo=function(){return this.distance},t.Fo=function(){return this.source},t.ae=function(t,e,i){this.source.ae(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,qx(this),this.Qc(this.features))},t.vq=function(t){this.distance=t,this.sa()},t.sa=function(){this.clear(),qx(this),this.Qc(this.features),$v.prototype.sa.call(this)},s(Jx,qr),Jx.prototype.ia=function(){1==this.state&&(xe(this.je),this.je=null),qr.prototype.ia.call(this)},Jx.prototype.Y=function(){return this.i},Jx.prototype.he=function(){var t=this.Tb.getState();2==t&&(this.i=Tx(Q(this.g)/this.c,Z(this.g)/this.c,this.j,this.Tb.resolution,0,this.c,this.g,this.f,[{extent:this.Tb.G(),image:this.Tb.Y()}],0)),this.state=t,this.u()},Jx.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=this.Tb.getState();2==t||3==t?this.he():(this.je=me(this.Tb,"change",(function(){var t=this.Tb.getState();2!=t&&3!=t||(xe(this.je),this.je=null,this.he())}),this),this.Tb.load())}},s(Qx,Kv),Qx.prototype.Y=function(t,e,i,n){var o=this.c;if(o&&n&&!kt(o,n)){if(this.i){if(this.ua==this.g&&kt(this.i.s,n)&&this.i.resolution==e&&G(this.i.G(),t))return this.i;Ae(this.i),this.i=null}return this.i=new Jx(o,n,t,e,i,function(t,e,i){return this.Wc(t,e,i,o)}.bind(this)),this.ua=this.g,this.i}return o&&(n=o),this.Wc(t,e,i,n)},Qx.prototype.j=function(t){switch((t=t.target).getState()){case 1:this.b(new eC(iC,t));break;case 2:this.b(new eC(nC,t));break;case 3:this.b(new eC(oC,t))}},s(eC,be);var iC="imageloadstart",nC="imageloadend",oC="imageloaderror";function rC(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var n=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}function sC(t){t=t||{},Qx.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.$=void 0===t.hidpi||t.hidpi,this.a=t.url,this.f=void 0!==t.imageLoadFunction?t.imageLoadFunction:tC,this.s=t.params||{},this.M=null,this.l=[0,0],this.O=0,this.B=void 0!==t.ratio?t.ratio:1.5}function aC(t){Qx.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.Ea=t.canvasFunction,this.V=null,this.$=0,this.La=void 0!==t.ratio?t.ratio:1.5}function lC(t){Qx.call(this,{projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.l=void 0!==t.displayDpi?t.displayDpi:96,this.f=t.params||{},this.O=t.url,this.a=void 0!==t.imageLoadFunction?t.imageLoadFunction:tC,this.$=void 0===t.hidpi||t.hidpi,this.ca=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.s=void 0!==t.ratio?t.ratio:1,this.Ea=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.B=0}function hC(t){var e=t.imageExtent,i=void 0!==t.crossOrigin?t.crossOrigin:null,n=void 0!==t.imageLoadFunction?t.imageLoadFunction:tC;Qx.call(this,{attributions:t.attributions,logo:t.logo,projection:Ft(t.projection)}),this.M=new Al(e,void 0,1,t.url,i,n),this.a=t.imageSize?t.imageSize:null,me(this.M,"change",this.j,this)}function cC(t){this.a=t.source,this.ob=[1,0,0,1,0,0],this.f=xo(),this.l=[0,0],this.ca=na.Jc(9),this.bb=null==t.renderBuffer?100:t.renderBuffer,this.B=null,aC.call(this,{attributions:t.attributions,canvasFunction:this.Mk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.a.getState()}),this.O=null,this.s=void 0,this.aj(t.style),me(this.a,"change",this.To,this)}function uC(t){t=t||{},Qx.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.ca=void 0!==t.crossOrigin?t.crossOrigin:null,this.f=t.url,this.s=void 0!==t.imageLoadFunction?t.imageLoadFunction:tC,this.a=t.params||{},this.l=!0,dC(this),this.$=t.serverType,this.Ea=void 0===t.hidpi||t.hidpi,this.M=null,this.B=[0,0],this.V=0,this.O=void 0!==t.ratio?t.ratio:1.5}s(sC,Qx),(t=sC.prototype).Ho=function(){return this.s},t.Wc=function(t,e,i,n){if(void 0===this.a)return null;e=$x(this,e),i=this.$?i:1;var o=this.M;if(o&&this.O==this.g&&o.resolution==e&&o.a==i&&P(o.G(),t))return o;nt(o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.s);var r=((t=t.slice())[0]+t[2])/2,s=(t[1]+t[3])/2;if(1!=this.B){var a=this.B*Q(t)/2,l=this.B*Z(t)/2;t[0]=r-a,t[1]=s-l,t[2]=r+a,t[3]=s+l}a=e/i,l=Math.ceil(Q(t)/a);var h=Math.ceil(Z(t)/a);return t[0]=r-a*l/2,t[2]=r+a*l/2,t[1]=s-a*h/2,t[3]=s+a*h/2,this.l[0]=l,this.l[1]=h,r=t,s=this.l,a=i,n=n.wb.split(":").pop(),o.SIZE=s[0]+","+s[1],o.BBOX=r.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=Math.round(90*a),(r=(n=this.a).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==n&&d(!1,50),o=rC(r,o),this.M=new Al(t,e,i,o,this.V,this.f),this.O=this.g,me(this.M,"change",this.j,this),this.M},t.Go=function(){return this.f},t.Io=function(){return this.a},t.Jo=function(t){this.M=null,this.f=t,this.u()},t.Ko=function(t){t!=this.a&&(this.a=t,this.M=null,this.u())},t.Lo=function(t){nt(this.s,t),this.M=null,this.u()},s(aC,Qx),aC.prototype.Wc=function(t,e,i,n){e=$x(this,e);var o=this.V;return o&&this.$==this.g&&o.resolution==e&&o.a==i&&P(o.G(),t)||(et(t=t.slice(),this.La),(n=this.Ea(t,e,i,[Q(t)/e*i,Z(t)/e*i],n))&&(o=new Kr(t,e,i,n)),this.V=o,this.$=this.g),o},s(lC,Qx),(t=lC.prototype).No=function(){return this.f},t.Wc=function(t,e,i){e=$x(this,e),i=this.$?i:1;var n=this.M;if(n&&this.B==this.g&&n.resolution==e&&n.a==i&&P(n.G(),t))return n;1!=this.s&&et(t=t.slice(),this.s);var o=[Q(t)/e*i,Z(t)/e*i];if(void 0!==this.O){n=this.O;var r=Y(t),s=this.ca,a=Q(t),l=Z(t),h=o[0],c=o[1],u=.0254/this.l;o={OPERATION:this.Ea?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(o[0]),SETDISPLAYHEIGHT:Math.round(o[1]),SETVIEWSCALE:c*a>h*l?a*s/(h*u):l*s/(c*u),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]},nt(o,this.f),me(n=new Al(t,e,i,n=rC(n,o),this.V,this.a),"change",this.j,this)}else n=null;return this.M=n,this.B=this.g,n},t.Mo=function(){return this.a},t.Po=function(t){nt(this.f,t),this.u()},t.Oo=function(t){this.M=null,this.a=t,this.u()},s(hC,Qx),hC.prototype.Wc=function(t){return $(t,this.M.G())?this.M:null},hC.prototype.j=function(t){if(2==this.M.getState()){var e=this.M.G(),i=this.M.Y();if(this.a)var n=this.a[0],o=this.a[1];else n=i.width,o=i.height;if((e=Math.ceil(Q(e)/(Z(e)/o)))!=n){var r=(e=xo(e,o)).canvas;e.drawImage(i,0,0,n,o,0,0,r.width,r.height),this.M.ih(r)}}Qx.prototype.j.call(this,t)},s(cC,aC),(t=cC.prototype).Mk=function(t,e,i,n,o){var r=new Na(.5*e/i,t,e,i,this.a.$,this.ca,this.bb);this.a.ae(t,e,o);var s=!1;return this.a.ec(t,(function(t){var n,o;if(!(n=s))if((n=t.ib())?o=n.call(t,e):this.s&&(o=this.s(t,e)),o){var a,l=!1;for(Array.isArray(o)||(o=[o]),n=0,a=o.length;n<a;++n)l=za(r,t,o[n],Ba(e,i),this.So,this)||l;n=l}else n=!1;s=n}),this),Oa(r),s?null:(this.l[0]!=n[0]||this.l[1]!=n[1]?(this.f.canvas.width=n[0],this.f.canvas.height=n[1],this.l[0]=n[0],this.l[1]=n[1]):this.f.clearRect(0,0,n[0],n[1]),this.ca.clear(),t=function(t,e,i,n,o){return i=n/i,bn(t.ob,o[0]/2,o[1]/2,i,-i,0,-e[0],-e[1])}(this,Y(t),e,i,n),r.Na(this.f,t,0,{}),this.B=r,this.f.canvas)},t.wa=function(t,e,i,n,o,r){if(this.B){var s={};return this.B.wa(t,e,0,n,o,(function(t){var e=l(t).toString();if(!(e in s))return s[e]=!0,r(t)}),null)}},t.Qo=function(){return this.a},t.Ro=function(){return this.O},t.ib=function(){return this.s},t.So=function(){this.u()},t.To=function(){Qv(this,this.a.getState())},t.aj=function(t){this.O=void 0!==t?t:ll,this.s=t?sl(this.O):void 0,this.u()},s(uC,Qx);var pC=[101,101];function gC(t,e,i,n,o,r){if(d(void 0!==t.f,9),r[t.l?"CRS":"SRS"]=o.wb,"STYLES"in t.a||(r.STYLES=""),1!=n)switch(t.$){case"geoserver":n=90*n+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+";dpi:"+n:"dpi:"+n;break;case"mapserver":r.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":r.DPI=90*n;break;default:d(!1,8)}var s;return r.WIDTH=i[0],r.HEIGHT=i[1],i=o.b,s=t.l&&"ne"==i.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=s.join(","),rC(t.f,r)}function dC(t){t.l=0<=Zi(t.a.VERSION||"1.3.0")}function fC(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],Ux.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function yC(t){this.B=null,this.Ea=void 0!==t.operationType?t.operationType:"pixel",this.La=void 0!==t.threads?t.threads:1,this.f=function(t){for(var e=t.length,i=Array(e),n=0;n<e;++n){var o=n,r=t[n],s=null;r instanceof Dx?(r=new vx({source:r}),s=new ea(r)):r instanceof Qx&&(r=new mx({source:r}),s=new js(r)),i[o]=s}return i}(t.sources);for(var e=0,i=this.f.length;e<i;++e)me(this.f[e],"change",this.u,this);this.$=new Vi((function(){return 1}),this.u.bind(this)),i={};for(var n=0,o=(e=function(t){return t.map((function(t){return bo(t.a)}))}(this.f)).length;n<o;++n)i[l(e[n].layer)]=e[n];this.a=null,this.O={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],extent:null,focus:null,index:0,layerStates:i,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.$,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Qx.call(this,{}),void 0!==t.operation&&this.s(t.operation,t.lib)}(t=uC.prototype).Uo=function(t,e,i,n){if(void 0!==this.f){i=Ft(i);var o=this.c;o&&o!==i&&(e=Mx(o,i,t,e),t=jt(t,i,o));var r=X(t,e,0,pC),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return nt(s,this.a,n),n=Math.floor((r[3]-t[1])/e),s[this.l?"I":"X"]=Math.floor((t[0]-r[0])/e),s[this.l?"J":"Y"]=n,gC(this,r,pC,1,o||i,s)}},t.Wo=function(){return this.a},t.Wc=function(t,e,i,n){if(void 0===this.f)return null;e=$x(this,e),1==i||this.Ea&&void 0!==this.$||(i=1);var o=e/i,r=Y(t),s=X(r,o,0,[Math.ceil(Q(t)/o),Math.ceil(Z(t)/o)]);return t=X(r,o,0,[Math.ceil(this.O*Q(t)/o),Math.ceil(this.O*Z(t)/o)]),(r=this.M)&&this.V==this.g&&r.resolution==e&&r.a==i&&P(r.G(),s)?r:(nt(s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.a),this.B[0]=Math.round(Q(t)/o),this.B[1]=Math.round(Z(t)/o),n=gC(this,t,this.B,i,n,s),this.M=new Al(t,e,i,n,this.ca,this.s),this.V=this.g,me(this.M,"change",this.j,this),this.M)},t.Vo=function(){return this.s},t.Xo=function(){return this.f},t.Yo=function(t){this.M=null,this.s=t,this.u()},t.Zo=function(t){t!=this.f&&(this.f=t,this.M=null,this.u())},t.$o=function(t){nt(this.a,t),dC(this),this.M=null,this.u()},s(fC,Ux),na.nf={},na.nf.Hf=function(){},function(t){function e(t,e,i){return s?new ImageData(t,e,i):((e=a.createImageData(e,i)).data.set(t),e)}function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(i){var n=i.buffers,o=i.meta,r=i.width,s=i.height,a=n.length,l=n[0].byteLength;if(i.imageOps){for(l=Array(a),i=0;i<a;++i){var h=i,c=new Uint8ClampedArray(n[i]),u=r,p=s;c=e?new ImageData(c,u,p):{data:c,width:u,height:p},l[h]=c}r=t(l,o).data}else{for(r=new Uint8ClampedArray(l),s=Array(a),h=Array(a),i=0;i<a;++i)s[i]=new Uint8ClampedArray(n[i]),h[i]=[0,0,0,0];for(n=0;n<l;n+=4){for(i=0;i<a;++i)c=s[i],h[i][0]=c[n],h[i][1]=c[n+1],h[i][2]=c[n+2],h[i][3]=c[n+3];i=t(h,o),r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3]}}return r.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map((function(e){return"var "+e+" = "+t.lib[e].toString()+";"})).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),(n=new Worker(n)).addEventListener("message",e),n}function o(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout((function(){e({data:{buffer:n(t),meta:t.meta}})}),0)}}}function r(t){var e;this.Jf=!!t.Cm;var i=[];if(e=0===t.threads?0:this.Jf?1:t.threads||1)for(var r=0;r<e;++r)i[r]=n(t,this.xh.bind(this,r));else i[0]=o(t,this.xh.bind(this,0));this.we=i,this.Nd=[],this.Bk=t.Sp||1/0,this.ve=0,this.od={},this.Kf=null}var s=!0;try{new ImageData(10,10)}catch(t){s=!1}var a=document.createElement("canvas").getContext("2d");r.prototype.Rp=function(t,e,i){this.zk({inputs:t,ii:e,callback:i}),this.uh()},r.prototype.zk=function(t){for(this.Nd.push(t);this.Nd.length>this.Bk;)this.Nd.shift().callback(null,null)},r.prototype.uh=function(){if(0===this.ve&&0<this.Nd.length){var t=this.Kf=this.Nd.shift(),e=t.inputs[0].width,i=t.inputs[0].height,n=t.inputs.map((function(t){return t.data.buffer})),o=this.we.length;if(this.ve=o,1===o)this.we[0].postMessage({buffers:n,meta:t.ii,imageOps:this.Jf,width:e,height:i},n);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/o),s=0;s<o;++s){for(var a=s*r,l=[],h=0,c=n.length;h<c;++h)l.push(n[s].slice(a,a+r));this.we[s].postMessage({buffers:l,meta:t.ii,imageOps:this.Jf,width:e,height:i},l)}}},r.prototype.xh=function(t,e){this.hr||(this.od[t]=e.data,--this.ve,0===this.ve&&this.Ck())},r.prototype.Ck=function(){var t=this.Kf,i=this.we.length;if(1===i)var n=new Uint8ClampedArray(this.od[0].buffer),o=this.od[0].meta;else{var r=t.inputs[0].data.length;n=new Uint8ClampedArray(r),o=Array(r),r=4*Math.ceil(r/4/i);for(var s=0;s<i;++s){var a=s*r;n.set(new Uint8ClampedArray(this.od[s].buffer),a),o[s]=this.od[s].meta}}this.Kf=null,this.od={},t.callback(null,e(n,t.inputs[0].width,t.inputs[0].height),o),this.uh()},t.default={Hf:r},t.Hf=r}(na.nf=na.nf||{}),s(yC,Qx),yC.prototype.s=function(t,e){this.B=new na.nf.Hf({operation:t,Cm:"image"===this.Ea,Sp:1,lib:e,threads:this.La}),this.u()},yC.prototype.Y=function(t,e,i,n){i=!0;for(var o,r=0,s=this.f.length;r<s;++r)if("ready"!==(o=this.f[r].a.ha()).getState()){i=!1;break}if(!i)return null;if((i=nt({},this.O)).viewState=nt({},i.viewState),o=Y(t),i.extent=t.slice(),i.focus=o,i.size[0]=Math.round(Q(t)/e),i.size[1]=Math.round(Z(t)/e),i.time=Date.now(),i.animate=!1,(r=i.viewState).center=o,r.projection=n,r.resolution=e,this.l=i,this.a&&(n=this.a.resolution,o=this.a.G(),e===n&&G(t,o)||(this.a=null)),!this.a||this.g!==this.V)t:{for(t=this.l,n=this.f.length,e=Array(n),o=0;o<n;++o){r=this.f[o],s=t;var a=t.layerStatesArray[o];if(r.$c(s,a)){var l=s.size[0],h=s.size[1];if(mC){var c=mC.canvas;c.width!==l||c.height!==h?mC=xo(l,h):mC.clearRect(0,0,l,h)}else mC=xo(l,h);r.df(s,a,mC),r=mC.getImageData(0,0,l,h)}else r=null;if(!r)break t;e[o]=r}n={},this.b(new vC(_C,t,n)),this.B.Rp(e,n,this.ca.bind(this,t))}return ji(i.tileQueue,16,16),i.animate&&requestAnimationFrame(this.u.bind(this)),this.a},yC.prototype.ca=function(t,e,i,n){if(!e&&i){e=t.extent;var o=t.viewState.resolution;if(o===this.l.viewState.resolution&&G(e,this.l.extent)){if(this.a)var r=this.a.Y().getContext("2d");else r=xo(Math.round(Q(e)/o),Math.round(Z(e)/o)),this.a=new Kr(e,o,1,r.canvas);r.putImageData(i,0,0),this.u(),this.V=this.g,this.b(new vC(xC,t,n))}}};var mC=null;function vC(t,e,i){be.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=i}s(vC,be),yC.prototype.Wc=function(){return null};var _C="beforeoperations",xC="afteroperations";function CC(t){var e=t.layer.indexOf("-");e=bC[-1==e?t.layer:t.layer.slice(0,e)];var i=AC[t.layer];Ux.call(this,{attributions:IC,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:null!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:null!=t.minZoom?t.minZoom:e.minZoom,opaque:i.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+i.Ob,wrapX:t.wrapX})}s(CC,Ux);var IC=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],AC={terrain:{Ob:"jpg",opaque:!0},"terrain-background":{Ob:"jpg",opaque:!0},"terrain-labels":{Ob:"png",opaque:!1},"terrain-lines":{Ob:"png",opaque:!1},"toner-background":{Ob:"png",opaque:!0},toner:{Ob:"png",opaque:!0},"toner-hybrid":{Ob:"png",opaque:!1},"toner-labels":{Ob:"png",opaque:!1},"toner-lines":{Ob:"png",opaque:!1},"toner-lite":{Ob:"png",opaque:!0},watercolor:{Ob:"jpg",opaque:!0}},bC={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function wC(t){t=t||{},Bx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.i=t.params||{},this.l=[1/0,1/0,-1/0,-1/0],Ox(this,SC(this))}function SC(t){var e,i=0,n=[];for(e in t.i)n[i++]=e+"-"+t.i[e];return n.join("/")}function MC(t){Dx.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function EC(t,e,i){bl.call(this,t,2),this.c=e,this.ta=i,this.a=null}function TC(t){if(this.i=null,Bx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Ft("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),t.url)if(t.jsonp)wx(t.url,this.Cg.bind(this),this.ef.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.bp.bind(this)),e.addEventListener("error",this.ap.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Cg(t.tileJSON):d(!1,51)}function PC(t){if(Dx.call(this,{projection:Ft("EPSG:3857"),state:"loading"}),this.s=void 0===t.preemptive||t.preemptive,this.l=Ax,this.f=void 0,this.i=t.jsonp||!1,t.url)if(this.i)wx(t.url,this.Dg.bind(this),this.ff.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.gp.bind(this)),e.addEventListener("error",this.fp.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Dg(t.tileJSON):d(!1,51)}function LC(t,e,i,n,o,r){bl.call(this,t,e),this.v=i,this.a=n,this.N=o,this.c=this.l=this.f=null,this.o=r}function NC(t){if(0==t.state)if(t.state=1,t.o)wx(t.v,t.bj.bind(t),t.Ne.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.ep.bind(t)),e.addEventListener("error",t.cp.bind(t)),e.open("GET",t.v),e.send()}}function DC(t){var e=(t=t||{}).params||{};Bx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.gutter?t.gutter:0,this.i=e,this.l=!0,this.B=t.serverType,this.$=void 0===t.hidpi||t.hidpi,this.ca=[1/0,1/0,-1/0,-1/0],FC(this),Ox(this,OC(this))}function RC(t,e,i,n,o,r,s){var a=t.urls;if(a){if(s.WIDTH=i[0],s.HEIGHT=i[1],s[t.l?"CRS":"SRS"]=r.wb,"STYLES"in t.i||(s.STYLES=""),1!=o)switch(t.B){case"geoserver":i=90*o+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":s.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":s.DPI=90*o;break;default:d(!1,52)}return r=r.b,t.l&&"ne"==r.substr(0,2)&&(t=n[0],n[0]=n[1],n[1]=t,t=n[2],n[2]=n[3],n[3]=t),s.BBOX=n.join(","),rC(1==a.length?a[0]:a[x((e[1]<<e[0])+e[2],a.length)],s)}}function OC(t){var e,i=0,n=[];for(e in t.i)n[i++]=e+"-"+t.i[e];return n.join("/")}function FC(t){t.l=0<=Zi(t.i.VERSION||"1.3.0")}function kC(t,e,i,n,o,r,s,a,l,h,c,u,p,g,d){if(bl.call(this,t,e,d),this.v={},this.o={},this.c=h,this.a=[],this.D=i,this.l=r,this.f=[],this.N=[],r){var f=l.Ma(r),y=l.Ta(t[0]);a.Vf(f,a.Dc(y),function(t){var e=q(f,a.Ma(t)),i=a.G();i&&(e=q(e,i)),.5<=Q(e)/y&&.5<=Z(e)/y&&(e=t.toString(),(i=h[e])||(i=s(t,c,u),i=h[e]=new p(t,null==i?4:0,null==i?"":i,n,o),this.N.push(me(i,"change",g))),i.c++,this.a.push(e))}.bind(this))}}function GC(t,e){return(e=l(e).toString())in t.v||(t.v[e]=xo()),t.v[e]}function BC(t,e){return(e=l(e).toString())in t.o||(t.o[e]={Be:!1,eh:null,wf:-1,fh:-1}),t.o[e]}function zC(t,e){t.ug(Yu(e,t.v,t.Cp.bind(t),t.Bp.bind(t)))}function VC(t){var e=t.projection||"EPSG:3857",i=t.extent||ue(e),n=t.tileGrid||le({extent:i,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});Gx.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:i,logo:t.logo,opaque:!1,projection:e,state:t.state,tileGrid:n,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:zC,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.l=t.format?t.format:null,this.i={},this.s=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Kc,this.f={}}function jC(t){this.s=t.matrixIds,te.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function HC(t,e,i){var n=[],o=[],r=[],s=[],a=[],l=void 0!==i?i:[],h=(i=Ft((i=t.SupportedCRS).replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ft(i)).Bc(),c="ne"==i.b.substr(0,2);return t.TileMatrix.sort((function(t,e){return e.ScaleDenominator-t.ScaleDenominator})),t.TileMatrix.forEach((function(t){var e;if(e=!(0<l.length)||qt(l,(function(e){return t.Identifier==e.TileMatrix}))){o.push(t.Identifier),e=28e-5*t.ScaleDenominator/h;var i=t.TileWidth,u=t.TileHeight;c?r.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):r.push(t.TopLeftCorner),n.push(e),s.push(i==u?i:[i,u]),a.push([t.MatrixWidth,-t.MatrixHeight])}})),new jC({extent:e,origins:r,resolutions:n,matrixIds:o,tileSizes:s,sizes:a})}function UC(t){this.La=void 0!==t.version?t.version:"1.0.0",this.B=void 0!==t.format?t.format:"image/jpeg",this.i=void 0!==t.dimensions?t.dimensions:{},this.$=t.layer,this.o=t.matrixSet,this.ca=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=bx(t.url));var i=this.ua=void 0!==t.requestEncoding?t.requestEncoding:"KVP",n=t.tileGrid,o={layer:this.$,style:this.ca,tilematrixset:this.o};"KVP"==i&&nt(o,{Service:"WMTS",Request:"GetTile",Version:this.La,Format:this.B});var r=this.i;this.l=function(t){return t="KVP"==i?rC(t,o):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in o?o[e.toLowerCase()]:t})),function(e){if(e){var o={TileMatrix:n.s[e[0]],TileCol:e[1],TileRow:-e[2]-1};return nt(o,r),e=t,"KVP"==i?rC(e,o):e.replace(/\{(\w+?)\}/g,(function(t,e){return o[e]}))}}};var s=e&&0<e.length?Ix(e.map(this.l)):Ax;Bx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),Ox(this,WC(this))}function WC(t){var e,i=0,n=[];for(e in t.i)n[i++]=e+"-"+t.i[e];return n.join("/")}function YC(t){var e=(t=t||{}).size,i=e[0],n=e[1];e=t.extent||[0,-e[1],e[0],0];var o=[],r=t.tileSize||256,s=r;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:ZC){case ZC:for(;i>s||n>s;)o.push([Math.ceil(i/s),Math.ceil(n/s)]),s+=s;break;case qC:for(;i>s||n>s;)o.push([Math.ceil(i/s),Math.ceil(n/s)]),i>>=1,n>>=1;break;default:d(!1,53)}o.push([1,1]),o.reverse(),n=[1];var a=[0];for(s=1,i=o.length;s<i;s++)n.push(1<<s),a.push(o[s-1][0]*o[s-1][1]+a[s-1]);n.reverse();var l=new te({tileSize:r,extent:e,origin:K(e),resolutions:n});(e=t.url)&&-1==e.indexOf("{TileGroup}")&&-1==e.indexOf("{tileIndex}")&&(e+="{TileGroup}/{z}-{x}-{y}.jpg"),e=Ix((e=bx(e)).map((function(t){return function(e){if(e){var i=e[0],n=e[1],r=n+(e=-e[2]-1)*o[i][0],s={z:i,x:n,y:e,tileIndex:r,TileGroup:"TileGroup"+((r+a[i])/l.Za(i)|0)};return t.replace(/\{(\w+?)\}/g,(function(t,e){return s[e]}))}}}))),Bx.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:XC.bind(null,l),tileGrid:l,tileUrlFunction:e,transition:t.transition})}function XC(t,e,i,n,o,r,s){Tl.call(this,e,i,n,o,r,s),this.a=null,this.o=b(t.Za(e[0]))}s(wC,Bx),wC.prototype.o=function(){return this.i},wC.prototype.Xc=function(t){return t},wC.prototype.dc=function(t,e,i){var n=this.tileGrid;if(n||(n=this.eb(i)),!(n.b.length<=t[0])){var o=n.Ma(t,this.l),r=b(n.Za(t[0]),this.j);1!=e&&(r=A(r,e,this.j)),nt(n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var s=this.urls;return s?(i=i.wb.split(":").pop(),n.SIZE=r[0]+","+r[1],n.BBOX=o.join(","),n.BBOXSR=i,n.IMAGESR=i,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),t=rC(t=(1==s.length?s[0]:s[x((t[1]<<t[0])+t[2],s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),n)):t=void 0,t}},wC.prototype.B=function(t){nt(this.i,t),Ox(this,SC(this))},s(MC,Dx),MC.prototype.ad=function(t,e,i){var n=t+"/"+e+"/"+i;if(this.a.a.hasOwnProperty(n))return this.a.get(n);var o=b(this.tileGrid.Za(t));return o=new EC(t=[t,e,i],o,e=(e=Fx(this,t))?Fx(this,e).toString():""),this.a.set(n,o),o},s(EC,bl),EC.prototype.Y=function(){if(this.a)return this.a;var t=this.c,e=xo(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.ta,t[0]/2,t[1]/2),this.a=e.canvas},EC.prototype.load=function(){},s(TC,Bx),(t=TC.prototype).bp=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ef()}this.Cg(e)}else this.ef()},t.ap=function(){this.ef()},t.Sl=function(){return this.i},t.Cg=function(t){var e=Ft("EPSG:4326"),i=this.c;if(void 0!==t.bounds){var n=Bt(e,i);n=it(t.bounds,n)}var o=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=i=le({extent:ue(i),maxZoom:r,minZoom:o}),this.tileUrlFunction=Cx(t.tiles,i),void 0!==t.attribution&&!this.C){var s=void 0!==n?n:e.G();this.va((function(e){return $(s,e.extent)?[t.attribution]:null}))}this.i=t,Qv(this,"ready")},t.ef=function(){Qv(this,"error")},s(PC,Dx),(t=PC.prototype).gp=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ff()}this.Dg(e)}else this.ff()},t.fp=function(){this.ff()},t.Pl=function(){return this.f},t.al=function(t,e,i,n,o){this.tileGrid?(e=this.tileGrid.Le(t,e),function(t,e,i,n,o){0==t.state&&!0===o?(ve(t,"change",(function(){i.call(n,this.getData(e))}),t),NC(t)):!0===o?setTimeout(function(){i.call(n,this.getData(e))}.bind(t),0):i.call(n,t.getData(e))}(this.ad(e[0],e[1],e[2],1,this.c),t,i,n,o)):!0===o?setTimeout((function(){i.call(n,null)}),0):i.call(n,null)},t.ff=function(){Qv(this,"error")},t.Dg=function(t){var e=Ft("EPSG:4326"),i=this.c;if(void 0!==t.bounds){var n=Bt(e,i);n=it(t.bounds,n)}var o=t.minzoom||0,r=t.maxzoom||22;if(this.tileGrid=i=le({extent:ue(i),maxZoom:r,minZoom:o}),this.f=t.template,o=t.grids){if(this.l=Cx(o,i),void 0!==t.attribution){var s=void 0!==n?n:e.G();this.va((function(e){return $(s,e.extent)?[t.attribution]:null}))}Qv(this,"ready")}else Qv(this,"error")},t.ad=function(t,e,i,n,o){var r=t+"/"+e+"/"+i;return this.a.a.hasOwnProperty(r)?this.a.get(r):(e=Fx(this,t=[t,e,i],o),n=new LC(t,void 0!==(n=this.l(e,n,o))?0:4,void 0!==n?n:"",this.tileGrid.Ma(t),this.s,this.i),this.a.set(r,n),n)},t.kh=function(t,e,i){t=t+"/"+e+"/"+i,this.a.a.hasOwnProperty(t)&&this.a.get(t)},s(LC,bl),(t=LC.prototype).Y=function(){return null},t.getData=function(t){if(!this.f||!this.l)return null;var e=this.f[Math.floor((1-(t[1]-this.a[1])/(this.a[3]-this.a[1]))*this.f.length)];return"string"!=typeof e?null:(93<=(e=e.charCodeAt(Math.floor((t[0]-this.a[0])/(this.a[2]-this.a[0])*e.length)))&&e--,35<=e&&e--,t=null,(e-=32)in this.l&&(e=this.l[e],t=this.c&&e in this.c?this.c[e]:e),t)},t.lb=function(){return this.v},t.Ne=function(){this.state=3,this.u()},t.bj=function(t){this.f=t.grid,this.l=t.keys,this.c=t.data,this.state=4,this.u()},t.ep=function(t){if(!(t=t.target).status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.Ne()}this.bj(e)}else this.Ne()},t.cp=function(){this.Ne()},t.load=function(){this.N&&NC(this)},s(DC,Bx),(t=DC.prototype).hp=function(t,e,i,n){i=Ft(i);var o=this.c,r=this.tileGrid;if(r||(r=this.eb(i)),e=r.Le(t,e),!(r.b.length<=e[0])){var s=r.Ta(e[0]),a=r.Ma(e,this.ca);r=b(r.Za(e[0]),this.j);var l=this.o;return 0!==l&&(r=I(r,l,this.j),a=S(a,s*l,a)),o&&o!==i&&(s=Mx(o,i,t,s),a=Ht(a,i,o),t=jt(t,i,o)),l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},nt(l,this.i,n),n=Math.floor((a[3]-t[1])/s),l[this.l?"I":"X"]=Math.floor((t[0]-a[0])/s),l[this.l?"J":"Y"]=n,RC(this,e,r,a,1,o||i,l)}},t.$f=function(){return this.o},t.ip=function(){return this.i},t.Xc=function(t){return this.$&&void 0!==this.B?t:1},t.dc=function(t,e,i){var n=this.tileGrid;if(n||(n=this.eb(i)),!(n.b.length<=t[0])){1==e||this.$&&void 0!==this.B||(e=1);var o=n.Ta(t[0]),r=n.Ma(t,this.ca);n=b(n.Za(t[0]),this.j);var s=this.o;return 0!==s&&(n=I(n,s,this.j),r=S(r,o*s,r)),1!=e&&(n=A(n,e,this.j)),nt(o={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),RC(this,t,n,r,e,i,o)}},t.jp=function(t){nt(this.i,t),FC(this),Ox(this,OC(this))},s(kC,bl),(t=kC.prototype).ia=function(){for(var t=0,e=this.a.length;t<e;++t){var i=this.a[t],n=this.c[i];n.c--,0==n.c&&(delete this.c[i],Ae(n))}this.a.length=0,this.c=null,this.f.forEach(xe),this.f.length=0,this.g&&Ae(this.g),this.state=5,this.u(),this.N.forEach(xe),this.N.length=0,bl.prototype.ia.call(this)},t.Y=function(t){return-1==BC(this,t).fh?null:GC(this,t).canvas},t.lb=function(){return this.a.join("/")+"-"+this.D},t.load=function(){var t=0,e={};0==this.state&&Ml(this,1),1==this.state&&this.a.forEach(function(i){var n=this.c[i];0==n.state&&(n.ug(this.C),n.load()),1==n.state&&(i=me(n,"change",function(){var i=n.getState();if(2==i||3==i){var o=l(n);3==i?e[o]=!0:(--t,delete e[o]),0==t-Object.keys(e).length&&this.Kh()}}.bind(this)),this.f.push(i),++t)}.bind(this)),0==t-Object.keys(e).length&&setTimeout(this.Kh.bind(this),0)},t.Kh=function(){for(var t=this.a.length,e=0,i=t-1;0<=i;--i){var n=this.c[this.a[i]].getState();2!=n&&--t,4==n&&++e}t==this.a.length?(this.f.forEach(xe),this.f.length=0,Ml(this,2)):Ml(this,e==this.a.length?4:3)},s(VC,Gx),(t=VC.prototype).clear=function(){this.a.clear(),this.i={}},t.ad=function(t,e,i,n,o){var r=t+"/"+e+"/"+i;return this.a.a.hasOwnProperty(r)?this.a.get(r):(n=new kC(t=[t,e,i],null!==(e=Fx(this,t,o))?0:4,this.g,this.l,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.eb(o),this.i,n,o,this.tileClass,this.dj.bind(this),this.Ea),this.a.set(r,n),n)},t.eb=function(t){var e=t.wb,i=this.f[e];return i||(i=this.tileGrid,i=this.f[e]=ce(t,void 0,i?i.Za(i.minZoom):void 0)),i},t.Xc=function(t){return t},t.Zd=function(t,e,i){return t=b(this.eb(i).Za(t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},s(jC,te),jC.prototype.v=function(){return this.s},s(UC,Bx),(t=UC.prototype).vb=function(t){this.urls=t;var e=t.join("\n");this.hb(this.dc?this.dc.bind(this):Ix(t.map(this.l.bind(this))),e)},t.ol=function(){return this.i},t.kp=function(){return this.B},t.lp=function(){return this.$},t.Al=function(){return this.o},t.Nl=function(){return this.ua},t.mp=function(){return this.ca},t.Ul=function(){return this.La},t.Tq=function(t){nt(this.i,t),Ox(this,WC(this))},s(YC,Bx),s(XC,Tl),XC.prototype.Y=function(){if(this.a)return this.a;var t=Tl.prototype.Y.call(this);if(2==this.state){var e=this.o;return t.width==e[0]&&t.height==e[1]?this.a=t:((e=xo(e[0],e[1])).drawImage(t,0,0),this.a=e.canvas)}return t};var ZC="default",qC="truncated";return c.prototype.code=c.prototype.code,r("ol.Attribution",pe),pe.prototype.getHTML=pe.prototype.b,r("ol.CanvasMap",Ya),r("ol.Collection",Re),Re.prototype.clear=Re.prototype.clear,Re.prototype.extend=Re.prototype.qg,Re.prototype.forEach=Re.prototype.forEach,Re.prototype.getArray=Re.prototype.Xm,Re.prototype.item=Re.prototype.item,Re.prototype.getLength=Re.prototype.kc,Re.prototype.insertAt=Re.prototype.Re,Re.prototype.pop=Re.prototype.pop,Re.prototype.push=Re.prototype.push,Re.prototype.remove=Re.prototype.remove,Re.prototype.removeAt=Re.prototype.Wg,Re.prototype.setAt=Re.prototype.rq,Ge.prototype.element=Ge.prototype.element,r("ol.color.asArray",ms),r("ol.color.asString",vs),r("ol.colorlike.asColorLike",Cs),r("ol.control.defaults",Ho),r("ol.coordinate.add",qi),r("ol.coordinate.createStringXY",(function(t){return function(e){return sn(e,t)}})),r("ol.coordinate.format",Qi),r("ol.coordinate.rotate",tn),r("ol.coordinate.toStringHDMS",(function(t,e){return t?Ji("NS",t[1],e)+" "+Ji("EW",t[0],e):""})),r("ol.coordinate.toStringXY",sn),r("ol.DeviceOrientation",Xa),Xa.prototype.getAlpha=Xa.prototype.Ym,Xa.prototype.getBeta=Xa.prototype.ll,Xa.prototype.getGamma=Xa.prototype.ql,Xa.prototype.getHeading=Xa.prototype.Zm,Xa.prototype.getTracking=Xa.prototype.li,Xa.prototype.setTracking=Xa.prototype.rg,r("ol.easing.easeIn",an),r("ol.easing.easeOut",ln),r("ol.easing.inAndOut",hn),r("ol.easing.linear",cn),r("ol.easing.upAndDown",(function(t){return.5>t?hn(2*t):1-hn(2*(t-.5))})),r("ol.extent.boundingExtent",w),r("ol.extent.buffer",S),r("ol.extent.containsCoordinate",T),r("ol.extent.containsExtent",P),r("ol.extent.containsXY",L),r("ol.extent.createEmpty",D),r("ol.extent.equals",G),r("ol.extent.extend",B),r("ol.extent.getArea",H),r("ol.extent.getBottomLeft",U),r("ol.extent.getBottomRight",W),r("ol.extent.getCenter",Y),r("ol.extent.getHeight",Z),r("ol.extent.getIntersection",q),r("ol.extent.getSize",(function(t){return[t[2]-t[0],t[3]-t[1]]})),r("ol.extent.getTopLeft",K),r("ol.extent.getTopRight",J),r("ol.extent.getWidth",Q),r("ol.extent.intersects",$),r("ol.extent.isEmpty",tt),r("ol.extent.applyTransform",it),r("ol.Feature",ul),ul.prototype.clone=ul.prototype.clone,ul.prototype.getGeometry=ul.prototype.U,ul.prototype.getId=ul.prototype.an,ul.prototype.getGeometryName=ul.prototype.sl,ul.prototype.getStyle=ul.prototype.bn,ul.prototype.getStyleFunction=ul.prototype.ib,ul.prototype.setGeometry=ul.prototype.Va,ul.prototype.setStyle=ul.prototype.sg,ul.prototype.setId=ul.prototype.qc,ul.prototype.setGeometryName=ul.prototype.Lc,r("ol.featureloader.xhr",Xu),r("ol.Geolocation",pl),pl.prototype.getAccuracy=pl.prototype.el,pl.prototype.getAccuracyGeometry=pl.prototype.fl,pl.prototype.getAltitude=pl.prototype.gl,pl.prototype.getAltitudeAccuracy=pl.prototype.hl,pl.prototype.getHeading=pl.prototype.cn,pl.prototype.getPosition=pl.prototype.dn,pl.prototype.getProjection=pl.prototype.mi,pl.prototype.getSpeed=pl.prototype.Ol,pl.prototype.getTracking=pl.prototype.ni,pl.prototype.getTrackingOptions=pl.prototype.ai,pl.prototype.setProjection=pl.prototype.oi,pl.prototype.setTracking=pl.prototype.Ue,pl.prototype.setTrackingOptions=pl.prototype.Rj,r("ol.Graticule",vl),vl.prototype.getMap=vl.prototype.gn,vl.prototype.getMeridians=vl.prototype.Cl,vl.prototype.getParallels=vl.prototype.Jl,vl.prototype.setMap=vl.prototype.setMap,r("ol.has.DEVICE_PIXEL_RATIO",Ke),r("ol.has.CANVAS",Qe),r("ol.has.DEVICE_ORIENTATION",$e),r("ol.has.GEOLOCATION",ti),r("ol.has.TOUCH",ei),r("ol.has.WEBGL",He),Al.prototype.getImage=Al.prototype.Y,Al.prototype.load=Al.prototype.load,Tl.prototype.getImage=Tl.prototype.Y,r("ol.inherits",s),r("ol.interaction.defaults",Zr),r("ol.Kinetic",Uo),r("ol.loadingstrategy.all",qv),r("ol.loadingstrategy.bbox",(function(t){return[t]})),r("ol.loadingstrategy.tile",(function(t){return function(e,i){i=t.Dc(i),e=oe(t,e,i);var n=[];for((i=[i,0,0])[1]=e.fa;i[1]<=e.la;++i[1])for(i[2]=e.ea;i[2]<=e.ka;++i[2])n.push(t.Ma(i));return n}})),r("ol.Map",zc),ze.prototype.originalEvent=ze.prototype.originalEvent,ze.prototype.pixel=ze.prototype.pixel,ze.prototype.coordinate=ze.prototype.coordinate,ze.prototype.dragging=ze.prototype.dragging,Be.prototype.map=Be.prototype.map,Be.prototype.frameState=Be.prototype.frameState,r("ol.Object",Te),Te.prototype.get=Te.prototype.get,Te.prototype.getKeys=Te.prototype.P,Te.prototype.getProperties=Te.prototype.L,Te.prototype.set=Te.prototype.set,Te.prototype.setProperties=Te.prototype.H,Te.prototype.unset=Te.prototype.R,De.prototype.key=De.prototype.key,De.prototype.oldValue=De.prototype.oldValue,r("ol.Observable",Ee),r("ol.Observable.unByKey",(function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)xe(t[e]);else xe(t)})),Ee.prototype.changed=Ee.prototype.u,Ee.prototype.dispatchEvent=Ee.prototype.b,Ee.prototype.getRevision=Ee.prototype.K,Ee.prototype.on=Ee.prototype.I,Ee.prototype.once=Ee.prototype.once,Ee.prototype.un=Ee.prototype.J,r("ol.Overlay",Vc),Vc.prototype.getElement=Vc.prototype.Rd,Vc.prototype.getId=Vc.prototype.nn,Vc.prototype.getMap=Vc.prototype.Ve,Vc.prototype.getOffset=Vc.prototype.Xh,Vc.prototype.getPosition=Vc.prototype.pi,Vc.prototype.getPositioning=Vc.prototype.Yh,Vc.prototype.setElement=Vc.prototype.Hj,Vc.prototype.setMap=Vc.prototype.setMap,Vc.prototype.setOffset=Vc.prototype.Mj,Vc.prototype.setPosition=Vc.prototype.We,Vc.prototype.setPositioning=Vc.prototype.Pj,r("ol.PluggableMap",Lo),Lo.prototype.addControl=Lo.prototype.Mf,Lo.prototype.addInteraction=Lo.prototype.Nf,Lo.prototype.addLayer=Lo.prototype.xe,Lo.prototype.addOverlay=Lo.prototype.ye,Lo.prototype.forEachFeatureAtPixel=Lo.prototype.Tc,Lo.prototype.getFeaturesAtPixel=Lo.prototype.Xf,Lo.prototype.forEachLayerAtPixel=Lo.prototype.tg,Lo.prototype.hasFeatureAtPixel=Lo.prototype.ng,Lo.prototype.getEventCoordinate=Lo.prototype.Sd,Lo.prototype.getEventPixel=Lo.prototype.ud,Lo.prototype.getTarget=Lo.prototype.Xd,Lo.prototype.getTargetElement=Lo.prototype.Cc,Lo.prototype.getCoordinateFromPixel=Lo.prototype.Ra,Lo.prototype.getControls=Lo.prototype.Wf,Lo.prototype.getOverlays=Lo.prototype.gg,Lo.prototype.getOverlayById=Lo.prototype.fg,Lo.prototype.getInteractions=Lo.prototype.bg,Lo.prototype.getLayerGroup=Lo.prototype.hc,Lo.prototype.getLayers=Lo.prototype.Xe,Lo.prototype.getPixelFromCoordinate=Lo.prototype.Ia,Lo.prototype.getSize=Lo.prototype.Cb,Lo.prototype.getView=Lo.prototype.aa,Lo.prototype.getViewport=Lo.prototype.kg,Lo.prototype.renderSync=Lo.prototype.dh,Lo.prototype.render=Lo.prototype.render,Lo.prototype.removeControl=Lo.prototype.Xg,Lo.prototype.removeInteraction=Lo.prototype.Zg,Lo.prototype.removeLayer=Lo.prototype.$g,Lo.prototype.removeOverlay=Lo.prototype.ah,Lo.prototype.setLayerGroup=Lo.prototype.zf,Lo.prototype.setSize=Lo.prototype.be,Lo.prototype.setTarget=Lo.prototype.Ad,Lo.prototype.setView=Lo.prototype.jh,Lo.prototype.updateSize=Lo.prototype.Oc,r("ol.proj.METERS_PER_UNIT",ut),r("ol.proj.setProj4",(function(t){pt=t})),r("ol.proj.getPointResolution",Pt),r("ol.proj.addEquivalentProjections",Lt),r("ol.proj.addProjection",Nt),r("ol.proj.addCoordinateTransforms",Rt),r("ol.proj.fromLonLat",(function(t,e){return jt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")})),r("ol.proj.toLonLat",(function(t,e){return(-180>(e=(t=jt(t,void 0!==e?e:"EPSG:3857","EPSG:4326"))[0])||180<e)&&(t[0]=x(e+180,360)-180),t})),r("ol.proj.get",Ft),r("ol.proj.equivalent",kt),r("ol.proj.getTransform",Gt),r("ol.proj.transform",jt),r("ol.proj.transformExtent",Ht),r("ol.render.toContext",(function(t,e){var i=t.canvas,n=e||{};return e=n.pixelRatio||Ke,(n=n.size)&&(i.width=n[0]*e,i.height=n[1]*e,i.style.width=n[0]+"px",i.style.height=n[1]+"px"),new As(t,e,i=[0,0,i.width,i.height],n=In([1,0,0,1,0,0],e,e),0)})),r("ol.size.toSize",b),r("ol.Sphere",at),at.prototype.geodesicArea=at.prototype.a,at.prototype.haversineDistance=at.prototype.b,r("ol.Sphere.getLength",(function t(e,i){var n=i||{},o=n.radius||6371008.8;n=n.projection||"EPSG:3857";var r,s=(e=e.clone().mb(n,"EPSG:4326")).S();switch(n=0,s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":i=e.W(),n=lt(i,o);break;case"MultiLineString":case"Polygon":for(i=e.W(),e=0,s=i.length;e<s;++e)n+=lt(i[e],o);break;case"MultiPolygon":for(i=e.W(),e=0,s=i.length;e<s;++e){var a=i[e],l=0;for(r=a.length;l<r;++l)n+=lt(a[l],o)}break;case"GeometryCollection":for(o=e.vd(),e=0,s=o.length;e<s;++e)n+=t(o[e],i);break;default:throw Error("Unsupported geometry type: "+s)}return n})),r("ol.Sphere.getArea",(function t(e,i){var n=i||{},o=n.radius||6371008.8;n=n.projection||"EPSG:3857";var r,s=(e=e.clone().mb(n,"EPSG:4326")).S();switch(n=0,s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(i=e.W(),n=Math.abs(ct(i[0],o)),e=1,s=i.length;e<s;++e)n-=Math.abs(ct(i[e],o));break;case"MultiPolygon":for(i=e.W(),e=0,s=i.length;e<s;++e){var a=i[e];n+=Math.abs(ct(a[0],o));var l=1;for(r=a.length;l<r;++l)n-=Math.abs(ct(a[l],o))}break;case"GeometryCollection":for(o=e.vd(),e=0,s=o.length;e<s;++e)n+=t(o[e],i);break;default:throw Error("Unsupported geometry type: "+s)}return n})),r("ol.style.iconImageCache",Ws),bl.prototype.getTileCoord=bl.prototype.i,bl.prototype.load=bl.prototype.load,r("ol.tilegrid.createXYZ",le),Kc.prototype.getExtent=Kc.prototype.G,Kc.prototype.getFormat=Kc.prototype.qn,Kc.prototype.getFeatures=Kc.prototype.pn,Kc.prototype.getProjection=Kc.prototype.rn,Kc.prototype.setExtent=Kc.prototype.ri,Kc.prototype.setFeatures=Kc.prototype.Ij,Kc.prototype.setProjection=Kc.prototype.vg,Kc.prototype.setLoader=Kc.prototype.ug,r("ol.View",uo),uo.prototype.animate=uo.prototype.animate,uo.prototype.getAnimating=uo.prototype.Ac,uo.prototype.getInteracting=uo.prototype.Vh,uo.prototype.cancelAnimations=uo.prototype.rd,uo.prototype.constrainCenter=uo.prototype.Sc,uo.prototype.constrainResolution=uo.prototype.constrainResolution,uo.prototype.constrainRotation=uo.prototype.constrainRotation,uo.prototype.getCenter=uo.prototype.xa,uo.prototype.calculateExtent=uo.prototype.qd,uo.prototype.getMaxResolution=uo.prototype.sn,uo.prototype.getMinResolution=uo.prototype.vn,uo.prototype.getMaxZoom=uo.prototype.tn,uo.prototype.setMaxZoom=uo.prototype.Cq,uo.prototype.getMinZoom=uo.prototype.wn,uo.prototype.setMinZoom=uo.prototype.Dq,uo.prototype.getProjection=uo.prototype.xn,uo.prototype.getResolution=uo.prototype.Pa,uo.prototype.getResolutions=uo.prototype.yn,uo.prototype.getResolutionForExtent=uo.prototype.Je,uo.prototype.getRotation=uo.prototype.Sa,uo.prototype.getZoom=uo.prototype.lg,uo.prototype.getZoomForResolution=uo.prototype.Me,uo.prototype.getResolutionForZoom=uo.prototype.$h,uo.prototype.fit=uo.prototype.Uf,uo.prototype.centerOn=uo.prototype.Nk,uo.prototype.rotate=uo.prototype.rotate,uo.prototype.setCenter=uo.prototype.ub,uo.prototype.setResolution=uo.prototype.gd,uo.prototype.setRotation=uo.prototype.ce,uo.prototype.setZoom=uo.prototype.Tj,r("ol.xml.getAllTextContent",Mu),r("ol.xml.parse",Pu),$l.prototype.getGL=$l.prototype.yp,$l.prototype.useProgram=$l.prototype.cd,r("ol.tilegrid.TileGrid",te),te.prototype.forEachTileCoord=te.prototype.Vf,te.prototype.getMaxZoom=te.prototype.mj,te.prototype.getMinZoom=te.prototype.nj,te.prototype.getOrigin=te.prototype.Ic,te.prototype.getResolution=te.prototype.Ta,te.prototype.getResolutions=te.prototype.oj,te.prototype.getTileCoordExtent=te.prototype.Ma,te.prototype.getTileCoordForCoordAndResolution=te.prototype.Le,te.prototype.getTileCoordForCoordAndZ=te.prototype.jg,te.prototype.getTileSize=te.prototype.Za,te.prototype.getZForResolution=te.prototype.Dc,r("ol.tilegrid.WMTS",jC),jC.prototype.getMatrixIds=jC.prototype.v,r("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",HC),r("ol.style.AtlasManager",pc),r("ol.style.Circle",il),il.prototype.setRadius=il.prototype.fd,r("ol.style.Fill",nl),nl.prototype.clone=nl.prototype.clone,nl.prototype.getColor=nl.prototype.g,nl.prototype.setColor=nl.prototype.c,r("ol.style.Icon",ud),ud.prototype.clone=ud.prototype.clone,ud.prototype.getAnchor=ud.prototype.Vc,ud.prototype.getColor=ud.prototype.np,ud.prototype.getImage=ud.prototype.Y,ud.prototype.getOrigin=ud.prototype.bd,ud.prototype.getSrc=ud.prototype.op,ud.prototype.getSize=ud.prototype.oc,ud.prototype.load=ud.prototype.load,Hs.prototype.setSize=Hs.prototype.c,r("ol.style.Image",$a),$a.prototype.getOpacity=$a.prototype.hf,$a.prototype.getRotateWithView=$a.prototype.jf,$a.prototype.getRotation=$a.prototype.kf,$a.prototype.getScale=$a.prototype.lf,$a.prototype.getSnapToPixel=$a.prototype.Ke,$a.prototype.setOpacity=$a.prototype.Ed,$a.prototype.setRotation=$a.prototype.mf,$a.prototype.setScale=$a.prototype.Fd,r("ol.style.RegularShape",tl),tl.prototype.clone=tl.prototype.clone,tl.prototype.getAnchor=tl.prototype.Vc,tl.prototype.getAngle=tl.prototype.ij,tl.prototype.getFill=tl.prototype.Fa,tl.prototype.getImage=tl.prototype.Y,tl.prototype.getOrigin=tl.prototype.bd,tl.prototype.getPoints=tl.prototype.jj,tl.prototype.getRadius=tl.prototype.kj,tl.prototype.getRadius2=tl.prototype.Zh,tl.prototype.getSize=tl.prototype.oc,tl.prototype.getStroke=tl.prototype.Ga,r("ol.style.Stroke",ol),ol.prototype.clone=ol.prototype.clone,ol.prototype.getColor=ol.prototype.pp,ol.prototype.getLineCap=ol.prototype.vl,ol.prototype.getLineDash=ol.prototype.qp,ol.prototype.getLineDashOffset=ol.prototype.wl,ol.prototype.getLineJoin=ol.prototype.xl,ol.prototype.getMiterLimit=ol.prototype.Dl,ol.prototype.getWidth=ol.prototype.rp,ol.prototype.setColor=ol.prototype.sp,ol.prototype.setLineCap=ol.prototype.yq,ol.prototype.setLineDash=ol.prototype.setLineDash,ol.prototype.setLineDashOffset=ol.prototype.zq,ol.prototype.setLineJoin=ol.prototype.Aq,ol.prototype.setMiterLimit=ol.prototype.Eq,ol.prototype.setWidth=ol.prototype.Kq,r("ol.style.Style",rl),rl.prototype.clone=rl.prototype.clone,rl.prototype.getRenderer=rl.prototype.Ie,rl.prototype.setRenderer=rl.prototype.Iq,rl.prototype.getGeometry=rl.prototype.U,rl.prototype.getGeometryFunction=rl.prototype.rl,rl.prototype.getFill=rl.prototype.Fa,rl.prototype.setFill=rl.prototype.yf,rl.prototype.getImage=rl.prototype.Y,rl.prototype.setImage=rl.prototype.ih,rl.prototype.getStroke=rl.prototype.Ga,rl.prototype.setStroke=rl.prototype.Af,rl.prototype.getText=rl.prototype.Ka,rl.prototype.setText=rl.prototype.Hd,rl.prototype.getZIndex=rl.prototype.Ba,rl.prototype.setGeometry=rl.prototype.Va,rl.prototype.setZIndex=rl.prototype.$b,r("ol.style.Text",ml),ml.prototype.clone=ml.prototype.clone,ml.prototype.getOverflow=ml.prototype.Gl,ml.prototype.getFont=ml.prototype.pl,ml.prototype.getMaxAngle=ml.prototype.Bl,ml.prototype.getPlacement=ml.prototype.Kl,ml.prototype.getOffsetX=ml.prototype.El,ml.prototype.getOffsetY=ml.prototype.Fl,ml.prototype.getFill=ml.prototype.Fa,ml.prototype.getRotateWithView=ml.prototype.tp,ml.prototype.getRotation=ml.prototype.up,ml.prototype.getScale=ml.prototype.vp,ml.prototype.getStroke=ml.prototype.Ga,ml.prototype.getText=ml.prototype.Ka,ml.prototype.getTextAlign=ml.prototype.Ql,ml.prototype.getTextBaseline=ml.prototype.Rl,ml.prototype.getBackgroundFill=ml.prototype.jl,ml.prototype.getBackgroundStroke=ml.prototype.kl,ml.prototype.getPadding=ml.prototype.Il,ml.prototype.setOverflow=ml.prototype.Fq,ml.prototype.setFont=ml.prototype.Jj,ml.prototype.setMaxAngle=ml.prototype.Bq,ml.prototype.setOffsetX=ml.prototype.Nj,ml.prototype.setOffsetY=ml.prototype.Oj,ml.prototype.setPlacement=ml.prototype.Hq,ml.prototype.setFill=ml.prototype.yf,ml.prototype.setRotation=ml.prototype.wp,ml.prototype.setScale=ml.prototype.lj,ml.prototype.setStroke=ml.prototype.Af,ml.prototype.setText=ml.prototype.Hd,ml.prototype.setTextAlign=ml.prototype.Qj,ml.prototype.setTextBaseline=ml.prototype.Jq,ml.prototype.setBackgroundFill=ml.prototype.sq,ml.prototype.setBackgroundStroke=ml.prototype.tq,ml.prototype.setPadding=ml.prototype.Gq,r("ol.source.BingMaps",Hx),r("ol.source.BingMaps.TOS_ATTRIBUTION",'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),Hx.prototype.getApiKey=Hx.prototype.ca,Hx.prototype.getImagerySet=Hx.prototype.ua,r("ol.source.CartoDB",Wx),Wx.prototype.getConfig=Wx.prototype.nl,Wx.prototype.updateConfig=Wx.prototype.Sq,Wx.prototype.setConfig=Wx.prototype.uq,r("ol.source.Cluster",Zx),Zx.prototype.getDistance=Zx.prototype.Eo,Zx.prototype.getSource=Zx.prototype.Fo,Zx.prototype.setDistance=Zx.prototype.vq,r("ol.source.Image",Qx),eC.prototype.image=eC.prototype.image,r("ol.source.ImageArcGISRest",sC),sC.prototype.getParams=sC.prototype.Ho,sC.prototype.getImageLoadFunction=sC.prototype.Go,sC.prototype.getUrl=sC.prototype.Io,sC.prototype.setImageLoadFunction=sC.prototype.Jo,sC.prototype.setUrl=sC.prototype.Ko,sC.prototype.updateParams=sC.prototype.Lo,r("ol.source.ImageCanvas",aC),r("ol.source.ImageMapGuide",lC),lC.prototype.getParams=lC.prototype.No,lC.prototype.getImageLoadFunction=lC.prototype.Mo,lC.prototype.updateParams=lC.prototype.Po,lC.prototype.setImageLoadFunction=lC.prototype.Oo,r("ol.source.ImageStatic",hC),r("ol.source.ImageVector",cC),cC.prototype.getSource=cC.prototype.Qo,cC.prototype.getStyle=cC.prototype.Ro,cC.prototype.getStyleFunction=cC.prototype.ib,cC.prototype.setStyle=cC.prototype.aj,r("ol.source.ImageWMS",uC),uC.prototype.getGetFeatureInfoUrl=uC.prototype.Uo,uC.prototype.getParams=uC.prototype.Wo,uC.prototype.getImageLoadFunction=uC.prototype.Vo,uC.prototype.getUrl=uC.prototype.Xo,uC.prototype.setImageLoadFunction=uC.prototype.Yo,uC.prototype.setUrl=uC.prototype.Zo,uC.prototype.updateParams=uC.prototype.$o,r("ol.source.OSM",fC),r("ol.source.OSM.ATTRIBUTION",'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'),r("ol.source.Raster",yC),yC.prototype.setOperation=yC.prototype.s,vC.prototype.extent=vC.prototype.extent,vC.prototype.resolution=vC.prototype.resolution,vC.prototype.data=vC.prototype.data,r("ol.source.Source",Kv),Kv.prototype.getAttributions=Kv.prototype.za,Kv.prototype.getLogo=Kv.prototype.Aa,Kv.prototype.getProjection=Kv.prototype.Da,Kv.prototype.getState=Kv.prototype.getState,Kv.prototype.refresh=Kv.prototype.sa,Kv.prototype.setAttributions=Kv.prototype.va,r("ol.source.Stamen",CC),r("ol.source.Tile",Dx),Dx.prototype.getTileGrid=Dx.prototype.jb,kx.prototype.tile=kx.prototype.tile,r("ol.source.TileArcGISRest",wC),wC.prototype.getParams=wC.prototype.o,wC.prototype.updateParams=wC.prototype.B,r("ol.source.TileDebug",MC),r("ol.source.TileImage",Bx),Bx.prototype.setRenderReprojectionEdges=Bx.prototype.Qb,Bx.prototype.setTileGridForProjection=Bx.prototype.Rb,r("ol.source.TileJSON",TC),TC.prototype.getTileJSON=TC.prototype.Sl,r("ol.source.TileUTFGrid",PC),PC.prototype.getTemplate=PC.prototype.Pl,PC.prototype.forDataAtCoordinateAndResolution=PC.prototype.al,r("ol.source.TileWMS",DC),DC.prototype.getGetFeatureInfoUrl=DC.prototype.hp,DC.prototype.getParams=DC.prototype.ip,DC.prototype.updateParams=DC.prototype.jp,Gx.prototype.getTileLoadFunction=Gx.prototype.yb,Gx.prototype.getTileUrlFunction=Gx.prototype.zb,Gx.prototype.getUrls=Gx.prototype.Ab,Gx.prototype.setTileLoadFunction=Gx.prototype.Fb,Gx.prototype.setTileUrlFunction=Gx.prototype.hb,Gx.prototype.setUrl=Gx.prototype.rb,Gx.prototype.setUrls=Gx.prototype.vb,r("ol.source.Vector",$v),$v.prototype.addFeature=$v.prototype.Gb,$v.prototype.addFeatures=$v.prototype.Qc,$v.prototype.clear=$v.prototype.clear,$v.prototype.forEachFeature=$v.prototype.Lh,$v.prototype.forEachFeatureInExtent=$v.prototype.ec,$v.prototype.forEachFeatureIntersectingExtent=$v.prototype.Mh,$v.prototype.getFeaturesCollection=$v.prototype.Th,$v.prototype.getFeatures=$v.prototype.ee,$v.prototype.getFeaturesAtCoordinate=$v.prototype.Sh,$v.prototype.getFeaturesInExtent=$v.prototype.Yf,$v.prototype.getClosestFeatureToCoordinate=$v.prototype.Oh,$v.prototype.getExtent=$v.prototype.G,$v.prototype.getFeatureById=$v.prototype.Rh,$v.prototype.getFormat=$v.prototype.ej,$v.prototype.getUrl=$v.prototype.fj,$v.prototype.removeLoadedExtent=$v.prototype.Cj,$v.prototype.removeFeature=$v.prototype.Lb,$v.prototype.setLoader=$v.prototype.hj,o_.prototype.feature=o_.prototype.feature,r("ol.source.VectorTile",VC),VC.prototype.clear=VC.prototype.clear,r("ol.source.WMTS",UC),UC.prototype.getDimensions=UC.prototype.ol,UC.prototype.getFormat=UC.prototype.kp,UC.prototype.getLayer=UC.prototype.lp,UC.prototype.getMatrixSet=UC.prototype.Al,UC.prototype.getRequestEncoding=UC.prototype.Nl,UC.prototype.getStyle=UC.prototype.mp,UC.prototype.getVersion=UC.prototype.Ul,UC.prototype.updateDimensions=UC.prototype.Tq,r("ol.source.WMTS.optionsFromCapabilities",(function(t,e){var i=qt(t.Contents.Layer,(function(t){return t.Identifier==e.layer}));if(null===i)return null;var n=t.Contents.TileMatrixSet,o=1<i.TileMatrixSetLink.length?Qt(i.TileMatrixSetLink,"projection"in e?function(t){var i=qt(n,(function(e){return e.Identifier==t.TileMatrixSet})).SupportedCRS,o=Ft(i.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ft(i),r=Ft(e.projection);return o&&r?kt(o,r):i==e.projection}:function(t){return t.TileMatrixSet==e.matrixSet}):0;0>o&&(o=0);var r=i.TileMatrixSetLink[o].TileMatrixSet,s=i.TileMatrixSetLink[o].TileMatrixSetLimits,a=i.Format[0];"format"in e&&(a=e.format),0>(o=Qt(i.Style,(function(t){return"style"in e?t.Title==e.style:t.isDefault})))&&(o=0),o=i.Style[o].Identifier;var l={};"Dimension"in i&&i.Dimension.forEach((function(t){var e=t.Identifier,i=t.Default;void 0===i&&(i=t.Value[0]),l[e]=i}));var h,c=qt(t.Contents.TileMatrixSet,(function(t){return t.Identifier==r})),u=c.SupportedCRS;if(u&&(h=Ft(u.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ft(u)),"projection"in e&&(!(u=Ft(e.projection))||h&&!kt(u,h)||(h=u)),void 0!==(u=i.WGS84BoundingBox)){var p=Ft("EPSG:4326").G();p=u[0]==p[0]&&u[2]==p[2];var g=Ht(u,"EPSG:4326",h);(u=h.G())&&(P(u,g)||(g=void 0))}s=HC(c,g,s);var d=[];if(c=void 0!==(c=e.requestEncoding)?c:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(g=0,u=(t=t.OperationsMetadata.GetTile.DCP.HTTP.Get).length;g<u;++g)if(t[g].Constraint){var f=qt(t[g].Constraint,(function(t){return"GetEncoding"==t.name})).AllowedValues.Value;if(""===c&&(c=f[0]),"KVP"!==c)break;Yt(f,"KVP")&&d.push(t[g].href)}else t[g].href&&(c="KVP",d.push(t[g].href));return 0===d.length&&(c="REST",i.ResourceURL.forEach((function(t){"tile"===t.resourceType&&(a=t.format,d.push(t.template))}))),{urls:d,layer:e.layer,matrixSet:r,format:a,projection:h,requestEncoding:c,tileGrid:s,style:o,dimensions:l,wrapX:p,crossOrigin:e.crossOrigin}})),r("ol.source.XYZ",Ux),r("ol.source.Zoomify",YC),r("ol.renderer.webgl.ImageLayer",Pc),r("ol.renderer.webgl.Map",Lc),r("ol.renderer.webgl.TileLayer",Gc),r("ol.renderer.webgl.VectorLayer",Bc),r("ol.renderer.canvas.ImageLayer",js),r("ol.renderer.canvas.Map",$s),r("ol.renderer.canvas.TileLayer",ea),r("ol.renderer.canvas.VectorLayer",ja),r("ol.renderer.canvas.VectorTileLayer",Ha),Jr.prototype.vectorContext=Jr.prototype.vectorContext,Jr.prototype.frameState=Jr.prototype.frameState,Jr.prototype.context=Jr.prototype.context,Jr.prototype.glContext=Jr.prototype.glContext,$f.prototype.get=$f.prototype.get,$f.prototype.getExtent=$f.prototype.G,$f.prototype.getId=$f.prototype.Ao,$f.prototype.getGeometry=$f.prototype.U,$f.prototype.getProperties=$f.prototype.Bo,$f.prototype.getType=$f.prototype.S,r("ol.render.VectorContext",Is),Ac.prototype.setStyle=Ac.prototype.Dd,Ac.prototype.drawGeometry=Ac.prototype.Hb,Ac.prototype.drawFeature=Ac.prototype.Ce,As.prototype.drawCircle=As.prototype.cc,As.prototype.setStyle=As.prototype.Dd,As.prototype.drawGeometry=As.prototype.Hb,As.prototype.drawFeature=As.prototype.Ce,r("ol.proj.common.add",Ut),r("ol.proj.Projection",gt),gt.prototype.getCode=gt.prototype.ml,gt.prototype.getExtent=gt.prototype.G,gt.prototype.getUnits=gt.prototype.zo,gt.prototype.getMetersPerUnit=gt.prototype.Bc,gt.prototype.getWorldExtent=gt.prototype.Vl,gt.prototype.getAxisOrientation=gt.prototype.il,gt.prototype.isGlobal=gt.prototype.Gm,gt.prototype.setGlobal=gt.prototype.xq,gt.prototype.setExtent=gt.prototype.Si,gt.prototype.setWorldExtent=gt.prototype.Sj,gt.prototype.setGetPointResolution=gt.prototype.wq,r("ol.proj.Units.METERS_PER_UNIT",ut),r("ol.layer.Base",Ao),Ao.prototype.getExtent=Ao.prototype.G,Ao.prototype.getMaxResolution=Ao.prototype.lc,Ao.prototype.getMinResolution=Ao.prototype.mc,Ao.prototype.getOpacity=Ao.prototype.nc,Ao.prototype.getVisible=Ao.prototype.Jb,Ao.prototype.getZIndex=Ao.prototype.Ba,Ao.prototype.setExtent=Ao.prototype.Fc,Ao.prototype.setMaxResolution=Ao.prototype.Mc,Ao.prototype.setMinResolution=Ao.prototype.Nc,Ao.prototype.setOpacity=Ao.prototype.Gc,Ao.prototype.setVisible=Ao.prototype.Hc,Ao.prototype.setZIndex=Ao.prototype.$b,r("ol.layer.Group",wo),wo.prototype.getLayers=wo.prototype.Cd,wo.prototype.setLayers=wo.prototype.Qi,r("ol.layer.Heatmap",px),px.prototype.getBlur=px.prototype.Nh,px.prototype.getGradient=px.prototype.Uh,px.prototype.getRadius=px.prototype.Ri,px.prototype.setBlur=px.prototype.Fj,px.prototype.setGradient=px.prototype.Lj,px.prototype.setRadius=px.prototype.fd,r("ol.layer.Image",mx),mx.prototype.getSource=mx.prototype.ha,r("ol.layer.Layer",Oo),Oo.prototype.getSource=Oo.prototype.ha,Oo.prototype.setMap=Oo.prototype.setMap,Oo.prototype.setSource=Oo.prototype.hd,r("ol.layer.Tile",vx),vx.prototype.getPreload=vx.prototype.c,vx.prototype.getSource=vx.prototype.ha,vx.prototype.setPreload=vx.prototype.j,vx.prototype.getUseInterimTilesOnError=vx.prototype.i,vx.prototype.setUseInterimTilesOnError=vx.prototype.C,r("ol.layer.Vector",Xv),Xv.prototype.getSource=Xv.prototype.ha,Xv.prototype.getStyle=Xv.prototype.B,Xv.prototype.getStyleFunction=Xv.prototype.ib,Xv.prototype.setStyle=Xv.prototype.j,r("ol.layer.VectorTile",_x),_x.prototype.getPreload=_x.prototype.c,_x.prototype.getUseInterimTilesOnError=_x.prototype.i,_x.prototype.setPreload=_x.prototype.T,_x.prototype.setUseInterimTilesOnError=_x.prototype.O,_x.prototype.getSource=_x.prototype.ha,r("ol.interaction.DoubleClickZoom",Ko),r("ol.interaction.DoubleClickZoom.handleEvent",Jo),r("ol.interaction.DragAndDrop",Fv),r("ol.interaction.DragAndDrop.handleEvent",un),jv.prototype.features=jv.prototype.features,jv.prototype.file=jv.prototype.file,jv.prototype.projection=jv.prototype.projection,r("ol.interaction.DragBox",Ir),Ir.prototype.getGeometry=Ir.prototype.U,Pr.prototype.coordinate=Pr.prototype.coordinate,Pr.prototype.mapBrowserEvent=Pr.prototype.mapBrowserEvent,r("ol.interaction.DragPan",ur),r("ol.interaction.DragRotate",fr),r("ol.interaction.DragRotateAndZoom",Hv),r("ol.interaction.DragZoom",Lr),r("ol.interaction.Draw",r_),r("ol.interaction.Draw.handleEvent",a_),r_.prototype.removeLastPoint=r_.prototype.nq,r_.prototype.finishDrawing=r_.prototype.Pd,r_.prototype.extend=r_.prototype.Zn,r("ol.interaction.Draw.createRegularPolygon",(function(t,e){return function(i,n){var o=i[0];i=i[1];var r=Math.sqrt(nn(o,i));return co(n=n||ho(new Rv(o),t),o,r,e||Math.atan((i[1]-o[1])/(i[0]-o[0]))),n}})),r("ol.interaction.Draw.createBox",(function(){return function(t,e){return t=w(t),(e=e||new so(null)).na([[U(t),W(t),J(t),K(t),U(t)]]),e}})),x_.prototype.feature=x_.prototype.feature,r("ol.interaction.Extent",C_),C_.prototype.getExtent=C_.prototype.G,C_.prototype.setExtent=C_.prototype.f,N_.prototype.extent=N_.prototype.extent,r("ol.interaction.Interaction",Yo),Yo.prototype.getActive=Yo.prototype.c,Yo.prototype.getMap=Yo.prototype.i,Yo.prototype.setActive=Yo.prototype.Ha,r("ol.interaction.KeyboardPan",Nr),r("ol.interaction.KeyboardPan.handleEvent",Dr),r("ol.interaction.KeyboardZoom",Rr),r("ol.interaction.KeyboardZoom.handleEvent",Or),r("ol.interaction.Modify",D_),r("ol.interaction.Modify.handleEvent",V_),D_.prototype.removePoint=D_.prototype.Dj,X_.prototype.features=X_.prototype.features,X_.prototype.mapBrowserEvent=X_.prototype.mapBrowserEvent,r("ol.interaction.MouseWheelZoom",Fr),r("ol.interaction.MouseWheelZoom.handleEvent",kr),Fr.prototype.setMouseAnchor=Fr.prototype.V,r("ol.interaction.PinchRotate",zr),r("ol.interaction.PinchZoom",Ur),r("ol.interaction.Pointer",lr),r("ol.interaction.Pointer.handleEvent",cr),r("ol.interaction.Select",Z_),Z_.prototype.getFeatures=Z_.prototype.lo,Z_.prototype.getHitTolerance=Z_.prototype.mo,Z_.prototype.getLayer=Z_.prototype.no,r("ol.interaction.Select.handleEvent",q_),Z_.prototype.setHitTolerance=Z_.prototype.po,Z_.prototype.setMap=Z_.prototype.setMap,J_.prototype.selected=J_.prototype.selected,J_.prototype.deselected=J_.prototype.deselected,J_.prototype.mapBrowserEvent=J_.prototype.mapBrowserEvent,r("ol.interaction.Snap",$_),$_.prototype.addFeature=$_.prototype.Gb,$_.prototype.removeFeature=$_.prototype.Lb,r("ol.interaction.Translate",ox),ox.prototype.getHitTolerance=ox.prototype.B,ox.prototype.setHitTolerance=ox.prototype.T,ux.prototype.features=ux.prototype.features,ux.prototype.coordinate=ux.prototype.coordinate,r("ol.geom.Circle",Rv),Rv.prototype.clone=Rv.prototype.clone,Rv.prototype.getCenter=Rv.prototype.xa,Rv.prototype.getRadius=Rv.prototype.Bd,Rv.prototype.getType=Rv.prototype.S,Rv.prototype.intersectsExtent=Rv.prototype.$a,Rv.prototype.setCenter=Rv.prototype.ub,Rv.prototype.setCenterAndRadius=Rv.prototype.hh,Rv.prototype.setRadius=Rv.prototype.fd,Rv.prototype.transform=Rv.prototype.mb,r("ol.geom.Geometry",Sn),Sn.prototype.getClosestPoint=Sn.prototype.Ib,Sn.prototype.intersectsCoordinate=Sn.prototype.Bb,Sn.prototype.getExtent=Sn.prototype.G,Sn.prototype.rotate=Sn.prototype.rotate,Sn.prototype.scale=Sn.prototype.scale,Sn.prototype.simplify=Sn.prototype.Sb,Sn.prototype.transform=Sn.prototype.mb,r("ol.geom.GeometryCollection",Ng),Ng.prototype.clone=Ng.prototype.clone,Ng.prototype.getGeometries=Ng.prototype.vd,Ng.prototype.getType=Ng.prototype.S,Ng.prototype.intersectsExtent=Ng.prototype.$a,Ng.prototype.setGeometries=Ng.prototype.Kj,Ng.prototype.applyTransform=Ng.prototype.Rc,Ng.prototype.translate=Ng.prototype.translate,r("ol.geom.LinearRing",Yn),Yn.prototype.clone=Yn.prototype.clone,Yn.prototype.getArea=Yn.prototype.Vn,Yn.prototype.getCoordinates=Yn.prototype.W,Yn.prototype.getType=Yn.prototype.S,Yn.prototype.setCoordinates=Yn.prototype.na,r("ol.geom.LineString",fl),fl.prototype.appendCoordinate=fl.prototype.Fk,fl.prototype.clone=fl.prototype.clone,fl.prototype.forEachSegment=fl.prototype.dl,fl.prototype.getCoordinateAtM=fl.prototype.Tn,fl.prototype.getCoordinates=fl.prototype.W,fl.prototype.getCoordinateAt=fl.prototype.Ph,fl.prototype.getLength=fl.prototype.Un,fl.prototype.getType=fl.prototype.S,fl.prototype.intersectsExtent=fl.prototype.$a,fl.prototype.setCoordinates=fl.prototype.na,r("ol.geom.MultiLineString",tp),tp.prototype.appendLineString=tp.prototype.Gk,tp.prototype.clone=tp.prototype.clone,tp.prototype.getCoordinateAtM=tp.prototype.Wn,tp.prototype.getCoordinates=tp.prototype.W,tp.prototype.getLineString=tp.prototype.yl,tp.prototype.getLineStrings=tp.prototype.wd,tp.prototype.getType=tp.prototype.S,tp.prototype.intersectsExtent=tp.prototype.$a,tp.prototype.setCoordinates=tp.prototype.na,r("ol.geom.MultiPoint",ip),ip.prototype.appendPoint=ip.prototype.Ik,ip.prototype.clone=ip.prototype.clone,ip.prototype.getCoordinates=ip.prototype.W,ip.prototype.getPoint=ip.prototype.Ll,ip.prototype.getPoints=ip.prototype.de,ip.prototype.getType=ip.prototype.S,ip.prototype.intersectsExtent=ip.prototype.$a,ip.prototype.setCoordinates=ip.prototype.na,r("ol.geom.MultiPolygon",np),np.prototype.appendPolygon=np.prototype.Jk,np.prototype.clone=np.prototype.clone,np.prototype.getArea=np.prototype.Xn,np.prototype.getCoordinates=np.prototype.W,np.prototype.getInteriorPoints=np.prototype.ul,np.prototype.getPolygon=np.prototype.Ml,np.prototype.getPolygons=np.prototype.Vd,np.prototype.getType=np.prototype.S,np.prototype.intersectsExtent=np.prototype.$a,np.prototype.setCoordinates=np.prototype.na,r("ol.geom.Point",Zn),Zn.prototype.clone=Zn.prototype.clone,Zn.prototype.getCoordinates=Zn.prototype.W,Zn.prototype.getType=Zn.prototype.S,Zn.prototype.intersectsExtent=Zn.prototype.$a,Zn.prototype.setCoordinates=Zn.prototype.na,r("ol.geom.Polygon",so),so.prototype.appendLinearRing=so.prototype.Hk,so.prototype.clone=so.prototype.clone,so.prototype.getArea=so.prototype.Yn,so.prototype.getCoordinates=so.prototype.W,so.prototype.getInteriorPoint=so.prototype.tl,so.prototype.getLinearRingCount=so.prototype.zl,so.prototype.getLinearRing=so.prototype.Wh,so.prototype.getLinearRings=so.prototype.Ud,so.prototype.getType=so.prototype.S,so.prototype.intersectsExtent=so.prototype.$a,so.prototype.setCoordinates=so.prototype.na,r("ol.geom.Polygon.circular",ao),r("ol.geom.Polygon.fromExtent",lo),r("ol.geom.Polygon.fromCircle",ho),r("ol.geom.SimpleGeometry",Mn),Mn.prototype.getFirstCoordinate=Mn.prototype.fc,Mn.prototype.getLastCoordinate=Mn.prototype.gc,Mn.prototype.getLayout=Mn.prototype.ic,Mn.prototype.applyTransform=Mn.prototype.Rc,Mn.prototype.translate=Mn.prototype.translate,r("ol.format.EsriJSON",ap),ap.prototype.readFeature=ap.prototype.Yb,ap.prototype.readFeatures=ap.prototype.Qa,ap.prototype.readGeometry=ap.prototype.ed,ap.prototype.readProjection=ap.prototype.sb,ap.prototype.writeGeometry=ap.prototype.md,ap.prototype.writeGeometryObject=ap.prototype.se,ap.prototype.writeFeature=ap.prototype.Jd,ap.prototype.writeFeatureObject=ap.prototype.ld,ap.prototype.writeFeatures=ap.prototype.ac,ap.prototype.writeFeaturesObject=ap.prototype.qe,r("ol.format.Feature",Zu),r("ol.format.filter.and",Wy),r("ol.format.filter.or",(function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Hy,e))})),r("ol.format.filter.not",(function(t){return new Vy(t)})),r("ol.format.filter.bbox",Yy),r("ol.format.filter.contains",(function(t,e,i){return new Ey(t,e,i)})),r("ol.format.filter.intersects",(function(t,e,i){return new Oy(t,e,i)})),r("ol.format.filter.within",(function(t,e,i){return new Uy(t,e,i)})),r("ol.format.filter.equalTo",(function(t,e,i){return new Ny(t,e,i)})),r("ol.format.filter.notEqualTo",(function(t,e,i){return new jy(t,e,i)})),r("ol.format.filter.lessThan",(function(t,e){return new By(t,e)})),r("ol.format.filter.lessThanOrEqualTo",(function(t,e){return new zy(t,e)})),r("ol.format.filter.greaterThan",(function(t,e){return new Dy(t,e)})),r("ol.format.filter.greaterThanOrEqualTo",(function(t,e){return new Ry(t,e)})),r("ol.format.filter.isNull",(function(t){return new Gy(t)})),r("ol.format.filter.between",(function(t,e,i){return new Fy(t,e,i)})),r("ol.format.filter.like",(function(t,e,i,n,o,r){return new ky(t,e,i,n,o,r)})),r("ol.format.filter.during",(function(t,e,i){return new Py(t,e,i)})),r("ol.format.GeoJSON",Fg),Fg.prototype.readFeature=Fg.prototype.Yb,Fg.prototype.readFeatures=Fg.prototype.Qa,Fg.prototype.readGeometry=Fg.prototype.ed,Fg.prototype.readProjection=Fg.prototype.sb,Fg.prototype.writeFeature=Fg.prototype.Jd,Fg.prototype.writeFeatureObject=Fg.prototype.ld,Fg.prototype.writeFeatures=Fg.prototype.ac,Fg.prototype.writeFeaturesObject=Fg.prototype.qe,Fg.prototype.writeGeometry=Fg.prototype.md,Fg.prototype.writeGeometryObject=Fg.prototype.se,r("ol.format.GML",Lp),Lp.prototype.writeFeatures=Lp.prototype.ac,Lp.prototype.writeFeaturesNode=Lp.prototype.bc,r("ol.format.GML2",zp),r("ol.format.GML3",Lp),Lp.prototype.writeGeometryNode=Lp.prototype.re,Lp.prototype.writeFeatures=Lp.prototype.ac,Lp.prototype.writeFeaturesNode=Lp.prototype.bc,mp.prototype.readFeatures=mp.prototype.Qa,r("ol.format.GPX",Jp),Jp.prototype.readFeature=Jp.prototype.Yb,Jp.prototype.readFeatures=Jp.prototype.Qa,Jp.prototype.readProjection=Jp.prototype.sb,Jp.prototype.writeFeatures=Jp.prototype.ac,Jp.prototype.writeFeaturesNode=Jp.prototype.bc,r("ol.format.IGC",Hg),Hg.prototype.readFeature=Hg.prototype.Yb,Hg.prototype.readFeatures=Hg.prototype.Qa,Hg.prototype.readProjection=Hg.prototype.sb,r("ol.format.KML",pd),pd.prototype.readFeature=pd.prototype.Yb,pd.prototype.readFeatures=pd.prototype.Qa,pd.prototype.readName=pd.prototype.cq,pd.prototype.readNetworkLinks=pd.prototype.eq,pd.prototype.readRegion=pd.prototype.hq,pd.prototype.readRegionFromNode=pd.prototype.vf,pd.prototype.readProjection=pd.prototype.sb,pd.prototype.writeFeatures=pd.prototype.ac,pd.prototype.writeFeaturesNode=pd.prototype.bc,r("ol.format.MVT",ty),ty.prototype.getLastExtent=ty.prototype.cg,ty.prototype.readFeatures=ty.prototype.Qa,ty.prototype.readProjection=ty.prototype.sb,ty.prototype.setLayers=ty.prototype.Sn,r("ol.format.OSMXML",ry),ry.prototype.readFeatures=ry.prototype.Qa,ry.prototype.readProjection=ry.prototype.sb,r("ol.format.Polyline",py),r("ol.format.Polyline.encodeDeltas",gy),r("ol.format.Polyline.decodeDeltas",dy),r("ol.format.Polyline.encodeFloats",fy),r("ol.format.Polyline.decodeFloats",yy),py.prototype.readFeature=py.prototype.Yb,py.prototype.readFeatures=py.prototype.Qa,py.prototype.readGeometry=py.prototype.ed,py.prototype.readProjection=py.prototype.sb,py.prototype.writeGeometry=py.prototype.md,r("ol.format.TopoJSON",my),my.prototype.readFeatures=my.prototype.Qa,my.prototype.readProjection=my.prototype.sb,r("ol.format.WFS",Xy),Xy.prototype.readFeatures=Xy.prototype.Qa,Xy.prototype.readTransactionResponse=Xy.prototype.j,Xy.prototype.readFeatureCollectionMetadata=Xy.prototype.f,r("ol.format.WFS.writeFilter",(function(t){var e=Su("http://www.opengis.net/ogc","Filter");return Wu({node:e},gm,Gu(t.rc),[t],[]),e})),Xy.prototype.writeGetFeature=Xy.prototype.s,Xy.prototype.writeTransaction=Xy.prototype.v,Xy.prototype.readProjection=Xy.prototype.sb,r("ol.format.WKT",dm),dm.prototype.readFeature=dm.prototype.Yb,dm.prototype.readFeatures=dm.prototype.Qa,dm.prototype.readGeometry=dm.prototype.ed,dm.prototype.writeFeature=dm.prototype.Jd,dm.prototype.writeFeatures=dm.prototype.ac,dm.prototype.writeGeometry=dm.prototype.md,r("ol.format.WMSCapabilities",Dm),Dm.prototype.read=Dm.prototype.read,r("ol.format.WMSGetFeatureInfo",iv),iv.prototype.readFeatures=iv.prototype.Qa,r("ol.format.WMTSCapabilities",_v),_v.prototype.read=_v.prototype.read,r("ol.format.filter.And",wy),r("ol.format.filter.Bbox",Sy),r("ol.format.filter.Comparison",Ty),r("ol.format.filter.ComparisonBinary",Ly),r("ol.format.filter.Contains",Ey),r("ol.format.filter.During",Py),r("ol.format.filter.EqualTo",Ny),r("ol.format.filter.Filter",Ay),r("ol.format.filter.GreaterThan",Dy),r("ol.format.filter.GreaterThanOrEqualTo",Ry),r("ol.format.filter.Intersects",Oy),r("ol.format.filter.IsBetween",Fy),r("ol.format.filter.IsLike",ky),r("ol.format.filter.IsNull",Gy),r("ol.format.filter.LessThan",By),r("ol.format.filter.LessThanOrEqualTo",zy),r("ol.format.filter.Not",Vy),r("ol.format.filter.NotEqualTo",jy),r("ol.format.filter.Or",Hy),r("ol.format.filter.Spatial",My),r("ol.format.filter.Within",Uy),r("ol.events.condition.altKeyOnly",Qo),r("ol.events.condition.altShiftKeysOnly",$o),r("ol.events.condition.always",un),r("ol.events.condition.click",(function(t){return"click"==t.type})),r("ol.events.condition.never",pn),r("ol.events.condition.pointerMove",er),r("ol.events.condition.singleClick",ir),r("ol.events.condition.doubleClick",(function(t){return"dblclick"==t.type})),r("ol.events.condition.noModifierKeys",nr),r("ol.events.condition.platformModifierKeyOnly",(function(t){return!(t=t.originalEvent).altKey&&(qe?t.metaKey:t.ctrlKey)&&!t.shiftKey})),r("ol.events.condition.shiftKeyOnly",or),r("ol.events.condition.targetNotEditable",rr),r("ol.events.condition.mouseOnly",sr),r("ol.events.condition.primaryAction",ar),be.prototype.type=be.prototype.type,be.prototype.target=be.prototype.target,be.prototype.preventDefault=be.prototype.preventDefault,be.prototype.stopPropagation=be.prototype.stopPropagation,r("ol.control.Attribution",ko),r("ol.control.Attribution.render",Go),ko.prototype.getCollapsible=ko.prototype.An,ko.prototype.setCollapsible=ko.prototype.Dn,ko.prototype.setCollapsed=ko.prototype.Cn,ko.prototype.getCollapsed=ko.prototype.zn,r("ol.control.Control",Do),Do.prototype.getMap=Do.prototype.f,Do.prototype.setMap=Do.prototype.setMap,Do.prototype.setTarget=Do.prototype.i,r("ol.control.FullScreen",$c),r("ol.control.MousePosition",ou),r("ol.control.MousePosition.render",ru),ou.prototype.getCoordinateFormat=ou.prototype.Qh,ou.prototype.getProjection=ou.prototype.si,ou.prototype.setCoordinateFormat=ou.prototype.Gj,ou.prototype.setProjection=ou.prototype.ti,r("ol.control.OverviewMap",hu),r("ol.control.OverviewMap.render",cu),hu.prototype.getCollapsible=hu.prototype.Gn,hu.prototype.setCollapsible=hu.prototype.Jn,hu.prototype.setCollapsed=hu.prototype.In,hu.prototype.getCollapsed=hu.prototype.Fn,hu.prototype.getOverviewMap=hu.prototype.Hl,r("ol.control.Rotate",zo),r("ol.control.Rotate.render",Vo),r("ol.control.ScaleLine",du),du.prototype.getUnits=du.prototype.C,r("ol.control.ScaleLine.render",yu),du.prototype.setUnits=du.prototype.O,r("ol.control.Zoom",jo),r("ol.control.ZoomSlider",_u),r("ol.control.ZoomSlider.render",Cu),r("ol.control.ZoomToExtent",bu),Te.prototype.changed=Te.prototype.u,Te.prototype.dispatchEvent=Te.prototype.b,Te.prototype.getRevision=Te.prototype.K,Te.prototype.on=Te.prototype.I,Te.prototype.once=Te.prototype.once,Te.prototype.un=Te.prototype.J,Lo.prototype.get=Lo.prototype.get,Lo.prototype.getKeys=Lo.prototype.P,Lo.prototype.getProperties=Lo.prototype.L,Lo.prototype.set=Lo.prototype.set,Lo.prototype.setProperties=Lo.prototype.H,Lo.prototype.unset=Lo.prototype.R,Lo.prototype.changed=Lo.prototype.u,Lo.prototype.dispatchEvent=Lo.prototype.b,Lo.prototype.getRevision=Lo.prototype.K,Lo.prototype.on=Lo.prototype.I,Lo.prototype.once=Lo.prototype.once,Lo.prototype.un=Lo.prototype.J,Ya.prototype.addControl=Ya.prototype.Mf,Ya.prototype.addInteraction=Ya.prototype.Nf,Ya.prototype.addLayer=Ya.prototype.xe,Ya.prototype.addOverlay=Ya.prototype.ye,Ya.prototype.forEachFeatureAtPixel=Ya.prototype.Tc,Ya.prototype.getFeaturesAtPixel=Ya.prototype.Xf,Ya.prototype.forEachLayerAtPixel=Ya.prototype.tg,Ya.prototype.hasFeatureAtPixel=Ya.prototype.ng,Ya.prototype.getEventCoordinate=Ya.prototype.Sd,Ya.prototype.getEventPixel=Ya.prototype.ud,Ya.prototype.getTarget=Ya.prototype.Xd,Ya.prototype.getTargetElement=Ya.prototype.Cc,Ya.prototype.getCoordinateFromPixel=Ya.prototype.Ra,Ya.prototype.getControls=Ya.prototype.Wf,Ya.prototype.getOverlays=Ya.prototype.gg,Ya.prototype.getOverlayById=Ya.prototype.fg,Ya.prototype.getInteractions=Ya.prototype.bg,Ya.prototype.getLayerGroup=Ya.prototype.hc,Ya.prototype.getLayers=Ya.prototype.Xe,Ya.prototype.getPixelFromCoordinate=Ya.prototype.Ia,Ya.prototype.getSize=Ya.prototype.Cb,Ya.prototype.getView=Ya.prototype.aa,Ya.prototype.getViewport=Ya.prototype.kg,Ya.prototype.renderSync=Ya.prototype.dh,Ya.prototype.render=Ya.prototype.render,Ya.prototype.removeControl=Ya.prototype.Xg,Ya.prototype.removeInteraction=Ya.prototype.Zg,Ya.prototype.removeLayer=Ya.prototype.$g,Ya.prototype.removeOverlay=Ya.prototype.ah,Ya.prototype.setLayerGroup=Ya.prototype.zf,Ya.prototype.setSize=Ya.prototype.be,Ya.prototype.setTarget=Ya.prototype.Ad,Ya.prototype.setView=Ya.prototype.jh,Ya.prototype.updateSize=Ya.prototype.Oc,Ya.prototype.get=Ya.prototype.get,Ya.prototype.getKeys=Ya.prototype.P,Ya.prototype.getProperties=Ya.prototype.L,Ya.prototype.set=Ya.prototype.set,Ya.prototype.setProperties=Ya.prototype.H,Ya.prototype.unset=Ya.prototype.R,Ya.prototype.changed=Ya.prototype.u,Ya.prototype.dispatchEvent=Ya.prototype.b,Ya.prototype.getRevision=Ya.prototype.K,Ya.prototype.on=Ya.prototype.I,Ya.prototype.once=Ya.prototype.once,Ya.prototype.un=Ya.prototype.J,Re.prototype.get=Re.prototype.get,Re.prototype.getKeys=Re.prototype.P,Re.prototype.getProperties=Re.prototype.L,Re.prototype.set=Re.prototype.set,Re.prototype.setProperties=Re.prototype.H,Re.prototype.unset=Re.prototype.R,Re.prototype.changed=Re.prototype.u,Re.prototype.dispatchEvent=Re.prototype.b,Re.prototype.getRevision=Re.prototype.K,Re.prototype.on=Re.prototype.I,Re.prototype.once=Re.prototype.once,Re.prototype.un=Re.prototype.J,Ge.prototype.type=Ge.prototype.type,Ge.prototype.target=Ge.prototype.target,Ge.prototype.preventDefault=Ge.prototype.preventDefault,Ge.prototype.stopPropagation=Ge.prototype.stopPropagation,Xa.prototype.get=Xa.prototype.get,Xa.prototype.getKeys=Xa.prototype.P,Xa.prototype.getProperties=Xa.prototype.L,Xa.prototype.set=Xa.prototype.set,Xa.prototype.setProperties=Xa.prototype.H,Xa.prototype.unset=Xa.prototype.R,Xa.prototype.changed=Xa.prototype.u,Xa.prototype.dispatchEvent=Xa.prototype.b,Xa.prototype.getRevision=Xa.prototype.K,Xa.prototype.on=Xa.prototype.I,Xa.prototype.once=Xa.prototype.once,Xa.prototype.un=Xa.prototype.J,ul.prototype.get=ul.prototype.get,ul.prototype.getKeys=ul.prototype.P,ul.prototype.getProperties=ul.prototype.L,ul.prototype.set=ul.prototype.set,ul.prototype.setProperties=ul.prototype.H,ul.prototype.unset=ul.prototype.R,ul.prototype.changed=ul.prototype.u,ul.prototype.dispatchEvent=ul.prototype.b,ul.prototype.getRevision=ul.prototype.K,ul.prototype.on=ul.prototype.I,ul.prototype.once=ul.prototype.once,ul.prototype.un=ul.prototype.J,pl.prototype.get=pl.prototype.get,pl.prototype.getKeys=pl.prototype.P,pl.prototype.getProperties=pl.prototype.L,pl.prototype.set=pl.prototype.set,pl.prototype.setProperties=pl.prototype.H,pl.prototype.unset=pl.prototype.R,pl.prototype.changed=pl.prototype.u,pl.prototype.dispatchEvent=pl.prototype.b,pl.prototype.getRevision=pl.prototype.K,pl.prototype.on=pl.prototype.I,pl.prototype.once=pl.prototype.once,pl.prototype.un=pl.prototype.J,Tl.prototype.getTileCoord=Tl.prototype.i,Tl.prototype.load=Tl.prototype.load,zc.prototype.addControl=zc.prototype.Mf,zc.prototype.addInteraction=zc.prototype.Nf,zc.prototype.addLayer=zc.prototype.xe,zc.prototype.addOverlay=zc.prototype.ye,zc.prototype.forEachFeatureAtPixel=zc.prototype.Tc,zc.prototype.getFeaturesAtPixel=zc.prototype.Xf,zc.prototype.forEachLayerAtPixel=zc.prototype.tg,zc.prototype.hasFeatureAtPixel=zc.prototype.ng,zc.prototype.getEventCoordinate=zc.prototype.Sd,zc.prototype.getEventPixel=zc.prototype.ud,zc.prototype.getTarget=zc.prototype.Xd,zc.prototype.getTargetElement=zc.prototype.Cc,zc.prototype.getCoordinateFromPixel=zc.prototype.Ra,zc.prototype.getControls=zc.prototype.Wf,zc.prototype.getOverlays=zc.prototype.gg,zc.prototype.getOverlayById=zc.prototype.fg,zc.prototype.getInteractions=zc.prototype.bg,zc.prototype.getLayerGroup=zc.prototype.hc,zc.prototype.getLayers=zc.prototype.Xe,zc.prototype.getPixelFromCoordinate=zc.prototype.Ia,zc.prototype.getSize=zc.prototype.Cb,zc.prototype.getView=zc.prototype.aa,zc.prototype.getViewport=zc.prototype.kg,zc.prototype.renderSync=zc.prototype.dh,zc.prototype.render=zc.prototype.render,zc.prototype.removeControl=zc.prototype.Xg,zc.prototype.removeInteraction=zc.prototype.Zg,zc.prototype.removeLayer=zc.prototype.$g,zc.prototype.removeOverlay=zc.prototype.ah,zc.prototype.setLayerGroup=zc.prototype.zf,zc.prototype.setSize=zc.prototype.be,zc.prototype.setTarget=zc.prototype.Ad,zc.prototype.setView=zc.prototype.jh,zc.prototype.updateSize=zc.prototype.Oc,zc.prototype.get=zc.prototype.get,zc.prototype.getKeys=zc.prototype.P,zc.prototype.getProperties=zc.prototype.L,zc.prototype.set=zc.prototype.set,zc.prototype.setProperties=zc.prototype.H,zc.prototype.unset=zc.prototype.R,zc.prototype.changed=zc.prototype.u,zc.prototype.dispatchEvent=zc.prototype.b,zc.prototype.getRevision=zc.prototype.K,zc.prototype.on=zc.prototype.I,zc.prototype.once=zc.prototype.once,zc.prototype.un=zc.prototype.J,Be.prototype.type=Be.prototype.type,Be.prototype.target=Be.prototype.target,Be.prototype.preventDefault=Be.prototype.preventDefault,Be.prototype.stopPropagation=Be.prototype.stopPropagation,ze.prototype.map=ze.prototype.map,ze.prototype.frameState=ze.prototype.frameState,ze.prototype.type=ze.prototype.type,ze.prototype.target=ze.prototype.target,ze.prototype.preventDefault=ze.prototype.preventDefault,ze.prototype.stopPropagation=ze.prototype.stopPropagation,li.prototype.originalEvent=li.prototype.originalEvent,li.prototype.pixel=li.prototype.pixel,li.prototype.coordinate=li.prototype.coordinate,li.prototype.dragging=li.prototype.dragging,li.prototype.preventDefault=li.prototype.preventDefault,li.prototype.stopPropagation=li.prototype.stopPropagation,li.prototype.map=li.prototype.map,li.prototype.frameState=li.prototype.frameState,li.prototype.type=li.prototype.type,li.prototype.target=li.prototype.target,De.prototype.type=De.prototype.type,De.prototype.target=De.prototype.target,De.prototype.preventDefault=De.prototype.preventDefault,De.prototype.stopPropagation=De.prototype.stopPropagation,Vc.prototype.get=Vc.prototype.get,Vc.prototype.getKeys=Vc.prototype.P,Vc.prototype.getProperties=Vc.prototype.L,Vc.prototype.set=Vc.prototype.set,Vc.prototype.setProperties=Vc.prototype.H,Vc.prototype.unset=Vc.prototype.R,Vc.prototype.changed=Vc.prototype.u,Vc.prototype.dispatchEvent=Vc.prototype.b,Vc.prototype.getRevision=Vc.prototype.K,Vc.prototype.on=Vc.prototype.I,Vc.prototype.once=Vc.prototype.once,Vc.prototype.un=Vc.prototype.J,kC.prototype.getTileCoord=kC.prototype.i,kC.prototype.load=kC.prototype.load,Kc.prototype.getTileCoord=Kc.prototype.i,Kc.prototype.load=Kc.prototype.load,uo.prototype.get=uo.prototype.get,uo.prototype.getKeys=uo.prototype.P,uo.prototype.getProperties=uo.prototype.L,uo.prototype.set=uo.prototype.set,uo.prototype.setProperties=uo.prototype.H,uo.prototype.unset=uo.prototype.R,uo.prototype.changed=uo.prototype.u,uo.prototype.dispatchEvent=uo.prototype.b,uo.prototype.getRevision=uo.prototype.K,uo.prototype.on=uo.prototype.I,uo.prototype.once=uo.prototype.once,uo.prototype.un=uo.prototype.J,jC.prototype.forEachTileCoord=jC.prototype.Vf,jC.prototype.getMaxZoom=jC.prototype.mj,jC.prototype.getMinZoom=jC.prototype.nj,jC.prototype.getOrigin=jC.prototype.Ic,jC.prototype.getResolution=jC.prototype.Ta,jC.prototype.getResolutions=jC.prototype.oj,jC.prototype.getTileCoordExtent=jC.prototype.Ma,jC.prototype.getTileCoordForCoordAndResolution=jC.prototype.Le,jC.prototype.getTileCoordForCoordAndZ=jC.prototype.jg,jC.prototype.getTileSize=jC.prototype.Za,jC.prototype.getZForResolution=jC.prototype.Dc,tl.prototype.getOpacity=tl.prototype.hf,tl.prototype.getRotateWithView=tl.prototype.jf,tl.prototype.getRotation=tl.prototype.kf,tl.prototype.getScale=tl.prototype.lf,tl.prototype.getSnapToPixel=tl.prototype.Ke,tl.prototype.setOpacity=tl.prototype.Ed,tl.prototype.setRotation=tl.prototype.mf,tl.prototype.setScale=tl.prototype.Fd,il.prototype.clone=il.prototype.clone,il.prototype.getAngle=il.prototype.ij,il.prototype.getFill=il.prototype.Fa,il.prototype.getPoints=il.prototype.jj,il.prototype.getRadius=il.prototype.kj,il.prototype.getRadius2=il.prototype.Zh,il.prototype.getStroke=il.prototype.Ga,il.prototype.getOpacity=il.prototype.hf,il.prototype.getRotateWithView=il.prototype.jf,il.prototype.getRotation=il.prototype.kf,il.prototype.getScale=il.prototype.lf,il.prototype.getSnapToPixel=il.prototype.Ke,il.prototype.setOpacity=il.prototype.Ed,il.prototype.setRotation=il.prototype.mf,il.prototype.setScale=il.prototype.Fd,ud.prototype.getOpacity=ud.prototype.hf,ud.prototype.getRotateWithView=ud.prototype.jf,ud.prototype.getRotation=ud.prototype.kf,ud.prototype.getScale=ud.prototype.lf,ud.prototype.getSnapToPixel=ud.prototype.Ke,ud.prototype.setOpacity=ud.prototype.Ed,ud.prototype.setRotation=ud.prototype.mf,ud.prototype.setScale=ud.prototype.Fd,Kv.prototype.get=Kv.prototype.get,Kv.prototype.getKeys=Kv.prototype.P,Kv.prototype.getProperties=Kv.prototype.L,Kv.prototype.set=Kv.prototype.set,Kv.prototype.setProperties=Kv.prototype.H,Kv.prototype.unset=Kv.prototype.R,Kv.prototype.changed=Kv.prototype.u,Kv.prototype.dispatchEvent=Kv.prototype.b,Kv.prototype.getRevision=Kv.prototype.K,Kv.prototype.on=Kv.prototype.I,Kv.prototype.once=Kv.prototype.once,Kv.prototype.un=Kv.prototype.J,Dx.prototype.getAttributions=Dx.prototype.za,Dx.prototype.getLogo=Dx.prototype.Aa,Dx.prototype.getProjection=Dx.prototype.Da,Dx.prototype.getState=Dx.prototype.getState,Dx.prototype.refresh=Dx.prototype.sa,Dx.prototype.setAttributions=Dx.prototype.va,Dx.prototype.get=Dx.prototype.get,Dx.prototype.getKeys=Dx.prototype.P,Dx.prototype.getProperties=Dx.prototype.L,Dx.prototype.set=Dx.prototype.set,Dx.prototype.setProperties=Dx.prototype.H,Dx.prototype.unset=Dx.prototype.R,Dx.prototype.changed=Dx.prototype.u,Dx.prototype.dispatchEvent=Dx.prototype.b,Dx.prototype.getRevision=Dx.prototype.K,Dx.prototype.on=Dx.prototype.I,Dx.prototype.once=Dx.prototype.once,Dx.prototype.un=Dx.prototype.J,Gx.prototype.getTileGrid=Gx.prototype.jb,Gx.prototype.refresh=Gx.prototype.sa,Gx.prototype.getAttributions=Gx.prototype.za,Gx.prototype.getLogo=Gx.prototype.Aa,Gx.prototype.getProjection=Gx.prototype.Da,Gx.prototype.getState=Gx.prototype.getState,Gx.prototype.setAttributions=Gx.prototype.va,Gx.prototype.get=Gx.prototype.get,Gx.prototype.getKeys=Gx.prototype.P,Gx.prototype.getProperties=Gx.prototype.L,Gx.prototype.set=Gx.prototype.set,Gx.prototype.setProperties=Gx.prototype.H,Gx.prototype.unset=Gx.prototype.R,Gx.prototype.changed=Gx.prototype.u,Gx.prototype.dispatchEvent=Gx.prototype.b,Gx.prototype.getRevision=Gx.prototype.K,Gx.prototype.on=Gx.prototype.I,Gx.prototype.once=Gx.prototype.once,Gx.prototype.un=Gx.prototype.J,Bx.prototype.getTileLoadFunction=Bx.prototype.yb,Bx.prototype.getTileUrlFunction=Bx.prototype.zb,Bx.prototype.getUrls=Bx.prototype.Ab,Bx.prototype.setTileLoadFunction=Bx.prototype.Fb,Bx.prototype.setTileUrlFunction=Bx.prototype.hb,Bx.prototype.setUrl=Bx.prototype.rb,Bx.prototype.setUrls=Bx.prototype.vb,Bx.prototype.getTileGrid=Bx.prototype.jb,Bx.prototype.refresh=Bx.prototype.sa,Bx.prototype.getAttributions=Bx.prototype.za,Bx.prototype.getLogo=Bx.prototype.Aa,Bx.prototype.getProjection=Bx.prototype.Da,Bx.prototype.getState=Bx.prototype.getState,Bx.prototype.setAttributions=Bx.prototype.va,Bx.prototype.get=Bx.prototype.get,Bx.prototype.getKeys=Bx.prototype.P,Bx.prototype.getProperties=Bx.prototype.L,Bx.prototype.set=Bx.prototype.set,Bx.prototype.setProperties=Bx.prototype.H,Bx.prototype.unset=Bx.prototype.R,Bx.prototype.changed=Bx.prototype.u,Bx.prototype.dispatchEvent=Bx.prototype.b,Bx.prototype.getRevision=Bx.prototype.K,Bx.prototype.on=Bx.prototype.I,Bx.prototype.once=Bx.prototype.once,Bx.prototype.un=Bx.prototype.J,Hx.prototype.setRenderReprojectionEdges=Hx.prototype.Qb,Hx.prototype.setTileGridForProjection=Hx.prototype.Rb,Hx.prototype.getTileLoadFunction=Hx.prototype.yb,Hx.prototype.getTileUrlFunction=Hx.prototype.zb,Hx.prototype.getUrls=Hx.prototype.Ab,Hx.prototype.setTileLoadFunction=Hx.prototype.Fb,Hx.prototype.setTileUrlFunction=Hx.prototype.hb,Hx.prototype.setUrl=Hx.prototype.rb,Hx.prototype.setUrls=Hx.prototype.vb,Hx.prototype.getTileGrid=Hx.prototype.jb,Hx.prototype.refresh=Hx.prototype.sa,Hx.prototype.getAttributions=Hx.prototype.za,Hx.prototype.getLogo=Hx.prototype.Aa,Hx.prototype.getProjection=Hx.prototype.Da,Hx.prototype.getState=Hx.prototype.getState,Hx.prototype.setAttributions=Hx.prototype.va,Hx.prototype.get=Hx.prototype.get,Hx.prototype.getKeys=Hx.prototype.P,Hx.prototype.getProperties=Hx.prototype.L,Hx.prototype.set=Hx.prototype.set,Hx.prototype.setProperties=Hx.prototype.H,Hx.prototype.unset=Hx.prototype.R,Hx.prototype.changed=Hx.prototype.u,Hx.prototype.dispatchEvent=Hx.prototype.b,Hx.prototype.getRevision=Hx.prototype.K,Hx.prototype.on=Hx.prototype.I,Hx.prototype.once=Hx.prototype.once,Hx.prototype.un=Hx.prototype.J,Ux.prototype.setRenderReprojectionEdges=Ux.prototype.Qb,Ux.prototype.setTileGridForProjection=Ux.prototype.Rb,Ux.prototype.getTileLoadFunction=Ux.prototype.yb,Ux.prototype.getTileUrlFunction=Ux.prototype.zb,Ux.prototype.getUrls=Ux.prototype.Ab,Ux.prototype.setTileLoadFunction=Ux.prototype.Fb,Ux.prototype.setTileUrlFunction=Ux.prototype.hb,Ux.prototype.setUrl=Ux.prototype.rb,Ux.prototype.setUrls=Ux.prototype.vb,Ux.prototype.getTileGrid=Ux.prototype.jb,Ux.prototype.refresh=Ux.prototype.sa,Ux.prototype.getAttributions=Ux.prototype.za,Ux.prototype.getLogo=Ux.prototype.Aa,Ux.prototype.getProjection=Ux.prototype.Da,Ux.prototype.getState=Ux.prototype.getState,Ux.prototype.setAttributions=Ux.prototype.va,Ux.prototype.get=Ux.prototype.get,Ux.prototype.getKeys=Ux.prototype.P,Ux.prototype.getProperties=Ux.prototype.L,Ux.prototype.set=Ux.prototype.set,Ux.prototype.setProperties=Ux.prototype.H,Ux.prototype.unset=Ux.prototype.R,Ux.prototype.changed=Ux.prototype.u,Ux.prototype.dispatchEvent=Ux.prototype.b,Ux.prototype.getRevision=Ux.prototype.K,Ux.prototype.on=Ux.prototype.I,Ux.prototype.once=Ux.prototype.once,Ux.prototype.un=Ux.prototype.J,Wx.prototype.setRenderReprojectionEdges=Wx.prototype.Qb,Wx.prototype.setTileGridForProjection=Wx.prototype.Rb,Wx.prototype.getTileLoadFunction=Wx.prototype.yb,Wx.prototype.getTileUrlFunction=Wx.prototype.zb,Wx.prototype.getUrls=Wx.prototype.Ab,Wx.prototype.setTileLoadFunction=Wx.prototype.Fb,Wx.prototype.setTileUrlFunction=Wx.prototype.hb,Wx.prototype.setUrl=Wx.prototype.rb,Wx.prototype.setUrls=Wx.prototype.vb,Wx.prototype.getTileGrid=Wx.prototype.jb,Wx.prototype.refresh=Wx.prototype.sa,Wx.prototype.getAttributions=Wx.prototype.za,Wx.prototype.getLogo=Wx.prototype.Aa,Wx.prototype.getProjection=Wx.prototype.Da,Wx.prototype.getState=Wx.prototype.getState,Wx.prototype.setAttributions=Wx.prototype.va,Wx.prototype.get=Wx.prototype.get,Wx.prototype.getKeys=Wx.prototype.P,Wx.prototype.getProperties=Wx.prototype.L,Wx.prototype.set=Wx.prototype.set,Wx.prototype.setProperties=Wx.prototype.H,Wx.prototype.unset=Wx.prototype.R,Wx.prototype.changed=Wx.prototype.u,Wx.prototype.dispatchEvent=Wx.prototype.b,Wx.prototype.getRevision=Wx.prototype.K,Wx.prototype.on=Wx.prototype.I,Wx.prototype.once=Wx.prototype.once,Wx.prototype.un=Wx.prototype.J,$v.prototype.getAttributions=$v.prototype.za,$v.prototype.getLogo=$v.prototype.Aa,$v.prototype.getProjection=$v.prototype.Da,$v.prototype.getState=$v.prototype.getState,$v.prototype.refresh=$v.prototype.sa,$v.prototype.setAttributions=$v.prototype.va,$v.prototype.get=$v.prototype.get,$v.prototype.getKeys=$v.prototype.P,$v.prototype.getProperties=$v.prototype.L,$v.prototype.set=$v.prototype.set,$v.prototype.setProperties=$v.prototype.H,$v.prototype.unset=$v.prototype.R,$v.prototype.changed=$v.prototype.u,$v.prototype.dispatchEvent=$v.prototype.b,$v.prototype.getRevision=$v.prototype.K,$v.prototype.on=$v.prototype.I,$v.prototype.once=$v.prototype.once,$v.prototype.un=$v.prototype.J,Zx.prototype.addFeature=Zx.prototype.Gb,Zx.prototype.addFeatures=Zx.prototype.Qc,Zx.prototype.clear=Zx.prototype.clear,Zx.prototype.forEachFeature=Zx.prototype.Lh,Zx.prototype.forEachFeatureInExtent=Zx.prototype.ec,Zx.prototype.forEachFeatureIntersectingExtent=Zx.prototype.Mh,Zx.prototype.getFeaturesCollection=Zx.prototype.Th,Zx.prototype.getFeatures=Zx.prototype.ee,Zx.prototype.getFeaturesAtCoordinate=Zx.prototype.Sh,Zx.prototype.getFeaturesInExtent=Zx.prototype.Yf,Zx.prototype.getClosestFeatureToCoordinate=Zx.prototype.Oh,Zx.prototype.getExtent=Zx.prototype.G,Zx.prototype.getFeatureById=Zx.prototype.Rh,Zx.prototype.getFormat=Zx.prototype.ej,Zx.prototype.getUrl=Zx.prototype.fj,Zx.prototype.removeLoadedExtent=Zx.prototype.Cj,Zx.prototype.removeFeature=Zx.prototype.Lb,Zx.prototype.setLoader=Zx.prototype.hj,Zx.prototype.getAttributions=Zx.prototype.za,Zx.prototype.getLogo=Zx.prototype.Aa,Zx.prototype.getProjection=Zx.prototype.Da,Zx.prototype.getState=Zx.prototype.getState,Zx.prototype.refresh=Zx.prototype.sa,Zx.prototype.setAttributions=Zx.prototype.va,Zx.prototype.get=Zx.prototype.get,Zx.prototype.getKeys=Zx.prototype.P,Zx.prototype.getProperties=Zx.prototype.L,Zx.prototype.set=Zx.prototype.set,Zx.prototype.setProperties=Zx.prototype.H,Zx.prototype.unset=Zx.prototype.R,Zx.prototype.changed=Zx.prototype.u,Zx.prototype.dispatchEvent=Zx.prototype.b,Zx.prototype.getRevision=Zx.prototype.K,Zx.prototype.on=Zx.prototype.I,Zx.prototype.once=Zx.prototype.once,Zx.prototype.un=Zx.prototype.J,Qx.prototype.getAttributions=Qx.prototype.za,Qx.prototype.getLogo=Qx.prototype.Aa,Qx.prototype.getProjection=Qx.prototype.Da,Qx.prototype.getState=Qx.prototype.getState,Qx.prototype.refresh=Qx.prototype.sa,Qx.prototype.setAttributions=Qx.prototype.va,Qx.prototype.get=Qx.prototype.get,Qx.prototype.getKeys=Qx.prototype.P,Qx.prototype.getProperties=Qx.prototype.L,Qx.prototype.set=Qx.prototype.set,Qx.prototype.setProperties=Qx.prototype.H,Qx.prototype.unset=Qx.prototype.R,Qx.prototype.changed=Qx.prototype.u,Qx.prototype.dispatchEvent=Qx.prototype.b,Qx.prototype.getRevision=Qx.prototype.K,Qx.prototype.on=Qx.prototype.I,Qx.prototype.once=Qx.prototype.once,Qx.prototype.un=Qx.prototype.J,eC.prototype.type=eC.prototype.type,eC.prototype.target=eC.prototype.target,eC.prototype.preventDefault=eC.prototype.preventDefault,eC.prototype.stopPropagation=eC.prototype.stopPropagation,sC.prototype.getAttributions=sC.prototype.za,sC.prototype.getLogo=sC.prototype.Aa,sC.prototype.getProjection=sC.prototype.Da,sC.prototype.getState=sC.prototype.getState,sC.prototype.refresh=sC.prototype.sa,sC.prototype.setAttributions=sC.prototype.va,sC.prototype.get=sC.prototype.get,sC.prototype.getKeys=sC.prototype.P,sC.prototype.getProperties=sC.prototype.L,sC.prototype.set=sC.prototype.set,sC.prototype.setProperties=sC.prototype.H,sC.prototype.unset=sC.prototype.R,sC.prototype.changed=sC.prototype.u,sC.prototype.dispatchEvent=sC.prototype.b,sC.prototype.getRevision=sC.prototype.K,sC.prototype.on=sC.prototype.I,sC.prototype.once=sC.prototype.once,sC.prototype.un=sC.prototype.J,aC.prototype.getAttributions=aC.prototype.za,aC.prototype.getLogo=aC.prototype.Aa,aC.prototype.getProjection=aC.prototype.Da,aC.prototype.getState=aC.prototype.getState,aC.prototype.refresh=aC.prototype.sa,aC.prototype.setAttributions=aC.prototype.va,aC.prototype.get=aC.prototype.get,aC.prototype.getKeys=aC.prototype.P,aC.prototype.getProperties=aC.prototype.L,aC.prototype.set=aC.prototype.set,aC.prototype.setProperties=aC.prototype.H,aC.prototype.unset=aC.prototype.R,aC.prototype.changed=aC.prototype.u,aC.prototype.dispatchEvent=aC.prototype.b,aC.prototype.getRevision=aC.prototype.K,aC.prototype.on=aC.prototype.I,aC.prototype.once=aC.prototype.once,aC.prototype.un=aC.prototype.J,lC.prototype.getAttributions=lC.prototype.za,lC.prototype.getLogo=lC.prototype.Aa,lC.prototype.getProjection=lC.prototype.Da,lC.prototype.getState=lC.prototype.getState,lC.prototype.refresh=lC.prototype.sa,lC.prototype.setAttributions=lC.prototype.va,lC.prototype.get=lC.prototype.get,lC.prototype.getKeys=lC.prototype.P,lC.prototype.getProperties=lC.prototype.L,lC.prototype.set=lC.prototype.set,lC.prototype.setProperties=lC.prototype.H,lC.prototype.unset=lC.prototype.R,lC.prototype.changed=lC.prototype.u,lC.prototype.dispatchEvent=lC.prototype.b,lC.prototype.getRevision=lC.prototype.K,lC.prototype.on=lC.prototype.I,lC.prototype.once=lC.prototype.once,lC.prototype.un=lC.prototype.J,hC.prototype.getAttributions=hC.prototype.za,hC.prototype.getLogo=hC.prototype.Aa,hC.prototype.getProjection=hC.prototype.Da,hC.prototype.getState=hC.prototype.getState,hC.prototype.refresh=hC.prototype.sa,hC.prototype.setAttributions=hC.prototype.va,hC.prototype.get=hC.prototype.get,hC.prototype.getKeys=hC.prototype.P,hC.prototype.getProperties=hC.prototype.L,hC.prototype.set=hC.prototype.set,hC.prototype.setProperties=hC.prototype.H,hC.prototype.unset=hC.prototype.R,hC.prototype.changed=hC.prototype.u,hC.prototype.dispatchEvent=hC.prototype.b,hC.prototype.getRevision=hC.prototype.K,hC.prototype.on=hC.prototype.I,hC.prototype.once=hC.prototype.once,hC.prototype.un=hC.prototype.J,cC.prototype.getAttributions=cC.prototype.za,cC.prototype.getLogo=cC.prototype.Aa,cC.prototype.getProjection=cC.prototype.Da,cC.prototype.getState=cC.prototype.getState,cC.prototype.refresh=cC.prototype.sa,cC.prototype.setAttributions=cC.prototype.va,cC.prototype.get=cC.prototype.get,cC.prototype.getKeys=cC.prototype.P,cC.prototype.getProperties=cC.prototype.L,cC.prototype.set=cC.prototype.set,cC.prototype.setProperties=cC.prototype.H,cC.prototype.unset=cC.prototype.R,cC.prototype.changed=cC.prototype.u,cC.prototype.dispatchEvent=cC.prototype.b,cC.prototype.getRevision=cC.prototype.K,cC.prototype.on=cC.prototype.I,cC.prototype.once=cC.prototype.once,cC.prototype.un=cC.prototype.J,uC.prototype.getAttributions=uC.prototype.za,uC.prototype.getLogo=uC.prototype.Aa,uC.prototype.getProjection=uC.prototype.Da,uC.prototype.getState=uC.prototype.getState,uC.prototype.refresh=uC.prototype.sa,uC.prototype.setAttributions=uC.prototype.va,uC.prototype.get=uC.prototype.get,uC.prototype.getKeys=uC.prototype.P,uC.prototype.getProperties=uC.prototype.L,uC.prototype.set=uC.prototype.set,uC.prototype.setProperties=uC.prototype.H,uC.prototype.unset=uC.prototype.R,uC.prototype.changed=uC.prototype.u,uC.prototype.dispatchEvent=uC.prototype.b,uC.prototype.getRevision=uC.prototype.K,uC.prototype.on=uC.prototype.I,uC.prototype.once=uC.prototype.once,uC.prototype.un=uC.prototype.J,fC.prototype.setRenderReprojectionEdges=fC.prototype.Qb,fC.prototype.setTileGridForProjection=fC.prototype.Rb,fC.prototype.getTileLoadFunction=fC.prototype.yb,fC.prototype.getTileUrlFunction=fC.prototype.zb,fC.prototype.getUrls=fC.prototype.Ab,fC.prototype.setTileLoadFunction=fC.prototype.Fb,fC.prototype.setTileUrlFunction=fC.prototype.hb,fC.prototype.setUrl=fC.prototype.rb,fC.prototype.setUrls=fC.prototype.vb,fC.prototype.getTileGrid=fC.prototype.jb,fC.prototype.refresh=fC.prototype.sa,fC.prototype.getAttributions=fC.prototype.za,fC.prototype.getLogo=fC.prototype.Aa,fC.prototype.getProjection=fC.prototype.Da,fC.prototype.getState=fC.prototype.getState,fC.prototype.setAttributions=fC.prototype.va,fC.prototype.get=fC.prototype.get,fC.prototype.getKeys=fC.prototype.P,fC.prototype.getProperties=fC.prototype.L,fC.prototype.set=fC.prototype.set,fC.prototype.setProperties=fC.prototype.H,fC.prototype.unset=fC.prototype.R,fC.prototype.changed=fC.prototype.u,fC.prototype.dispatchEvent=fC.prototype.b,fC.prototype.getRevision=fC.prototype.K,fC.prototype.on=fC.prototype.I,fC.prototype.once=fC.prototype.once,fC.prototype.un=fC.prototype.J,yC.prototype.getAttributions=yC.prototype.za,yC.prototype.getLogo=yC.prototype.Aa,yC.prototype.getProjection=yC.prototype.Da,yC.prototype.getState=yC.prototype.getState,yC.prototype.refresh=yC.prototype.sa,yC.prototype.setAttributions=yC.prototype.va,yC.prototype.get=yC.prototype.get,yC.prototype.getKeys=yC.prototype.P,yC.prototype.getProperties=yC.prototype.L,yC.prototype.set=yC.prototype.set,yC.prototype.setProperties=yC.prototype.H,yC.prototype.unset=yC.prototype.R,yC.prototype.changed=yC.prototype.u,yC.prototype.dispatchEvent=yC.prototype.b,yC.prototype.getRevision=yC.prototype.K,yC.prototype.on=yC.prototype.I,yC.prototype.once=yC.prototype.once,yC.prototype.un=yC.prototype.J,vC.prototype.type=vC.prototype.type,vC.prototype.target=vC.prototype.target,vC.prototype.preventDefault=vC.prototype.preventDefault,vC.prototype.stopPropagation=vC.prototype.stopPropagation,CC.prototype.setRenderReprojectionEdges=CC.prototype.Qb,CC.prototype.setTileGridForProjection=CC.prototype.Rb,CC.prototype.getTileLoadFunction=CC.prototype.yb,CC.prototype.getTileUrlFunction=CC.prototype.zb,CC.prototype.getUrls=CC.prototype.Ab,CC.prototype.setTileLoadFunction=CC.prototype.Fb,CC.prototype.setTileUrlFunction=CC.prototype.hb,CC.prototype.setUrl=CC.prototype.rb,CC.prototype.setUrls=CC.prototype.vb,CC.prototype.getTileGrid=CC.prototype.jb,CC.prototype.refresh=CC.prototype.sa,CC.prototype.getAttributions=CC.prototype.za,CC.prototype.getLogo=CC.prototype.Aa,CC.prototype.getProjection=CC.prototype.Da,CC.prototype.getState=CC.prototype.getState,CC.prototype.setAttributions=CC.prototype.va,CC.prototype.get=CC.prototype.get,CC.prototype.getKeys=CC.prototype.P,CC.prototype.getProperties=CC.prototype.L,CC.prototype.set=CC.prototype.set,CC.prototype.setProperties=CC.prototype.H,CC.prototype.unset=CC.prototype.R,CC.prototype.changed=CC.prototype.u,CC.prototype.dispatchEvent=CC.prototype.b,CC.prototype.getRevision=CC.prototype.K,CC.prototype.on=CC.prototype.I,CC.prototype.once=CC.prototype.once,CC.prototype.un=CC.prototype.J,kx.prototype.type=kx.prototype.type,kx.prototype.target=kx.prototype.target,kx.prototype.preventDefault=kx.prototype.preventDefault,kx.prototype.stopPropagation=kx.prototype.stopPropagation,wC.prototype.setRenderReprojectionEdges=wC.prototype.Qb,wC.prototype.setTileGridForProjection=wC.prototype.Rb,wC.prototype.getTileLoadFunction=wC.prototype.yb,wC.prototype.getTileUrlFunction=wC.prototype.zb,wC.prototype.getUrls=wC.prototype.Ab,wC.prototype.setTileLoadFunction=wC.prototype.Fb,wC.prototype.setTileUrlFunction=wC.prototype.hb,wC.prototype.setUrl=wC.prototype.rb,wC.prototype.setUrls=wC.prototype.vb,wC.prototype.getTileGrid=wC.prototype.jb,wC.prototype.refresh=wC.prototype.sa,wC.prototype.getAttributions=wC.prototype.za,wC.prototype.getLogo=wC.prototype.Aa,wC.prototype.getProjection=wC.prototype.Da,wC.prototype.getState=wC.prototype.getState,wC.prototype.setAttributions=wC.prototype.va,wC.prototype.get=wC.prototype.get,wC.prototype.getKeys=wC.prototype.P,wC.prototype.getProperties=wC.prototype.L,wC.prototype.set=wC.prototype.set,wC.prototype.setProperties=wC.prototype.H,wC.prototype.unset=wC.prototype.R,wC.prototype.changed=wC.prototype.u,wC.prototype.dispatchEvent=wC.prototype.b,wC.prototype.getRevision=wC.prototype.K,wC.prototype.on=wC.prototype.I,wC.prototype.once=wC.prototype.once,wC.prototype.un=wC.prototype.J,MC.prototype.getTileGrid=MC.prototype.jb,MC.prototype.refresh=MC.prototype.sa,MC.prototype.getAttributions=MC.prototype.za,MC.prototype.getLogo=MC.prototype.Aa,MC.prototype.getProjection=MC.prototype.Da,MC.prototype.getState=MC.prototype.getState,MC.prototype.setAttributions=MC.prototype.va,MC.prototype.get=MC.prototype.get,MC.prototype.getKeys=MC.prototype.P,MC.prototype.getProperties=MC.prototype.L,MC.prototype.set=MC.prototype.set,MC.prototype.setProperties=MC.prototype.H,MC.prototype.unset=MC.prototype.R,MC.prototype.changed=MC.prototype.u,MC.prototype.dispatchEvent=MC.prototype.b,MC.prototype.getRevision=MC.prototype.K,MC.prototype.on=MC.prototype.I,MC.prototype.once=MC.prototype.once,MC.prototype.un=MC.prototype.J,TC.prototype.setRenderReprojectionEdges=TC.prototype.Qb,TC.prototype.setTileGridForProjection=TC.prototype.Rb,TC.prototype.getTileLoadFunction=TC.prototype.yb,TC.prototype.getTileUrlFunction=TC.prototype.zb,TC.prototype.getUrls=TC.prototype.Ab,TC.prototype.setTileLoadFunction=TC.prototype.Fb,TC.prototype.setTileUrlFunction=TC.prototype.hb,TC.prototype.setUrl=TC.prototype.rb,TC.prototype.setUrls=TC.prototype.vb,TC.prototype.getTileGrid=TC.prototype.jb,TC.prototype.refresh=TC.prototype.sa,TC.prototype.getAttributions=TC.prototype.za,TC.prototype.getLogo=TC.prototype.Aa,TC.prototype.getProjection=TC.prototype.Da,TC.prototype.getState=TC.prototype.getState,TC.prototype.setAttributions=TC.prototype.va,TC.prototype.get=TC.prototype.get,TC.prototype.getKeys=TC.prototype.P,TC.prototype.getProperties=TC.prototype.L,TC.prototype.set=TC.prototype.set,TC.prototype.setProperties=TC.prototype.H,TC.prototype.unset=TC.prototype.R,TC.prototype.changed=TC.prototype.u,TC.prototype.dispatchEvent=TC.prototype.b,TC.prototype.getRevision=TC.prototype.K,TC.prototype.on=TC.prototype.I,TC.prototype.once=TC.prototype.once,TC.prototype.un=TC.prototype.J,PC.prototype.getTileGrid=PC.prototype.jb,PC.prototype.refresh=PC.prototype.sa,PC.prototype.getAttributions=PC.prototype.za,PC.prototype.getLogo=PC.prototype.Aa,PC.prototype.getProjection=PC.prototype.Da,PC.prototype.getState=PC.prototype.getState,PC.prototype.setAttributions=PC.prototype.va,PC.prototype.get=PC.prototype.get,PC.prototype.getKeys=PC.prototype.P,PC.prototype.getProperties=PC.prototype.L,PC.prototype.set=PC.prototype.set,PC.prototype.setProperties=PC.prototype.H,PC.prototype.unset=PC.prototype.R,PC.prototype.changed=PC.prototype.u,PC.prototype.dispatchEvent=PC.prototype.b,PC.prototype.getRevision=PC.prototype.K,PC.prototype.on=PC.prototype.I,PC.prototype.once=PC.prototype.once,PC.prototype.un=PC.prototype.J,DC.prototype.setRenderReprojectionEdges=DC.prototype.Qb,DC.prototype.setTileGridForProjection=DC.prototype.Rb,DC.prototype.getTileLoadFunction=DC.prototype.yb,DC.prototype.getTileUrlFunction=DC.prototype.zb,DC.prototype.getUrls=DC.prototype.Ab,DC.prototype.setTileLoadFunction=DC.prototype.Fb,DC.prototype.setTileUrlFunction=DC.prototype.hb,DC.prototype.setUrl=DC.prototype.rb,DC.prototype.setUrls=DC.prototype.vb,DC.prototype.getTileGrid=DC.prototype.jb,DC.prototype.refresh=DC.prototype.sa,DC.prototype.getAttributions=DC.prototype.za,DC.prototype.getLogo=DC.prototype.Aa,DC.prototype.getProjection=DC.prototype.Da,DC.prototype.getState=DC.prototype.getState,DC.prototype.setAttributions=DC.prototype.va,DC.prototype.get=DC.prototype.get,DC.prototype.getKeys=DC.prototype.P,DC.prototype.getProperties=DC.prototype.L,DC.prototype.set=DC.prototype.set,DC.prototype.setProperties=DC.prototype.H,DC.prototype.unset=DC.prototype.R,DC.prototype.changed=DC.prototype.u,DC.prototype.dispatchEvent=DC.prototype.b,DC.prototype.getRevision=DC.prototype.K,DC.prototype.on=DC.prototype.I,DC.prototype.once=DC.prototype.once,DC.prototype.un=DC.prototype.J,o_.prototype.type=o_.prototype.type,o_.prototype.target=o_.prototype.target,o_.prototype.preventDefault=o_.prototype.preventDefault,o_.prototype.stopPropagation=o_.prototype.stopPropagation,VC.prototype.getTileLoadFunction=VC.prototype.yb,VC.prototype.getTileUrlFunction=VC.prototype.zb,VC.prototype.getUrls=VC.prototype.Ab,VC.prototype.setTileLoadFunction=VC.prototype.Fb,VC.prototype.setTileUrlFunction=VC.prototype.hb,VC.prototype.setUrl=VC.prototype.rb,VC.prototype.setUrls=VC.prototype.vb,VC.prototype.getTileGrid=VC.prototype.jb,VC.prototype.refresh=VC.prototype.sa,VC.prototype.getAttributions=VC.prototype.za,VC.prototype.getLogo=VC.prototype.Aa,VC.prototype.getProjection=VC.prototype.Da,VC.prototype.getState=VC.prototype.getState,VC.prototype.setAttributions=VC.prototype.va,VC.prototype.get=VC.prototype.get,VC.prototype.getKeys=VC.prototype.P,VC.prototype.getProperties=VC.prototype.L,VC.prototype.set=VC.prototype.set,VC.prototype.setProperties=VC.prototype.H,VC.prototype.unset=VC.prototype.R,VC.prototype.changed=VC.prototype.u,VC.prototype.dispatchEvent=VC.prototype.b,VC.prototype.getRevision=VC.prototype.K,VC.prototype.on=VC.prototype.I,VC.prototype.once=VC.prototype.once,VC.prototype.un=VC.prototype.J,UC.prototype.setRenderReprojectionEdges=UC.prototype.Qb,UC.prototype.setTileGridForProjection=UC.prototype.Rb,UC.prototype.getTileLoadFunction=UC.prototype.yb,UC.prototype.getTileUrlFunction=UC.prototype.zb,UC.prototype.getUrls=UC.prototype.Ab,UC.prototype.setTileLoadFunction=UC.prototype.Fb,UC.prototype.setTileUrlFunction=UC.prototype.hb,UC.prototype.setUrl=UC.prototype.rb,UC.prototype.setUrls=UC.prototype.vb,UC.prototype.getTileGrid=UC.prototype.jb,UC.prototype.refresh=UC.prototype.sa,UC.prototype.getAttributions=UC.prototype.za,UC.prototype.getLogo=UC.prototype.Aa,UC.prototype.getProjection=UC.prototype.Da,UC.prototype.getState=UC.prototype.getState,UC.prototype.setAttributions=UC.prototype.va,UC.prototype.get=UC.prototype.get,UC.prototype.getKeys=UC.prototype.P,UC.prototype.getProperties=UC.prototype.L,UC.prototype.set=UC.prototype.set,UC.prototype.setProperties=UC.prototype.H,UC.prototype.unset=UC.prototype.R,UC.prototype.changed=UC.prototype.u,UC.prototype.dispatchEvent=UC.prototype.b,UC.prototype.getRevision=UC.prototype.K,UC.prototype.on=UC.prototype.I,UC.prototype.once=UC.prototype.once,UC.prototype.un=UC.prototype.J,YC.prototype.setRenderReprojectionEdges=YC.prototype.Qb,YC.prototype.setTileGridForProjection=YC.prototype.Rb,YC.prototype.getTileLoadFunction=YC.prototype.yb,YC.prototype.getTileUrlFunction=YC.prototype.zb,YC.prototype.getUrls=YC.prototype.Ab,YC.prototype.setTileLoadFunction=YC.prototype.Fb,YC.prototype.setTileUrlFunction=YC.prototype.hb,YC.prototype.setUrl=YC.prototype.rb,YC.prototype.setUrls=YC.prototype.vb,YC.prototype.getTileGrid=YC.prototype.jb,YC.prototype.refresh=YC.prototype.sa,YC.prototype.getAttributions=YC.prototype.za,YC.prototype.getLogo=YC.prototype.Aa,YC.prototype.getProjection=YC.prototype.Da,YC.prototype.getState=YC.prototype.getState,YC.prototype.setAttributions=YC.prototype.va,YC.prototype.get=YC.prototype.get,YC.prototype.getKeys=YC.prototype.P,YC.prototype.getProperties=YC.prototype.L,YC.prototype.set=YC.prototype.set,YC.prototype.setProperties=YC.prototype.H,YC.prototype.unset=YC.prototype.R,YC.prototype.changed=YC.prototype.u,YC.prototype.dispatchEvent=YC.prototype.b,YC.prototype.getRevision=YC.prototype.K,YC.prototype.on=YC.prototype.I,YC.prototype.once=YC.prototype.once,YC.prototype.un=YC.prototype.J,Nx.prototype.getTileCoord=Nx.prototype.i,Nx.prototype.load=Nx.prototype.load,Ps.prototype.changed=Ps.prototype.u,Ps.prototype.dispatchEvent=Ps.prototype.b,Ps.prototype.getRevision=Ps.prototype.K,Ps.prototype.on=Ps.prototype.I,Ps.prototype.once=Ps.prototype.once,Ps.prototype.un=Ps.prototype.J,Ec.prototype.changed=Ec.prototype.u,Ec.prototype.dispatchEvent=Ec.prototype.b,Ec.prototype.getRevision=Ec.prototype.K,Ec.prototype.on=Ec.prototype.I,Ec.prototype.once=Ec.prototype.once,Ec.prototype.un=Ec.prototype.J,Pc.prototype.changed=Pc.prototype.u,Pc.prototype.dispatchEvent=Pc.prototype.b,Pc.prototype.getRevision=Pc.prototype.K,Pc.prototype.on=Pc.prototype.I,Pc.prototype.once=Pc.prototype.once,Pc.prototype.un=Pc.prototype.J,Gc.prototype.changed=Gc.prototype.u,Gc.prototype.dispatchEvent=Gc.prototype.b,Gc.prototype.getRevision=Gc.prototype.K,Gc.prototype.on=Gc.prototype.I,Gc.prototype.once=Gc.prototype.once,Gc.prototype.un=Gc.prototype.J,Bc.prototype.changed=Bc.prototype.u,Bc.prototype.dispatchEvent=Bc.prototype.b,Bc.prototype.getRevision=Bc.prototype.K,Bc.prototype.on=Bc.prototype.I,Bc.prototype.once=Bc.prototype.once,Bc.prototype.un=Bc.prototype.J,ks.prototype.changed=ks.prototype.u,ks.prototype.dispatchEvent=ks.prototype.b,ks.prototype.getRevision=ks.prototype.K,ks.prototype.on=ks.prototype.I,ks.prototype.once=ks.prototype.once,ks.prototype.un=ks.prototype.J,Vs.prototype.changed=Vs.prototype.u,Vs.prototype.dispatchEvent=Vs.prototype.b,Vs.prototype.getRevision=Vs.prototype.K,Vs.prototype.on=Vs.prototype.I,Vs.prototype.once=Vs.prototype.once,Vs.prototype.un=Vs.prototype.J,js.prototype.changed=js.prototype.u,js.prototype.dispatchEvent=js.prototype.b,js.prototype.getRevision=js.prototype.K,js.prototype.on=js.prototype.I,js.prototype.once=js.prototype.once,js.prototype.un=js.prototype.J,ea.prototype.changed=ea.prototype.u,ea.prototype.dispatchEvent=ea.prototype.b,ea.prototype.getRevision=ea.prototype.K,ea.prototype.on=ea.prototype.I,ea.prototype.once=ea.prototype.once,ea.prototype.un=ea.prototype.J,ja.prototype.changed=ja.prototype.u,ja.prototype.dispatchEvent=ja.prototype.b,ja.prototype.getRevision=ja.prototype.K,ja.prototype.on=ja.prototype.I,ja.prototype.once=ja.prototype.once,ja.prototype.un=ja.prototype.J,Ha.prototype.changed=Ha.prototype.u,Ha.prototype.dispatchEvent=Ha.prototype.b,Ha.prototype.getRevision=Ha.prototype.K,Ha.prototype.on=Ha.prototype.I,Ha.prototype.once=Ha.prototype.once,Ha.prototype.un=Ha.prototype.J,Jr.prototype.type=Jr.prototype.type,Jr.prototype.target=Jr.prototype.target,Jr.prototype.preventDefault=Jr.prototype.preventDefault,Jr.prototype.stopPropagation=Jr.prototype.stopPropagation,yi.prototype.type=yi.prototype.type,yi.prototype.target=yi.prototype.target,yi.prototype.preventDefault=yi.prototype.preventDefault,yi.prototype.stopPropagation=yi.prototype.stopPropagation,Ao.prototype.get=Ao.prototype.get,Ao.prototype.getKeys=Ao.prototype.P,Ao.prototype.getProperties=Ao.prototype.L,Ao.prototype.set=Ao.prototype.set,Ao.prototype.setProperties=Ao.prototype.H,Ao.prototype.unset=Ao.prototype.R,Ao.prototype.changed=Ao.prototype.u,Ao.prototype.dispatchEvent=Ao.prototype.b,Ao.prototype.getRevision=Ao.prototype.K,Ao.prototype.on=Ao.prototype.I,Ao.prototype.once=Ao.prototype.once,Ao.prototype.un=Ao.prototype.J,wo.prototype.getExtent=wo.prototype.G,wo.prototype.getMaxResolution=wo.prototype.lc,wo.prototype.getMinResolution=wo.prototype.mc,wo.prototype.getOpacity=wo.prototype.nc,wo.prototype.getVisible=wo.prototype.Jb,wo.prototype.getZIndex=wo.prototype.Ba,wo.prototype.setExtent=wo.prototype.Fc,wo.prototype.setMaxResolution=wo.prototype.Mc,wo.prototype.setMinResolution=wo.prototype.Nc,wo.prototype.setOpacity=wo.prototype.Gc,wo.prototype.setVisible=wo.prototype.Hc,wo.prototype.setZIndex=wo.prototype.$b,wo.prototype.get=wo.prototype.get,wo.prototype.getKeys=wo.prototype.P,wo.prototype.getProperties=wo.prototype.L,wo.prototype.set=wo.prototype.set,wo.prototype.setProperties=wo.prototype.H,wo.prototype.unset=wo.prototype.R,wo.prototype.changed=wo.prototype.u,wo.prototype.dispatchEvent=wo.prototype.b,wo.prototype.getRevision=wo.prototype.K,wo.prototype.on=wo.prototype.I,wo.prototype.once=wo.prototype.once,wo.prototype.un=wo.prototype.J,Oo.prototype.getExtent=Oo.prototype.G,Oo.prototype.getMaxResolution=Oo.prototype.lc,Oo.prototype.getMinResolution=Oo.prototype.mc,Oo.prototype.getOpacity=Oo.prototype.nc,Oo.prototype.getVisible=Oo.prototype.Jb,Oo.prototype.getZIndex=Oo.prototype.Ba,Oo.prototype.setExtent=Oo.prototype.Fc,Oo.prototype.setMaxResolution=Oo.prototype.Mc,Oo.prototype.setMinResolution=Oo.prototype.Nc,Oo.prototype.setOpacity=Oo.prototype.Gc,Oo.prototype.setVisible=Oo.prototype.Hc,Oo.prototype.setZIndex=Oo.prototype.$b,Oo.prototype.get=Oo.prototype.get,Oo.prototype.getKeys=Oo.prototype.P,Oo.prototype.getProperties=Oo.prototype.L,Oo.prototype.set=Oo.prototype.set,Oo.prototype.setProperties=Oo.prototype.H,Oo.prototype.unset=Oo.prototype.R,Oo.prototype.changed=Oo.prototype.u,Oo.prototype.dispatchEvent=Oo.prototype.b,Oo.prototype.getRevision=Oo.prototype.K,Oo.prototype.on=Oo.prototype.I,Oo.prototype.once=Oo.prototype.once,Oo.prototype.un=Oo.prototype.J,Xv.prototype.setMap=Xv.prototype.setMap,Xv.prototype.setSource=Xv.prototype.hd,Xv.prototype.getExtent=Xv.prototype.G,Xv.prototype.getMaxResolution=Xv.prototype.lc,Xv.prototype.getMinResolution=Xv.prototype.mc,Xv.prototype.getOpacity=Xv.prototype.nc,Xv.prototype.getVisible=Xv.prototype.Jb,Xv.prototype.getZIndex=Xv.prototype.Ba,Xv.prototype.setExtent=Xv.prototype.Fc,Xv.prototype.setMaxResolution=Xv.prototype.Mc,Xv.prototype.setMinResolution=Xv.prototype.Nc,Xv.prototype.setOpacity=Xv.prototype.Gc,Xv.prototype.setVisible=Xv.prototype.Hc,Xv.prototype.setZIndex=Xv.prototype.$b,Xv.prototype.get=Xv.prototype.get,Xv.prototype.getKeys=Xv.prototype.P,Xv.prototype.getProperties=Xv.prototype.L,Xv.prototype.set=Xv.prototype.set,Xv.prototype.setProperties=Xv.prototype.H,Xv.prototype.unset=Xv.prototype.R,Xv.prototype.changed=Xv.prototype.u,Xv.prototype.dispatchEvent=Xv.prototype.b,Xv.prototype.getRevision=Xv.prototype.K,Xv.prototype.on=Xv.prototype.I,Xv.prototype.once=Xv.prototype.once,Xv.prototype.un=Xv.prototype.J,px.prototype.getSource=px.prototype.ha,px.prototype.getStyle=px.prototype.B,px.prototype.getStyleFunction=px.prototype.ib,px.prototype.setStyle=px.prototype.j,px.prototype.setMap=px.prototype.setMap,px.prototype.setSource=px.prototype.hd,px.prototype.getExtent=px.prototype.G,px.prototype.getMaxResolution=px.prototype.lc,px.prototype.getMinResolution=px.prototype.mc,px.prototype.getOpacity=px.prototype.nc,px.prototype.getVisible=px.prototype.Jb,px.prototype.getZIndex=px.prototype.Ba,px.prototype.setExtent=px.prototype.Fc,px.prototype.setMaxResolution=px.prototype.Mc,px.prototype.setMinResolution=px.prototype.Nc,px.prototype.setOpacity=px.prototype.Gc,px.prototype.setVisible=px.prototype.Hc,px.prototype.setZIndex=px.prototype.$b,px.prototype.get=px.prototype.get,px.prototype.getKeys=px.prototype.P,px.prototype.getProperties=px.prototype.L,px.prototype.set=px.prototype.set,px.prototype.setProperties=px.prototype.H,px.prototype.unset=px.prototype.R,px.prototype.changed=px.prototype.u,px.prototype.dispatchEvent=px.prototype.b,px.prototype.getRevision=px.prototype.K,px.prototype.on=px.prototype.I,px.prototype.once=px.prototype.once,px.prototype.un=px.prototype.J,mx.prototype.setMap=mx.prototype.setMap,mx.prototype.setSource=mx.prototype.hd,mx.prototype.getExtent=mx.prototype.G,mx.prototype.getMaxResolution=mx.prototype.lc,mx.prototype.getMinResolution=mx.prototype.mc,mx.prototype.getOpacity=mx.prototype.nc,mx.prototype.getVisible=mx.prototype.Jb,mx.prototype.getZIndex=mx.prototype.Ba,mx.prototype.setExtent=mx.prototype.Fc,mx.prototype.setMaxResolution=mx.prototype.Mc,mx.prototype.setMinResolution=mx.prototype.Nc,mx.prototype.setOpacity=mx.prototype.Gc,mx.prototype.setVisible=mx.prototype.Hc,mx.prototype.setZIndex=mx.prototype.$b,mx.prototype.get=mx.prototype.get,mx.prototype.getKeys=mx.prototype.P,mx.prototype.getProperties=mx.prototype.L,mx.prototype.set=mx.prototype.set,mx.prototype.setProperties=mx.prototype.H,mx.prototype.unset=mx.prototype.R,mx.prototype.changed=mx.prototype.u,mx.prototype.dispatchEvent=mx.prototype.b,mx.prototype.getRevision=mx.prototype.K,mx.prototype.on=mx.prototype.I,mx.prototype.once=mx.prototype.once,mx.prototype.un=mx.prototype.J,vx.prototype.setMap=vx.prototype.setMap,vx.prototype.setSource=vx.prototype.hd,vx.prototype.getExtent=vx.prototype.G,vx.prototype.getMaxResolution=vx.prototype.lc,vx.prototype.getMinResolution=vx.prototype.mc,vx.prototype.getOpacity=vx.prototype.nc,vx.prototype.getVisible=vx.prototype.Jb,vx.prototype.getZIndex=vx.prototype.Ba,vx.prototype.setExtent=vx.prototype.Fc,vx.prototype.setMaxResolution=vx.prototype.Mc,vx.prototype.setMinResolution=vx.prototype.Nc,vx.prototype.setOpacity=vx.prototype.Gc,vx.prototype.setVisible=vx.prototype.Hc,vx.prototype.setZIndex=vx.prototype.$b,vx.prototype.get=vx.prototype.get,vx.prototype.getKeys=vx.prototype.P,vx.prototype.getProperties=vx.prototype.L,vx.prototype.set=vx.prototype.set,vx.prototype.setProperties=vx.prototype.H,vx.prototype.unset=vx.prototype.R,vx.prototype.changed=vx.prototype.u,vx.prototype.dispatchEvent=vx.prototype.b,vx.prototype.getRevision=vx.prototype.K,vx.prototype.on=vx.prototype.I,vx.prototype.once=vx.prototype.once,vx.prototype.un=vx.prototype.J,_x.prototype.getStyle=_x.prototype.B,_x.prototype.getStyleFunction=_x.prototype.ib,_x.prototype.setStyle=_x.prototype.j,_x.prototype.setMap=_x.prototype.setMap,_x.prototype.setSource=_x.prototype.hd,_x.prototype.getExtent=_x.prototype.G,_x.prototype.getMaxResolution=_x.prototype.lc,_x.prototype.getMinResolution=_x.prototype.mc,_x.prototype.getOpacity=_x.prototype.nc,_x.prototype.getVisible=_x.prototype.Jb,_x.prototype.getZIndex=_x.prototype.Ba,_x.prototype.setExtent=_x.prototype.Fc,_x.prototype.setMaxResolution=_x.prototype.Mc,_x.prototype.setMinResolution=_x.prototype.Nc,_x.prototype.setOpacity=_x.prototype.Gc,_x.prototype.setVisible=_x.prototype.Hc,_x.prototype.setZIndex=_x.prototype.$b,_x.prototype.get=_x.prototype.get,_x.prototype.getKeys=_x.prototype.P,_x.prototype.getProperties=_x.prototype.L,_x.prototype.set=_x.prototype.set,_x.prototype.setProperties=_x.prototype.H,_x.prototype.unset=_x.prototype.R,_x.prototype.changed=_x.prototype.u,_x.prototype.dispatchEvent=_x.prototype.b,_x.prototype.getRevision=_x.prototype.K,_x.prototype.on=_x.prototype.I,_x.prototype.once=_x.prototype.once,_x.prototype.un=_x.prototype.J,Yo.prototype.get=Yo.prototype.get,Yo.prototype.getKeys=Yo.prototype.P,Yo.prototype.getProperties=Yo.prototype.L,Yo.prototype.set=Yo.prototype.set,Yo.prototype.setProperties=Yo.prototype.H,Yo.prototype.unset=Yo.prototype.R,Yo.prototype.changed=Yo.prototype.u,Yo.prototype.dispatchEvent=Yo.prototype.b,Yo.prototype.getRevision=Yo.prototype.K,Yo.prototype.on=Yo.prototype.I,Yo.prototype.once=Yo.prototype.once,Yo.prototype.un=Yo.prototype.J,Ko.prototype.getActive=Ko.prototype.c,Ko.prototype.getMap=Ko.prototype.i,Ko.prototype.setActive=Ko.prototype.Ha,Ko.prototype.get=Ko.prototype.get,Ko.prototype.getKeys=Ko.prototype.P,Ko.prototype.getProperties=Ko.prototype.L,Ko.prototype.set=Ko.prototype.set,Ko.prototype.setProperties=Ko.prototype.H,Ko.prototype.unset=Ko.prototype.R,Ko.prototype.changed=Ko.prototype.u,Ko.prototype.dispatchEvent=Ko.prototype.b,Ko.prototype.getRevision=Ko.prototype.K,Ko.prototype.on=Ko.prototype.I,Ko.prototype.once=Ko.prototype.once,Ko.prototype.un=Ko.prototype.J,Fv.prototype.getActive=Fv.prototype.c,Fv.prototype.getMap=Fv.prototype.i,Fv.prototype.setActive=Fv.prototype.Ha,Fv.prototype.get=Fv.prototype.get,Fv.prototype.getKeys=Fv.prototype.P,Fv.prototype.getProperties=Fv.prototype.L,Fv.prototype.set=Fv.prototype.set,Fv.prototype.setProperties=Fv.prototype.H,Fv.prototype.unset=Fv.prototype.R,Fv.prototype.changed=Fv.prototype.u,Fv.prototype.dispatchEvent=Fv.prototype.b,Fv.prototype.getRevision=Fv.prototype.K,Fv.prototype.on=Fv.prototype.I,Fv.prototype.once=Fv.prototype.once,Fv.prototype.un=Fv.prototype.J,jv.prototype.type=jv.prototype.type,jv.prototype.target=jv.prototype.target,jv.prototype.preventDefault=jv.prototype.preventDefault,jv.prototype.stopPropagation=jv.prototype.stopPropagation,lr.prototype.getActive=lr.prototype.c,lr.prototype.getMap=lr.prototype.i,lr.prototype.setActive=lr.prototype.Ha,lr.prototype.get=lr.prototype.get,lr.prototype.getKeys=lr.prototype.P,lr.prototype.getProperties=lr.prototype.L,lr.prototype.set=lr.prototype.set,lr.prototype.setProperties=lr.prototype.H,lr.prototype.unset=lr.prototype.R,lr.prototype.changed=lr.prototype.u,lr.prototype.dispatchEvent=lr.prototype.b,lr.prototype.getRevision=lr.prototype.K,lr.prototype.on=lr.prototype.I,lr.prototype.once=lr.prototype.once,lr.prototype.un=lr.prototype.J,Ir.prototype.getActive=Ir.prototype.c,Ir.prototype.getMap=Ir.prototype.i,Ir.prototype.setActive=Ir.prototype.Ha,Ir.prototype.get=Ir.prototype.get,Ir.prototype.getKeys=Ir.prototype.P,Ir.prototype.getProperties=Ir.prototype.L,Ir.prototype.set=Ir.prototype.set,Ir.prototype.setProperties=Ir.prototype.H,Ir.prototype.unset=Ir.prototype.R,Ir.prototype.changed=Ir.prototype.u,Ir.prototype.dispatchEvent=Ir.prototype.b,Ir.prototype.getRevision=Ir.prototype.K,Ir.prototype.on=Ir.prototype.I,Ir.prototype.once=Ir.prototype.once,Ir.prototype.un=Ir.prototype.J,Pr.prototype.type=Pr.prototype.type,Pr.prototype.target=Pr.prototype.target,Pr.prototype.preventDefault=Pr.prototype.preventDefault,Pr.prototype.stopPropagation=Pr.prototype.stopPropagation,ur.prototype.getActive=ur.prototype.c,ur.prototype.getMap=ur.prototype.i,ur.prototype.setActive=ur.prototype.Ha,ur.prototype.get=ur.prototype.get,ur.prototype.getKeys=ur.prototype.P,ur.prototype.getProperties=ur.prototype.L,ur.prototype.set=ur.prototype.set,ur.prototype.setProperties=ur.prototype.H,ur.prototype.unset=ur.prototype.R,ur.prototype.changed=ur.prototype.u,ur.prototype.dispatchEvent=ur.prototype.b,ur.prototype.getRevision=ur.prototype.K,ur.prototype.on=ur.prototype.I,ur.prototype.once=ur.prototype.once,ur.prototype.un=ur.prototype.J,fr.prototype.getActive=fr.prototype.c,fr.prototype.getMap=fr.prototype.i,fr.prototype.setActive=fr.prototype.Ha,fr.prototype.get=fr.prototype.get,fr.prototype.getKeys=fr.prototype.P,fr.prototype.getProperties=fr.prototype.L,fr.prototype.set=fr.prototype.set,fr.prototype.setProperties=fr.prototype.H,fr.prototype.unset=fr.prototype.R,fr.prototype.changed=fr.prototype.u,fr.prototype.dispatchEvent=fr.prototype.b,fr.prototype.getRevision=fr.prototype.K,fr.prototype.on=fr.prototype.I,fr.prototype.once=fr.prototype.once,fr.prototype.un=fr.prototype.J,Hv.prototype.getActive=Hv.prototype.c,Hv.prototype.getMap=Hv.prototype.i,Hv.prototype.setActive=Hv.prototype.Ha,Hv.prototype.get=Hv.prototype.get,Hv.prototype.getKeys=Hv.prototype.P,Hv.prototype.getProperties=Hv.prototype.L,Hv.prototype.set=Hv.prototype.set,Hv.prototype.setProperties=Hv.prototype.H,Hv.prototype.unset=Hv.prototype.R,Hv.prototype.changed=Hv.prototype.u,Hv.prototype.dispatchEvent=Hv.prototype.b,Hv.prototype.getRevision=Hv.prototype.K,Hv.prototype.on=Hv.prototype.I,Hv.prototype.once=Hv.prototype.once,Hv.prototype.un=Hv.prototype.J,Lr.prototype.getGeometry=Lr.prototype.U,Lr.prototype.getActive=Lr.prototype.c,Lr.prototype.getMap=Lr.prototype.i,Lr.prototype.setActive=Lr.prototype.Ha,Lr.prototype.get=Lr.prototype.get,Lr.prototype.getKeys=Lr.prototype.P,Lr.prototype.getProperties=Lr.prototype.L,Lr.prototype.set=Lr.prototype.set,Lr.prototype.setProperties=Lr.prototype.H,Lr.prototype.unset=Lr.prototype.R,Lr.prototype.changed=Lr.prototype.u,Lr.prototype.dispatchEvent=Lr.prototype.b,Lr.prototype.getRevision=Lr.prototype.K,Lr.prototype.on=Lr.prototype.I,Lr.prototype.once=Lr.prototype.once,Lr.prototype.un=Lr.prototype.J,r_.prototype.getActive=r_.prototype.c,r_.prototype.getMap=r_.prototype.i,r_.prototype.setActive=r_.prototype.Ha,r_.prototype.get=r_.prototype.get,r_.prototype.getKeys=r_.prototype.P,r_.prototype.getProperties=r_.prototype.L,r_.prototype.set=r_.prototype.set,r_.prototype.setProperties=r_.prototype.H,r_.prototype.unset=r_.prototype.R,r_.prototype.changed=r_.prototype.u,r_.prototype.dispatchEvent=r_.prototype.b,r_.prototype.getRevision=r_.prototype.K,r_.prototype.on=r_.prototype.I,r_.prototype.once=r_.prototype.once,r_.prototype.un=r_.prototype.J,x_.prototype.type=x_.prototype.type,x_.prototype.target=x_.prototype.target,x_.prototype.preventDefault=x_.prototype.preventDefault,x_.prototype.stopPropagation=x_.prototype.stopPropagation,C_.prototype.getActive=C_.prototype.c,C_.prototype.getMap=C_.prototype.i,C_.prototype.setActive=C_.prototype.Ha,C_.prototype.get=C_.prototype.get,C_.prototype.getKeys=C_.prototype.P,C_.prototype.getProperties=C_.prototype.L,C_.prototype.set=C_.prototype.set,C_.prototype.setProperties=C_.prototype.H,C_.prototype.unset=C_.prototype.R,C_.prototype.changed=C_.prototype.u,C_.prototype.dispatchEvent=C_.prototype.b,C_.prototype.getRevision=C_.prototype.K,C_.prototype.on=C_.prototype.I,C_.prototype.once=C_.prototype.once,C_.prototype.un=C_.prototype.J,N_.prototype.type=N_.prototype.type,N_.prototype.target=N_.prototype.target,N_.prototype.preventDefault=N_.prototype.preventDefault,N_.prototype.stopPropagation=N_.prototype.stopPropagation,Nr.prototype.getActive=Nr.prototype.c,Nr.prototype.getMap=Nr.prototype.i,Nr.prototype.setActive=Nr.prototype.Ha,Nr.prototype.get=Nr.prototype.get,Nr.prototype.getKeys=Nr.prototype.P,Nr.prototype.getProperties=Nr.prototype.L,Nr.prototype.set=Nr.prototype.set,Nr.prototype.setProperties=Nr.prototype.H,Nr.prototype.unset=Nr.prototype.R,Nr.prototype.changed=Nr.prototype.u,Nr.prototype.dispatchEvent=Nr.prototype.b,Nr.prototype.getRevision=Nr.prototype.K,Nr.prototype.on=Nr.prototype.I,Nr.prototype.once=Nr.prototype.once,Nr.prototype.un=Nr.prototype.J,Rr.prototype.getActive=Rr.prototype.c,Rr.prototype.getMap=Rr.prototype.i,Rr.prototype.setActive=Rr.prototype.Ha,Rr.prototype.get=Rr.prototype.get,Rr.prototype.getKeys=Rr.prototype.P,Rr.prototype.getProperties=Rr.prototype.L,Rr.prototype.set=Rr.prototype.set,Rr.prototype.setProperties=Rr.prototype.H,Rr.prototype.unset=Rr.prototype.R,Rr.prototype.changed=Rr.prototype.u,Rr.prototype.dispatchEvent=Rr.prototype.b,Rr.prototype.getRevision=Rr.prototype.K,Rr.prototype.on=Rr.prototype.I,Rr.prototype.once=Rr.prototype.once,Rr.prototype.un=Rr.prototype.J,D_.prototype.getActive=D_.prototype.c,D_.prototype.getMap=D_.prototype.i,D_.prototype.setActive=D_.prototype.Ha,D_.prototype.get=D_.prototype.get,D_.prototype.getKeys=D_.prototype.P,D_.prototype.getProperties=D_.prototype.L,D_.prototype.set=D_.prototype.set,D_.prototype.setProperties=D_.prototype.H,D_.prototype.unset=D_.prototype.R,D_.prototype.changed=D_.prototype.u,D_.prototype.dispatchEvent=D_.prototype.b,D_.prototype.getRevision=D_.prototype.K,D_.prototype.on=D_.prototype.I,D_.prototype.once=D_.prototype.once,D_.prototype.un=D_.prototype.J,X_.prototype.type=X_.prototype.type,X_.prototype.target=X_.prototype.target,X_.prototype.preventDefault=X_.prototype.preventDefault,X_.prototype.stopPropagation=X_.prototype.stopPropagation,Fr.prototype.getActive=Fr.prototype.c,Fr.prototype.getMap=Fr.prototype.i,Fr.prototype.setActive=Fr.prototype.Ha,Fr.prototype.get=Fr.prototype.get,Fr.prototype.getKeys=Fr.prototype.P,Fr.prototype.getProperties=Fr.prototype.L,Fr.prototype.set=Fr.prototype.set,Fr.prototype.setProperties=Fr.prototype.H,Fr.prototype.unset=Fr.prototype.R,Fr.prototype.changed=Fr.prototype.u,Fr.prototype.dispatchEvent=Fr.prototype.b,Fr.prototype.getRevision=Fr.prototype.K,Fr.prototype.on=Fr.prototype.I,Fr.prototype.once=Fr.prototype.once,Fr.prototype.un=Fr.prototype.J,zr.prototype.getActive=zr.prototype.c,zr.prototype.getMap=zr.prototype.i,zr.prototype.setActive=zr.prototype.Ha,zr.prototype.get=zr.prototype.get,zr.prototype.getKeys=zr.prototype.P,zr.prototype.getProperties=zr.prototype.L,zr.prototype.set=zr.prototype.set,zr.prototype.setProperties=zr.prototype.H,zr.prototype.unset=zr.prototype.R,zr.prototype.changed=zr.prototype.u,zr.prototype.dispatchEvent=zr.prototype.b,zr.prototype.getRevision=zr.prototype.K,zr.prototype.on=zr.prototype.I,zr.prototype.once=zr.prototype.once,zr.prototype.un=zr.prototype.J,Ur.prototype.getActive=Ur.prototype.c,Ur.prototype.getMap=Ur.prototype.i,Ur.prototype.setActive=Ur.prototype.Ha,Ur.prototype.get=Ur.prototype.get,Ur.prototype.getKeys=Ur.prototype.P,Ur.prototype.getProperties=Ur.prototype.L,Ur.prototype.set=Ur.prototype.set,Ur.prototype.setProperties=Ur.prototype.H,Ur.prototype.unset=Ur.prototype.R,Ur.prototype.changed=Ur.prototype.u,Ur.prototype.dispatchEvent=Ur.prototype.b,Ur.prototype.getRevision=Ur.prototype.K,Ur.prototype.on=Ur.prototype.I,Ur.prototype.once=Ur.prototype.once,Ur.prototype.un=Ur.prototype.J,Z_.prototype.getActive=Z_.prototype.c,Z_.prototype.getMap=Z_.prototype.i,Z_.prototype.setActive=Z_.prototype.Ha,Z_.prototype.get=Z_.prototype.get,Z_.prototype.getKeys=Z_.prototype.P,Z_.prototype.getProperties=Z_.prototype.L,Z_.prototype.set=Z_.prototype.set,Z_.prototype.setProperties=Z_.prototype.H,Z_.prototype.unset=Z_.prototype.R,Z_.prototype.changed=Z_.prototype.u,Z_.prototype.dispatchEvent=Z_.prototype.b,Z_.prototype.getRevision=Z_.prototype.K,Z_.prototype.on=Z_.prototype.I,Z_.prototype.once=Z_.prototype.once,Z_.prototype.un=Z_.prototype.J,J_.prototype.type=J_.prototype.type,J_.prototype.target=J_.prototype.target,J_.prototype.preventDefault=J_.prototype.preventDefault,J_.prototype.stopPropagation=J_.prototype.stopPropagation,$_.prototype.getActive=$_.prototype.c,$_.prototype.getMap=$_.prototype.i,$_.prototype.setActive=$_.prototype.Ha,$_.prototype.get=$_.prototype.get,$_.prototype.getKeys=$_.prototype.P,$_.prototype.getProperties=$_.prototype.L,$_.prototype.set=$_.prototype.set,$_.prototype.setProperties=$_.prototype.H,$_.prototype.unset=$_.prototype.R,$_.prototype.changed=$_.prototype.u,$_.prototype.dispatchEvent=$_.prototype.b,$_.prototype.getRevision=$_.prototype.K,$_.prototype.on=$_.prototype.I,$_.prototype.once=$_.prototype.once,$_.prototype.un=$_.prototype.J,ox.prototype.getActive=ox.prototype.c,ox.prototype.getMap=ox.prototype.i,ox.prototype.setActive=ox.prototype.Ha,ox.prototype.get=ox.prototype.get,ox.prototype.getKeys=ox.prototype.P,ox.prototype.getProperties=ox.prototype.L,ox.prototype.set=ox.prototype.set,ox.prototype.setProperties=ox.prototype.H,ox.prototype.unset=ox.prototype.R,ox.prototype.changed=ox.prototype.u,ox.prototype.dispatchEvent=ox.prototype.b,ox.prototype.getRevision=ox.prototype.K,ox.prototype.on=ox.prototype.I,ox.prototype.once=ox.prototype.once,ox.prototype.un=ox.prototype.J,ux.prototype.type=ux.prototype.type,ux.prototype.target=ux.prototype.target,ux.prototype.preventDefault=ux.prototype.preventDefault,ux.prototype.stopPropagation=ux.prototype.stopPropagation,Sn.prototype.get=Sn.prototype.get,Sn.prototype.getKeys=Sn.prototype.P,Sn.prototype.getProperties=Sn.prototype.L,Sn.prototype.set=Sn.prototype.set,Sn.prototype.setProperties=Sn.prototype.H,Sn.prototype.unset=Sn.prototype.R,Sn.prototype.changed=Sn.prototype.u,Sn.prototype.dispatchEvent=Sn.prototype.b,Sn.prototype.getRevision=Sn.prototype.K,Sn.prototype.on=Sn.prototype.I,Sn.prototype.once=Sn.prototype.once,Sn.prototype.un=Sn.prototype.J,Mn.prototype.getClosestPoint=Mn.prototype.Ib,Mn.prototype.intersectsCoordinate=Mn.prototype.Bb,Mn.prototype.getExtent=Mn.prototype.G,Mn.prototype.rotate=Mn.prototype.rotate,Mn.prototype.scale=Mn.prototype.scale,Mn.prototype.simplify=Mn.prototype.Sb,Mn.prototype.transform=Mn.prototype.mb,Mn.prototype.get=Mn.prototype.get,Mn.prototype.getKeys=Mn.prototype.P,Mn.prototype.getProperties=Mn.prototype.L,Mn.prototype.set=Mn.prototype.set,Mn.prototype.setProperties=Mn.prototype.H,Mn.prototype.unset=Mn.prototype.R,Mn.prototype.changed=Mn.prototype.u,Mn.prototype.dispatchEvent=Mn.prototype.b,Mn.prototype.getRevision=Mn.prototype.K,Mn.prototype.on=Mn.prototype.I,Mn.prototype.once=Mn.prototype.once,Mn.prototype.un=Mn.prototype.J,Rv.prototype.getFirstCoordinate=Rv.prototype.fc,Rv.prototype.getLastCoordinate=Rv.prototype.gc,Rv.prototype.getLayout=Rv.prototype.ic,Rv.prototype.rotate=Rv.prototype.rotate,Rv.prototype.scale=Rv.prototype.scale,Rv.prototype.getClosestPoint=Rv.prototype.Ib,Rv.prototype.intersectsCoordinate=Rv.prototype.Bb,Rv.prototype.getExtent=Rv.prototype.G,Rv.prototype.simplify=Rv.prototype.Sb,Rv.prototype.get=Rv.prototype.get,Rv.prototype.getKeys=Rv.prototype.P,Rv.prototype.getProperties=Rv.prototype.L,Rv.prototype.set=Rv.prototype.set,Rv.prototype.setProperties=Rv.prototype.H,Rv.prototype.unset=Rv.prototype.R,Rv.prototype.changed=Rv.prototype.u,Rv.prototype.dispatchEvent=Rv.prototype.b,Rv.prototype.getRevision=Rv.prototype.K,Rv.prototype.on=Rv.prototype.I,Rv.prototype.once=Rv.prototype.once,Rv.prototype.un=Rv.prototype.J,Ng.prototype.getClosestPoint=Ng.prototype.Ib,Ng.prototype.intersectsCoordinate=Ng.prototype.Bb,Ng.prototype.getExtent=Ng.prototype.G,Ng.prototype.rotate=Ng.prototype.rotate,Ng.prototype.scale=Ng.prototype.scale,Ng.prototype.simplify=Ng.prototype.Sb,Ng.prototype.transform=Ng.prototype.mb,Ng.prototype.get=Ng.prototype.get,Ng.prototype.getKeys=Ng.prototype.P,Ng.prototype.getProperties=Ng.prototype.L,Ng.prototype.set=Ng.prototype.set,Ng.prototype.setProperties=Ng.prototype.H,Ng.prototype.unset=Ng.prototype.R,Ng.prototype.changed=Ng.prototype.u,Ng.prototype.dispatchEvent=Ng.prototype.b,Ng.prototype.getRevision=Ng.prototype.K,Ng.prototype.on=Ng.prototype.I,Ng.prototype.once=Ng.prototype.once,Ng.prototype.un=Ng.prototype.J,Yn.prototype.getFirstCoordinate=Yn.prototype.fc,Yn.prototype.getLastCoordinate=Yn.prototype.gc,Yn.prototype.getLayout=Yn.prototype.ic,Yn.prototype.rotate=Yn.prototype.rotate,Yn.prototype.scale=Yn.prototype.scale,Yn.prototype.getClosestPoint=Yn.prototype.Ib,Yn.prototype.intersectsCoordinate=Yn.prototype.Bb,Yn.prototype.getExtent=Yn.prototype.G,Yn.prototype.simplify=Yn.prototype.Sb,Yn.prototype.transform=Yn.prototype.mb,Yn.prototype.get=Yn.prototype.get,Yn.prototype.getKeys=Yn.prototype.P,Yn.prototype.getProperties=Yn.prototype.L,Yn.prototype.set=Yn.prototype.set,Yn.prototype.setProperties=Yn.prototype.H,Yn.prototype.unset=Yn.prototype.R,Yn.prototype.changed=Yn.prototype.u,Yn.prototype.dispatchEvent=Yn.prototype.b,Yn.prototype.getRevision=Yn.prototype.K,Yn.prototype.on=Yn.prototype.I,Yn.prototype.once=Yn.prototype.once,Yn.prototype.un=Yn.prototype.J,fl.prototype.getFirstCoordinate=fl.prototype.fc,fl.prototype.getLastCoordinate=fl.prototype.gc,fl.prototype.getLayout=fl.prototype.ic,fl.prototype.rotate=fl.prototype.rotate,fl.prototype.scale=fl.prototype.scale,fl.prototype.getClosestPoint=fl.prototype.Ib,fl.prototype.intersectsCoordinate=fl.prototype.Bb,fl.prototype.getExtent=fl.prototype.G,fl.prototype.simplify=fl.prototype.Sb,fl.prototype.transform=fl.prototype.mb,fl.prototype.get=fl.prototype.get,fl.prototype.getKeys=fl.prototype.P,fl.prototype.getProperties=fl.prototype.L,fl.prototype.set=fl.prototype.set,fl.prototype.setProperties=fl.prototype.H,fl.prototype.unset=fl.prototype.R,fl.prototype.changed=fl.prototype.u,fl.prototype.dispatchEvent=fl.prototype.b,fl.prototype.getRevision=fl.prototype.K,fl.prototype.on=fl.prototype.I,fl.prototype.once=fl.prototype.once,fl.prototype.un=fl.prototype.J,tp.prototype.getFirstCoordinate=tp.prototype.fc,tp.prototype.getLastCoordinate=tp.prototype.gc,tp.prototype.getLayout=tp.prototype.ic,tp.prototype.rotate=tp.prototype.rotate,tp.prototype.scale=tp.prototype.scale,tp.prototype.getClosestPoint=tp.prototype.Ib,tp.prototype.intersectsCoordinate=tp.prototype.Bb,tp.prototype.getExtent=tp.prototype.G,tp.prototype.simplify=tp.prototype.Sb,tp.prototype.transform=tp.prototype.mb,tp.prototype.get=tp.prototype.get,tp.prototype.getKeys=tp.prototype.P,tp.prototype.getProperties=tp.prototype.L,tp.prototype.set=tp.prototype.set,tp.prototype.setProperties=tp.prototype.H,tp.prototype.unset=tp.prototype.R,tp.prototype.changed=tp.prototype.u,tp.prototype.dispatchEvent=tp.prototype.b,tp.prototype.getRevision=tp.prototype.K,tp.prototype.on=tp.prototype.I,tp.prototype.once=tp.prototype.once,tp.prototype.un=tp.prototype.J,ip.prototype.getFirstCoordinate=ip.prototype.fc,ip.prototype.getLastCoordinate=ip.prototype.gc,ip.prototype.getLayout=ip.prototype.ic,ip.prototype.rotate=ip.prototype.rotate,ip.prototype.scale=ip.prototype.scale,ip.prototype.getClosestPoint=ip.prototype.Ib,ip.prototype.intersectsCoordinate=ip.prototype.Bb,ip.prototype.getExtent=ip.prototype.G,ip.prototype.simplify=ip.prototype.Sb,ip.prototype.transform=ip.prototype.mb,ip.prototype.get=ip.prototype.get,ip.prototype.getKeys=ip.prototype.P,ip.prototype.getProperties=ip.prototype.L,ip.prototype.set=ip.prototype.set,ip.prototype.setProperties=ip.prototype.H,ip.prototype.unset=ip.prototype.R,ip.prototype.changed=ip.prototype.u,ip.prototype.dispatchEvent=ip.prototype.b,ip.prototype.getRevision=ip.prototype.K,ip.prototype.on=ip.prototype.I,ip.prototype.once=ip.prototype.once,ip.prototype.un=ip.prototype.J,np.prototype.getFirstCoordinate=np.prototype.fc,np.prototype.getLastCoordinate=np.prototype.gc,np.prototype.getLayout=np.prototype.ic,np.prototype.rotate=np.prototype.rotate,np.prototype.scale=np.prototype.scale,np.prototype.getClosestPoint=np.prototype.Ib,np.prototype.intersectsCoordinate=np.prototype.Bb,np.prototype.getExtent=np.prototype.G,np.prototype.simplify=np.prototype.Sb,np.prototype.transform=np.prototype.mb,np.prototype.get=np.prototype.get,np.prototype.getKeys=np.prototype.P,np.prototype.getProperties=np.prototype.L,np.prototype.set=np.prototype.set,np.prototype.setProperties=np.prototype.H,np.prototype.unset=np.prototype.R,np.prototype.changed=np.prototype.u,np.prototype.dispatchEvent=np.prototype.b,np.prototype.getRevision=np.prototype.K,np.prototype.on=np.prototype.I,np.prototype.once=np.prototype.once,np.prototype.un=np.prototype.J,Zn.prototype.getFirstCoordinate=Zn.prototype.fc,Zn.prototype.getLastCoordinate=Zn.prototype.gc,Zn.prototype.getLayout=Zn.prototype.ic,Zn.prototype.rotate=Zn.prototype.rotate,Zn.prototype.scale=Zn.prototype.scale,Zn.prototype.getClosestPoint=Zn.prototype.Ib,Zn.prototype.intersectsCoordinate=Zn.prototype.Bb,Zn.prototype.getExtent=Zn.prototype.G,Zn.prototype.simplify=Zn.prototype.Sb,Zn.prototype.transform=Zn.prototype.mb,Zn.prototype.get=Zn.prototype.get,Zn.prototype.getKeys=Zn.prototype.P,Zn.prototype.getProperties=Zn.prototype.L,Zn.prototype.set=Zn.prototype.set,Zn.prototype.setProperties=Zn.prototype.H,Zn.prototype.unset=Zn.prototype.R,Zn.prototype.changed=Zn.prototype.u,Zn.prototype.dispatchEvent=Zn.prototype.b,Zn.prototype.getRevision=Zn.prototype.K,Zn.prototype.on=Zn.prototype.I,Zn.prototype.once=Zn.prototype.once,Zn.prototype.un=Zn.prototype.J,so.prototype.getFirstCoordinate=so.prototype.fc,so.prototype.getLastCoordinate=so.prototype.gc,so.prototype.getLayout=so.prototype.ic,so.prototype.rotate=so.prototype.rotate,so.prototype.scale=so.prototype.scale,so.prototype.getClosestPoint=so.prototype.Ib,so.prototype.intersectsCoordinate=so.prototype.Bb,so.prototype.getExtent=so.prototype.G,so.prototype.simplify=so.prototype.Sb,so.prototype.transform=so.prototype.mb,so.prototype.get=so.prototype.get,so.prototype.getKeys=so.prototype.P,so.prototype.getProperties=so.prototype.L,so.prototype.set=so.prototype.set,so.prototype.setProperties=so.prototype.H,so.prototype.unset=so.prototype.R,so.prototype.changed=so.prototype.u,so.prototype.dispatchEvent=so.prototype.b,so.prototype.getRevision=so.prototype.K,so.prototype.on=so.prototype.I,so.prototype.once=so.prototype.once,so.prototype.un=so.prototype.J,Lp.prototype.readFeatures=Lp.prototype.Qa,zp.prototype.readFeatures=zp.prototype.Qa,Lp.prototype.readFeatures=Lp.prototype.Qa,Do.prototype.get=Do.prototype.get,Do.prototype.getKeys=Do.prototype.P,Do.prototype.getProperties=Do.prototype.L,Do.prototype.set=Do.prototype.set,Do.prototype.setProperties=Do.prototype.H,Do.prototype.unset=Do.prototype.R,Do.prototype.changed=Do.prototype.u,Do.prototype.dispatchEvent=Do.prototype.b,Do.prototype.getRevision=Do.prototype.K,Do.prototype.on=Do.prototype.I,Do.prototype.once=Do.prototype.once,Do.prototype.un=Do.prototype.J,ko.prototype.getMap=ko.prototype.f,ko.prototype.setMap=ko.prototype.setMap,ko.prototype.setTarget=ko.prototype.i,ko.prototype.get=ko.prototype.get,ko.prototype.getKeys=ko.prototype.P,ko.prototype.getProperties=ko.prototype.L,ko.prototype.set=ko.prototype.set,ko.prototype.setProperties=ko.prototype.H,ko.prototype.unset=ko.prototype.R,ko.prototype.changed=ko.prototype.u,ko.prototype.dispatchEvent=ko.prototype.b,ko.prototype.getRevision=ko.prototype.K,ko.prototype.on=ko.prototype.I,ko.prototype.once=ko.prototype.once,ko.prototype.un=ko.prototype.J,$c.prototype.getMap=$c.prototype.f,$c.prototype.setMap=$c.prototype.setMap,$c.prototype.setTarget=$c.prototype.i,$c.prototype.get=$c.prototype.get,$c.prototype.getKeys=$c.prototype.P,$c.prototype.getProperties=$c.prototype.L,$c.prototype.set=$c.prototype.set,$c.prototype.setProperties=$c.prototype.H,$c.prototype.unset=$c.prototype.R,$c.prototype.changed=$c.prototype.u,$c.prototype.dispatchEvent=$c.prototype.b,$c.prototype.getRevision=$c.prototype.K,$c.prototype.on=$c.prototype.I,$c.prototype.once=$c.prototype.once,$c.prototype.un=$c.prototype.J,ou.prototype.getMap=ou.prototype.f,ou.prototype.setMap=ou.prototype.setMap,ou.prototype.setTarget=ou.prototype.i,ou.prototype.get=ou.prototype.get,ou.prototype.getKeys=ou.prototype.P,ou.prototype.getProperties=ou.prototype.L,ou.prototype.set=ou.prototype.set,ou.prototype.setProperties=ou.prototype.H,ou.prototype.unset=ou.prototype.R,ou.prototype.changed=ou.prototype.u,ou.prototype.dispatchEvent=ou.prototype.b,ou.prototype.getRevision=ou.prototype.K,ou.prototype.on=ou.prototype.I,ou.prototype.once=ou.prototype.once,ou.prototype.un=ou.prototype.J,hu.prototype.getMap=hu.prototype.f,hu.prototype.setMap=hu.prototype.setMap,hu.prototype.setTarget=hu.prototype.i,hu.prototype.get=hu.prototype.get,hu.prototype.getKeys=hu.prototype.P,hu.prototype.getProperties=hu.prototype.L,hu.prototype.set=hu.prototype.set,hu.prototype.setProperties=hu.prototype.H,hu.prototype.unset=hu.prototype.R,hu.prototype.changed=hu.prototype.u,hu.prototype.dispatchEvent=hu.prototype.b,hu.prototype.getRevision=hu.prototype.K,hu.prototype.on=hu.prototype.I,hu.prototype.once=hu.prototype.once,hu.prototype.un=hu.prototype.J,zo.prototype.getMap=zo.prototype.f,zo.prototype.setMap=zo.prototype.setMap,zo.prototype.setTarget=zo.prototype.i,zo.prototype.get=zo.prototype.get,zo.prototype.getKeys=zo.prototype.P,zo.prototype.getProperties=zo.prototype.L,zo.prototype.set=zo.prototype.set,zo.prototype.setProperties=zo.prototype.H,zo.prototype.unset=zo.prototype.R,zo.prototype.changed=zo.prototype.u,zo.prototype.dispatchEvent=zo.prototype.b,zo.prototype.getRevision=zo.prototype.K,zo.prototype.on=zo.prototype.I,zo.prototype.once=zo.prototype.once,zo.prototype.un=zo.prototype.J,du.prototype.getMap=du.prototype.f,du.prototype.setMap=du.prototype.setMap,du.prototype.setTarget=du.prototype.i,du.prototype.get=du.prototype.get,du.prototype.getKeys=du.prototype.P,du.prototype.getProperties=du.prototype.L,du.prototype.set=du.prototype.set,du.prototype.setProperties=du.prototype.H,du.prototype.unset=du.prototype.R,du.prototype.changed=du.prototype.u,du.prototype.dispatchEvent=du.prototype.b,du.prototype.getRevision=du.prototype.K,du.prototype.on=du.prototype.I,du.prototype.once=du.prototype.once,du.prototype.un=du.prototype.J,jo.prototype.getMap=jo.prototype.f,jo.prototype.setMap=jo.prototype.setMap,jo.prototype.setTarget=jo.prototype.i,jo.prototype.get=jo.prototype.get,jo.prototype.getKeys=jo.prototype.P,jo.prototype.getProperties=jo.prototype.L,jo.prototype.set=jo.prototype.set,jo.prototype.setProperties=jo.prototype.H,jo.prototype.unset=jo.prototype.R,jo.prototype.changed=jo.prototype.u,jo.prototype.dispatchEvent=jo.prototype.b,jo.prototype.getRevision=jo.prototype.K,jo.prototype.on=jo.prototype.I,jo.prototype.once=jo.prototype.once,jo.prototype.un=jo.prototype.J,_u.prototype.getMap=_u.prototype.f,_u.prototype.setMap=_u.prototype.setMap,_u.prototype.setTarget=_u.prototype.i,_u.prototype.get=_u.prototype.get,_u.prototype.getKeys=_u.prototype.P,_u.prototype.getProperties=_u.prototype.L,_u.prototype.set=_u.prototype.set,_u.prototype.setProperties=_u.prototype.H,_u.prototype.unset=_u.prototype.R,_u.prototype.changed=_u.prototype.u,_u.prototype.dispatchEvent=_u.prototype.b,_u.prototype.getRevision=_u.prototype.K,_u.prototype.on=_u.prototype.I,_u.prototype.once=_u.prototype.once,_u.prototype.un=_u.prototype.J,bu.prototype.getMap=bu.prototype.f,bu.prototype.setMap=bu.prototype.setMap,bu.prototype.setTarget=bu.prototype.i,bu.prototype.get=bu.prototype.get,bu.prototype.getKeys=bu.prototype.P,bu.prototype.getProperties=bu.prototype.L,bu.prototype.set=bu.prototype.set,bu.prototype.setProperties=bu.prototype.H,bu.prototype.unset=bu.prototype.R,bu.prototype.changed=bu.prototype.u,bu.prototype.dispatchEvent=bu.prototype.b,bu.prototype.getRevision=bu.prototype.K,bu.prototype.on=bu.prototype.I,bu.prototype.once=bu.prototype.once,bu.prototype.un=bu.prototype.J,n.ol}()})),qi=function(t,e){var i=Reflect.ownKeys(e),n=Array.isArray(i),o=0;for(i=n?i:i[Symbol.iterator]();;){var r;if(n){if(o>=i.length)break;r=i[o++]}else{if((o=i.next()).done)break;r=o.value}var s=r;if(!s.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,a)}}},Ki=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=function t(){n(this,t)};for(var r in e){var s=e[r];qi(o,s),qi(o.prototype,s.prototype)}return o},Ji=function(){this.Events={},this.__cnt=0};Ji.hasOwnKey=Function.call.bind(Object.hasOwnProperty),Ji.slice=Function.call.bind(Array.prototype.slice),Ji.prototype.on=function(t,e,i){return this.bindEvent(t,e,0,i)},Ji.prototype.un=function(t){var e="",n="",o=!1,r=void 0===t?"undefined":i(t),s=this;return"string"===r?!!Ji.hasOwnKey(this.Events,t)&&(delete this.Events[t],!0):"object"===r?(e=t[0],n=t[1],!(!Ji.hasOwnKey(this.Events,e)||!Ji.hasOwnKey(this.Events[e],n))&&(delete this.Events[e][n],!0)):"function"!==r||(s.eachEvent(s.Events,(function(e,i){s.eachEvent(i,(function(i,n){n[0]===t&&(delete s.Events[e][i],o=!0)}))})),o)},Ji.prototype.once=function(t,e,i){return this.bindEvent(t,e,1,i)},Ji.prototype.action=function(t,e){Ji.hasOwnKey(this.Events,t)&&this.eachEvent(this.Events[t],(function(i,n){n[0].apply(n[2],e),n[1]&&delete this.Events[t][i]}))},Ji.prototype.dispatch=function(t){var e=this,i=Ji.slice(arguments,1);setTimeout((function(){e.action(t,i)}))},Ji.prototype.dispatchSync=function(t){this.action(t,Ji.slice(arguments,1))},Ji.prototype.clear=function(){this.Events={}},Ji.prototype.bindEvent=function(t,e,i,n){if("string"!=typeof t||"function"!=typeof e)throw new Error("传入的事件名称和回调函数有误！");return Ji.hasOwnKey(this.Events,t)||(this.Events[t]={}),this.Events[t][++this.__cnt]=[e,i,n],[t,this.__cnt]},Ji.prototype.eachEvent=function(t,e){for(var i in t)Ji.hasOwnKey(t,i)&&e(i,t[i])},Array.prototype.add=function(t){this.indexOf(t)>-1||this.push(t)};var Qi=function(t){return t.replace(/( |^)[a-z]/g,(function(t){return t.toUpperCase()}))},$i=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},tn=function(t){return"number"==typeof t&&!isNaN(t)},en=function(t){var e=void 0===t?"undefined":i(t);return null!==t&&("object"===e||"function"===e)},nn=function(t){return!!en(t)&&("function"==typeof t||null!==t.constructor&&t.constructor===Function)},on=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")};function rn(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e]||{};for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];void 0!==r&&(t[o]=r)}}return t}var sn=function(t){return t.object_inter_flag||(t.object_inter_flag=on().replace(/-/g,"_"))},an=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments[3];if("undefined"!=typeof document){var o=document.createElement("canvas");return o.width=t*i,o.height=e*i,o.style.width=t+"px",o.style.height=e+"px",o}return new n(t,e)},ln=function(t,e,i,n){var o=document.createElement(t);return n&&(o.id=n),e&&pn(o,e),i&&i.appendChild(o),o},hn=function(t,e){var i,n=e||window.document;return i=void 0,n.document&&/^#([\w-]+)$/.test(t)?(i=n.getElementById(RegExp.$1))?[i]:[]:Array.prototype.slice.call(/^\.([\w-]+)$/.test(t)?n.getElementsByClassName(RegExp.$1):/^[\w-]+$/.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t))},cn=function(t){if(t instanceof Element)return t;if(null!=(e=t)&&("string"==typeof e||null!==e.constructor&&e.constructor===String))return document.getElementById(t);throw new Error("Invalid map container!");var e},un=function(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},pn=function(t,e){if(t){for(var i=t.className,n=(e||"").split(" "),o=0,r=n.length;o<r;o++){var s=n[o];s&&(t.classList?t.classList.add(s):un(t,s)||(i+=" "+s))}t.classList||(t.className=i)}},gn=function(t,e){if(t&&e){for(var i=e.split(" "),n=" "+t.className+" ",o=0,r=i.length;o<r;o++){var s=i[o];s&&(t.classList?t.classList.remove(s):un(t,s)&&(n=n.replace(" "+s+" "," ")))}t.classList||(t.className=$i(n))}},dn=function(t){var e="_event_id_";return t[e]=t[e]||on(),t[e]},fn=function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},yn=function(t,e,i,n){for(var o=null,r=0,s=t.length;r<s;++r)if((o=t[r]).listener===e&&o.bindTo===i)return n&&(o.deleteIndex=r),o},mn=function(t,e){var i=t.vlm;return i?i[e]:void 0},vn=function(t,e,i,n,o){var r=function(t){var e=t.vlm;return e||(e=t.vlm={}),e}(t),s=r[e];s||(s=r[e]=[]);var a=yn(s,i,n,!1);return a?o||(a.callOnce=!1):(a={bindTo:n,callOnce:!!o,listener:i,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var i=t.listener,n=t.bindTo||t.target;return t.callOnce&&xn(t),i.call(n,e)};return t.boundListener=e,e}(a)),s.push(a)),a},_n=function(t,e,i,n){var o=mn(t,e);if(o){var r=yn(o,i,n,!0);r&&xn(r)}},xn=function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=mn(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&function(t,e){var i=mn(t,e);if(i){for(var n=0,o=i.length;n<o;++n)t.removeEventListener(e,i[n].boundListener),Cn(i[n]);i.length=0;var r=t.vlm;r&&(delete r[e],0===Object.keys(r).length&&delete t.vlm)}}(t.target,t.type)}Cn(t)}},Cn=function(t){for(var e in t)delete t[e]},In=function(t,e,i,n){var o=function(t,e,i){return"_dom_event_"+t+"_"+dn(e)+(i?"_"+dn(i):"")}(e,i,n),r=t[o];return r||(r=function(e){return i.call(n||t,e)},"addEventListener"in t?t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[o]=r),this},An=function(t){var e=[];t&&(e=function t(e){var i=[];return e.length>0&&e.forEach((function(e){if(e instanceof Zi.layer.Group){var n=e.getLayers().getArray(),o=t(n);o&&(i=i.concat(o))}else i.push(e)})),i}(t.getLayers().getArray()));return e},bn=function(t,e){var i=null;if(t){var n=t.getLayers().getArray();i=wn(n,"layerName",e)}return i},wn=function t(e,i,n){var o=null;return e.length>0&&e.every((function(e){if(e instanceof Zi.layer.Group){var r=e.getLayers().getArray();return!(o=t(r,i,n))}return e.get(i)!==n||(o=e,!1)})),o},Sn=function(t,e,i){var n=[];t&&(n=function t(e,i,n){var o=[];return e.length>0&&e.forEach((function(e){if(e instanceof Zi.layer.Group){var r=e.getLayers().getArray(),s=t(r,i,n);s&&(o=o.concat(s))}else e.get(i)===n&&o.push(e)})),o}(t.getLayers().getArray(),e,i));return n},Mn=function t(e,i){var n=void 0;return e.every((function(e){if(e&&e instanceof Zi.layer.Vector&&e.getSource){var o=e.getSource();if(o.getFeatures)o.getFeatures().every((function(t){return t!==i||(n=e,!1)}));return!n}if(e instanceof Zi.layer.Group){var r=e.getLayers().getArray();return!(n=t(r,i))}return!0})),n},En=function(t,e,i){if(t){var n=bn(t,e);if(n instanceof Zi.layer.Vector||(n=null),n||i&&i.create&&(n=new Zi.layer.Vector({layerName:e,declutter:i.declutter,renderMode:i.renderMode,renderOrder:i.renderOrder,renderBuffer:i.renderBuffer,updateWhileAnimating:i.updateWhileAnimating,updateWhileInteracting:i.updateWhileInteracting,params:i,layerType:"vector",source:new Zi.source.Vector({wrapX:!1}),style:new Zi.style.Style({fill:new Zi.style.Fill({color:"rgba(67, 110, 238, 0.4)"}),stroke:new Zi.style.Stroke({color:"#4781d9",width:2}),image:new Zi.style.Circle({radius:7,fill:new Zi.style.Fill({color:"#ffcc33"})})}),zIndex:i.zIndex})),t&&n){i&&i.hasOwnProperty("selectable")&&n.set("selectable",i.selectable);var o=bn(t,e);o&&o instanceof Zi.layer.Vector||t.addLayer(n)}return n}};Zi.Popover=function(t,e){if(!(t&&t instanceof Zi.Map))throw new Error("传入的不是地图对象或者地图对象为空！");this.map=t,this.options=e||{},void 0===this.options.autoPan&&(this.options.autoPan=!0),this.options.offset||(this.options.offset=[0,0]),void 0===this.options.autoPanAnimation&&(this.options.autoPanAnimation={duration:250}),this.options.className||(this.options.className="hmap-js-popup"),void 0===this.options.opacity&&(this.options.opacity=1),void 0!==this.options.id&&null!==this.options.id||(this.options.id=on()),this.options.markIcon||(this.options.markIcon="data:image;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAcCAYAAAC6YTVCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAA7BWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTYtMDQtMDdUMTE6MDM6MzkrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNi0wNC0wN1QyMDozMDoxNSswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTYtMDQtMDdUMjA6MzA6MTUrMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6MDk1Y2NlYjctNjUzMC00YjlhLTkzMWMtZjFlNGVkMDFkMjNkPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjU5MmJmNDUyLTlhOWEtNDBiYS04YWUzLWQxZTVlZDg4MDVmZjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjU5MmJmNDUyLTlhOWEtNDBiYS04YWUzLWQxZTVlZDg4MDVmZjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo1OTJiZjQ1Mi05YTlhLTQwYmEtOGFlMy1kMWU1ZWQ4ODA1ZmY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTYtMDQtMDdUMTE6MDM6MzkrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowOTVjY2ViNy02NTMwLTRiOWEtOTMxYy1mMWU0ZWQwMWQyM2Q8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTYtMDQtMDdUMjA6MzA6MTUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yODwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+u0hEhgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAB/klEQVR42pSSP08UYRDGf89lAWNi4h/kOkxItCFqYSkQSipqPwAWgIXkEv0Wl1gctn4Tw3ImlBAqaA4t9DaSnMZEip13x+Levds7ciCTzCab93memXlm9Ht1FSRwB7SE2MZ9GfQQ8RN8H6eFaOMCOeqtrAAkDh+ALWLIwUU1doG3QJ5YMHB9BDY0M83M2hrh21fs8Ah3B0H8bOFMI3+dmIWXgg2A6acvmFlfxy8u6G1u4hHuw2obgk+JmW2XD8XxMVNHR+QnJ+RmA2SVKHijs+fPukAdNFCmBHn0aGQ0vid5bvVSQiVawqNEVSqSZxMLlgH1qpxiP16a4EOai/PEcvsMvOqrll6PzFDyUH9PqQ7nHy0h9hmZiMu/7kgCWK5ZYW2z0ApWEMwIIYymGRYCRREIZq0QrJ0UVoDYoW/f1rCnSyV3gR1wdFCfG6Lcl5C2gRVgFuccPEVqAe2BUQdz9cqh9W368u79jyzrdjuds/lGmj6o+o0cuY+urtlsAniWZZx1OnSzTHt7eyOYGhPCuXTl15N0BWsiaXhTNyH5mPP/RZpY50ojJpe6ZqabGoEm9leTRDWHFB9MNY6pVZq5Dyw0Go3F/hkKIdI0XQQW4rsAkkh6DNwZHynu9lbMe8AscFr282ScNCH+VEmKSneB28BUNKkAcuAv8AvoAf5vALfw5dErL2VFAAAAAElFTkSuQmCC"),this.options.layerName||(this.options.layerName="PopoverFeatureLayer");var i=this.map.getSize();this.container=ln("div",this.options.className),this.content=ln("div","hmap-js-popup-content",this.container),this.content.style.maxHeight=i[1]-20+"px",!1!==this.options.showCloser&&(this.closer=ln("div","hmap-js-popup-closer",this.container),this.closer.innerHTML="+",In(this.closer,"click",(function(t){((t||window.event).stopPropagation(),this&&this.options.id)&&(this.map.removeOverlay(this),bn(this.map,this.options.layerName).getSource().removeFeature(this.markFeature),this.markFeature=null)}),this)),!1!==this.options.showMinimize&&(this.minimize=ln("div","hmap-js-popup-minimize",this.container),this.minimize.innerHTML="_",In(this.minimize,"click",(function(t){(t||window.event).stopPropagation(),this&&this.showMinimize()}),this)),this.enableTouchScroll_(this.content),this.options.element=this.container,this.miniOverLay=null,Zi.Overlay.call(this,{element:this.container,stopEvent:!0,offset:this.options.offset,id:this.options.id,layerName:this.options.layerName,insertFirst:!this.options.hasOwnProperty("insertFirst")||this.options.insertFirst})},Zi.inherits(Zi.Popover,Zi.Overlay),Zi.Popover.prototype.show=function(t,e,i){if((i=i||{}).dataProjection&&i.featureProjection){var n=new Zi.geom.Point(t);this.coords=n.transform(i.dataProjection,i.featureProjection).getCoordinates()}else this.coords=t;if(e instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(e)):this.content.innerHTML=e,this.container.style.display="block",this.content.scrollTop=0,this.options.showMarkFeature&&this.showMarkFeature(this.coords),this.markFeature){var o=this.markFeature.getStyle().getImage().getSize();o&&this.options.offset&&(this.options.offset=[this.options.offset[0],this.options.offset[1]-o[1]])}return this.options.properties&&this.setProperties(this.options.properties),this.setOffset(this.options.offset),this.setPosition(this.coords),this.updateSize(),this},Zi.Popover.prototype.showMarkFeature=function(t){var e=this;this.markFeature=new Zi.Feature({params:{moveable:!0},geometry:new Zi.geom.Point(t)}),this.set("markFeature",this.markFeature);var i=new Zi.style.Style({image:new Zi.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,src:this.options.markIcon})});this.markFeature.setId(this.options.id),this.markFeature.setStyle(i),this.markFeature.on("featureMove",(function(t){var i=e.markFeature.getGeometry().getCoordinates();e.coords=i,e.setPosition(i),e.miniOverLay&&e.miniOverLay.setPosition(e.coords)}));var n=En(this.map,this.options.layerName,{create:!0});n&&n instanceof Zi.layer.Vector&&n.getSource().addFeature(this.markFeature)},Zi.Popover.prototype.showMinimize=function(){var t=this,e=this;if(this.options.showMarkFeature)if(this.miniOverLay)this.miniOverLay.getElement().style.display="block",e.container.style.display="none",this.miniOverLay.getElement().setAttribute("data-state","block"),this.miniOverLay.setPosition(this.coords);else{var i=ln("span","hmap-marker-minimize-panel");i.setAttribute("data-state","block"),e.container.style.display="none";var n=function(i){(i||window.event).stopPropagation(),e.container.style.display="block",e.miniOverLay.getElement().style.display="none",t.miniOverLay.getElement().setAttribute("data-state","none")};i.removeEventListener("click",n),i.addEventListener("click",n);var o=ln("label","hmap-marker-minimize-label",i);this.options.minimizeText?(o.innerText=this.options.minimizeText,o.setAttribute("title",this.options.minimizeText)):(o.innerText="我的标记",o.setAttribute("title","我的标记")),this.miniOverLay=new Zi.Overlay({element:i,stopEvent:!0,offset:[0,0],id:this.options.id+"_minimize",position:this.coords}),this.map.addOverlay(this.miniOverLay)}},Zi.Popover.prototype.hide=function(){return this.container.style.display="none",this&&this.options.id&&this.map.removeOverlay(this),this},Zi.Popover.prototype.updateSize=function(){return this.container.style.marginLeft=-this.container.clientWidth/2-1+"px",this.container.style.display="block",this.container.style.opacity=1,this.content.scrollTop=0,this.map.render(),this},Zi.Popover.prototype.isOpened=function(){return"block"===this.container.style.display},Zi.Popover.prototype.isTouchDevice_=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},Zi.Popover.prototype.enableTouchScroll_=function(t){if(this.isTouchDevice_()){var e=0;In(t,"touchstart",(function(t){e=this.scrollTop+t.touches[0].pageY}),this),In(t,"touchmove",(function(t){this.scrollTop=e-t.touches[0].pageY}),this)}};var Tn=Zi.Popover,Pn=function(t){return!!(Ln()&&Nn()&&Dn()&&Rn()&&On()&&Fn())},Ln=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},Nn=function(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray},Dn=function(){return Function.prototype&&Function.prototype.bind},Rn=function(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions},On=function(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON},Fn=function(){return"Worker"in window},kn={};Pn.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var Gn=function(t){var e=document.createElement("canvas"),i=Object.create(Pn.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",i)||e.probablySupportsContext("experimental-webgl",i):e.supportsContext?e.supportsContext("webgl",i)||e.supportsContext("experimental-webgl",i):e.getContext("webgl",i)||e.getContext("experimental-webgl",i)},Bn=Object.freeze({isSupported:Pn,isUint8ClampedArraySupported:function(){return"Uint8ClampedArray"in window},isWebGLSupportedCached:function(t){return void 0===kn[t]&&(kn[t]=Gn(t)),kn[t]}}),zn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAACizSURBVHja7J1rjF3Xdd9/a59zX+feO8O3RHIoWhRJkXpRot6x7MSRlLZBPxgGktowWrQ1ECBBgib9VAT+YKBAPjsIkhYu3Lg1HTuJJb8aO3ETP6U2lS2OLDkWJT5mOBxKlDjkzH2/ztmrH865wztzL8mhxDtzz+VZxIVEYiTes8//v/Zaa//X2qKqJJbYrWomWYLEEgIkllhCgMQSSwiQWGIJARJLLCFAYoklBEgssYQAiSWWECCxxBICJJZYQoDEEksIkFhiCQESSywhQGKJJQRILLGEAIkllhAgscQSAiSWWEKAxBJLCJBYYgkBEkssIUBiiSUESCyx0TJ32H/Bf37+wnV/RkURFQCscRAFIx0UF0UQ24l+zgAOEAjoVpBHRO1TKvKYwO3ADmATkBnmMykgwNTkJf7lAz9hW2EJrKDIlR+SaHUvg33Roq8ppKOvH19rAUvAu8AFVV5y4AWQn1pjL4kxanxQjd6pI6CKWhAHFIv6JlwbUbCypr809Z/+Y3wJMATbAuwHHoo+9wIHgc1Aaj2/SLmVY/bSbWzKVUg5HdSuWk4LZEF2CjqnUAp/j8SWABngtugd3AbkFLaB7gWmBU6FlE92gGHY3hDw9leAD4ryCKIgsu54kmgXeLc6yd++/hDWwkN3nCLtBFhrrmwTPlAAeUQwKYN9wUI5glF8SUDkaHaIsEPhKQ33vp+q8qLAD4Bp4GxCgJtjtwNPAB8X9NfBFkE2HEAC5NwOzU6K775+FBE4esdJXBNgrXPlh5oh4OWIYMRgf2ShShgOxZsEPWshoDyiqo9Y5N8jfBv4CvCPwIWEAO/N8qD3Ar+F8O9AzBVUjYYpkHU7NDppvnviQbx0k8M7z+KsJkErBLzcLxgM9gc2JIY7PiToyeeKwL9C+Q0sfy7C54B/AmpJFWjtznULyKcgeB4NPnUF/CP4woFcqk2tneVbrz3Gibc/QEcFMXblE3Wif71fML9iIAcEY1xeEYxV/ZS1+rwIn4ryBkkIcN0dSQ6B/VO1fBaV3XFwkAoUUm0qrRzf+vmjnLiwN0SAWTV52w9/WO6LSJAZbxKIACK7LfJZ4E8FDo1a1GFG7Ls8I9r+smA/jsQrOLAoWbfNQnWSsxdvp9FOgwxAdxCR4F7BfMSEucA47wRRYGQtH7eBfBl4ZpRwN0oE+CiinxPkgTi+YqtCvZ3l4T0neXzfCbxME7XO1djST4JodxhrE3kAw+eAjyYEWGm/jeifAFNxTAtVhUY7w5GpGX7t8HG2FZawgYOqXGvLuEKCXzHh+UBn7EkgwBTCnwC/fWtUgUQGroMVg7E+wEcFPg3siqvnb7SzIfgPTbOlWAZr+rIEEYuqWclvG7oguS8qkX7fQp0hn2OPBAl2gXwaeBvRrzuuhGtxa+0AAvAvEP3jWIO/k+HI7jM8e/g4W4slRGWF5xexIIra1JXfr94J6EmM84Ql0vG3XRj+OMTALRkCySEV+0fAHXEFf8tPcWR3N+wpodZcOQmOwC5iaTVvY2nxQRr13YhpIaL9iTEgDwjyYUGKAo1bICeAOxD5I8Lq0C1FgG2inc8I8mAc35pvDZ0gxZHds/yzw8fZWiyj1qzy/AEiAc3mDqqV/TSbO6nV9tGo7Y1IsGon8KMX8oBBPiQwwa1Cggc14DPAtrEkgIqu+AAZkeCTovZj8QS/Q2Adjuya4dnDx9kysdQHfmMCRCzNxm1UywfptCcR6RD4eaqVgzRqdyDi95OgHeUERwTzlAl1rY3xj4Ws8jFV/SRCRlQQu/ITbwKs+AUW84Cif4Csr3LzZmQsvg0rOw/smuXpQ8fZUlxCfbc/5sfSbNxOpXKQdntTtBv4QIDv56lU7qZRn+onQVc2IatIUB97DqSs8gdq5AHGjQCrbItgf0dV9sbtDbUDBxTu3zXLM/eEnt920n1hD1gaEfg77U09IBdEFJGAwPeolO+mXp9azhP6SODcWiRQZK8N+B2ULWOWA5joI46gHxaCT0gcwQ/ct3OOpw9Ps2XiMrazslbZBX+ruYPqMviD/oQXRcQn8D2q5cM06rvolklXkKC5KhyaHO+cQATU6icU+8sq6qwKm8eBAGYK+CRIbKrcAnQCBxG4b9ccz9zzMlsmF9F2dtXLi6o9rdtCz9+ZHBzj9/43xifwc5RL99Js3B6RIOgnQTcc+lBEgtZYkyCjhk+o6O4xIkCoiBJ4VNBn4vRCOtZBEO7feZZnD7/M5olFtJlddcIbgrzZvI1K6VAIfq4N/isk6GBtJiLBzrD981o5wYcMFKNkeUxJoMivKjyk0SMO+zHXiQBmE8iHUd0UH/AbrAr37jrLs4enQ/C3citeSBjTK63WVsqlQ3Q6ExixA8Kea3m9DtbmKJfuo9m4PSLXABIQSak/ZMBjbLVDim618EGrFKyC1dgToC2irYNigw/GZQhFYAVrHe7feZZfO/QymwaAvxv6tFrbKZcOE/hFjPF5L2f6Im2sTVMu3UereVtPTtEbi/WQoKsdGlMVqcLTDnKPsw6S4PXYAbaqyIMqejQOi2+toRO43L97lmcPH2fTRAnbzg4AP7Sa2yiX7iHw81GZ8727K5EOGqQpl+6h2bw9nDxxlcOyZQHduPYTCEcRHmIdhJFDJ4BYHhXL0ThUfqwKrSDFA7vP8uyhaTYXy9h2ZhWuw2S13dpMudwF/81RconpYIMMlfI9NBs7o+T6KrKJMe4nCINAfciim4dNguHvAKIfRPSeOIC/0c7wwM4Znj00zZZiCfXdAdWegFZrO6XSPfidQuT5b+JyGT8kQekwjcYuRDpXF9DdE5EgNX45gYoeRvQQQj7eOwA8JuHcntFd7B49/7OHp9lcKGE7qVWHXGFNotXeQbl0qCfsGcKaiY+1uZAE9SnEXIUEGpFgLPsJZL9Rc7+j5vaY5wDsYoOETmv1/PV2liNTsz16fmcVIAMg9PyVpUME/sRNC3uuRYIgyIayidoexLT7w6Hot8tS6hxhiXQ8bNKKvUsJ7ow7AbYxouUfq0L9unr+IJI0b6dSvhvfn3jfCe9aayGhbCJPpXyQem0PIq3BO4H0JMZ5xkVA51nhsG8YaovsenTobxrZhNdP8dDuGZ49dJythUGS5vCEt9m8jUrlbvzORLQbrFecEckmglBFCuDl58CuOowLwjcp90fisRdAyxr3MYwiyh2EYzBjTYCRkz4E1uBblyO7Z8OEt3A1Pb+l2bydSjmUNxjZiEyzuxMUqFUOIgi5/BzYzEoS+EAq7CdQFH1BwzGMuTinAbIF2B53AozOegJt6xBYw4O7ZkJhW1TtWa3nDyXNt1GtHKDT3rRB4F9JAr9ToFq5G1By3nnAjfqMI+uEJJAjglGDfdGGA3m9mFaClMlhE8DcSuDvRHr+B29Yz++D2I2GA0iA73tRP8HuqzfVOCAPCuZolBi3Yvva8sDOZAe4CdYOHAQ4smuWpw9Ps7mwdBVJs9Jo3B5JmruqztGoLYbfw48S40Mogue9FXnLntGprTDwlKNhTqA/1TAxzsYtAsIM+1ubWwX8APfvCvX8m9+Xnn8UgNHbT7CTvn4CIhIUwDxqkIclzMTiuRMECQHeT9gT6fnv3zXHM4dfZvNN0vNv+LOt6CfY2UPiHmuE8b953CCPRiRok9itEgJd0fPP8szh46Gqs7la1blKz+8XIz3/6B+phv0EWcrle1B1yOYuIBKsTIybYSVIHhcEwb5sQxKkEvCP9Q7QsQZrhft2neWZe6YHSppvhp5/48OhDjbIUi7dS722B1W3f+dqgmQlJMHDEoI/SMA/tgTo6vkf2H2WXzv8MpuKw9XzjwIJVJ2w0b42harTHw5FibF5PMoJnIQEYxkCWWvwrRNNbJtmsljCtrKDKgw9ev7c0IRt65kYq7pUuifG3hxi7MBzAvOEwYpFX9ZlKUWyA4wD+FVoBimO7D7Ls4deYbIQ6flX2PD0/KNAAtShWjlAvX4HYFY+W/fiPrdnJyCWm16yAwwCf72V4eieMzxzaJpNhRLa6dfzg6XV2hGFPYXYe/6r7QTVyl0gkMudi8KhHl8XAE60E6hFj2tIDOfWI8BY7AC6fDlF2MyyqVDC+qkVF1evp55/JBJjm6Ne3Uu7tTXKbVZlQNFodvPErZ0TxJ4AVoVaOxt6/sPHQ21PsPF6/o11CClEfDLZi6TSpejGygGBvu0Jhx6JSNBJCBCfao8K9XaGh6OwZ0s+upxiJPT8GwV+F1XI52cpFE/jOK1rxzZBlBh3c4IUt9RhWWwJYFVod9Ih+A8fZ2uhhKrBav98/lDPf2gD9PzrD36AfGEWr3AGx2lc5ZqmAbdXZnrCoXREglugOhTLJNiP9PxH75jh6buPszlfGWE9/zqDP38Wr3gGxzQHhD4WYyxqBURWlkjbQDbcCazYUEDXDP9snO8oiN0O0LEOVh0enprhmcPH2VxYQoNrzeeP9PyMuedX8PKz5ItncJ0mqivB360E1Wt7qNb29fxZj7WAXE84lGHsr2uKzQ4gRKpOEY5OzfCRQ9NsypfQzupqT6+e/8DyiHLGNOlVdRCUXOEsheJpjGlFnr/Hyxkfax0a9Smq5f0oBhHF82Yj7ZAzkASW6LAs0hONo/+IDQFagYMrcGT3LB85fJzJfKnvkGvU9fzDAD9i8bxz5IunMaa5EszRbqhqQvBX7iIIPEQCapW7QJV8YS50DqsFdHkwj0Uk6IZDmYQAG2Jt38ExyoNTc3zk0DQThUVsKzcA/OGFdNUVl1OMK/hNBP45CsUziGkt5wFX1sRH1aFen6Ja2U8QeBgnbAqwNkW1uh8x3cOyVbKJBmE/weM9h2Wt8SPByBOgbR1cR3lo91l+9fA0hfwS2hqs5w+rPfHQ87/vsEd8srnzFIsnERP0ef6w1OvQqO+mWt6P7+ejkugVh6E2TbV8EBRy3vwyYVaQwFulHRozEow0ATq+g+vAQ1NnefrQNHkvBP+46Pnfq+cX8cl55ykU30RMp8/zm4gQ9foUtXLk+U1/O1g4gc6l0iVBfh4k6A+HPJAnon6Cn9plUV1CgGGCPzAYgaNTZ/nIoWny+aiZRXpfYCRvaG2jXArr/OFEh3Gt2xlEAnL58xSLbyzrflaHgqoSJbx3EQQ5jLn6ydYVFendKEIuPx+J6laSQLICT4AQ9RhHeqL4r+gImh8YBMMje2d5+vDxMOxZBf5u6DMOev41x/wEZL15JibeiIC+2n+F2uZGfYpKeT9BkMeY62sbuqFPpXI3zfpuuFY/wZhph0aOAIE1WBwe2zvDrx6cxsuGev5+8N/c+fyjDn5jAjxvnuLEm4A/IOZXBKVem6JaOUAQZBFZu6ah6/XDMYxTqHX6c6huP8GTBjkqIXo0IcBNBb9vXR7fO8MvH5zGy5X7pjeMs57/agkvYsl65ylMnMQMCHu6UyEajT1Uq/sJggzG+MgNShm64VCtcoB6fQ+KWXl+0ttP8Evj0U9gRgn8nSDFk3vP8MsHpynkyqifGlDtGe58/pEDP0ouNx9We64CfmMCGvXdVMr7sUG2P3y5QRJYTVGtHqBR30Pf7ZVEoY/pIUGMw6GRIIBVwbcpntp3ig8f/BnFbPWW1vP3gt/z5ihOnFru++0LeySgXt9DpXIQazPvC/wrdgLrUi3fRb26dzm57ks3zKpwKIYk2PAqUGAN7SDFU3ee5oP7XwnBbw39Ohal1dpBpdTV8/sxA7SiqmFYohKONI8CaEVANboXDNAUiODl5ygWTyOm3Qf+bthTr09RKR9AbeamhoIiAdamqVXDzrJ8fjYqkTorSeD2dJa9rLErkW4oAcLRJSH4nzr4ChO5StjMMkjV2dgRjiiPmZ5f1UZhiouTypDKZHHcNCKCGBc0wFrFBm3azSZBu4PVFp53lkJhPjrhNX3VHhGlXttDpbwf1cxQ1kPEYm2WevUuECGfn4kScHdlOBQlxlYU7c4dSicEuKb5VjA4PLXvFE/e9RrFbAj+0ZrP/349PjiuQzrjkc4VcVIZjAg4UdOOSPQoCmpJZRXrW8TOkEpfwjhlVNP0lltELKjSqN8RyRsy0dnHUJ4iHM0eZKhX7gQL+cJMfy6y3E8gWAT9KdDSWEipN4QA7cAhZeCXPnCKJ+96lXymOl56flVQJZXJks1vIp31MI4bhXVKFOyEPxeFeiIubkowmRaO2Y4GD4A9iejbaBRXhDufLGt7rM1GZx9DfRhELEGQo169MwqHZvoFdL39BEZjM5B3XQmghPKGjCs8ufc0Tx74GV6mgvXdFTH/6M3nv5FnDL9jJlcgW9yEm/YQiYCvdtVqXPmnYjF0MNI9cboTZBJ4HewZxDRAM9Tru5fr/MMH/+qdIEutug8RIefNXF1K/ZgQGBd+YqFuR5oE7vqC38VzLU984AxP7n+VbLaC7birEt746vk18v7pbJ7sxBZS6Vzo7/Va3z0kh5F2JFlQIEDEQdmGOPeBBKidpVnbRbV6gMD3ME573Z9OTIANslQr+1Br8fJzVyfBo4I1LrzkQ210SeCuG/gDl4lMwON3nOHx/a+SyVSwnXRf5SHWen5rcdMZcsXNpDJZNAqFrplodsHvtBFHo7xACXwfwSJmEpHDNJubqFTzGwT+lSVSG2SoVfYDMrifoAGSs5iHDaoG/X8KDR1JEgydAL4VAuswmQl48gMzPH7XK6TSFWwnOwD8MdbzW4uIIVMIwx6U64IfVYzTwUm1QcJ8YLFqOXOhzW0TDru3hhSxupNAt6F6OUTXBh/fhIdl6av3EwiRgM4iDws2MOhLwUhKqYdOAFGHTRmfJ+6c4Yl9r+KmK2g7s6JXexz0/Aqkcx7pjBc1nOs1/b6I4rodxG3TCSylmjJ/0ef4mTaXa5ZffyjLlJPCdhwCm8FNp8l6derVGqNwfrnmfoKcYh4LDzv1p6PXTzB0AhzavsjuTZd58q5XcVJltL1a2DYmen4xZLxCWO1RvWrCbkQwBozp0LYtlkoBp97q8Pq8z+l3Oswv+Pzzh3Ls3eGCpgiCNAo4LqRyeZxGBRsEUWK90SS4Tj9BtBOQA3lMEB29foKhE+CZQ6/gZas4qRK2nV3l+cdEz6+Km8ngOOlVFZ5VwBdAlI7fZrFW4423faZn2ry9FNBoWRzHsHOLw4GdKfKZDNbPYFWi2r/guClS6SytehVkNIb23FA/weOj108wdAJsmzwPSqjqHKDnbza3R9qe4uAZlnEI/1XJpTIY111OYq88IxHwhWYn4N1SgzffrvLybJN3FxUMpByhmDNUmsquzQ47J3NAFj+QFTuhESckQKM6WptfDwlEdHA41CE8J+gdyDsCJBg6AUJdz6BFG6f5/Io4aURMVNS8EgEYgU4AcwsNXp2r8vr5OhdLAZm0IZuRZZ9go4rQ1NYMmwo5UIOqXXb0GjIA46QZxZFtyyQoH0QVPO/cyvsJlBX9BMsjV3RjH8fdELCIpd3a1qPnj7mqU8GYsIutF/wtH2YvNnh5psrpC02qrQBjQm+/ep/zfaWQNezd7pFNGYJAV0Y5GpZIxXEiEd3okqBWOQCAVzi3skS6qp9gmQR24/J6d30XaFzn8/cAUiHtCm8vdfjhP5V4eaZGvROQSxmyKXOVDAECq2wtuOzZnMZ1DO2OvWoFaaRrAT39BGIgN2j4Vk8/gcWi0xt3P4G7fgszxnp+ERS7DGw/UDZ5KR69q8DmApx8p8m5BZ9qQ8lmBMf0w1iBu3c5THh+JICTVVSJhHNqY7AcV/oJ1Cr5wtl+EvT0EyzPIt2AnMBdnwWJv57/unuAtaAWMQar4Dqw93bD1G1pHms6vHXJcvJCh1+cb7NQsmRTsswCC6Rdw4FdabJZH7UNkEwUOkQkkPBUWW049UFk1EkQj36CoRMgnEogNBvbY6nnX9PLRgg6bVS7LkwRaeFKG9dApuAw6bncuTPFo/sz/ORkix++3sBLh7lAu6Psvz3F9mJ4qbfQxhhQm40UshqWD9Xi+1dOjUd/J7jBfgKi6tA69hMMnQBBkKXTmaRSOTi28/lFDJ1OExsojiMY6eCYdqQFCrFqRPEygpdxsb7y6nyLSl1JuYJv4dCuFHnPhK0BCI50sAIBmWWvaa3FbzUhHvjnhvsJeknQYl20Q0PPvSuVA1Sr++h0Ni/rfcbOBPyOT6fdxkgTx2mvfE6NQnc/JH5hUthzW4ogEHxf2VIQ9u1wSTm9vkExpo0jrUgJKwR+i067ORKnwDda9ev2E9Rqd0ZrtgoH3X6CJ6Ie4wxQY+i31QydAM3GLvz2JgxjfjmFWoyewMilCKCmr3ajQLUTUDfKnbtdchlotpU7t6XYNumEP6Mrqz3GtHGcNkEQ0Kw3sdYHidvVLSv7Cer1fQycNtFieRapHBUoDH+nG34SHE03GPf5/F5hnkxmBrFNVO6Lglh/+f0pULaWUmCxwK7tDts3O9Sbys7tLpm0DN5axOBIk0DfwnYaKDniOYNkjf0E3dHsRw22YKES+yrQ+A+tCufzn8GYGthTYSeX2Rctr78M/qXAEmj4p9mUcNeUS6Vm2bbdULWWScyqYWtOWAmyb+HKq3g5B2sPEXQ8jBPP6xzX2k9AAcwRE+YH8SbAuIJ/9Xz+djSdoQLBLxBJIWYPkKIWtJfBbyKXIAr7dqdotJTJCRPuDBY2uSaqI7lhGGUvYIPXEXmLXN4Fk6Ja7rZExpgE1+on6CbG7vARmhDgvYY9Ysl2J7atmM/vInoRsT+jo20qOkVT04DihCdZdMXShZzwwIE0roFAoayKCWCzm0II0OAtCH4Oeh7FjXpxz4FCpbIftdnYnqesqZ+g+2iphAAj5fmvPZ/fIEZoBe/wf8qLzPp3ss/bzx3ZTaQktdw0301zN3nQ8SPFKMJl3+eyX2a7ucCEnMLqxTAUwonkQJacNwcQzgH1hzkWZR12guvdTzBkSwhwg0WzK/P5TwwcUW5EaCn8uKQcu/gOF/wLHM6f5dGJQ+zJ3k7R5Mg7WRwxpIxDs2PxNaBuW9SCBm+1LvOP5RPck73IRzen2ZzKYO0VWUQYJli8/DkQQrnB8mAsjSUJrttPkBBgVMKegKz3FhMTJwA74GaWsGz94lKLv1ioc8F38IzldH2eM/XzbE1Psi+7kx3prWSNi+fkaAYtGrbDZb/ETONt3mkvUgt8flEzoEV+Y1uGggPWriSiquLlwwSyGo1GjGuZeU39BAkBNjbsMSYgl5snP/EGMMjzh0XPF5aaHFuo8Y4fMGEAcXAljP6X/CovlV/Hj8YlWtVwRCKCEUNKHFxx2eI61Kzy9cUGqPDxbR45x2B1tTjO4OXOIRoeONogE9tR8YP7CYIBYyETAqy75w/n889TuMq1RAawRnhhscmxi1Uu+hbPrKzrC+Di4JrrezULeEZoWOVbSw1U4JPb8mQcwVrt+W4COHheGA5VSgewNntTJkRvJAlqlQMIkCucGzqhEwJcD/wIue5tjDLY8yOGHy/WObZQ41JgyRp53weYCuSM0LTKtxfrgPJvdhRwzUoShGNTHHLePFYNtcr+aCeIcWKsKWq1O7E2i+PW8HIJATYI/IRTmidODpzP3+31/WG5zrFLdRZ8S0rkpp3eK5AxQkuVv1tqIsC/3VHAiAwOh7w5UKhV9xP42XCcpMSUBDZNPbqgw9uaEGBDPL+XPxvV+fvn85uIAT9YbISe31dckaGIqzISkuC7S020SwIzKBwS8t45DEq5cgANvBu6J2zE3sLQ4//l95hYL/hdVB3y+VkKy5dTmH7PH4H/ixdrLPiKK8NdzLQIDYXvlpp84d0qqooxMuB1Ktn8PMWJUxinjrVp4itCHH5pN9kBVoE/1KfM4BVO4zhNrHVYHmEehvsAfG+pyZcu1VnwA9LGDD3SECAl0AiU75bCcOhfb+/PCZSwXOt586BEdwiEO4FI8o4TAlwn5s/nZ/CKZ3DMAPBHAPqHpRbHLlZZ8C3ZdQB/1xcKkI4S479dagLwyW0F0o6g9soZc3jFqR+SQELZRNDJ4zit5EUnIdBVwK8GLz9LvngG12ks5wHLHtgIivAPi02OLVR5xw9uSrXnvewEaRFaVvmbKP9oBIqYlX3Cqi5IQM6bp1A8het2w6HEkh1gFfgFIVcIY35jWli7+oRXCFT5QanFsYU6b3cCio7Z0AJL2oQk+NZiA1B+c1uegmOWL9vrksCYgLw3jyjhxRo2h4ltYpzsADff84vi5WcpFE9iTLM/4TVCgPL9Uuj5RwH8XctGxPzG5QZ/vVCj7FvEWbkrheFQdyc4iePUsUGyE9zyBFgGvzdHoXgKY9rLSXAv+DtW+cFiky9drHG+HTDhyMiU1ruHZQo8d7nBVy/VWOqEo1l6O9GsdZGocadQPIVx66hN0r9blgBdPX94A3tX0uz0ef62wo9KLY4tVJlv+2xyRm+5FJZlF89dbvC1SzWWOsEKEvQSPuedC2XcTmPArfMJAW4B8Hf1/OcoTpyIwN8f9rRU+XGpwbFLVc63LZud0V0qCxRMeAj33OU6X7tUo+QHAxLjsPHe8+bJF0+BaaLWJAS4lR53Wc8/cQLT18zS1fMrL5aaHLtY43wrYNIxIz+JwQJ5EypLn7vc4LkeEvQ5AIRC/hxedycIi7wJAcY+5scu6/nDHtQBen6BF0stvnixxoWOZdI1sTlA6pIAgecvN3juUp2qb/tOjJXw8rqJ/DlyE2+CaSQEGPewx5jwdLQ4cYJQz98vbOvV87/rW4omfrDohkMCfGOxwV9frNPwbXhD/QoLpdQT+bfIFU+i0lwX7U1CgA2q9mS9eQoTb2CupedfivT8nSBMLGOqHej2E6jCt5YafPlSnZbt1w6pCliHCe8tvImTYU6gTkKA8Qp71qDnN4YfLzY4tlC9aXr+UagO5aJzgm8v1vnSQhV/gIBOEUQdJrzz5IunMaa5coJzQoA4gz/U8xcn3twQPf8okCBjhA7wd0tNvthVkUo/CcBQzJ/DK54CpxWeE+j4E8AdX/CPjp5/o22t/QSCUPDmEaBWOYCNdT/BLboDhINqzcjp+Tfa1tJPoFE/gZefpzAW/QS3GAHCZhYhl5+N9PyNCPxXJM0m+u33lpp8MdLz91zWMra2up/gC+9W8QclxjiIKF6kInWcOtZmxpYD7riBP5ufIV84M7iZZQP1/KOQD9xoP0HOm0dFqVYOoJ08Mob9BGZ8wA+Z/AyF4hlcd3T1/KOwE6y1nyDsLDsfCehq4U6Q7ACjl/Aqlkz+LMXiGdJOK5qs3MPyEdTzb3hOcEP9BOc2sp9gqDVZMxbg985SLJ4m5YSnmb0TQ0ZZz7/RtvZ+Aruqn2DdrnG0hFdmJAToB384JDbnzVGcOEXKCfX8GiM9/yjkBe+ln8Bxm1i7LiSoAW8nBBjg+btDVCcm3iQdYz3/KJDgxvsJTmLWo59AKaFcjDsBWjcX/L16/jcwxscOAH+c9PwbbTfaT5Dz5igWT2GWK21Dwr9wWSX+BFi6mV93XPX8o0CCtfYThKfsUTjkNCMYyRDwz5zAqbgTYIGbcFPeraDnHxUSIPC1yw2ev0o/QXg/geDl5yhMnkJMaxgEqCPyOkZejTkB5C2Qhfcb9twqev5RCYcE+OZig68u1KlfrZ9ADV4uDIfE3PR+ghLIaTAz8SaA2pdQ++b78vxr0fOL8EJpPPT8o0CCnBEC4JtLDb5yjX4CVQfPm6M4cTqarHGTcgLVU9jgNWxwId4EEHkRkV+897BnjXr+UoNjF8dHzz8K1aGcCIFVvr1U5y8uDe4nuHI/wTnyE6cxzk1qqhF5HZEThKXQodnwT4JN6ieovUPV50Zgueb5/Ag/Ktc5drHOQseSSsB/U0mwfD/BYhNDOJD36vcTnAXV6H6CDEaC9xSDKopIahp0EQ2GKsMz67CIlxR9RVSPrx38LoKSL8xQnHhz4Nba1fP/sNzgf75bY8G3uEaSYadDsIwITVX+ttTkf7xbxepV2is1vJ+gWDiFcdqovrfDMlGOA9OsgwZ16HhJ42haMm86JvOiXrcYpNGiKYXiKQrFk4Pn9nT1/Eu3jp5/oy0tQiOAvys1+cLCYBJcuZ/gXHQ/QeO9nhj/A7bzC6zPCl1LLHcABVVdAn4kyNI1wW/TCJbCxJt4hVmM8fv1/NGaf3+pyRcv1rnYuTX0/Bttvf0E/ztqr7x2P8E5CsXuHQvpteNY5JKKeVHFVFUMKibmBAh/qSI/AfP3g3c1RTUNElCYeJN8fhZjOtGU5n49//dKLb54scq7nfW5nCKxlf0EDat8JxIXtoKQBKsFdBCEJJg4hXEbaxzNrqB8D5FpJKriDbmSN3QCWLHdz7zCl3SANEI18vzFk3j52eiStJUxvxjBAj8sh+C/cIvq+UdjJwhJ8DeLDb503fsJzkX3E1yfBAothS8jcn58CBD9UjTAmB854n6lL+EVn8LESfKF2Z57eFeqOhGYrnY4tlDjrXZAPvH8G0qCjAhtC/9rscFXFqpUAxte+r2KBEYs+a6K1Glgr5EYO+J+BWN+CKzbHa9mfRdOLhvcP0Pt2RXgL54iXzgz+BLqaEVfqYaef67VYcJNwD8KljWCr8o3lnr6CeRq9xOci/oJGoP7CdSeNbh/Jsjl9XyGoRPAaO9HQYNXDOazqqYTgv80+cIZYJC2J/L8lTZ//k6N1xodio6TgH+E8oJw+BY8v9jgq5drLPnX6yc4HfUTrHjXHYN8Fg1eMaqrMBNzAriqyx+jCti2EedYyvGf9wqnwzHdMOCQS1AJPf8XLlZ5rdFhi2twEtyNHAnyEo5hfP5Sg68vq0iv1k8wF/UTXDkxNuI8b8Q9BrZtevDS/cS8CtR/26uIXchmy5+ZmHjjFdQMqPOH4P9Ztc2fv1vj5402W6NOLk0wN3K2LKBT+OrlOl+7vJZ+gvA+NkVfcSX1GULVcB9mhv2+10EMZwZ8HFTNCQj+UNXMrQR/KGx7rdrmv79T5eeNDpsdM0CNmNiokSDvhPcMPHe5wfPX7SeYI184PSfW/KGqnBiMk+gzzAhl6DmA269lEgExTcB8R1X/g4j8KbDLCAQivF5r8d/erfLGMvgTzx+nnaBqlecWGwD8RjRtoncMY9hPoPPZ3PzvNWpT3zGOj9pgQ/b3oRNg0/bvX7UmFAQZgK8DOwU+bcXsPFFvy+feqXK61WHSkUTRHFMS1KzyjcUGgvCbWz08x3QFdAq8BfppMN/csv3FNfxfH44vAdbUOK36X8TIOydq7c/+13cqU2daHfGSOn+sSeAZoaHKN5caWOCT2/JkHNRa5lX190T4xprxEescYM3fxHz9KwuV3zrbbL/qiSTVnjGoDuVE8K3ynaUGX7pUoekHrxrV3wK+NTKwGyXHESh/L2I+oWL+UpOwfyxIkDVCPVD9fqn9ly/U2p/AyN9zE3rEx5EACPjACZTftcrvK3o+4UG8KSDoeVR/v6P8bls5QfiOSQhwbcexAHzeqvmYVfN50CABU+zAH1g1n7dqPgZ8XmBhFIt5ozwctwa8hDCn6N+gfBzh1wUpJOAaZZ+vJZTvIPpXCP8X5cIof984TIe+AHzNYqdF5csCHwQ+gsjDCdxGCfn6MvA9RX+k8JqBs3H42nEajz4LOgvyfeCvrdqHBB4COSwi+4EJwCPpjBy2BUADKKvqKdDXFaYNTIOcAMpxepg43g9QAl5S9CVgiyD3WLX3CrIP5D5B94EUFS0gTCYtM+87pAGlIkgJuKxwNgS9nhHknxT9hcLluDalxv2CjMsCr1n0AshpgUtRyDQJbAN2AllGqOwWMzORt383+lwETim8quiMQS5q6JBia6KalBkTu7UZnlhiCQESSywhQGKJJQRILLGEAIkllhAgscQSAiSWWEKAxBJLCJBYYgkBEkssIUBiiSUESCyxhACJJZYQILHEEgIkllhCgMQSSwiQWGIJARJLLCFAYoklBEgssYQAiSWWECCxxEbN/v8AhJUoJvrkO6AAAAAASUVORK5CYII=",Vn={INDEX_URL:"https://sakitam-fdd.github.io/HMap/",API_URL:"",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,INTERACTIONS:{altShiftDragRotate:!0,doubleClickZoom:!0,keyboard:!0,mouseWheelZoom:!0,shiftDragZoom:!0,dragPan:!0,pinchRotate:!0,pinchZoom:!0}};Zi.source.BAIDU=function(t){var e=t||{},i="";i=void 0!==e.attributions?e.attributions:[Zi.source.BAIDU.ATTRIBUTION],e.projection=e.projection?e.projection:"EPSG:3857";var n=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",o=void 0!==e.url?e.url:"http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles={styles}&udt=20170607&scaler=1&p=1",r=e.hidpi||(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1;o=o.replace("{styles}",r?"ph":"pl");var s=e.tileUrlFunction?e.tileUrlFunction:void 0;s||(s=function(t){var e=t[0],i=t[1],n=t[2];return i<0&&(i="M"+-i),n<0&&(n="M"+-n),o.replace("{0-3}",Zi.source.BAIDU.getRandom(0,3)).replace("{x}",i.toString()).replace("{y}",n.toString()).replace("{z}",e.toString())});for(var a=e.levels?e.levels:19,l=[],h=0;h<a;h++)l[h]=Math.pow(2,a-1-h);var c=new Zi.tilegrid.TileGrid({tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[0,0],extent:e.extent?e.extent:[-33554432,-33554432,33554432,33554432],resolutions:l,minZoom:e.minZoom&&"number"==typeof e.minZoom?e.minZoom:0});Zi.source.TileImage.call(this,{tileGrid:c,attributions:i,cacheSize:e.cacheSize,projection:e.projection,crossOrigin:n,opaque:void 0===e.opaque||e.opaque,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileUrlFunction:s,url:o,wrapX:e.wrapX,tilePixelRatio:r?2:1})},Zi.inherits(Zi.source.BAIDU,Zi.source.TileImage),Zi.source.BAIDU.getRandom=function(t,e){var i=Math.random()*(e-t),n=Math.round(i+t);return n=Math.max(Math.min(n,e),t)},Zi.source.BAIDU.ATTRIBUTION=new Zi.Attribution({html:'&copy; <a href="http://map.baidu.com/">百度地图</a> contributors.'});Zi.source.BAIDU;Zi.source.GAODE=function(t){var e=t||{},i="";i=void 0!==e.attributions?e.attributions:[Zi.source.GAODE.ATTRIBUTION];var n=void 0!==e.crossOrigin?e.crossOrigin:void 0,o=void 0!==e.url?e.url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}",r=e.tileUrlFunction?e.tileUrlFunction:void 0;Zi.source.XYZ.call(this,{attributions:i,cacheSize:e.cacheSize,crossOrigin:n,opaque:void 0===e.opaque||e.opaque,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,tileUrlFunction:r,url:o,wrapX:e.wrapX})},Zi.inherits(Zi.source.GAODE,Zi.source.XYZ),Zi.source.GAODE.ATTRIBUTION=new Zi.Attribution({html:'&copy; <a href="http://ditu.amap.com/">高德地图</a> contributors.'});Zi.source.GAODE;Zi.source.GOOGLE=function(t){var e=t||{},i="";i=void 0!==e.attributions?e.attributions:[Zi.source.GOOGLE.ATTRIBUTION];var n=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",o=void 0!==e.url?e.url:"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}";Zi.source.XYZ.call(this,{attributions:i,cacheSize:e.cacheSize,crossOrigin:n,opaque:void 0===e.opaque||e.opaque,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:o,wrapX:e.wrapX})},Zi.inherits(Zi.source.GOOGLE,Zi.source.XYZ),Zi.source.GOOGLE.ATTRIBUTION=new Zi.Attribution({html:'&copy; <a href="http://www.google.cn/maps">谷歌地图</a> contributors.'});Zi.source.GOOGLE;var jn=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var o=s(this,t.call(this,i));return o.oldcluster=new Zi.source.Vector,o.clusters=[],o.animation={start:!1},o.set("animationDuration","number"==typeof i.animationDuration?i.animationDuration:700),o.set("animationMethod",i.animationMethod||Zi.easing.easeOut),o.getSource().on("change",o.saveCluster,o),o.on("precompose",o.animate,o),o.on("postcompose",o.postanimate,o),o}return r(e,t),e.prototype.saveCluster=function(){if(this.oldcluster.clear(),this.get("animationDuration")){var t=this.getSource().getFeatures();t.length&&t[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=t.slice(0),this.sourceChanged=!0)}},e.prototype.getClusterForFeature=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].get("features");if(n&&n.length)for(var o=0;o<n.length;o++)if(t===n[o])return e[i]}return!1},e.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},e.prototype.animate=function(t){var e=this.get("animationDuration");if(e){var i=t.frameState.viewState.resolution,n=this.animation,o=t.frameState.time;if(n.resolution!==i&&this.sourceChanged){var r=t.frameState.extent;n.resolution<i?(r=Zi.extent.buffer(r,100*i),n.cA=this.oldcluster.getFeaturesInExtent(r),n.cB=this.getSource().getFeaturesInExtent(r),n.revers=!1):(r=Zi.extent.buffer(r,100*i),n.cA=this.getSource().getFeaturesInExtent(r),n.cB=this.oldcluster.getFeaturesInExtent(r),n.revers=!0),n.clusters=[];for(var s=0;s<n.cA.length;s++){var a=n.cA[s],l=a.get("features");if(l&&l.length){var h=this.getClusterForFeature(l[0],n.cB);h&&n.clusters.push({f:a,pt:h.getGeometry().getCoordinates()})}}if(n.resolution=i,this.sourceChanged=!1,!n.clusters.length||n.clusters.length>1e3)return void this.stopAnimation();o=n.start=(new Date).getTime()}if(n.start){var c=t.vectorContext,u=(o-n.start)/e;u>1&&(this.stopAnimation(),u=1),u=this.get("animationMethod")(u);var p=this.getStyle(),g="function"==typeof p?p:p.length?function(){return p}:function(){return[p]};t.context.save(),t.context.globalAlpha=this.getOpacity();for(var d=t.frameState.pixelRatio,f=0;f<n.clusters.length;f++){var y=n.clusters[f],m=y.f.getGeometry().getCoordinates();n.revers?(m[0]=y.pt[0]+u*(m[0]-y.pt[0]),m[1]=y.pt[1]+u*(m[1]-y.pt[1])):(m[0]=m[0]+u*(y.pt[0]-m[0]),m[1]=m[1]+u*(y.pt[1]-m[1]));for(var v=g(y.f,i),_=new Zi.geom.Point(m),x=0;x<v.length;x++){var C=[null,v[x]],I=C[0],A=C[1],b=!Zi.Map.prototype.getFeaturesAtPixel&&A.getImage();b&&(I=b.getScale(),b.setScale(I*d)),c.setStyle?(c.setStyle(A),c.drawGeometry(_)):(c.setImageStyle(b),c.setTextStyle(A.getText()),c.drawPointGeometry(_)),b&&b.setScale(I)}}t.context.restore(),t.frameState.animate=!0,t.context.save(),t.context.beginPath(),t.context.rect(0,0,0,0),t.context.clip(),this.clip_=!0}return this}},e.prototype.postanimate=function(t){this.clip_&&(t.context.restore(),this.clip_=!1)},e}(Zi.layer.Vector);Zi.layer.AnimatedCluster=jn;var Hn=function(t,e){var i=Object.getOwnPropertyNames(e),n=Array.isArray(i),o=0;for(i=n?i:i[Symbol.iterator]();;){var r;if(n){if(o>=i.length)break;r=i[o++]}else{if((o=i.next()).done)break;r=o.value}var s=r;if(!s.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,a)}}},Un=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var o in i){var r=i[o];Hn(t,r),Hn(t.prototype,r.prototype)}};Zi.style.Factory=function(t){var e=t&&"object"===(void 0===t?"undefined":i(t))?t:{},n=new Zi.style.Style({});return e.geometry&&e.geometry instanceof Zi.geom.Geometry&&n.setGeometry(e.geometry),e.zIndex&&"number"==typeof e.zIndex&&n.setZIndex(e.zIndex),e.fill&&"object"===i(e.fill)&&n.setFill(this._getFill(e.fill)),e.image&&"object"===i(e.image)&&n.setImage(this._getImage(e.image)),e.stroke&&"object"===i(e.stroke)&&n.setStroke(this._getStroke(e.stroke)),e.text&&"object"===i(e.text)&&n.setText(this._getText(e.text)),n},Zi.style.Factory.prototype._getRegularShape=function(t){try{return new Zi.style.RegularShape({fill:this._getFill(t.fill)||void 0,points:"number"==typeof t.points?t.points:1,radius:"number"==typeof t.radius?t.radius:void 0,radius1:"number"==typeof t.radius1?t.radius1:void 0,radius2:"number"==typeof t.radius2?t.radius2:void 0,angle:"number"==typeof t.angle?t.angle:0,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,stroke:this._getStroke(t.stroke)||void 0,rotation:"number"==typeof t.rotation?t.rotation:0,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,atlasManager:t.atlasManager?t.atlasManager:void 0})}catch(t){console.log(t)}},Zi.style.Factory.prototype._getImage=function(t){try{return"icon"===(t=t||{}).type?this._getIcon(t.image):this._getRegularShape(t.image)}catch(t){console.log(t)}},Zi.style.Factory.prototype._getIcon=function(t){try{return t=t||{},new Zi.style.Icon({anchor:t.imageAnchor?t.imageAnchor:[.5,.5],anchorXUnits:t.imageAnchorXUnits?t.imageAnchorXUnits:"fraction",anchorYUnits:t.imageAnchorYUnits?t.imageAnchorYUnits:"fraction",anchorOrigin:t.imageAnchorOrigin?t.imageAnchorYUnits:"top-left",color:t.imageColor?t.imageColor:void 0,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,img:t.img?t.img:void 0,offset:t.offset&&Array.isArray(t.offset)&&2===t.offset.length?t.offset:[0,0],offsetOrigin:t.offsetOrigin?t.offsetOrigin:"top-left",scale:"number"==typeof t.scale?t.scale:1,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,opacity:"number"==typeof t.imageOpacity?t.imageOpacity:1,rotation:"number"==typeof t.imageRotation?t.imageRotation:0,size:t.size&&Array.isArray(t.size)&&2===t.size.length?t.size:void 0,imgSize:t.imgSize&&Array.isArray(t.imgSize)&&2===t.imgSize.length?t.imgSize:void 0,src:t.imageSrc?t.imageSrc:void 0})}catch(t){console.log(t)}},Zi.style.Factory.prototype._getStroke=function(t){try{return t=t||{},new Zi.style.Stroke({color:t.strokeColor?t.strokeColor:void 0,lineCap:t.strokeLineCap&&"string"==typeof t.strokeLineCap?t.strokeLineCap:"round",lineJoin:t.strokeLineJoin&&"string"==typeof t.strokeLineJoin?t.strokeLineJoin:"round",lineDash:t.strokeLineDash?t.strokeLineDash:void 0,lineDashOffset:"number"==typeof t.strokeLineDashOffset?t.strokeLineDashOffset:"0",miterLimit:"number"==typeof t.strokeMiterLimit?t.strokeMiterLimit:10,width:"number"==typeof t.strokeWidth?t.strokeWidth:1})}catch(t){console.log(t)}},Zi.style.Factory.prototype._getText=function(t){try{return new Zi.style.Text({placement:t.placement,overflow:t.textOverflow,font:t.textFont&&"string"==typeof t.textFont?t.textFont:"10px sans-serif",offsetX:"number"==typeof t.textOffsetX?t.textOffsetX:0,offsetY:"number"==typeof t.textOffsetY?t.textOffsetY:0,scale:"number"==typeof t.textScale?t.textScale:void 0,text:t.text&&"string"==typeof t.text?t.text:void 0,textAlign:t.textAlign&&"string"==typeof t.textAlign?t.textAlign:"start",textBaseline:t.textBaseline&&"string"==typeof t.textBaseline?t.textBaseline:"alphabetic",rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,fill:t.textFill&&this._getFill(t.textFill),backgroundFill:t.textBackgroundFill&&this._getFill(t.textBackgroundFill),stroke:t.textStroke&&this._getStroke(t.textStroke),backgroundStroke:t.textBackgroundStroke&&this._getStroke(t.textBackgroundStroke),maxAngle:t.maxAngle&&tn(t.maxAngle)?t.maxAngle:void 0,rotation:t.textRotation&&tn(t.textRotation)?t.textRotation:0,padding:t.textPadding&&t.textPadding.length>0?t.textPadding:void 0})}catch(t){console.log(t)}},Zi.style.Factory.prototype._getFill=function(t){try{return t=t||{},new Zi.style.Fill({color:t.fillColor?t.fillColor:void 0})}catch(t){console.log(t)}};var Wn=Zi.style.Factory,Yn=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var o=s(this,t.call(this,i));return o._canvas=null,o.options=i,o.setSource(new Zi.source.ImageCanvas({logo:i.logo,state:i.state,attributions:i.attributions,resolutions:i.resolutions,canvasFunction:o.canvasFunction.bind(o),projection:i.hasOwnProperty("projection")?i.projection:"EPSG:3857",ratio:i.hasOwnProperty("ratio")?i.ratio:1})),o}return r(e,t),e.prototype.redraw=function(t){this.getSource()&&this.getSource().refresh(),this.draw(t)},e.prototype.getContext=function(){return this._canvas.getContext(this.get("context")||"2d")},e.prototype._getMapExtent=function(){if(this.getMap()){var t=this._getMapSize(),e=this.getMap().getView();return e&&e.calculateExtent(t)}},e.prototype._getMapSize=function(){if(this.getMap())return this.getMap().getSize()},e.prototype.canvasFunction=function(t,e,i,n,o){if(this._canvas?(this._canvas.width=n[0],this._canvas.height=n[1]):this._canvas=an(n[0],n[1],i),e<=this.get("maxResolution")){var r=this.getContext();this.render({context:r,extent:t,size:n,pixelRatio:i,projection:o}),this.get("render")&&this.get("render")({context:r,extent:t,size:n,pixelRatio:i,projection:o})}return this._canvas},e.prototype.render=function(){this.options.animation&&(this.un("precompose",this.redraw.bind(this),this),this.on("precompose",this.redraw.bind(this),this))},e.prototype.draw=function(){},e.prototype.setMap=function(t){Zi.layer.Image.prototype.setMap.call(this,t)},e.prototype.getMap=function(){return this.get("map")},e}(Zi.layer.Image);function Xn(t,e,i,n,o,r){if(!(o-n<=i)){var s=Math.floor((n+o)/2);!function t(e,i,n,o,r,s){for(;r>o;){if(r-o>600){var a=r-o+1,l=n-o+1,h=Math.log(a),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(a-c)/a)*(l-a/2<0?-1:1),p=Math.max(o,Math.floor(n-l*c/a+u)),g=Math.min(r,Math.floor(n+(a-l)*c/a+u));t(e,i,n,p,g,s)}var d=i[2*n+s],f=o,y=r;for(Zn(e,i,o,n),i[2*r+s]>d&&Zn(e,i,o,r);f<y;){for(Zn(e,i,f,y),f++,y--;i[2*f+s]<d;)f++;for(;i[2*y+s]>d;)y--}i[2*o+s]===d?Zn(e,i,o,y):(y++,Zn(e,i,y,r)),y<=n&&(o=y+1),n<=y&&(r=y-1)}}(t,e,s,n,o,r%2),Xn(t,e,i,n,s-1,r+1),Xn(t,e,i,s+1,o,r+1)}}function Zn(t,e,i,n){qn(t,i,n),qn(e,2*i,2*n),qn(e,2*i+1,2*n+1)}function qn(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function Kn(t,e,i,n){var o=t-i,r=e-n;return o*o+r*r}function Jn(t,e,i,n,o){e=e||Qn,i=i||$n,o=o||Array,this.nodeSize=n||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var r=0;r<t.length;r++)this.ids[r]=r,this.coords[2*r]=e(t[r]),this.coords[2*r+1]=i(t[r]);Xn(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function Qn(t){return t[0]}function $n(t){return t[1]}Zi.layer.CanvasLayer=Yn,Jn.prototype={range:function(t,e,i,n){return function(t,e,i,n,o,r,s){for(var a,l,h=[0,t.length-1,0],c=[];h.length;){var u=h.pop(),p=h.pop(),g=h.pop();if(p-g<=s)for(var d=g;d<=p;d++)a=e[2*d],l=e[2*d+1],a>=i&&a<=o&&l>=n&&l<=r&&c.push(t[d]);else{var f=Math.floor((g+p)/2);a=e[2*f],l=e[2*f+1],a>=i&&a<=o&&l>=n&&l<=r&&c.push(t[f]);var y=(u+1)%2;(0===u?i<=a:n<=l)&&(h.push(g),h.push(f-1),h.push(y)),(0===u?o>=a:r>=l)&&(h.push(f+1),h.push(p),h.push(y))}}return c}(this.ids,this.coords,t,e,i,n,this.nodeSize)},within:function(t,e,i){return function(t,e,i,n,o,r){for(var s=[0,t.length-1,0],a=[],l=o*o;s.length;){var h=s.pop(),c=s.pop(),u=s.pop();if(c-u<=r)for(var p=u;p<=c;p++)Kn(e[2*p],e[2*p+1],i,n)<=l&&a.push(t[p]);else{var g=Math.floor((u+c)/2),d=e[2*g],f=e[2*g+1];Kn(d,f,i,n)<=l&&a.push(t[g]);var y=(h+1)%2;(0===h?i-o<=d:n-o<=f)&&(s.push(u),s.push(g-1),s.push(y)),(0===h?i+o>=d:n+o>=f)&&(s.push(g+1),s.push(c),s.push(y))}}return a}(this.ids,this.coords,t,e,i,this.nodeSize)}};var to,eo,io,no,oo,ro,so,ao,lo,ho=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var o=s(this,t.call(this,i));return o._canvas=null,o._context=null,o._style=null,o.features=[],o.options=i,o.wgs84Sphere=new Zi.Sphere("number"==typeof o.options.sphere?o.options.sphere:6378137),o.setSource(new Zi.source.ImageCanvas({logo:i.logo,state:i.state,attributions:i.attributions,resolutions:i.resolutions,canvasFunction:o.canvasFunction.bind(o),projection:i.hasOwnProperty("projection")?i.projection:"EPSG:3857",ratio:i.hasOwnProperty("ratio")?i.ratio:1})),o.setStyle(i.style),o.on("precompose",o.redraw,o),o}return r(e,t),e.prototype.addFeature=function(t){this.features.push(t)},e.prototype.addFeatures=function(t){var e,i;this.features=this.features.concat(t),this.originData=new Jn(this.features,(function(t){return t.getGeometry().getCoordinates()[0]}),(function(t){return t.getGeometry().getCoordinates()[1]}),e,i)},e.prototype.getFeatures=function(){return this.features},e.prototype.getFeatureById=function(t){},e.prototype.getStyle=function(){return this._style},e.prototype.setStyle=function(t){this._style=t},e.prototype._drawFeature=function(t,e){var i=this;if(this.getMap()){this._context||(this._context=this.getContext());var n=i._style.getImage();if(n){var o=new Image;o.src=n.getSrc(),o.complete?this.render_(o,t,e):(o.onload=function(){i.render_(o,t,e)},o.onerror=function(){})}}},e.prototype.render_=function(t,e,i){for(var n,o=this,r=(n=this.originData).range.apply(n,e).map((function(t){return o.features[t]})),s=r.length,a=this._style.getImage().getScale()||1,l=this._style.getImage().getAnchor()||[.5,.5],h=0;h<s;h++){var c=r[h].getGeometry(),u=c&&c.getCoordinates();if(u){var p=this.getMap().getPixelFromCoordinate(u),g=this._style.getImage().getSize();this._context.drawImage(t,(p[0]-l[0])*i,(p[1]-l[1])*i,g[0]*a*i,g[1]*a*i)}}},e.prototype.redraw=function(){},e.prototype.getContext=function(){return this._canvas.getContext(this.get("context")||"2d")},e.prototype._getMapExtent=function(){if(this.getMap()){var t=this._getMapSize(),e=this.getMap().getView();return e&&e.calculateExtent(t)}},e.prototype._getMapSize=function(){if(this.getMap())return this.getMap().getSize()},e.prototype.canvasFunction=function(t,e,i,n,o){if(this._canvas?(this._canvas.width=n[0],this._canvas.height=n[1]):this._canvas=an(n[0],n[1],i),e<=this.get("maxResolution")){var r=this.getContext();this._drawFeature(t,i),this.get("render")&&this.get("render")({context:r,extent:t,size:n,pixelRatio:i,projection:o})}return this._canvas},e.prototype.setMap=function(t){this.set("originMap",t)},e.prototype.getMap=function(){return this.get("originMap")},e.prototype.transformRadius=function(t,e){try{var i=this.wgs84Sphere.offset(t,e,1.5*Math.PI),n=t[0]-i[0],o=t[1]-i[1];return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}catch(t){console.log(t)}},e.prototype.getClosestPoint=function(t,e){var i,n=this,o=this.transformRadius(t,e);return(i=this.originData).within.apply(i,t.concat([o])).map((function(t){return n.features[t]}))},e}(Zi.layer.Image);Zi.layer.DozensLayer=ho;var co=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};ao=function(){var t,e,i,n,o,r,s,a,l,h,c,u,p,g;if((o=function(){var t,e,i;return(t=document.createElement("canvas")).width=2,t.height=2,(i=(e=t.getContext("2d")).getImageData(0,0,2,2)).data.set(new Uint8ClampedArray([0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255])),e.putImageData(i,0,0),t})(),e=function(t,e){var i,n,r,s,a,l,h,c,u,p,g,d,f,y;if(l=t.createProgram(),f=t.createShader(t.VERTEX_SHADER),t.attachShader(l,f),t.shaderSource(f,"attribute vec2 position;\nvoid main(){\n    gl_Position = vec4(position, 0.0, 1.0);\n}"),t.compileShader(f),!t.getShaderParameter(f,t.COMPILE_STATUS))throw t.getShaderInfoLog(f);if(r=t.createShader(t.FRAGMENT_SHADER),t.attachShader(l,r),t.shaderSource(r,"uniform sampler2D source;\nvoid main(){\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\n}"),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw t.getShaderInfoLog(r);if(t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw t.getProgramInfoLog(l);return t.useProgram(l),n=function(){return t.deleteShader(r),t.deleteShader(f),t.deleteProgram(l),t.deleteBuffer(i),t.deleteTexture(u),t.deleteTexture(d),t.deleteFramebuffer(s),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},d=t.createTexture(),t.bindTexture(t.TEXTURE_2D,d),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),s=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,d,0),p=o(),u=t.createTexture(),t.bindTexture(t.TEXTURE_2D,u),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e,p),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),y=new Float32Array([1,1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,y,t.STATIC_DRAW),a=t.getAttribLocation(l,"position"),g=t.getUniformLocation(l,"source"),t.enableVertexAttribArray(a),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.uniform1i(g,0),t.drawArrays(t.TRIANGLES,0,6),h=new Uint8Array(16),t.readPixels(0,0,2,2,t.RGBA,t.UNSIGNED_BYTE,h),c=Math.abs(h[0]-127)<10,n(),c},n=function(t,e){var i;return i=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),0===t.getError()?(t.deleteTexture(i),!0):(t.deleteTexture(i),!1)},t=function(t,e){var i,n,o;return o=t.createTexture(),t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),n=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),i=t.checkFramebufferStatus(t.FRAMEBUFFER),t.deleteTexture(o),t.deleteFramebuffer(n),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),i===t.FRAMEBUFFER_COMPLETE},l=[],h={},c=[],i=function(){var i,o,r,s,a;i=document.createElement("canvas"),o=null;try{null===(o=i.getContext("experimental-webgl"))&&(o=i.getContext("webgl"))}catch(t){}if(null!=o&&(null===o.getExtension("OES_texture_float")?n(o,o.FLOAT)?(a=!0,l.push("OES_texture_float"),h.OES_texture_float={shim:!0}):(a=!1,c.push("OES_texture_float")):n(o,o.FLOAT)?(a=!0,l.push("OES_texture_float")):(a=!1,c.push("OES_texture_float")),a&&(null===o.getExtension("WEBGL_color_buffer_float")?t(o,o.FLOAT)?(l.push("WEBGL_color_buffer_float"),h.WEBGL_color_buffer_float={shim:!0,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):c.push("WEBGL_color_buffer_float"):t(o,o.FLOAT)?l.push("WEBGL_color_buffer_float"):c.push("WEBGL_color_buffer_float"),null===o.getExtension("OES_texture_float_linear")?e(o,o.FLOAT)?(l.push("OES_texture_float_linear"),h.OES_texture_float_linear={shim:!0}):c.push("OES_texture_float_linear"):e(o,o.FLOAT)?l.push("OES_texture_float_linear"):c.push("OES_texture_float_linear")),null===(r=o.getExtension("OES_texture_half_float"))?n(o,36193)?(s=!0,l.push("OES_texture_half_float"),r=h.OES_texture_half_float={HALF_FLOAT_OES:36193,shim:!0}):(s=!1,c.push("OES_texture_half_float")):n(o,r.HALF_FLOAT_OES)?(s=!0,l.push("OES_texture_half_float")):(s=!1,c.push("OES_texture_half_float")),s))return null===o.getExtension("EXT_color_buffer_half_float")?t(o,r.HALF_FLOAT_OES)?(l.push("EXT_color_buffer_half_float"),h.EXT_color_buffer_half_float={shim:!0,RGBA16F_EXT:34842,RGB16F_EXT:34843,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):c.push("EXT_color_buffer_half_float"):t(o,r.HALF_FLOAT_OES)?l.push("EXT_color_buffer_half_float"):c.push("EXT_color_buffer_half_float"),null===o.getExtension("OES_texture_half_float_linear")?e(o,r.HALF_FLOAT_OES)?(l.push("OES_texture_half_float_linear"),h.OES_texture_half_float_linear={shim:!0}):c.push("OES_texture_half_float_linear"):e(o,r.HALF_FLOAT_OES)?l.push("OES_texture_half_float_linear"):c.push("OES_texture_half_float_linear")},null!=window.WebGLRenderingContext){for(i(),u={},p=0,g=c.length;p<g;p++)a=c[p],u[a]=!0;return r=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(t){var e;return void 0===(e=h[t])?u[t]?null:r.call(this,t):e},s=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var t,e,i,n,o,r,a;for(e=[],n=0,r=(i=s.call(this)).length;n<r;n++)t=i[n],void 0===u[t]&&e.push(t);for(o=0,a=l.length;o<a;o++)t=l[o],co.call(e,t)<0&&e.push(t);return e},WebGLRenderingContext.prototype.getFloatExtension=function(t){var e,i,n,o,r,s,l,h,c,u,p,g,d,f,y,m,v,_,x,C,I,A,b,w,S,M;for(null==t.prefer&&(t.prefer=["half"]),null==t.require&&(t.require=[]),null==t.throws&&(t.throws=!0),f=this.getExtension("OES_texture_float"),s=this.getExtension("OES_texture_half_float"),g=this.getExtension("WEBGL_color_buffer_float"),o=this.getExtension("EXT_color_buffer_half_float"),d=this.getExtension("OES_texture_float_linear"),r=this.getExtension("OES_texture_half_float_linear"),p={texture:null!==f,filterable:null!==d,renderable:null!==g,score:0,precision:"single",half:!1,single:!0,type:this.FLOAT},n={texture:null!==s,filterable:null!==r,renderable:null!==o,score:0,precision:"half",half:!0,single:!1,type:null!=(w=null!=s?s.HALF_FLOAT_OES:void 0)?w:null},i=[],p.texture&&i.push(p),n.texture&&i.push(n),u=[],m=0,x=i.length;m<x;m++){for(e=i[m],y=!0,v=0,C=(S=t.require).length;v<C;v++)!1===e[a=S[v]]&&(y=!1);y&&u.push(e)}for(_=0,I=u.length;_<I;_++)for(e=u[_],l=b=0,A=(M=t.prefer).length;b<A;l=++b)c=M[l],h=Math.pow(2,t.prefer.length-l-1),e[c]&&(e.score+=h);if(u.sort((function(t,e){return t.score===e.score?0:t.score<e.score?1:t.score>e.score?-1:void 0})),0===u.length){if(t.throws)throw"No floating point texture support that is "+t.require.join(", ");return null}return{filterable:(u=u[0]).filterable,renderable:u.renderable,type:u.type,precision:u.precision}}}},function(){var t,e,i,n;if(null!=window.WebGLRenderingContext)n=["WEBKIT","MOZ","MS","O"],i=/^WEBKIT_(.*)|MOZ_(.*)|MS_(.*)|O_(.*)/,t=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(e){var o,r,s,a,l;if(null!==(r=e.match(i))&&(e=r[1]),null===(o=t.call(this,e))){for(a=0,l=n.length;a<l;a++)if(s=n[a],null!==(o=t.call(this,s+"_"+e)))return o;return null}return o},e=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var t,n,o,r,s,a;for(o=[],s=0,a=(r=e.call(this)).length;s<a;s++)null!==(n=(t=r[s]).match(i))&&(t=n[1]),co.call(o,t)<0&&o.push(t);return o}}(),ao(),no=function(){function t(t,e){var i,n;this.gl=t,n=e.vertex,i=e.fragment,this.program=this.gl.createProgram(),this.vs=this.gl.createShader(this.gl.VERTEX_SHADER),this.fs=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.attachShader(this.program,this.vs),this.gl.attachShader(this.program,this.fs),this.compileShader(this.vs,n),this.compileShader(this.fs,i),this.link(),this.value_cache={},this.uniform_cache={},this.attribCache={}}return t.prototype.attribLocation=function(t){var e;return void 0===(e=this.attribCache[t])&&(e=this.attribCache[t]=this.gl.getAttribLocation(this.program,t)),e},t.prototype.compileShader=function(t,e){if(this.gl.shaderSource(t,e),this.gl.compileShader(t),!this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS))throw"Shader Compile Error: "+this.gl.getShaderInfoLog(t)},t.prototype.link=function(){if(this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw"Shader Link Error: "+this.gl.getProgramInfoLog(this.program)},t.prototype.use=function(){return this.gl.useProgram(this.program),this},t.prototype.uniformLoc=function(t){var e;return void 0===(e=this.uniform_cache[t])&&(e=this.uniform_cache[t]=this.gl.getUniformLocation(this.program,t)),e},t.prototype.int=function(t,e){var i;return this.value_cache[t]!==e&&(this.value_cache[t]=e,(i=this.uniformLoc(t))&&this.gl.uniform1i(i,e)),this},t.prototype.vec2=function(t,e,i){var n;return(n=this.uniformLoc(t))&&this.gl.uniform2f(n,e,i),this},t.prototype.float=function(t,e){var i;return this.value_cache[t]!==e&&(this.value_cache[t]=e,(i=this.uniformLoc(t))&&this.gl.uniform1f(i,e)),this},t}(),to=function(){function t(t){this.gl=t,this.buffer=this.gl.createFramebuffer()}return t.prototype.destroy=function(){return this.gl.deleteFRamebuffer(this.buffer)},t.prototype.bind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.buffer),this},t.prototype.unbind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this},t.prototype.check=function(){switch(this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER)){case this.gl.FRAMEBUFFER_UNSUPPORTED:throw"Framebuffer is unsupported";case this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw"Framebuffer incomplete attachment";case this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:throw"Framebuffer incomplete dimensions";case this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw"Framebuffer incomplete missing attachment"}return this},t.prototype.color=function(t){return this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,t.target,t.handle,0),this.check(),this},t.prototype.depth=function(t){return this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,t.id),this.check(),this},t.prototype.destroy=function(){return this.gl.deleteFramebuffer(this.buffer)},t}(),oo=function(){function t(t,e){var i,n;switch(this.gl=t,null==e&&(e={}),this.channels=this.gl[(null!=(i=e.channels)?i:"rgba").toUpperCase()],"number"==typeof e.type?this.type=e.type:this.type=this.gl[(null!=(n=e.type)?n:"unsigned_byte").toUpperCase()],this.channels){case this.gl.RGBA:this.chancount=4;break;case this.gl.RGB:this.chancount=3;break;case this.gl.LUMINANCE_ALPHA:this.chancount=2;break;default:this.chancount=1}this.target=this.gl.TEXTURE_2D,this.handle=this.gl.createTexture()}return t.prototype.destroy=function(){return this.gl.deleteTexture(this.handle)},t.prototype.bind=function(t){if(null==t&&(t=0),t>15)throw"Texture unit too large: "+t;return this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.target,this.handle),this},t.prototype.setSize=function(t,e){return this.width=t,this.height=e,this.gl.texImage2D(this.target,0,this.channels,this.width,this.height,0,this.channels,this.type,null),this},t.prototype.upload=function(t){return this.width=t.width,this.height=t.height,this.gl.texImage2D(this.target,0,this.channels,this.channels,this.type,t),this},t.prototype.linear=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this},t.prototype.nearest=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this},t.prototype.clampToEdge=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this},t.prototype.repeat=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this},t}(),io=function(){function t(t,e,i){var n;this.gl=t,this.width=e,this.height=i,n=this.gl.getFloatExtension({require:["renderable"]}),this.texture=new oo(this.gl,{type:n.type}).bind(0).setSize(this.width,this.height).nearest().clampToEdge(),this.fbo=new to(this.gl).bind().color(this.texture).unbind()}return t.prototype.use=function(){return this.fbo.bind()},t.prototype.bind=function(t){return this.texture.bind(t)},t.prototype.end=function(){return this.fbo.unbind()},t.prototype.resize=function(t,e){return this.width=t,this.height=e,this.texture.bind(0).setSize(this.width,this.height)},t}(),lo="attribute vec4 position;\nvarying vec2 texcoord;\nvoid main(){\n    texcoord = position.xy*0.5+0.5;\n    gl_Position = position;\n}",so="#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp int;\n    precision highp float;\n#else\n    precision mediump int;\n    precision mediump float;\n#endif\nuniform sampler2D source;\nvarying vec2 texcoord;",eo=function(){function t(t,e,i,n){var o,r,s;for(this.heatmap=t,this.gl=e,this.width=i,this.height=n,this.shader=new no(this.gl,{vertex:"attribute vec4 position, intensity;\nvarying vec2 off, dim;\nvarying float vIntensity;\nuniform vec2 viewport;\n\nvoid main(){\n    dim = abs(position.zw);\n    off = position.zw;\n    vec2 pos = position.xy + position.zw;\n    vIntensity = intensity.x;\n    gl_Position = vec4((pos/viewport)*2.0-1.0, 0.0, 1.0);\n}",fragment:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp int;\n    precision highp float;\n#else\n    precision mediump int;\n    precision mediump float;\n#endif\nvarying vec2 off, dim;\nvarying float vIntensity;\nvoid main(){\n    float falloff = (1.0 - smoothstep(0.0, 1.0, length(off/dim)));\n    float intensity = falloff*vIntensity;\n    gl_FragColor = vec4(intensity);\n}"}),this.clampShader=new no(this.gl,{vertex:lo,fragment:so+"uniform float low, high;\nvoid main(){\n    gl_FragColor = vec4(clamp(texture2D(source, texcoord).rgb, low, high), 1.0);\n}"}),this.multiplyShader=new no(this.gl,{vertex:lo,fragment:so+"uniform float value;\nvoid main(){\n    gl_FragColor = vec4(texture2D(source, texcoord).rgb*value, 1.0);\n}"}),this.blurShader=new no(this.gl,{vertex:lo,fragment:so+"uniform vec2 viewport;\nvoid main(){\n    vec4 result = vec4(0.0);\n    for(int x=-1; x<=1; x++){\n        for(int y=-1; y<=1; y++){\n            vec2 off = vec2(x,y)/viewport;\n            //float factor = 1.0 - smoothstep(0.0, 1.5, length(off));\n            float factor = 1.0;\n            result += vec4(texture2D(source, texcoord+off).rgb*factor, factor);\n        }\n    }\n    gl_FragColor = vec4(result.rgb/result.w, 1.0);\n}"}),this.nodeBack=new io(this.gl,this.width,this.height),this.nodeFront=new io(this.gl,this.width,this.height),this.vertexBuffer=this.gl.createBuffer(),this.vertexSize=8,this.maxPointCount=10240,this.vertexBufferData=new Float32Array(this.maxPointCount*this.vertexSize*6),this.vertexBufferViews=[],o=r=0,s=this.maxPointCount;0<=s?r<s:r>s;o=0<=s?++r:--r)this.vertexBufferViews.push(new Float32Array(this.vertexBufferData.buffer,0,o*this.vertexSize*6));this.bufferIndex=0,this.pointCount=0}return t.prototype.resize=function(t,e){return this.width=t,this.height=e,this.nodeBack.resize(this.width,this.height),this.nodeFront.resize(this.width,this.height)},t.prototype.update=function(){var t,e;if(this.pointCount>0)return this.gl.enable(this.gl.BLEND),this.nodeFront.use(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertexBufferViews[this.pointCount],this.gl.STREAM_DRAW),e=this.shader.attribLocation("position"),t=this.shader.attribLocation("intensity"),this.gl.enableVertexAttribArray(1),this.gl.vertexAttribPointer(e,4,this.gl.FLOAT,!1,32,0),this.gl.vertexAttribPointer(t,4,this.gl.FLOAT,!1,32,16),this.shader.use().vec2("viewport",this.width,this.height),this.gl.drawArrays(this.gl.TRIANGLES,0,6*this.pointCount),this.gl.disableVertexAttribArray(1),this.pointCount=0,this.bufferIndex=0,this.nodeFront.end(),this.gl.disable(this.gl.BLEND)},t.prototype.clear=function(){return this.nodeFront.use(),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.nodeFront.end()},t.prototype.clamp=function(t,e){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.heatmap.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.nodeFront.bind(0),this.nodeBack.use(),this.clampShader.use().int("source",0).float("low",t).float("high",e),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.nodeBack.end(),this.swap()},t.prototype.multiply=function(t){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.heatmap.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.nodeFront.bind(0),this.nodeBack.use(),this.multiplyShader.use().int("source",0).float("value",t),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.nodeBack.end(),this.swap()},t.prototype.blur=function(){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.heatmap.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.nodeFront.bind(0),this.nodeBack.use(),this.blurShader.use().int("source",0).vec2("viewport",this.width,this.height),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.nodeBack.end(),this.swap()},t.prototype.swap=function(){var t;return t=this.nodeFront,this.nodeFront=this.nodeBack,this.nodeBack=t},t.prototype.addVertex=function(t,e,i,n,o){return this.vertexBufferData[this.bufferIndex++]=t,this.vertexBufferData[this.bufferIndex++]=e,this.vertexBufferData[this.bufferIndex++]=i,this.vertexBufferData[this.bufferIndex++]=n,this.vertexBufferData[this.bufferIndex++]=o,this.vertexBufferData[this.bufferIndex++]=o,this.vertexBufferData[this.bufferIndex++]=o,this.vertexBufferData[this.bufferIndex++]=o},t.prototype.addPoint=function(t,e,i,n){var o;return null==i&&(i=50),null==n&&(n=.2),this.pointCount>=this.maxPointCount-1&&this.update(),e=this.height-e,o=i/2,this.addVertex(t,e,-o,-o,n),this.addVertex(t,e,+o,-o,n),this.addVertex(t,e,-o,+o,n),this.addVertex(t,e,-o,+o,n),this.addVertex(t,e,+o,-o,n),this.addVertex(t,e,+o,+o,n),this.pointCount+=1},t}(),ro=function(){function t(t){var e,i,n,o,r,s,a,l,h,c,u,p;u=null!=t?t:{},this.canvas=u.canvas,this.width=u.width,this.height=u.height,a=u.intensityToAlpha,r=u.gradientTexture,i=u.alphaRange;var g=t.gl;this.canvas||(this.canvas=document.createElement("canvas")),this.gl=g||function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"webgl2";if(!t)return null;function n(t){console.log(t.statusMessage)}t.addEventListener("webglcontextcreationerror",n,!1);var o=t.getContext(i,e);return(o=o||t.getContext("experimental-webgl2",e))||(o=(o=t.getContext("webgl",e))||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",n,!1),o}(this.canvas,{depth:!1,antialias:!1,alpha:!0,preserveDrawingBuffer:!0},"webgl"),null!=window.WebGLDebugUtils&&(console.log("debugging mode"),this.gl=WebGLDebugUtils.makeDebugContext(this.gl,(function(t,e,i){throw WebGLDebugUtils.glEnumToString(t)+" was caused by call to: "+e}))),this.gl.enableVertexAttribArray(0),this.gl.blendFunc(this.gl.ONE,this.gl.ONE),r?(c=this.gradientTexture=new oo(this.gl,{channels:"rgba"}).bind(0).setSize(2,2).nearest().clampToEdge(),"string"==typeof r?((s=new Image).onload=function(){return c.bind().upload(s)},s.src=r):r.width>0&&r.height>0?c.upload(r):r.onload=function(){return c.upload(r)},o="uniform sampler2D gradientTexture;\nvec3 getColor(float intensity){\n    return texture2D(gradientTexture, vec2(intensity, 0.0)).rgb;\n}"):(c=null,o="vec3 getColor(float intensity){\n    vec3 blue = vec3(0.0, 0.0, 1.0);\n    vec3 cyan = vec3(0.0, 1.0, 1.0);\n    vec3 green = vec3(0.0, 1.0, 0.0);\n    vec3 yellow = vec3(1.0, 1.0, 0.0);\n    vec3 red = vec3(1.0, 0.0, 0.0);\n\n    vec3 color = (\n        fade(-0.25, 0.25, intensity)*blue +\n        fade(0.0, 0.5, intensity)*cyan +\n        fade(0.25, 0.75, intensity)*green +\n        fade(0.5, 1.0, intensity)*yellow +\n        smoothstep(0.75, 1.0, intensity)*red\n    );\n    return color;\n}"),null==a&&(a=!0),a?(n=(p=null!=i?i:[0,1])[0],e=p[1],l="vec4 alphaFun(vec3 color, float intensity){\n    float alpha = smoothstep("+n.toFixed(8)+", "+e.toFixed(8)+", intensity);\n    return vec4(color*alpha, alpha);\n}"):l="vec4 alphaFun(vec3 color, float intensity){\n    return vec4(color, 1.0);\n}",this.shader=new no(this.gl,{vertex:lo,fragment:so+"float linstep(float low, float high, float value){\n    return clamp((value-low)/(high-low), 0.0, 1.0);\n}\n\nfloat fade(float low, float high, float value){\n    float mid = (low+high)*0.5;\n    float range = (high-low)*0.5;\n    float x = 1.0 - clamp(abs(mid-value)/range, 0.0, 1.0);\n    return smoothstep(0.0, 1.0, x);\n}\n\n"+o+"\n"+l+"\n\nvoid main(){\n    float intensity = smoothstep(0.0, 1.0, texture2D(source, texcoord).r);\n    vec3 color = getColor(intensity);\n    gl_FragColor = alphaFun(color, intensity);\n}"}),null==this.width&&(this.width=this.canvas.width||2),null==this.height&&(this.height=this.canvas.height||2),this.canvas.width=this.width,this.canvas.height=this.height,this.gl.viewport(0,0,this.width,this.height),this.quad=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.quad),h=new Float32Array([-1,-1,0,1,1,-1,0,1,-1,1,0,1,-1,1,0,1,1,-1,0,1,1,1,0,1]),this.gl.bufferData(this.gl.ARRAY_BUFFER,h,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.heights=new eo(this,this.gl,this.width,this.height)}return t.prototype.adjustSize=function(t,e){var i,n;if(n=t||this.canvas.width||2,i=e||this.canvas.height||2,this.width!==n||this.height!==i)return this.gl.viewport(0,0,n,i),this.canvas.width=n,this.canvas.height=i,this.width=n,this.height=i,this.heights.resize(this.width,this.height)},t.prototype.display=function(){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.heights.nodeFront.bind(0),this.gradientTexture&&this.gradientTexture.bind(1),this.shader.use().int("source",0).int("gradientTexture",1),this.gl.drawArrays(this.gl.TRIANGLES,0,6)},t.prototype.update=function(){return this.heights.update()},t.prototype.clear=function(){return this.heights.clear()},t.prototype.clamp=function(t,e){return null==t&&(t=0),null==e&&(e=1),this.heights.clamp(t,e)},t.prototype.multiply=function(t){return null==t&&(t=.95),this.heights.multiply(t)},t.prototype.blur=function(){return this.heights.blur()},t.prototype.addPoint=function(t,e,i,n){return this.heights.addPoint(t,e,i,n)},t}();var uo={max:1,gradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},radius:25,blur:15,minOpacity:.05,gradientTexture:!1,alphaRange:1,renderType:"canvas"},po=function(){function t(e,i){n(this,t),e||(e=i.canvas),this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=i||e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,this._data=[],this.defaultRadius=25,this.defaultGradient={.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"}}return t._colorize=function(t,e){for(var i,n=0,o=t.length;n<o;n+=4)(i=4*t[n+3])&&(t[n]=e[i],t[n+1]=e[i+1],t[n+2]=e[i+2])},t.prototype.data=function(t){return this._data=t,this},t.prototype.max=function(t){return this._max=t,this},t.prototype.add=function(t){return this._data.push(t),this},t.prototype.clear=function(){return this._data=[],this},t.prototype.radius=function(t,e){e=void 0===e?15:e;var i=this._circle=this._createCanvas(),n=i.getContext("2d"),o=this._r=t+e;return i.width=i.height=2*o,n.shadowOffsetX=n.shadowOffsetY=2*o,n.shadowBlur=e,n.shadowColor="black",n.beginPath(),n.arc(-o,-o,t,0,2*Math.PI,!0),n.closePath(),n.fill(),this},t.prototype.resize=function(){this._width=this._canvas.width,this._height=this._canvas.height},t.prototype.gradient=function(t){var e=this._createCanvas(),i=e.getContext("2d"),n=i.createLinearGradient(0,0,0,256);for(var o in e.width=1,e.height=256,t)n.addColorStop(+o,t[o]);return i.fillStyle=n,i.fillRect(0,0,1,256),this._grad=i.getImageData(0,0,1,256).data,this},t.prototype.draw=function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var i=this._ctx;i.clearRect(0,0,this._width,this._height);for(var n,o=0,r=this._data.length;o<r;o++)n=this._data[o],i.globalAlpha=Math.max(n[2]/this._max,void 0===e?.05:e),i.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var s=i.getImageData(0,0,this._width,this._height);return t._colorize(s.data,this._grad),i.putImageData(s,0,0),this},t.prototype._createCanvas=function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor},t}(),go=function(t){function e(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e);var r=s(this,t.call(this,Object.assign(uo,o)));return r._features=i||[],r._isRendered=!1,r}return r(e,t),e.prototype.getFeatures=function(){return this._features},e.prototype.addFeatures=function(t){return this._features=t||[],this.render()},e.prototype.addFeature=function(t){return t?(t[0]&&Array.isArray(t[0])||this._features.push(t),this.render()):this},e.prototype.canvasFunction=function(t,e,i,n,o){return this._canvas?(this._canvas.width=n[0],this._canvas.height=n[1]):this._canvas=an(n[0],n[1],i),e<=this.get("maxResolution")&&this.render({extent:t,size:n,pixelRatio:i,projection:o}),this._canvas},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var i=this.getFeatures();if(i&&0!==i.length){var n,o=this.renderData(i);if("canvas"===this.options.renderType)this._layer||(this._layer=new po(this._canvas)),this._layer.radius(this.options.radius||this._layer.defaultRadius,this.options.blur),this.options.gradient&&this._layer.gradient(this.options.gradient),this._layer.max(this.options.max),this._layer.data(o),this._layer.draw(this.options.minOpacity),this._isRendered||(this.once("precompose",this._layer.draw.bind(this._layer,this.options.minOpacity),this),this._isRendered=!0);else if("webgl"===this.options.renderType)if(this._layer||(this._layer=(n={canvas:this._canvas,gradientTexture:this.options.gradientTexture,alphaRange:[0,this.options.alphaRange]},new ro(n))),this._isRendered){this._layer.clear();for(var r=[0,o.length],s=r[0],a=r[1];s<a;s++)this._layer.addPoint(Math.floor(o[s][0]),Math.floor(o[s][1]),o[s][2]);this._layer.update(),this._layer.display()}else this.once("precompose",(function(){setTimeout((function(){e.render()}),300)}),this),this._isRendered=!0;return this}},e.prototype.renderData=function(t){var e=this;return t.map((function(t){var i=e.getMap().getPixelFromCoordinate([t[0],t[1]]);return[].concat(i,[t[2]])}))},e.prototype.isEmpty=function(){return!this._features.length},e.prototype.clear=function(){return this._features=[],this._layer.clear&&nn(this._layer.clear)&&this._layer.clear(),this._layer.update&&nn(this._layer.update)&&this._layer.update(),this._layer.display&&nn(this._layer.display)&&this._layer.display(),this.render(),this},e}(Yn);Zi.layer.HeatMap=go;var fo=function(){function t(){n(this,t)}return t.prototype.getLayerByLayerName=function(t){return bn(this.getMap(),t)},t.prototype.getLayerByKeyValue=function(t,e){return function(t,e,i){var n=null;if(t){var o=t.getLayers().getArray();n=wn(o,e,i)}return n}(this.getMap(),t,e)},t.prototype.getLayersArrayByKeyValue=function(t,e){return Sn(this.getMap(),t,e)},t.prototype.getAllLayers=function(){return An(this.getMap())},t.prototype.getVectorLayers=function(){return this.getAllLayers().filter((function(t){var e=t.getSource();return e instanceof Zi.source.Vector||e instanceof Zi.source.Cluster}))},t.prototype.getTitleLayerByLayerName=function(t){try{var e=void 0,i=this.getLayersArrayByKeyValue("layerName",t);return i&&i.length>0&&i.every((function(t){return"title"!==t.get("layerType")||(e=t,!1)})),e}catch(t){console.log(t)}},t.prototype.getBaseLayerByLayerName=function(t){var e=null,i=this.getLayersArrayByKeyValue("isBaseLayer",!0);return i&&i.length>0&&i.every((function(i){return i.get("layerName")!==t||(e=i,!1)})),e},t.prototype.getBaseLayers=function(){return this.getLayersArrayByKeyValue("isBaseLayer",!0)},t.prototype.getLayerByFeature=function(t){return function(t,e){var i=void 0;if(t&&e instanceof Zi.Feature){var n=t.getLayers().getArray();i=Mn(n,e)}return i}(this.getMap(),t)},t.prototype._fixStyleForLayer=function(t){var e=void 0;return t&&t instanceof Zi.style.Style||nn(t)?e=t:"object"===(void 0===t?"undefined":i(t))&&(e=new Wn(t)),e},t.prototype.createVectorLayer=function(t,e){return this.orderLayerZindex(),En(this.getMap(),t,e)},t.prototype.createClusterLayer=function(t,e){if(this.map){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.Vector||(i=null),i||e&&e.create&&(i=new Zi.layer.Vector({layerName:t,params:e,layerType:"vector",zIndex:e.zIndex,source:new Zi.source.Cluster({distance:"number"==typeof e.distance?e.distance:20,source:new Zi.source.Vector,wrapX:!1}),style:new Zi.style.Style({fill:new Zi.style.Fill({color:"rgba(67, 110, 238, 0.4)"}),stroke:new Zi.style.Stroke({color:"#4781d9",width:2}),image:new Zi.style.Circle({radius:7,fill:new Zi.style.Fill({color:"#ffcc33"})})})})),this.map&&i){e&&e.hasOwnProperty("selectable")&&i.set("selectable",e.selectable);var n=this.getLayerByLayerName(t);n&&n instanceof Zi.layer.Vector||this.map.addLayer(i)}return i}},t.prototype.createHeatMapLayer=function(t,e){var i=null;if(this.map)return(i=this.getLayerByLayerName(t))instanceof Zi.layer.Heatmap?i instanceof Zi.layer.Heatmap&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.create&&(i=new Zi.layer.Heatmap({layerName:t,gradient:e.gradient?e.gradient:["#00f","#0ff","#0f0","#ff0","#f00"],source:new Zi.source.Vector({wrapX:!1,crossOrigin:e.crossOrigin?e.crossOrigin:void 0}),blur:e.blur?e.blur:15,radius:e.radius?e.radius:8,shadow:e.shadow?e.shadow:250,weight:e.weight?e.weight:"weight",extent:e.extent?e.extent:void 0,minResolution:e.minResolution?e.minResolution:void 0,maxResolution:e.maxResolution?e.maxResolution:void 0,opacity:e.opacity?e.opacity:1,visible:!1!==e.visible||e.visible}),e&&e.hasOwnProperty("selectable")&&i.set("selectable",e.selectable)),i&&!1!==e.addLayer&&this.map.addLayer(i),i;throw new Error("未创建地图对象！")},t.prototype.createTitleLayer=function(t,e){var i=e.layerUrl;if(!i)return null;var n=this.getTitleLayerByLayerName(t);return n&&n instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(n),n=null),!n&&e.create&&(n=new Zi.layer.Tile({layerName:t,layerType:!0===e.notShowLayerType?"":"title",visible:!1!==e.visible||e.visible,zIndex:e.zIndex,source:new Zi.source.TileArcGISRest({url:i,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,params:e.layerParams?e.layerParams:void 0,wrapX:!1}),wrapX:!1})),this.map&&n&&!1!==e.addLayer&&this.map.addLayer(n),n},t.prototype.createImageWMSLayer=function(t,e){var i=this.getLayerByLayerName(t);return i instanceof Zi.layer.Image?i instanceof Zi.layer.Image&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.layerUrl&&e.create&&(i=new Zi.layer.Image({layerName:t,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,zIndex:e.zIndex,source:new Zi.source.ImageWMS({url:e.layerUrl,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,params:{LAYERS:e.layers,STYLES:e.styles?e.styles:"",VERSION:e.version?e.version:"1.3.0",WIDTH:e.width?e.width:256,HEIGHT:e.height?e.height:256,BBOX:e.bbox,SRS:e.srs?e.srs:"EPSG:3857",CRS:e.srs?e.srs:"EPSG:3857",REQUEST:"GetMap",TRANSPARENT:!0,TILED:!1!==e.tiled||e.tiled,TILESORIGIN:e.tiledsorrigin?e.tiledsorrigin:void 0,SERVICE:"WMS",FORMAT:e.format?e.format:"image/png",VIEWPARAMS:e.viewparams?e.viewparams:""},wrapX:!1})})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createTileWMSLayer=function(t,e){var i={LAYERS:e.layers,STYLES:e.styles?e.styles:"",VERSION:e.version?e.version:"1.3.0",WIDTH:e.width?e.width:256,HEIGHT:e.height?e.height:256,BBOX:e.bbox,SRS:e.srs?e.srs:"EPSG:3857",CRS:e.srs?e.srs:"EPSG:3857",REQUEST:"GetMap",TRANSPARENT:!0,TILED:!1!==e.tiled||e.tiled,TILESORIGIN:e.tiledsorrigin?e.tiledsorrigin:void 0,SERVICE:"WMS",FORMAT:e.format?e.format:"image/png",VIEWPARAMS:e.viewparams?e.viewparams:""};e.cql_filter&&(i.CQL_FILTER=e.cql_filter);var n=this.getLayerByLayerName(t);return n instanceof Zi.layer.Image?n instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(n),n=null):n=null,!n&&e&&e.layerUrl&&e.create&&(n=new Zi.layer.Tile({layerName:t,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,zIndex:e.zIndex,source:new Zi.source.TileWMS({url:e.layerUrl,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,params:i,wrapX:!1})})),this.map&&n&&!1!==e.addLayer&&this.map.addLayer(n),n},t.prototype.createWfsVectorLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.Vector||(i=null),!i){var n=this._fixStyleForLayer(e.style);i=new Zi.layer.Vector({layerName:t,params:e,layerType:"vector",visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,zIndex:e.zIndex,source:new Zi.source.Vector({format:new Zi.format.GeoJSON,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,url:e.layerUrl,loader:e.loader||Zi.FeatureLoader,wrapX:!1,strategy:Zi.loadingstrategy.bbox}),style:n})}if(this.map&&i){e&&e.hasOwnProperty("selectable")&&i.set("selectable",e.selectable);var o=this.getLayerByLayerName(t);o&&o instanceof Zi.layer.Vector||!1!==e.addLayer&&this.map.addLayer(i)}return i},t.prototype.createVectorFeatureLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.Vector?this.map&&i instanceof Zi.layer.Vector&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.layerUrl&&e.create){var n=this._fixStyleForLayer(e.style);i=new Zi.layer.Vector({layerName:t,params:e,layerType:"vector",zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.Vector({format:new Zi.format.GeoJSON,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,url:e.layerUrl,wrapX:!1,strategy:Zi.loadingstrategy.bbox}),style:n})}return this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createWMTSLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.Tile?this.map&&i instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!(!i&&e&&e.layerUrl&&e.create&&e.levels))throw new Error("传入参数不正确！");for(var n=Zi.proj.get(e.projection?e.projection:"EPSG:3857"),o=e.extent?e.extent:n.getExtent(),r=Zi.extent.getWidth(o)/256,s=e.levels,a=new Array(s),l=new Array(s),h=0;h<s;++h)a[h]=r/Math.pow(2,h),l[h]=h;return i=new Zi.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.WMTS({url:e.layerUrl,layer:e.layer?e.layer:"0",matrixSet:e.matrixSet?e.matrixSet:"EPSG:3857",format:e.format?e.format:"image/png",crossOrigin:e.crossOrigin?e.crossOrigin:void 0,projection:n,tileGrid:new Zi.tilegrid.WMTS({origin:Zi.extent.getTopLeft(o),resolutions:a,matrixIds:l,version:e.version?e.version:"1.0.0",dimensions:e.dimensions?e.dimensions:void 0}),style:e.style?e.style:"default",wrapX:!1})}),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createXYZLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.Tile?this.map&&i instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.layerUrl&&e.create){var n=void 0,o=256;e.tileSize&&"number"==typeof e.tileSize?o=e.tileSize:e.tileGrid&&e.tileGrid.tileSize&&"number"==typeof e.tileGrid.tileSize&&(o=e.tileGrid.tileSize);var r="EPSG:3857";e.projection?r=e.projection:this.view&&this.view instanceof Zi.View&&(r=this.view.getProjection().getCode()),e.tileGrid&&e.tileGrid.resolutions&&(n=new Zi.tilegrid.TileGrid({tileSize:o,origin:e.tileGrid.origin?e.tileGrid.origin:void 0,extent:e.tileGrid.extent?e.tileGrid.extent:void 0,resolutions:e.tileGrid.resolutions,minZoom:e.tileGrid.minZoom&&"number"==typeof e.tileGrid.minZoom?e.tileGrid.minZoom:0})),i=new Zi.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.XYZ({wrapX:!1,tileGrid:n,tileSize:o,opaque:!0===e.opaque&&e.opaque,tilePixelRatio:e.tilePixelRatio?e.tilePixelRatio:1,projection:r,maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,url:e.layerUrl})})}return this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createOSMLayer=function(t,e){var i=this.getLayerByLayerName(t);return i instanceof Zi.layer.Tile?this.map&&i instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e.create&&(i=new Zi.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.OSM({wrapX:!1,opaque:!1!==e.opaque||e.opaque,url:e.layerUrl?e.layerUrl:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:e.crossOrigin?e.crossOrigin:void 0})})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createBaiDuLayer=function(t,e){var i=this.getLayerByLayerName(t);return i instanceof Zi.layer.Tile?this.map&&i instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e.create&&(i=new Zi.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.BAIDU(rn(e,{wrapX:!1,projection:e.projection?e.projection:"EPSG:3857",origin:e.origin?e.origin:[0,0],opaque:!1!==e.opaque||e.opaque,url:e.layerUrl?e.layerUrl:"http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20170607&scaler=1&p=1",crossOrigin:e.crossOrigin?e.crossOrigin:void 0}))})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createGaoDeLayer=function(t,e){var i=this.getLayerByLayerName(t);return i instanceof Zi.layer.Tile?this.map&&i instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e.create&&(i=new Zi.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.GAODE({wrapX:!1,opaque:!1!==e.opaque||e.opaque,url:e.layerUrl?e.layerUrl:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",crossOrigin:e.crossOrigin?e.crossOrigin:void 0})})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createGoogleLayer=function(t,e){var i=this.getLayerByLayerName(t);return i instanceof Zi.layer.Tile?this.map&&i instanceof Zi.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e.create&&(i=new Zi.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new Zi.source.GOOGLE({wrapX:!1,opaque:!1!==e.opaque||e.opaque,url:e.layerUrl,crossOrigin:e.crossOrigin?e.crossOrigin:void 0})})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createMapboxVectorTileLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.VectorTile?this.map&&i instanceof Zi.layer.VectorTile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.layerUrl&&e.create){var n=null,o=256;e.tileSize&&"number"==typeof e.tileSize?o=e.tileSize:e.tileGrid&&e.tileGrid.tileSize&&"number"==typeof e.tileGrid.tileSize&&(o=e.tileGrid.tileSize);var r="EPSG:3857";e.projection?r=e.projection:this.view&&this.view instanceof Zi.View&&(r=this.view.getProjection().getCode()),e.tileGrid&&(n=new Zi.tilegrid.createXYZ({tileSize:o,extent:e.tileGrid.extent?e.tileGrid.extent:void 0,minZoom:e.tileGrid.minZoom&&"number"==typeof e.tileGrid.minZoom?e.tileGrid.minZoom:0,maxZoom:e.tileGrid.maxZoom&&"number"==typeof e.tileGrid.maxZoom?e.tileGrid.maxZoom:22})),i=new Zi.layer.VectorTile({visible:!1!==e.visible||e.visible,zIndex:e.zIndex,renderBuffer:e.renderBuffer&&"number"==typeof e.renderBuffer?e.renderBuffer:100,renderMode:e.renderMode?e.renderMode:"hybrid",extent:e.extent?e.extent:void 0,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,minResolution:e.minResolution&&"number"==typeof e.minResolution?e.minResolution:void 0,maxResolution:e.maxResolution&&"number"==typeof e.maxResolution?e.maxResolution:void 0,preload:e.preload&&"number"==typeof e.preload?e.preload:0,source:new Zi.source.VectorTile({format:new Zi.format.MVT,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,projection:r,overlaps:!e.overlaps||e.overlaps,tileGrid:n&&n instanceof Zi.tilegrid.TileGrid?n:void 0,tilePixelRatio:e.tilePixelRatio&&"number"==typeof e.tilePixelRatio?e.tilePixelRatio:1,url:e.layerUrl,wrapX:!1})})}return this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype._getFormatType=function(t){var e=void 0;if(t.format)switch(t.format){case"MVT":e=new Zi.format.MVT;break;case"GeoJSON":e=new Zi.format.GeoJSON;break;case"EsriJSON":e=new Zi.format.EsriJSON;break;case"TopoJSON":e=new Zi.format.TopoJSON;break;case"IGC":e=new Zi.format.IGC;break;case"Polyline":e=new Zi.format.Polyline;break;case"WKT":e=new Zi.format.WKT;break;case"GMLBase":e=new Zi.format.GMLBase;break;case"GPX":e=new Zi.format.GPX;break;case"KML":e=new Zi.format.KML;break;case"OSMXML":e=new Zi.format.OSMXML;break;case"WFS":e=new Zi.format.WFS;break;case"WMSGetFeatureInfo":e=new Zi.format.WMSGetFeatureInfo}return e},t.prototype._getTileGrid=function(t){var e=void 0;if(t.tileGrid){var i=[256],n=i[0],o=i[1];t.tileSize&&"number"==typeof t.tileSize?n=t.tileSize:t.tileGrid&&t.tileGrid.tileSize&&"number"==typeof t.tileGrid.tileSize&&(n=t.tileGrid.tileSize),t.tileGrid.tileSizes&&t.tileGrid.tileSizes.length===t.tileGrid.resolutions&&(o=t.tileGrid.tileSizes),e="XYZ"===t.tileGrid.gridType?new Zi.tilegrid.createXYZ({tileSize:n,extent:t.tileGrid.extent?t.tileGrid.extent:void 0,minZoom:t.tileGrid.minZoom&&"number"==typeof t.tileGrid.minZoom?t.tileGrid.minZoom:0,maxZoom:t.tileGrid.maxZoom&&"number"==typeof t.tileGrid.maxZoom?t.tileGrid.maxZoom:22}):"WMTS"===t.tileGrid.gridType?new Zi.tilegrid.WMTS({sizes:t.tileGrid.sizes&&Array.isArray(t.tileGrid.sizes)?t.tileGrid.sizes:void 0,widths:t.tileGrid.widths&&Array.isArray(t.tileGrid.widths)?t.tileGrid.widths:void 0,tileSize:n,tileSizes:o,resolutions:t.tileGrid.resolutions,origin:t.tileGrid.origin?t.tileGrid.origin:void 0,origins:t.tileGrid.origins?t.tileGrid.origins:void 0,extent:t.tileGrid.extent?t.tileGrid.extent:void 0,minZoom:t.tileGrid.minZoom&&"number"==typeof t.tileGrid.minZoom?t.tileGrid.minZoom:0,matrixIds:t.tileGrid.matrixIds}):new Zi.tilegrid.TileGrid({sizes:t.tileGrid.sizes&&Array.isArray(t.tileGrid.sizes)?t.tileGrid.sizes:void 0,widths:t.tileGrid.widths&&Array.isArray(t.tileGrid.widths)?t.tileGrid.widths:void 0,tileSize:n,tileSizes:o,resolutions:t.tileGrid.resolutions,matrixIds:t.tileGrid.matrixIds,origin:t.origin?t.origin:void 0,origins:t.origins?t.origins:void 0,extent:t.tileGrid.extent?t.tileGrid.extent:void 0,minZoom:t.tileGrid.minZoom&&"number"==typeof t.tileGrid.minZoom?t.tileGrid.minZoom:0})}return e},t.prototype.createVectorTileLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.VectorTile?this.map&&i instanceof Zi.layer.VectorTile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&(e.layerUrl||e.layerUrls)&&e.create){var n="EPSG:3857";e.projection?n=e.projection:this.view&&this.view instanceof Zi.View&&(n=this.view.getProjection().getCode()),i=new Zi.layer.VectorTile({visible:!1!==e.visible||e.visible,zIndex:e.zIndex,renderBuffer:e.renderBuffer&&"number"==typeof e.renderBuffer?e.renderBuffer:100,renderMode:e.renderMode?e.renderMode:"hybrid",extent:e.extent?e.extent:void 0,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,minResolution:e.minResolution&&"number"==typeof e.minResolution?e.minResolution:void 0,maxResolution:e.maxResolution&&"number"==typeof e.maxResolution?e.maxResolution:void 0,preload:e.preload&&"number"==typeof e.preload?e.preload:0,source:new Zi.source.VectorTile({format:this._getFormatType(e),cacheSize:e.cacheSize&&"number"==typeof e.cacheSize?e.cacheSize:128,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,projection:n,state:e.state?e.state:void 0,overlaps:!e.overlaps||e.overlaps,tileClass:e.tileClass&&"function"==typeof e.tileClass?e.tileClass:Zi.VectorTile,tileGrid:this._getTileGrid(e),tilePixelRatio:e.tilePixelRatio&&"number"==typeof e.tilePixelRatio?e.tilePixelRatio:1,url:e.layerUrl?e.layerUrl:void 0,urls:e.layerUrls&&Array.isArray(e.layerUrls)&&e.layerUrls.length>0?e.layerUrls:void 0,tileUrlFunction:e.tileUrlFunction&&"function"==typeof e.tileUrlFunction?e.tileUrlFunction:void 0,tileLoadFunction:e.tileLoadFunction&&"function"==typeof e.tileLoadFunction?e.tileLoadFunction:void 0,wrapX:!1}),style:e.style?e.style:void 0})}return this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createImageLayer=function(t,e){var i=this.getLayerByLayerName(t);if(i instanceof Zi.layer.Image?this.map&&i instanceof Zi.layer.Image&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.layerUrl&&e.create){var n=this.getImagesSource(e);i=new Zi.layer.Image({layerName:t,zIndex:e.zIndex,extent:e.extent?e.extent:void 0,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:n})}return this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.getImagesSource=function(t){var e=null,n=new Zi.proj.Projection({code:t.projection?t.projection:"EPSG:3857",units:"m",axisOrientation:"neu"});switch(t.sourceType){case"ImageStatic":e=new Zi.source.ImageStatic({crossOrigin:t.crossOrigin?t.crossOrigin:void 0,imageExtent:t.imageExtent,projection:n,imageSize:t.imageSize?t.imageSize:void 0,url:t.layerUrl,wrapX:!1});break;case"ImageWMS":e=new Zi.source.ImageWMS({url:t.layerUrl,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,params:{LAYERS:t.layers,STYLES:t.styles?t.styles:"",TYPE:t.type?t.type:"",VERSION:t.version?t.version:"1.3.0",WIDTH:t.width?t.width:256,HEIGHT:t.height?t.height:256,SRS:t.srs?t.srs:"EPSG:3857",CRS:t.srs?t.srs:"EPSG:3857",REQUEST:"GetMap",TRANSPARENT:!0,TILED:!1!==t.tiled||t.tiled,TILESORIGIN:t.tiledsorrigin?t.tiledsorrigin:void 0,SERVICE:"WMS",FORMAT:t.format?t.format:"image/png",VIEWPARAMS:t.viewparams?t.viewparams:""},wrapX:!1});break;case"Raster":e=new Zi.source.Raster;break;case"ImageMapGuide":e=new Zi.source.ImageMapGuide({url:t.layerUrl,wrapX:!1,displayDpi:t.displayDpi&&"number"==typeof t.displayDpi?t.displayDpi:96,metersPerUnit:t.metersPerUnit&&"number"==typeof t.metersPerUnit?t.metersPerUnit:1,hidpi:!t.hidpi||"boolean"!=typeof t.hidpi||t.hidpi,useOverlay:t.useOverlay&&"boolean"==typeof t.useOverlay?t.useOverlay:void 0,projection:t.projection?t.projection:"EPSG:3857",ratio:t.ratio&&"number"==typeof t.ratio?t.ratio:1,resolutions:t.resolutions&&Array.isArray(t.resolutions)?t.resolutions:void 0,imageLoadFunction:t.imageLoadFunction&&"function"==typeof t.imageLoadFunction?t.imageLoadFunction:void 0,params:t.params&&"object"===i(t.params)?t.params:void 0});break;case"ImageCanvas":e=new Zi.source.ImageCanvas({projection:t.projection?t.projection:"EPSG:3857",ratio:t.ratio&&"number"==typeof t.ratio?t.ratio:1,resolutions:t.resolutions&&Array.isArray(t.resolutions)?t.resolutions:void 0,canvasFunction:t.canvasFunction,state:t.state?t.state:void 0,wrapX:!1});break;case"ImageArcGISRest":e=new Zi.source.ImageArcGISRest({url:t.layerUrl,hidpi:!t.hidpi||"boolean"!=typeof t.hidpi||t.hidpi,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,projection:t.projection?t.projection:"EPSG:3857",ratio:t.ratio&&"number"==typeof t.ratio?t.ratio:1,resolutions:t.resolutions&&Array.isArray(t.resolutions)?t.resolutions:void 0,imageLoadFunction:t.imageLoadFunction&&"function"==typeof t.imageLoadFunction?t.imageLoadFunction:void 0,params:t.params&&"object"===i(t.params)?t.params:void 0,wrapX:!1});break;default:return console.log("sourceType类型未传！"),!1}return e},t.prototype.removeLayerByLayerName=function(t){if(this.map){var e=this.getLayerByLayerName(t);e&&!e.get("isBaseLayer")&&this.removeLayer(e)}},t.prototype.removeLayerByLayerNames=function(t){var e=this;this.map&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){e.removeLayerByLayerName(t)}))},t.prototype.removeLayerByKeyValue=function(t,e){if(this.map){var i=this.getLayerByKeyValue(t,e);i&&!i.get("isBaseLayer")&&this.removeLayer(i)}},t.prototype.removeLayerByKeyValues=function(t,e){var i=this;this.map&&t&&Array.isArray(e)&&e.length>0&&e.forEach((function(e){e&&i.removeLayerByKeyValue(t,e)}))},t.prototype.removeLayersByKeyValue=function(t,e){var i=this;if(this.map){var n=this.getLayersArrayByKeyValue(t,e);n&&n.length>0&&n.forEach((function(t){t&&!t.get("isBaseLayer")&&i.removeLayer(t)}))}},t.prototype.removeTileLayerByLayerName=function(t){if(this.map){var e=this.getTitleLayerByLayerName(t);e&&e instanceof Zi.layer.Tile&&this.removeLayer(e)}},t.prototype.removeAllLayer=function(){var t=this;this.map&&this.map.getLayers().getArray().forEach((function(e){e.get("isBaseLayer")||t.removeLayer(e)}))},t}(),yo=function(){function t(){n(this,t)}return t.prototype.addControl=function(t){if(!(this.map&&t instanceof Zi.control.Control))throw new Error("不存在地图或者传入控件对象有误！");this.map.addControl(t)},t.prototype.addInteraction=function(t){if(!(this.map&&t instanceof Zi.interaction.Interaction))throw new Error("不存在地图或者传入交互对象有误！");this.map.addInteraction(t)},t.prototype.addLayer=function(t){this.map.addLayer(t)},t.prototype.removeLayer=function(t){this._removeSelectFeature(null,!0),this.map.removeLayer(t)},t.prototype.addOverlay=function(t){this.map.addOverlay(t)},t.prototype.removeOverlay=function(t){this.map.removeOverlay(t)},t.prototype.changed=function(){this.map.changed()},t.prototype.dispatchEvent=function(t){return this.map.dispatchEvent(t)},t.prototype.forEachFeatureAtPixel=function(t,e,i){return this.map.forEachFeatureAtPixel(t,e,i)},t.prototype.forEachLayerAtPixel=function(t,e,i,n,o){return this.map.forEachLayerAtPixel(t,e,i,n,o)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getControls=function(){return this.map.getControls()},t.prototype.getInteractions=function(){return this.map.getInteractions()},t.prototype.getCoordinateFromPixel=function(t){return this.map.getCoordinateFromPixel(t)},t.prototype.getPixelFromCoordinate=function(t){return this.map.getPixelFromCoordinate(t)},t.prototype.getEventCoordinate=function(t){return this.map.getEventCoordinate(t)},t.prototype.getEventPixel=function(t){return this.map.getEventPixel(t)},t.prototype.getFeaturesAtPixel=function(t,e){return this.map.getFeaturesAtPixel(t,e)},t.prototype.getLayerGroup=function(){return this.map.getLayerGroup()},t.prototype.getLayers=function(){return this.map.getLayers()},t.prototype.getOverlayById=function(t){return this.map.getOverlayById(t)},t.prototype.getOverlays=function(){return this.map.getOverlays()},t.prototype.getProperties=function(){return this.map.getProperties()},t.prototype.getRevision=function(){return this.map.getRevision()},t.prototype.getSize=function(){return this.map.getSize()},t.prototype.getTarget=function(){return this.map.getTarget()},t.prototype.getTargetElement=function(){return this.map.getTargetElement()},t.prototype.getKeys=function(){return this.map.getKeys()},t.prototype.getView=function(){return this.map.getView()},t.prototype.getViewport=function(){return this.map.getViewport()},t.prototype.hasFeatureAtPixel=function(t,e){return this.map.hasFeatureAtPixel(t,e)},t.prototype.removeControl=function(t){return this.map.removeControl(t)},t.prototype.removeInteraction=function(t){return this.map.removeInteraction(t)},t.prototype.render=function(){this.map.render()},t.prototype.renderSync=function(t,e,i){this.map.renderSync(t,e,i)},t.prototype.setLayerGroup=function(t){this.map.setLayerGroup(t)},t.prototype.setProperties=function(t,e){this.map.setProperties(t,e)},t.prototype.setSize=function(t){this.map.setSize(t)},t.prototype.setTarget=function(t){this.map.setTarget(t)},t.prototype.getMap=function(){return this.map},t.prototype.setMap=function(t){t&&t instanceof Zi.Map&&(this.map=t)},t.prototype.setView=function(t){if(!(this.map&&t instanceof Zi.View))throw new Error("不存在地图或者传入视图对象有误！");this.map.setView(t)},t.prototype.unset=function(t,e){this.map.unset(t,e)},t.prototype.updateSize=function(){if(this.map)return this.map.updateSize(),this.map;throw new Error("未实例化地图对象！")},t}(),mo=function(){function t(){n(this,t)}return t.prototype._addView=function(t){var e=t||{};return this.projection=Zi.proj.get(e.projection||"EPSG:3857"),this.fullExtent=e.extent,this.fullExtent&&this.projection.setExtent(this.fullExtent),new Zi.View({center:e.center&&Array.isArray(e.center)?e.center:[0,0],zoom:e.zoom&&"number"==typeof e.zoom?e.zoom:0,minZoom:e.minZoom&&"number"==typeof e.minZoom?e.minZoom:void 0,maxZoom:e.maxZoom&&"number"==typeof e.maxZoom?e.maxZoom:void 0,zoomFactor:e.zoomFactor&&"number"==typeof e.zoomFactor?e.zoomFactor:2,rotation:e.rotation&&"number"==typeof e.rotation?e.rotation:0,enableRotation:!1!==e.enableRotation||e.enableRotation,projection:e.projection?e.projection:"EPSG:3857",extent:e.extent&&Array.isArray(e.extent)&&4===e.extent.length?e.extent:void 0,resolutions:e.resolutions&&Array.isArray(e.resolutions)&&e.resolutions.length>0?e.resolutions:void 0})},t.prototype.zoomIn=function(t){var e=this.map.getView().getZoom();this.map.getView().animate({zoom:e+1,duration:t&&"number"==typeof t?t:300})},t.prototype.zoomOut=function(t){var e=this.map.getView().getZoom();this.map.getView().animate({zoom:e-1,duration:t&&"number"==typeof t?t:300})},t.prototype.zoomByDelta=function(t,e){var i=this.map.getView();if(!(i&&i instanceof Zi.View))return!1;var n=i.getResolution();if(n){var o=i.constrainResolution(n,t);e>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:o,duration:e,easing:Zi.easing.easeOut})):i.setResolution(o)}},t}(),vo=function(t){function e(){return n(this,e),s(this,t.apply(this,arguments))}return r(e,t),e.prototype.addBaseLayers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!t||!Array.isArray(t)||t.length<=0?[new Zi.layer.Group({layers:[new Zi.layer.Tile({source:new Zi.source.OSM})],isBaseLayer:!0})]:[new Zi.layer.Group({layers:this._getBaseLayerGroup(t),isBaseLayer:!0})]},e.prototype._getBaseLayerGroup=function(t){var e,n=this,o=[],r=[];return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){if(t.layerName&&t.layerUrl&&t.layerType){var e=n._getLayer(t);e&&o.push(e),t.label&&Array.isArray(t.label)?t.label.forEach((function(t){t.layerName&&t.layerUrl&&t.layerType&&r.push(t)})):"object"===i(t.label)&&r.push(t.label)}})),e=this._getBaseLayerLabel(r),o.concat(e)},e.prototype._getBaseLayerLabel=function(t){var e=this,i=[],n=new Set;t&&Array.isArray(t)&&t.length>0&&(t.forEach((function(t){t.layerName&&t.layerUrl&&t.layerType&&n.add(t.layerName)})),[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(n)).forEach((function(n){t.every((function(t){if(t&&t.layerName===n){var o=e._getLayer(t);return o&&i.push(o),!1}return!0}))})));return i},e.prototype._getLayer=function(t){switch(t.layerType){case"TileXYZ":return this._getXYZLayer(t);case"TileWMTS":return this._getWMTSLayer(t);case"OSM":return this._getOSMLayer(t);case"ImageWMS":return this._getImageWMSLayer(t);case"TileWMS":return this._getTileWMSLayer(t);case"MapboxVectorTile":return this._getMapboxVectorTileLayer(t);case"TileArcGISRest":return this._getTileArcGISRestLayer(t);case"BaiDu":return this._getBaiDuLayer(t);case"GaoDe":return this._getGaoDeLayer(t);case"Google":return this._getGoogleLayer(t);case"ImageLayer":return this._getImageLayer(t);default:throw new Error("不支持的图层类型！")}},e.prototype._getXYZLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0,t.hasOwnProperty("tileGrid")||(t.tileGrid={});var i=this.createXYZLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getOSMLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createOSMLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getBaiDuLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createBaiDuLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getGaoDeLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createGaoDeLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getGoogleLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createGoogleLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getWMTSLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createWMTSLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getImageWMSLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createImageWMSLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getTileWMSLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createTileWMSLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getMapboxVectorTileLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createMapboxVectorTileLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getTileArcGISRestLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createTitleLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._getImageLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var i=this.createImageLayer(e,t);return i=this._addLayerAlias(i,t)},e.prototype._addLayerAlias=function(t,e){var i=!0===e.isDefault&&e.isDefault;return t.set("isDefault",i),t.set("isBaseLayer",!0),t.setVisible(i),t.set("alias",e.alias?e.alias:""),t.getSource().setAttributions(this._getAttribution(e.attribution)),t},e.prototype._getAttribution=function(t){var e=void 0;return!0===t?((t={}).url=Vn.INDEX_URL,t.messages="contributors.",t.title="HMap",e=new Zi.Attribution({html:'&copy; <a href="'+t.url+'">'+t.title+"</a> "+t.messages})):"object"===(void 0===t?"undefined":i(t))&&(e=new Zi.Attribution({html:'&copy; <a href="'+t.url+'">'+t.title+"</a> "+t.messages})),e},e}(fo),_o="loadMapSuccess",xo="click",Co="dbclick",Io="singleclick",Ao="movestart",bo="moveend",wo="pointerdrag",So="pointermove",Mo="precompose",Eo="postrender",To="postcompose",Po="propertychange",Lo="change",No="change:layerGroup",Do="change:size",Ro="change:target",Oo="change:view",Fo="feature:onmouseover",ko="feature:onmouseout",Go="feature:onmousedown",Bo="feature:onmouseup",zo="feature:onmove",Vo="feature:onselect",jo="feature:ondisselect",Ho="overlay:onmouseleft",Uo="overlay:onmouseright",Wo="overlay:click",Yo="overlay:onmouseover",Xo="overlay:onmouseout",Zo="selectable",qo="moveable",Ko="hmap-hidden",Jo="hmap-selectable",Qo="hmap-unselectable",$o={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};$o.METERS_PER_UNIT[$o.DEGREES]=2*Math.PI*6370997/360,$o.METERS_PER_UNIT[$o.FEET]=.3048,$o.METERS_PER_UNIT[$o.METERS]=1,$o.METERS_PER_UNIT[$o.USFEET]=1200/3937;var tr=.1,er=.75;Zi.control.BZoomSlider=function(t){this.options=t||{},this.currentResolution_=void 0,this.direction_=Zi.control.BZoomSlider.Direction_.VERTICAL,this.dragging_=!1,this.heightLimit_=0,this.widthLimit_=0,this.previousX_=null,this.previousY_=null,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==this.options.duration?this.options.duration:200,this.viewHint={ANIMATING:0,INTERACTING:1},this.pixelDelta_=void 0!==this.options.pixelDelta?this.options.pixelDelta:128;var e=void 0!==this.options.className?this.options.className:"hmap-zoom-slider";this.element=ln("div",e+" "+Qo);var i=ln("div","hmap-zoom-slider-translate-content "+Jo,this.element),n=ln("div","hmap-zoom-slider-content "+Jo,this.element),o=ln("div","hmap-zoom-slider-button hmap-zoom-slider-translate-n "+Jo,i);o.setAttribute("title","向上平移"),vn(o,"click",Zi.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateN"));var r=ln("div","hmap-zoom-slider-button hmap-zoom-slider-translate-s "+Jo,i);r.setAttribute("title","向下平移"),vn(r,"click",Zi.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateS"));var s=ln("div","hmap-zoom-slider-button hmap-zoom-slider-translate-w "+Jo,i);s.setAttribute("title","向左平移"),vn(s,"click",Zi.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateW"));var a=ln("div","hmap-zoom-slider-button hmap-zoom-slider-translate-e "+Jo,i);a.setAttribute("title","向右平移"),vn(a,"click",Zi.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateE"));var l=ln("div","hmap-zoom-slider-zoom-in "+Jo,n);l.setAttribute("title","放大"),vn(l,"click",Zi.control.BZoomSlider.prototype.handleZoomClick_.bind(this,1));var h=ln("div","hmap-zoom-slider-zoom-out "+Jo,n);h.setAttribute("title","缩小"),vn(h,"click",Zi.control.BZoomSlider.prototype.handleZoomClick_.bind(this,-1));var c=ln("div","hmap-zoom-slider-zoom-slider "+Jo,n);this.sliderBackgroundTop=ln("div","slider-background-top "+Jo,c),this.sliderBackgroundBottom=ln("div","slider-background-bottom "+Jo,c),ln("div","slider-background-mask "+Jo,c).setAttribute("title","缩放到此级别"),this.sliderBar=ln("div","slider-bar "+Jo,c),this.sliderBar.setAttribute("title","滑动缩放地图"),this.silderContent=n,vn(this.silderContent,"pointerdown",this.handleDraggerStart_,this),vn(this.silderContent,"pointermove",this.handleDraggerDrag_,this),vn(this.silderContent,"pointerup",this.handleDraggerEnd_,this),vn(this.silderContent,"click",this.handleContainerClick_,this),vn(this.sliderBar,"click",(function(t){t.stopPropagation()}));var u=this.options.render?this.options.render:Zi.control.BZoomSlider.render;Zi.control.Control.call(this,{element:this.element,render:u,target:this.options.target})},Zi.inherits(Zi.control.BZoomSlider,Zi.control.Control),Zi.control.BZoomSlider.prototype.handleZoomClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},Zi.control.BZoomSlider.prototype.handletranslateClick_=function(t,e){e.preventDefault();var i=this.getMap().getView(),n=i.getResolution()*this.pixelDelta_,o=0,r=0;switch(t){case"translateN":r=n;break;case"translateS":r=-n;break;case"translateW":o=n;break;case"translateE":o=-n}var s=[o,r];Zi.coordinate.rotate(s,i.getRotation()),this.pan(i,s,this.duration_)},Zi.control.BZoomSlider.prototype.pan=function(t,e,i){var n=t.getCenter();if(n){var o=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:Zi.easing.linear,center:o}):t.setCenter(o)}},Zi.control.BZoomSlider.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e&&e instanceof Zi.View){var i=e.getResolution();if(i){var n=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:n,duration:this.duration_,easing:Zi.easing.easeOut})):e.setResolution(n)}}},Zi.control.BZoomSlider.render=function(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}},Zi.control.BZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1},Zi.control.BZoomSlider.prototype.setMap=function(t){if(!(t&&t instanceof Zi.Map))throw Error("传入的不是地图对象！");Zi.control.Control.prototype.setMap.call(this,t),t&&t.render()},Zi.control.BZoomSlider.prototype.disposeInternal=function(){vn(this.silderContent,"pointercancel",(function(t){}),this),Zi.control.Control.prototype.disposeInternal.call(this)},Zi.control.BZoomSlider.prototype.initSlider_=function(){var t=this.silderContent,e=t.offsetWidth,i=t.offsetHeight,n=hn(".slider-bar",t)[0],o=getComputedStyle(n),r=n.offsetWidth+parseFloat(o.marginRight)+parseFloat(o.marginLeft),s=n.offsetHeight+parseFloat(o.marginTop)+parseFloat(o.marginBottom);this.thumbSize_=[r,s],e>i?(this.direction_=Zi.control.BZoomSlider.Direction_.HORIZONTAL,this.widthLimit_=e-r):(this.direction_=Zi.control.BZoomSlider.Direction_.VERTICAL,this.heightLimit_=i-s),this.sliderInitialized_=!0},Zi.control.BZoomSlider.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(n),duration:this.duration_,easing:Zi.easing.easeOut})},Zi.control.BZoomSlider.prototype.handleDraggerStart_=function(t){this.dragging_||t.target!==hn(".slider-bar",this.silderContent)||(this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0)},Zi.control.BZoomSlider.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=hn(".slider-bar",this.silderContent)[0],i=t.clientX-this.previousX_+parseInt(e.style.left,10),n=t.clientY-this.previousY_+parseInt(e.style.top,10),o=this.getRelativePosition_(i,n);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},Zi.control.BZoomSlider.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:Zi.easing.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},Zi.control.BZoomSlider.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=hn(".slider-bar",this.silderContent)[0];this.direction_===Zi.control.BZoomSlider.Direction_.HORIZONTAL?(i.style.left=this.widthLimit_*e+"px",this.sliderBackgroundBottom.style.width=this.widthLimit_-(this.widthLimit_*e-5)+"px"):(i.style.top=this.heightLimit_*e+"px",this.sliderBackgroundBottom.style.height=this.heightLimit_-(this.heightLimit_*e-5)+"px")},Zi.control.BZoomSlider.prototype.getRelativePosition_=function(t,e){var i=void 0;return i=this.direction_===Zi.control.BZoomSlider.Direction_.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,Math.min(Math.max(i,0),1)},Zi.control.BZoomSlider.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView();if(e&&e instanceof Zi.View)return this.getResolutionForValueFunction(1-t)},Zi.control.BZoomSlider.prototype.getValueForResolutionFunction=function(t,e){var i=e||2,n=this.getMap().getView(),o=n.getMaxResolution(),r=n.getMinResolution(),s=Math.log(o/r)/Math.log(i);return Math.log(o/t)/Math.log(i)/s},Zi.control.BZoomSlider.prototype.getResolutionForValueFunction=function(t,e){var i=e||2,n=this.getMap().getView(),o=n.getMaxResolution(),r=n.getMinResolution(),s=Math.log(o/r)/Math.log(i);return o/Math.pow(i,t*s)},Zi.control.BZoomSlider.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView();if(e&&e instanceof Zi.View)return 1-this.getValueForResolutionFunction(t)};Zi.control.BZoomSlider;Zi.control.Loading=function(t){if(this.options=t||{},this.mapListeners=[],this.tileListeners=[],this.loadStatus_=!1,this.isFirstRander=!0,this.loadProgress_=[0,1],this.options.widget){if(-1===["animatedGif","progressBar"].indexOf(this.options.widget))throw Error("不支持的挂件类型");this.widget=this.options.widget?this.options.widget:"animatedGif"}if(this.options.progressMode){if(-1===["tile","layer"].indexOf(this.options.progressMode))throw Error("不支持的进度条模式");this.loadProgressByTile_="layer"!==this.options.progressMode||!("layer"===this.options.progressMode)}this.showPanel="boolean"!=typeof this.options.showPanel||this.options.showPanel;var e=void 0!==this.options.className?this.options.className:"hmap-loading-panel",i="animatedGif"===this.widget?"span":"progress",n=ln(i,e+" "+Qo);if("progressBar"===this.widget){var o=ln("div","hmap-progress-bar");ln("span","",o)}this.onCustomStart=!!this.options.onStart&&this.options.onStart,this.onCustomProgress=!!this.options.onProgress&&this.options.onProgress,this.onCustomEnd=!!this.options.onEnd&&this.options.onEnd,Zi.control.Control.call(this,{element:n,target:this.options.target})},Zi.inherits(Zi.control.Loading,Zi.control.Control),Zi.control.Loading.prototype.setup=function(){var t=this;this.setDomPosition(),this.resize();var e=this.getMap().on("pointerdown",(function(){t.hide()})),i=this.getMap().on("precompose",(function(){if(t.isFirstRander&&(t.isFirstRander=!1,t.registerLayersLoadEvents_(),t.show(),t.onCustomStart)){t.onCustomStart.apply(t,[])}})),n=this.getMap().on("postrender",(function(){if(t.updateLoadStatus_(),t.loadStatus_){if(t.onCustomEnd){t.onCustomEnd.apply(t,[])}t.hide()}}));this.mapListeners.push(e),this.mapListeners.push(i),this.mapListeners.push(n)},Zi.control.Loading.prototype.setDomPosition=function(){var t=this.getMap().getSize();if(t){var e=[this.element.clientWidth,this.element.clientHeight];this.element.style.left=String(Math.round((t[0]-e[0])/2))+"px",this.element.style.bottom=String(Math.round((t[1]-e[1])/2))+"px"}},Zi.control.Loading.prototype.resize=function(){var t="orientationchange"in window?"orientationchange":"resize",e=window.document,i=this;window.addEventListener(t,(function(){setTimeout((function(){i.setDomPosition()}),50)}),!1),window.addEventListener("pageshow",(function(t){t.persisted&&setTimeout((function(){i.setDomPosition()}),50)}),!1),"complete"===e.readyState?setTimeout((function(){i.setDomPosition()}),50):e.addEventListener("DOMContentLoaded",(function(t){setTimeout((function(){i.setDomPosition()}),50)}),!1)},Zi.control.Loading.prototype.updateSourceLoadStatus_=function(t){return 100===Math.round(t.loaded/t.loading*100)},Zi.control.Loading.prototype.registerLayerLoadEvents_=function(t){var e=this;t.getSource().on("tileloadstart",(function(t){if(e.loadStatus_&&(e.loadStatus_=!1,e.loadProgress_=[0,1],"progressBar"===e.widget&&(e.element.value=e.loadProgress_[0],e.element.max=e.loadProgress_[1]),e.show(),e.onCustomStart)){e.onCustomStart.apply(e,[])}if(this.loading=this.loading?this.loading+1:1,this.isLoaded=e.updateSourceLoadStatus_(this),e.loadProgressByTile_&&(this.loadProgress_[1]+=1,"progressBar"===this.widget)){e.element.max=e.loadProgress_[1];var i=e.element.getElementsByClassName("hmap-progress-bar");i.length>0&&(i[0].children()[0].width=String(parseInt(100*e.progress(),0))+"%")}})),t.getSource().on(["tileloadend","tileloaderror"],(function(t){if(3===t.tile.getState()&&console.warn("Loading tile failed for resource '"+t.tile.src_+"'"),this.loaded=this.loaded?this.loaded+1:1,this.isLoaded=e.updateSourceLoadStatus_(this),e.loadProgressByTile_){if(e.loadProgress_[0]+=1,"progressBar"===e.widget){e.element.value=e.loadProgress_[0];var i=this.element.getElementsByClassName("hmap-progress-bar");i.length>0&&(i[0].children()[0].width=String(parseInt(100*e.progress(),0))+"%")}e.onCustomProgress&&e.onCustomProgress.apply(e,e.loadProgress_)}}))},Zi.control.Loading.prototype.registerLayersLoadEvents_=function(){for(var t=this.getMap().getLayers().getArray(),e=0;e<t.length;e++){var i=t[e];if(i instanceof Zi.layer.Group)for(var n=i.getLayers().getArray(),o=0;o<n.length;o++){var r=n[o];r instanceof Zi.layer.Vector||this.tileListeners.push(this.registerLayerLoadEvents_(r))}else i instanceof Zi.layer.Layer&&(i instanceof Zi.layer.Vector||this.tileListeners.push(this.registerLayerLoadEvents_(i)))}},Zi.control.Loading.prototype.updateLoadStatus_=function(){for(var t=[],e=this.getMap().getLayers().getArray(),i=0;i<e.length;i++){var n=e[i];if(n)if(n instanceof Zi.layer.Group)for(var o=n.getLayers().getArray(),r=0;r<o.length;r++){var s=o[r];s&&s.getSource()&&!(s instanceof Zi.layer.Vector)&&s.getSource().hasOwnProperty("isLoaded")&&t.push(s.getSource().isLoaded)}else n.getSource()&&n.getSource().hasOwnProperty("isLoaded")&&t.push(n.getSource().isLoaded)}if(this.loadStatus_=-1===t.indexOf(!1)&&-1!==t.indexOf(!0),!this.loadProgressByTile_){var a={};t.forEach((function(t){a[t]=(a[t]||0)+1}));var l=a[!0]?a[!0]:0;l>this.loadProgress_[0]&&(this.loadProgress_=[l,t.length],"progressBar"===this.widget&&(this.element.max=this.loadProgress_[1],this.element.value=this.loadProgress_[0]),this.onCustomProgress&&this.onCustomProgress.apply(this,this.loadProgress_))}},Zi.control.Loading.prototype.show=function(){this.showPanel&&(this.element.style.display="block")},Zi.control.Loading.prototype.hide=function(){this.showPanel&&(this.element.style.display="none")},Zi.control.Loading.prototype.progressDetails=function(){return this.loadProgress_},Zi.control.Loading.prototype.progress=function(){return this.loadProgress_[0]/this.loadProgress_[1]},Zi.control.Loading.prototype.setMap=function(t){var e=this;this.mapListeners&&this.mapListeners.length>0&&this.mapListeners.forEach((function(t){e.getMap().unByKey(t)})),this.mapListeners.length=0,Zi.control.Control.prototype.setMap.call(this,t),t&&this.setup()};Zi.control.Loading;Zi.control.RotateControl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.className=void 0!==t.className?t.className:"hmap-rotate-control";var e=t.render?t.render:Zi.control.RotateControl.render;this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide;var i=this.initDomInternal_(this.className);this.rotation_=void 0,Zi.control.Control.call(this,{element:i,render:e,target:t.target})},Zi.inherits(Zi.control.RotateControl,Zi.control.Control),Zi.control.RotateControl.prototype.initDomInternal_=function(t){var e=ln("div",t+" "+Qo),i=ln("button",t+"-inner right-button",e),n=ln("button",t+"-inner center-button",e,t+"-inner-center");this.label_=n;var o=ln("button",t+"-inner left-button",e);return vn(i,"click",Zi.control.RotateControl.prototype.handleClick_.bind(this,"right")),vn(n,"click",Zi.control.RotateControl.prototype.handleClick_.bind(this,"center")),vn(o,"click",Zi.control.RotateControl.prototype.handleClick_.bind(this,"left")),e},Zi.control.RotateControl.prototype.handleClick_=function(t,e){e.preventDefault(),this.resetNorth_(t)},Zi.control.RotateControl.prototype.resetNorth_=function(t){var e=0;"center"===t?(e=0,void 0!==this.callResetNorth_?this.callResetNorth_():this.rotationView_(e,t)):"left"===t?(e=-90,this.rotationView_(e)):(e=90,this.rotationView_(e))},Zi.control.RotateControl.prototype.rotationView_=function(t,e){var i=this.getMap().getView(),n="center"===e?0:i.getRotation()+t/180*Math.PI;if(!(i&&i instanceof Zi.View))throw new Error("未获取到视图！");void 0!==i.getRotation()&&(this.duration_>0?i.animate({rotation:n,duration:this.duration_,easing:Zi.easing.easeOut}):i.setRotation(0))},Zi.control.RotateControl.render=function(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!==this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(Ko);o||0!==i?o&&0!==i&&this.element.classList.remove(Ko):this.element.classList.add(Ko)}this.label_.style.msTransform=n,this.label_.style.webkitTransform=n,this.label_.style.transform=n}this.rotation_=i}};Zi.control.RotateControl;Zi.control.ZoomMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t;var e=void 0!==this.options.className?this.options.className:"hmap-control-zoom",i=void 0!==this.options.delta?this.options.delta:1,n=this.initDomInternal_(e,i);this.duration_=void 0!==this.options.duration?this.options.duration:250,Zi.control.Control.call(this,{element:n,target:this.options.target})},Zi.inherits(Zi.control.ZoomMenu,Zi.control.Control),Zi.control.ZoomMenu.prototype.initDomInternal_=function(t,e){var i=ln("div",t+" "+Qo),n=ln("span","zoom-in",i);n.setAttribute("title","放大"),n.innerHTML="+";var o=ln("span","zoom-out",i);return o.setAttribute("title","缩小"),o.innerHTML="−",vn(n,"click",Zi.control.ZoomMenu.prototype.handleClick_.bind(this,e)),vn(o,"click",Zi.control.ZoomMenu.prototype.handleClick_.bind(this,-e)),i},Zi.control.ZoomMenu.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},Zi.control.ZoomMenu.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(!e)throw new Error("未获取到视图！");var i=e.getResolution();if(i){var n=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:n,duration:this.duration_,easing:Zi.easing.easeOut})):e.setResolution(n)}};Zi.control.ZoomMenu;var ir=p((function(t){
/*!
* screenfull
* v3.3.2 - 2017-10-27
* (c) Sindre Sorhus; MIT License
*/
!function(){var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=t.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var t,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=i.length,r={};n<o;n++)if((t=i[n])&&t[1]in e){for(n=0;n<t.length;n++)r[i[0][n]]=t[n];return r}return!1}(),r={change:o.fullscreenchange,error:o.fullscreenerror},s={request:function(t){var i=o.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[i]():t[i](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[o.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,i){var n=r[t];n&&e.addEventListener(n,i,!1)},off:function(t,i){var n=r[t];n&&e.removeEventListener(n,i,!1)},raw:o};o?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(e[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[o.fullscreenEnabled])}}}),i?t.exports=s:window.screenfull=s):i?t.exports=!1:window.screenfull=!1}()}));Zi.control.FullScreenMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t,i=void 0!==e.className?e.className:"hmap-control-full-screen";this.label=void 0!==e.label?e.label:"⤢",this.labelActive=void 0!==e.labelActive?e.labelActive:"×",this.keys_=void 0!==e.keys&&e.keys,this.size_=void 0!==e.size?e.size:[16,16],this.source_=e.source,this.element_=this.initDomInternal_(i),Zi.control.Control.call(this,{element:this.element_,target:e.target})},Zi.inherits(Zi.control.FullScreenMenu,Zi.control.Control),Zi.control.FullScreenMenu.prototype.handleClick_=function(t){var e=this;if(t.preventDefault(),this.getMap()){var i=null;i=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:this.getMap().getTargetElement(),ir.enabled&&(ir.toggle(i),ir.on("change",(function(){ir.isFullscreen?e.element_.firstElementChild.innerHTML=e.labelActive:e.element_.firstElementChild.innerHTML=e.label})))}},Zi.control.FullScreenMenu.prototype.initDomInternal_=function(t){var e=ln("div",t+" "+Qo),i=ln("span",t+"-inner",e);return i.setAttribute("title","放大"),i.innerHTML=this.label,vn(e,"click",this.handleClick_,this),e};Zi.control.FullScreenMenu;Zi.control.LayerSwitcher=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.options=t,this.className_=void 0!==this.options.className?this.options.className:"hmap-layer-switcher",this.options.itemWidth="number"===this.options.itemWidth?this.options.itemWidth:86,this.baseLayers_=[],this.labelLayers_=[],this.baseLayerKey=this.options.baseLayerKey?this.options.baseLayerKey:"isBaseLayer",this.isDefaultKey=this.options.isDefaultKey?this.options.isDefaultKey:"isDefault",this.labelAliasKey=this.options.labelAlias?this.options.labelAlias:"layerName",this.labelLayerKey=this.options.labelLayerKey?this.options.labelLayerKey:"isLabelLayer",this.isActionSelected_=!1,this.forcedUpdate=this.options.forcedUpdate,this.options.itemHeight="number"==typeof this.options.itemHeight?this.options.itemHeight:60,this.options.key=this.options.key?this.options.key:"layerName",this.labelLayerKey===this.baseLayerKey)throw new Error("标注图层关键字不能和底图相同！");this.element_=ln("div",this.className_+" "+Qo),vn(this.element_,"mouseover",this.contentMouseOver_,this),vn(this.element_,"mouseout",this.contentMouseOut_,this),this.innerElement_=ln("ul",this.className_+"-ul-inner",this.element_,this.className_+"-ul-inner"),this.options.layers&&Array.isArray(this.options.layers)&&this.options.layers.length>0?this.initDomInternal(this.options.layers,this.className_,this.options.key):this.element_.style.display="none",Zi.control.Control.call(this,{element:this.element_,target:this.options.target})},Zi.inherits(Zi.control.LayerSwitcher,Zi.control.Control),Un(Zi.control.LayerSwitcher,fo),Zi.control.LayerSwitcher.prototype.initDomInternal=function(t,e,i){var n=this,o=this.options.itemWidth,r=this.options.itemHeight,s=t.length;this.innerElement_.style.width=o+10*(s-1)+"px",this.innerElement_.style.height=r+"px",t.forEach((function(t,a){if(t&&t[i]){var l=ln("li",e+"-li-inner",n.innerElement_,e+"-li"+a+"-inner");if(l.style.background="url("+t.icon+") 0px 0px no-repeat",l.style.width=o+"px",l.style.height=r+"px",l.style.zIndex=a+1,l.style.right="0px",l.style.marginRight=10*(s-1-a)+"px",l.setAttribute("data-name",t[i]),vn(l,"click",n.handleClick_,n),t.name){var h=ln("span","layer-name",l);h.setAttribute("data-name",t[i]),h.innerHTML=t.name}n.isActionSelected_||t[n.isDefaultKey]&&(pn(l,"selected-item"),n.isActionSelected_=!0),n.isActionSelected_||a!==s-1||(pn(l,"selected-item"),n.isActionSelected_=!0)}}))},Zi.control.LayerSwitcher.prototype.contentMouseOver_=function(t){var e=this.options.layers.length;if(e>0){for(var i=0;i<e-1;i++){var n=cn(this.className_+"-li"+i+"-inner");n&&(n.style.marginRight="0px",n.style.zIndex="",n.style.right=(e-1-i)*(10+this.options.itemWidth)+"px")}this.innerElement_.style.width=this.options.itemWidth*e+10*(e-1)+"px"}},Zi.control.LayerSwitcher.prototype.contentMouseOut_=function(t){var e=this.options.layers.length;if(e>0){for(var i=0;i<e-1;i++){var n=cn(this.className_+"-li"+i+"-inner");n&&(n.style.zIndex=i+1,n.style.right="0px",n.style.marginRight=10*(e-1-i)+"px")}this.innerElement_.style.width=this.options.itemWidth+10*(e-1)+"px"}},Zi.control.LayerSwitcher.prototype.handleClick_=function(t){var e=t.target.getAttribute("data-name");this.switcher(this.options.key,e)},Zi.control.LayerSwitcher.prototype.updateBaseLayer_=function(){this.map&&(this.baseLayers_=this.getLayersArrayByKeyValue(this.baseLayerKey,!0),this.labelLayers_=this.getLayersArrayByKeyValue(this.labelLayerKey,!0),this.baseLayers_&&this.baseLayers_.length>0&&this.baseLayers_.filter((function(t){return!!t})),this.labelLayers_&&this.labelLayers_.length>0&&this.labelLayers_.filter((function(t){return!!t})))},Zi.control.LayerSwitcher.prototype.switcher=function(t,e){var i=this;if(this.forcedUpdate&&this.updateBaseLayer_(),!(this.baseLayers_.length>0&&this.baseLayers_.length===this.options.layers.length))throw new Error("请检查是否存在底图获取底图数量是否和配置相同！");this.labelLayers_&&this.labelLayers_.length>0&&this.labelLayers_.forEach((function(t){t&&t.get(i.labelAliasKey)===e?t.setVisible(!0):t.setVisible(!1)})),this.baseLayers_.forEach((function(n){n&&n.get(t)===e?(n.setVisible(!0),n.set(i.isDefaultKey,!0)):(n.setVisible(!1),n.set(i.isDefaultKey,!1))}));var n=this.options.layers.length;if(n>0)for(var o=0;o<n;o++){var r=cn(this.className_+"-li"+o+"-inner");r&&r.getAttribute("data-name")===e?pn(r,"selected-item"):gn(r,"selected-item")}},Zi.control.LayerSwitcher.prototype.setMap=function(t){Zi.control.Control.prototype.setMap.call(this,t),this.map=t,t&&t instanceof Zi.Map&&this.updateBaseLayer_()};Zi.control.LayerSwitcher;var nr=function(){this.__data__=[],this.size=0};var or=function(t,e){return t===e||t!=t&&e!=e};var rr=function(t,e){for(var i=t.length;i--;)if(or(t[i][0],e))return i;return-1},sr=Array.prototype.splice;var ar=function(t){var e=this.__data__,i=rr(e,t);return!(i<0)&&(i==e.length-1?e.pop():sr.call(e,i,1),--this.size,!0)};var lr=function(t){var e=this.__data__,i=rr(e,t);return i<0?void 0:e[i][1]};var hr=function(t){return rr(this.__data__,t)>-1};var cr=function(t,e){var i=this.__data__,n=rr(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};function ur(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}ur.prototype.clear=nr,ur.prototype.delete=ar,ur.prototype.get=lr,ur.prototype.has=hr,ur.prototype.set=cr;var pr=ur;var gr=function(){this.__data__=new pr,this.size=0};var dr=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i};var fr=function(t){return this.__data__.get(t)};var yr=function(t){return this.__data__.has(t)},mr="object"==typeof u&&u&&u.Object===Object&&u,vr="object"==typeof self&&self&&self.Object===Object&&self,_r=mr||vr||Function("return this")(),xr=_r.Symbol,Cr=Object.prototype,Ir=Cr.hasOwnProperty,Ar=Cr.toString,br=xr?xr.toStringTag:void 0;var wr=function(t){var e=Ir.call(t,br),i=t[br];try{t[br]=void 0;var n=!0}catch(t){}var o=Ar.call(t);return n&&(e?t[br]=i:delete t[br]),o},Sr=Object.prototype.toString;var Mr=function(t){return Sr.call(t)},Er=xr?xr.toStringTag:void 0;var Tr=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Er&&Er in Object(t)?wr(t):Mr(t)};var Pr=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var Lr,Nr=function(t){if(!Pr(t))return!1;var e=Tr(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Dr=_r["__core-js_shared__"],Rr=(Lr=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||""))?"Symbol(src)_1."+Lr:"";var Or=function(t){return!!Rr&&Rr in t},Fr=Function.prototype.toString;var kr=function(t){if(null!=t){try{return Fr.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Gr=/^\[object .+?Constructor\]$/,Br=Function.prototype,zr=Object.prototype,Vr=Br.toString,jr=zr.hasOwnProperty,Hr=RegExp("^"+Vr.call(jr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ur=function(t){return!(!Pr(t)||Or(t))&&(Nr(t)?Hr:Gr).test(kr(t))};var Wr=function(t,e){return null==t?void 0:t[e]};var Yr=function(t,e){var i=Wr(t,e);return Ur(i)?i:void 0},Xr=Yr(_r,"Map"),Zr=Yr(Object,"create");var qr=function(){this.__data__=Zr?Zr(null):{},this.size=0};var Kr=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Jr=Object.prototype.hasOwnProperty;var Qr=function(t){var e=this.__data__;if(Zr){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return Jr.call(e,t)?e[t]:void 0},$r=Object.prototype.hasOwnProperty;var ts=function(t){var e=this.__data__;return Zr?void 0!==e[t]:$r.call(e,t)};var es=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Zr&&void 0===e?"__lodash_hash_undefined__":e,this};function is(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}is.prototype.clear=qr,is.prototype.delete=Kr,is.prototype.get=Qr,is.prototype.has=ts,is.prototype.set=es;var ns=is;var os=function(){this.size=0,this.__data__={hash:new ns,map:new(Xr||pr),string:new ns}};var rs=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ss=function(t,e){var i=t.__data__;return rs(e)?i["string"==typeof e?"string":"hash"]:i.map};var as=function(t){var e=ss(this,t).delete(t);return this.size-=e?1:0,e};var ls=function(t){return ss(this,t).get(t)};var hs=function(t){return ss(this,t).has(t)};var cs=function(t,e){var i=ss(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};function us(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}us.prototype.clear=os,us.prototype.delete=as,us.prototype.get=ls,us.prototype.has=hs,us.prototype.set=cs;var ps=us;var gs=function(t,e){var i=this.__data__;if(i instanceof pr){var n=i.__data__;if(!Xr||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new ps(n)}return i.set(t,e),this.size=i.size,this};function ds(t){var e=this.__data__=new pr(t);this.size=e.size}ds.prototype.clear=gr,ds.prototype.delete=dr,ds.prototype.get=fr,ds.prototype.has=yr,ds.prototype.set=gs;var fs=ds;var ys=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t},ms=function(){try{var t=Yr(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var vs=function(t,e,i){"__proto__"==e&&ms?ms(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i},_s=Object.prototype.hasOwnProperty;var xs=function(t,e,i){var n=t[e];_s.call(t,e)&&or(n,i)&&(void 0!==i||e in t)||vs(t,e,i)};var Cs=function(t,e,i,n){var o=!i;i||(i={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=n?n(i[a],t[a],a,i,t):void 0;void 0===l&&(l=t[a]),o?vs(i,a,l):xs(i,a,l)}return i};var Is=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n};var As=function(t){return null!=t&&"object"==typeof t};var bs=function(t){return As(t)&&"[object Arguments]"==Tr(t)},ws=Object.prototype,Ss=ws.hasOwnProperty,Ms=ws.propertyIsEnumerable,Es=bs(function(){return arguments}())?bs:function(t){return As(t)&&Ss.call(t,"callee")&&!Ms.call(t,"callee")},Ts=Array.isArray;var Ps=function(){return!1},Ls=p((function(t,e){var i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,o=n&&n.exports===i?_r.Buffer:void 0,r=(o?o.isBuffer:void 0)||Ps;t.exports=r})),Ns=/^(?:0|[1-9]\d*)$/;var Ds=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&Ns.test(t))&&t>-1&&t%1==0&&t<e};var Rs=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Os={};Os["[object Float32Array]"]=Os["[object Float64Array]"]=Os["[object Int8Array]"]=Os["[object Int16Array]"]=Os["[object Int32Array]"]=Os["[object Uint8Array]"]=Os["[object Uint8ClampedArray]"]=Os["[object Uint16Array]"]=Os["[object Uint32Array]"]=!0,Os["[object Arguments]"]=Os["[object Array]"]=Os["[object ArrayBuffer]"]=Os["[object Boolean]"]=Os["[object DataView]"]=Os["[object Date]"]=Os["[object Error]"]=Os["[object Function]"]=Os["[object Map]"]=Os["[object Number]"]=Os["[object Object]"]=Os["[object RegExp]"]=Os["[object Set]"]=Os["[object String]"]=Os["[object WeakMap]"]=!1;var Fs=function(t){return As(t)&&Rs(t.length)&&!!Os[Tr(t)]};var ks=function(t){return function(e){return t(e)}},Gs=p((function(t,e){var i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,o=n&&n.exports===i&&mr.process,r=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=r})),Bs=Gs&&Gs.isTypedArray,zs=Bs?ks(Bs):Fs,Vs=Object.prototype.hasOwnProperty;var js=function(t,e){var i=Ts(t),n=!i&&Es(t),o=!i&&!n&&Ls(t),r=!i&&!n&&!o&&zs(t),s=i||n||o||r,a=s?Is(t.length,String):[],l=a.length;for(var h in t)!e&&!Vs.call(t,h)||s&&("length"==h||o&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Ds(h,l))||a.push(h);return a},Hs=Object.prototype;var Us=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Hs)};var Ws=function(t,e){return function(i){return t(e(i))}},Ys=Ws(Object.keys,Object),Xs=Object.prototype.hasOwnProperty;var Zs=function(t){if(!Us(t))return Ys(t);var e=[];for(var i in Object(t))Xs.call(t,i)&&"constructor"!=i&&e.push(i);return e};var qs=function(t){return null!=t&&Rs(t.length)&&!Nr(t)};var Ks=function(t){return qs(t)?js(t):Zs(t)};var Js=function(t,e){return t&&Cs(e,Ks(e),t)};var Qs=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e},$s=Object.prototype.hasOwnProperty;var ta=function(t){if(!Pr(t))return Qs(t);var e=Us(t),i=[];for(var n in t)("constructor"!=n||!e&&$s.call(t,n))&&i.push(n);return i};var ea=function(t){return qs(t)?js(t,!0):ta(t)};var ia=function(t,e){return t&&Cs(e,ea(e),t)},na=p((function(t,e){var i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,o=n&&n.exports===i?_r.Buffer:void 0,r=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=r?r(i):new t.constructor(i);return t.copy(n),n}}));var oa=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e};var ra=function(t,e){for(var i=-1,n=null==t?0:t.length,o=0,r=[];++i<n;){var s=t[i];e(s,i,t)&&(r[o++]=s)}return r};var sa=function(){return[]},aa=Object.prototype.propertyIsEnumerable,la=Object.getOwnPropertySymbols,ha=la?function(t){return null==t?[]:(t=Object(t),ra(la(t),(function(e){return aa.call(t,e)})))}:sa;var ca=function(t,e){return Cs(t,ha(t),e)};var ua=function(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t},pa=Ws(Object.getPrototypeOf,Object),ga=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ua(e,ha(t)),t=pa(t);return e}:sa;var da=function(t,e){return Cs(t,ga(t),e)};var fa=function(t,e,i){var n=e(t);return Ts(t)?n:ua(n,i(t))};var ya=function(t){return fa(t,Ks,ha)};var ma=function(t){return fa(t,ea,ga)},va=Yr(_r,"DataView"),_a=Yr(_r,"Promise"),xa=Yr(_r,"Set"),Ca=Yr(_r,"WeakMap"),Ia=kr(va),Aa=kr(Xr),ba=kr(_a),wa=kr(xa),Sa=kr(Ca),Ma=Tr;(va&&"[object DataView]"!=Ma(new va(new ArrayBuffer(1)))||Xr&&"[object Map]"!=Ma(new Xr)||_a&&"[object Promise]"!=Ma(_a.resolve())||xa&&"[object Set]"!=Ma(new xa)||Ca&&"[object WeakMap]"!=Ma(new Ca))&&(Ma=function(t){var e=Tr(t),i="[object Object]"==e?t.constructor:void 0,n=i?kr(i):"";if(n)switch(n){case Ia:return"[object DataView]";case Aa:return"[object Map]";case ba:return"[object Promise]";case wa:return"[object Set]";case Sa:return"[object WeakMap]"}return e});var Ea=Ma,Ta=Object.prototype.hasOwnProperty;var Pa=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&Ta.call(t,"index")&&(i.index=t.index,i.input=t.input),i},La=_r.Uint8Array;var Na=function(t){var e=new t.constructor(t.byteLength);return new La(e).set(new La(t)),e};var Da=function(t,e){var i=e?Na(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)},Ra=/\w*$/;var Oa=function(t){var e=new t.constructor(t.source,Ra.exec(t));return e.lastIndex=t.lastIndex,e},Fa=xr?xr.prototype:void 0,ka=Fa?Fa.valueOf:void 0;var Ga=function(t){return ka?Object(ka.call(t)):{}};var Ba=function(t,e){var i=e?Na(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)};var za=function(t,e,i){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Na(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Da(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ba(t,i);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Oa(t);case"[object Set]":return new n;case"[object Symbol]":return Ga(t)}},Va=Object.create,ja=function(){function t(){}return function(e){if(!Pr(e))return{};if(Va)return Va(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();var Ha=function(t){return"function"!=typeof t.constructor||Us(t)?{}:ja(pa(t))};var Ua=function(t){return As(t)&&"[object Map]"==Ea(t)},Wa=Gs&&Gs.isMap,Ya=Wa?ks(Wa):Ua;var Xa=function(t){return As(t)&&"[object Set]"==Ea(t)},Za=Gs&&Gs.isSet,qa=Za?ks(Za):Xa,Ka={};Ka["[object Arguments]"]=Ka["[object Array]"]=Ka["[object ArrayBuffer]"]=Ka["[object DataView]"]=Ka["[object Boolean]"]=Ka["[object Date]"]=Ka["[object Float32Array]"]=Ka["[object Float64Array]"]=Ka["[object Int8Array]"]=Ka["[object Int16Array]"]=Ka["[object Int32Array]"]=Ka["[object Map]"]=Ka["[object Number]"]=Ka["[object Object]"]=Ka["[object RegExp]"]=Ka["[object Set]"]=Ka["[object String]"]=Ka["[object Symbol]"]=Ka["[object Uint8Array]"]=Ka["[object Uint8ClampedArray]"]=Ka["[object Uint16Array]"]=Ka["[object Uint32Array]"]=!0,Ka["[object Error]"]=Ka["[object Function]"]=Ka["[object WeakMap]"]=!1;var Ja=function t(e,i,n,o,r,s){var a,l=1&i,h=2&i,c=4&i;if(n&&(a=r?n(e,o,r,s):n(e)),void 0!==a)return a;if(!Pr(e))return e;var u=Ts(e);if(u){if(a=Pa(e),!l)return oa(e,a)}else{var p=Ea(e),g="[object Function]"==p||"[object GeneratorFunction]"==p;if(Ls(e))return na(e,l);if("[object Object]"==p||"[object Arguments]"==p||g&&!r){if(a=h||g?{}:Ha(e),!l)return h?da(e,ia(a,e)):ca(e,Js(a,e))}else{if(!Ka[p])return r?e:{};a=za(e,p,l)}}s||(s=new fs);var d=s.get(e);if(d)return d;if(s.set(e,a),qa(e))return e.forEach((function(o){a.add(t(o,i,n,o,e,s))})),a;if(Ya(e))return e.forEach((function(o,r){a.set(r,t(o,i,n,r,e,s))})),a;var f=c?h?ma:ya:h?keysIn:Ks,y=u?void 0:f(e);return ys(y||e,(function(o,r){y&&(o=e[r=o]),xs(a,r,t(o,i,n,r,e,s))})),a};var Qa=function(t){return Ja(t,5)};Zi.control.ContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.mapContent=null,this.pixel=[],this.itemWidth="number"==typeof this.options.itemWidth?this.options.itemWidth:160,this.itemHeight="number"==typeof this.options.itemHeight?this.options.itemHeight:30,this.className_=void 0!==this.options.className?this.options.className:"hmap-context-menu-content",this.element_=ln("div",this.className_+" "+Qo),this.element_.style.display="none",Zi.control.Control.call(this,{element:this.element_,target:this.options.target}),Ji.call(this)},Zi.inherits(Zi.control.ContextMenu,Zi.control.Control),Un(Zi.control.ContextMenu,Ji),Zi.control.ContextMenu.prototype.initDomInternal=function(t){this.htmlUtils(t,"",this.element_),this.getMap()&&(this.mapContent=this.getMap().getViewport(),vn(this.mapContent,"contextmenu",this.mouseDownHandle_,this))},Zi.control.ContextMenu.prototype.mouseDownHandle_=function(t){var e=this;t.stopPropagation(),t.preventDefault(),2===t.button&&(e.pixel=this.getMap().getEventPixel(t),this.dispatch("before-show",t),window.setTimeout((function(){e.pixel&&e.pixel.length>0&&(e.show(e.pixel),e.dispatch("show",t))}),50)),vn(t.target,"mousedown",(function(){e.hide(),e.dispatch("hide",t)}),this,!0)},Zi.control.ContextMenu.prototype.show=function(t){this.element_.style.display="block",this.element_.style.top=t[1]+"px",this.element_.style.left=t[0]+"px";var e=this.getMap().getSize(),i=e[0]-this.element_.offsetWidth,n=e[1]-this.element_.offsetHeight;this.element_.offsetTop>n&&(this.element_.style.top=n+"px"),this.element_.offsetLeft>i&&(this.element_.style.left=i+"px")},Zi.control.ContextMenu.prototype.hide=function(){this.element_.style.display="none",this.pixel=[]},Zi.control.ContextMenu.prototype.htmlUtils=function(t,e,i,n){var o=this,r=null;return t&&Array.isArray(t)&&t.length>0&&(r=ln("ul",this.className_+"-ul"+e+"-inner",i,this.className_+"-ul"+e+"-inner"),n&&(r.style.position="absolute",r.style.top="0px",r.style.left=this.itemWidth+20+"px"),t.forEach((function(t,i){if(t&&t.name&&t.alias){var n=e+"-"+i,s=ln("li",o.className_+"-li-"+n+"-inner",r,o.className_+"-li-"+n+"-inner");if(s.style.width=o.itemWidth+"px",s.style.height=o.itemHeight+"px",s.style.lineHeight=o.itemHeight+"px",s.setAttribute("data-name",t.alias),vn(s,"click",o.handleItemClick_.bind(o,t)),t.icon){var a=ln("span","li-icon-content",s);if("iconfont"===t.iconType){var l=t.fontName?t.fontName:"iconfont";pn(a,l+" "+t.icon),t.iconColor&&(a.style.color=t.iconColor)}else a.style.background="url("+t.icon+") 0px 0px no-repeat"}ln("span","li-name-content",s).innerHTML=t.name,t.showLine&&(s.style.borderBottom="1px solid #CCCCCC"),t.items&&(o.htmlUtils(t.items,n,s,!0),vn(s,"mouseenter",o.handleItemMouseOver_,o),vn(s,"mouseleave",o.handleItemMouseOut_,o))}}))),r},Zi.control.ContextMenu.prototype.updateElement_=function(t,e,i){var n=cn(this.className_+"-ul-inner"),o=Qa(this.options.items),r=null;switch(t){case"pop":this.element_.removeChild(n),r=o.pop(),this.htmlUtils(o,"",this.element_);break;case"push":this.element_.removeChild(n),r=o=o.push(e),this.htmlUtils(o,"",this.element_);break;case"shift":this.element_.removeChild(n),r=o.shift(),this.htmlUtils(o,"",this.element_);break;case"unshift":this.element_.removeChild(n),r=o=o.unshift(e),this.htmlUtils(o,"",this.element_);break;case"reverse":this.element_.removeChild(n),r=o.reverse(),this.htmlUtils(o,"",this.element_);break;default:this.element_.removeChild(n),r=i,this.htmlUtils(i,"",this.element_)}return r},Zi.control.ContextMenu.prototype.getCurrentPixel=function(){return this.pixel},Zi.control.ContextMenu.prototype.getCurrentCoordinates=function(){return this.getMap().getCoordinateFromPixel(this.getCurrentPixel())},Zi.control.ContextMenu.prototype.handleItemClick_=function(t,e){var i=this;fn(e),t&&t.callback&&"function"==typeof t.callback&&t.callback(e,{source:t,pixel:this.getCurrentPixel(),coordinates:this.getCurrentCoordinates()}),this.dispatch("item-click",e,{source:t,pixel:this.getCurrentPixel(),coordinates:this.getCurrentCoordinates()}),window.setTimeout((function(){i.hide()}),50)},Zi.control.ContextMenu.prototype.handleItemMouseOver_=function(t){if(fn(t),t.target&&t.target.childNodes){var e=Array.prototype.slice.call(t.target.childNodes,0);e&&e.length>0&&e.every((function(t){return!t||"ul"!==t.nodeName.toLowerCase()||(t.style.display="block",!1)}))}},Zi.control.ContextMenu.prototype.handleItemMouseOut_=function(t){if(fn(t),t.target&&t.target.childNodes){var e=Array.prototype.slice.call(t.target.childNodes,0);e&&e.length>0&&e.every((function(t){return!t||"ul"!==t.nodeName.toLowerCase()||(t.style.display="none",!1)}))}},Zi.control.ContextMenu.prototype.setMap=function(t){Zi.control.Control.prototype.setMap.call(this,t),t&&t instanceof Zi.Map&&this.initDomInternal(this.options.items)},Zi.control.ContextMenu.prototype.pop=function(){return this.updateElement_("pop")},Zi.control.ContextMenu.prototype.push=function(t){if(t&&"object"===(void 0===t?"undefined":i(t)))return this.updateElement_("push",t);throw new Error("传入的不是对象")},Zi.control.ContextMenu.prototype.shift=function(){return this.updateElement_("shift")},Zi.control.ContextMenu.prototype.reverse=function(){return this.updateElement_("reverse")},Zi.control.ContextMenu.prototype.unshift=function(t){if(t&&"object"===(void 0===t?"undefined":i(t)))return this.updateElement_("unshift",t);throw new Error("传入的不是对象")},Zi.control.ContextMenu.prototype.update=function(t){if(!(t&&Array.isArray(t)&&t.length>0))throw new Error("传入的数组有误！");this.updateElement_("","",t)},Zi.control.ContextMenu.prototype.updateOption=function(t){if(!(t&&Array.isArray(t)&&t.length>0))throw new Error("传入的数组有误！");this.options.items=t,this.updateElement_("","",t)};Zi.control.ContextMenu;Zi.control.CompareLayer=function(t,e,i){if(this.options=i||{},!t||!e)throw new Error("图层必须传入！");this.beforeMap=t,this.afterMap=e,this.orderLayerZindex(),this.className=void 0!==this.options.className?this.options.className:"hmap-compare",this.initPosition=void 0!==this.options.initPosition?this.options.initPosition:.5,this.dragging_=!1,this.previousX_=null,this.previousY_=null,this.element_=ln("div",this.className+" "+Qo);var n=ln("div",this.className+"-inner",this.element_);vn(n,"pointerdown",this.handleDraggerStart_,this),vn(n,"pointermove",this.handleDraggerDrag_,this),vn(n,"pointerup",this.handleDraggerEnd_,this),vn(window,"pointerup",this.handleDraggerEnd_,this),Zi.control.Control.call(this,{element:this.element_,target:this.options.target})},Zi.inherits(Zi.control.CompareLayer,Zi.control.Control),Zi.control.CompareLayer.prototype.initControl=function(){this._bounds=this.getMap().getTargetElement().getBoundingClientRect(),this.percent=.5,this._setPosition(this._bounds.width,this._bounds.width/2),this.resize(),this.clipLayer()},Zi.control.CompareLayer.prototype.handleDraggerStart_=function(t){this.dragging_||t.target!==hn("."+this.className+"-inner",this.element_)[0]||(this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0)},Zi.control.CompareLayer.prototype.handleDraggerDrag_=function(t){this.dragging_&&(this._bounds=this.getMap().getTargetElement().getBoundingClientRect(),this._setPosition(this._bounds.width,this._getX(t)),this.previousX_=t.clientX,this.previousY_=t.clientY)},Zi.control.CompareLayer.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0)},Zi.control.CompareLayer.prototype.clipLayer=function(){var t=this;this.getMap().un("precompose",this.precompose),this.getMap().un("postcompose",this.postcompose),this.precompose=this.beforeMap.on("precompose",(function(e){var i=e.context,n=i.canvas.width*t.initPosition;i.save(),i.beginPath(),i.rect(n,0,i.canvas.width-n,i.canvas.height),i.clip()})),this.postcompose=this.beforeMap.on("postcompose",(function(t){t.context.restore()}))},Zi.control.CompareLayer.prototype._setPosition=function(t,e){var i="translate("+e+"px, 0)";this.element_.style.transform=i,this.element_.style.WebkitTransform=i,this._x=e,this.percent=e/t,this.initPosition=e/t,this.getMap().render()},Zi.control.CompareLayer.prototype.resize=function(){var t="orientationchange"in window?"orientationchange":"resize",e=window.document,i=this;window.addEventListener(t,(function(){setTimeout((function(){i._bounds=i.getMap().getTargetElement().getBoundingClientRect(),i._setPosition(i._bounds.width,i._bounds.width*i.percent)}),50)}),!1),window.addEventListener("pageshow",(function(t){t.persisted&&setTimeout((function(){i._bounds=i.getMap().getTargetElement().getBoundingClientRect(),i._setPosition(i._bounds.width,i._bounds.width*i.percent)}),50)}),!1),"complete"===e.readyState?setTimeout((function(){i._bounds=i.getMap().getTargetElement().getBoundingClientRect(),i._setPosition(i._bounds.width,i._bounds.width*i.percent)}),50):e.addEventListener("DOMContentLoaded",(function(t){setTimeout((function(){i._bounds=i.getMap().getTargetElement().getBoundingClientRect(),i._setPosition(i._bounds.width,i._bounds.width*i.percent)}),50)}),!1)},Zi.control.CompareLayer.prototype._getX=function(t){var e=(t=t.touches?t.touches[0]:t).clientX-this._bounds.left;return e<0&&(e=0),e>this._bounds.width&&(e=this._bounds.width),e},Zi.control.CompareLayer.prototype.setMap=function(t){if(!(t&&t instanceof Zi.Map))throw Error("传入的不是地图对象！");Zi.control.Control.prototype.setMap.call(this,t),t&&(t.render(),this.initControl())},Zi.control.CompareLayer.prototype.setBeforeLayet=function(t){if(!t)throw Error("设置图层错误！");this.beforeMap=t,this.orderLayerZindex()},Zi.control.CompareLayer.prototype.setAfterLayer=function(t){if(!t)throw Error("设置图层错误！");this.afterMap=t,this.orderLayerZindex()},Zi.control.CompareLayer.prototype.orderLayerZindex=function(){if(this.afterMap&&this.beforeMap){var t=this.afterMap.getZIndex(),e=this.beforeMap.getZIndex(),i=Math.max(t,e),n=Math.min(t,e);i===n&&(i+=1),this.beforeMap.setZIndex(i),this.afterMap.setZIndex(n)}};Zi.control.CompareLayer;Zi.control.ScaleLineH=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0!==t.className?t.className:"hmap-scale-line-control";this.element_=ln("div",e+" "+Qo),this.innerElement_=ln("div",e+"-inner",this.element_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";var i=t.render?t.render:Zi.control.ScaleLineH.render;Zi.control.Control.call(this,{element:this.element_,render:i,target:t.target}),vn(this,"change:"+Zi.control.ScaleLineH.Property_.UNITS,this.handleUnitsChanged_,this),this.setUnits(t.units||Zi.control.ScaleLineH.ScaleLineUnits.METRIC)},Zi.inherits(Zi.control.ScaleLineH,Zi.control.Control),Zi.control.ScaleLineH.LEADING_DIGITS=[1,2,5],Zi.control.ScaleLineH.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",CHINESEMETRIC:"metric_cn",US:"us"},Zi.control.ScaleLineH.prototype.getUnits=function(){return this.get(Zi.control.ScaleLineH.Property_.UNITS)},Zi.control.ScaleLineH.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},Zi.control.ScaleLineH.prototype.handleUnitsChanged_=function(){this.updateElement_()},Zi.control.ScaleLineH.prototype.setUnits=function(t){this.set(Zi.control.ScaleLineH.Property_.UNITS,t)},Zi.control.ScaleLineH.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=[t.center,t.projection],i=e[0],n=e[1],o=this.getUnits(),r=o===Zi.control.ScaleLineH.ScaleLineUnits.DEGREES?$o.DEGREES:$o.METERS,s=Zi.proj.getPointResolution(n,t.resolution,i,r),a=this.minWidth_*s,l="";if(o===Zi.control.ScaleLineH.ScaleLineUnits.DEGREES){var h=Zi.proj.METERS_PER_UNIT[$o.DEGREES];n.getUnits()===$o.DEGREES?a*=h:s/=h,a<h/60?(l="″",s*=3600):a<h?(l="′",s*=60):l="°"}else o===Zi.control.ScaleLineH.ScaleLineUnits.IMPERIAL?a<.9144?(l="in",s/=.0254):a<1609.344?(l="ft",s/=.3048):(l="mi",s/=1609.344):o===Zi.control.ScaleLineH.ScaleLineUnits.NAUTICAL?(s/=1852,l="nm"):o===Zi.control.ScaleLineH.ScaleLineUnits.METRIC?a<.001?(l="μm",s*=1e6):a<1?(l="mm",s*=1e3):a<1e3?l="m":(l="km",s/=1e3):o===Zi.control.ScaleLineH.ScaleLineUnits.US?a<.9144?(l="in",s*=39.37):a<1609.344?(l="ft",s/=.30480061):(l="mi",s/=1609.3472):o===Zi.control.ScaleLineH.ScaleLineUnits.CHINESEMETRIC?a<.001?(l="微米",s*=1e6):a<1?(l="毫米",s*=1e3):a<1e3?l="米":(l="千米",s/=1e3):Zi.asserts.assert(!1,33);for(var c=3*Math.floor(Math.log(this.minWidth_*s)/Math.log(10)),u=[],p=u[0],g=u[1];;){if(p=Zi.control.ScaleLineH.LEADING_DIGITS[(c%3+3)%3]*Math.pow(10,Math.floor(c/3)),g=Math.round(p/s),isNaN(g))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++c}var d=p+" "+l;this.renderedHTML_!==d&&(this.innerElement_.innerHTML=d,this.renderedHTML_=d),this.renderedWidth_!==g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},Zi.control.ScaleLineH.Property_={UNITS:"units"};Zi.control.ScaleLineH;Zi.control.MousePositionH=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.className_=void 0!==t.className?t.className:"hmap-mouse-position";var e=ln("div",this.className_+" "+Qo),i=t.render?t.render:Zi.control.MousePositionH.render;Zi.control.Control.call(this,{element:e,render:i,target:t.target}),vn(this,"change:"+Zi.control.MousePositionH.Property_.PROJECTION,this.handleProjectionChanged_,this),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),t.units&&this.setUnits(t.units),this.undefinedHTML_=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.renderedHTML_=e.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null,this.followMouse_=!0===t.followMouse&&t.followMouse,this.popver_=null,this._bounds=null},Zi.inherits(Zi.control.MousePositionH,Zi.control.Control),Zi.control.MousePositionH.render=function(t){var e=t.frameState;e?this.mapProjection_!==e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null,this.getMap()&&this.lastMouseMovePixel_&&(this.followMouse_?this.followMousePopver_(this.lastMouseMovePixel_):this.updateHTML_(this.lastMouseMovePixel_))},Zi.control.MousePositionH.prototype.handleProjectionChanged_=function(){this.transform_=null},Zi.control.MousePositionH.prototype.getCoordinateFormat=function(){return this.get(Zi.control.MousePositionH.Property_.COORDINATE_FORMAT)},Zi.control.MousePositionH.prototype.getProjection=function(){return this.get(Zi.control.MousePositionH.Property_.PROJECTION)},Zi.control.MousePositionH.prototype.handleMouseMove=function(t){var e=this.getMap();e&&(this.lastMouseMovePixel_=e.getEventPixel(t),this.lastMouseMovePixel_&&(this.followMouse_?this.followMousePopver_(t):this.updateHTML_(this.lastMouseMovePixel_)))},Zi.control.MousePositionH.prototype.followMousePopver_=function(){var t=this.getHTML_(this.lastMouseMovePixel_),e=this.getMap(),i=e.getCoordinateFromPixel(this.lastMouseMovePixel_);if(this.popver_){var n=this.popver_.getElement();n.innerHTML=t,n.offsetWidth>=this._bounds.width-this.lastMouseMovePixel_[0]?(this.popver_.setPositioning("center-right"),this.popver_.setOffset([-10,0])):(this.popver_.setPositioning("center-left"),this.popver_.setOffset([10,0])),this.popver_.setPosition(i),this.popver_.setElement(n)}else{var o=ln("div",this.className_+"_overlay");o.innerHTML=t,this.popver_=new Zi.Overlay({element:o,offset:[10,0],position:i,positioning:"center-left"}),e.addOverlay(this.popver_),e.render()}},Zi.control.MousePositionH.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},Zi.control.MousePositionH.prototype.setMap=function(t){if(Zi.control.Control.prototype.setMap.call(this,t),t){var e=t.getViewport();this._bounds=t.getTargetElement().getBoundingClientRect(),vn(e,"mousemove",this.handleMouseMove,this),vn(e,"mouseout",this.handleMouseOut,this)}},Zi.control.MousePositionH.prototype.setCoordinateFormat=function(t){this.set(Zi.control.MousePositionH.Property_.COORDINATE_FORMAT,t)},Zi.control.MousePositionH.prototype.setProjection=function(t){this.set(Zi.control.MousePositionH.Property_.PROJECTION,Zi.proj.get(t))},Zi.control.MousePositionH.prototype.setUnits=function(t){this.set(Zi.control.MousePositionH.Property_.PROJECTION,t)},Zi.control.MousePositionH.prototype.updateHTML_=function(t){var e=this.getHTML_(t);this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},Zi.control.MousePositionH.prototype.getHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();this.transform_=i?Zi.proj.getTransformFromProjections(this.mapProjection_,i):Zi.control.MousePositionH.identityTransform}var n=this.getMap().getCoordinateFromPixel(t);if(n){this.transform_(n,n);var o=this.getCoordinateFormat();e=o?o(n):Zi.control.MousePositionH.Property_.UNITS[0]+"："+n[0]+" "+Zi.control.MousePositionH.Property_.UNITS[1]+"："+n[1]}}return e},Zi.control.MousePositionH.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat",UNITS:["经度","纬度"]},Zi.control.MousePositionH.identityTransform=function(t,e,i){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t};Zi.control.MousePositionH;Zi.control.OverviewMapH=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.collapsed_=void 0===t.collapsed||t.collapsed,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);var e=void 0!==t.className?t.className:"hmap-overview-map",i=ln("div",e+" "+Qo);this.ovmapDiv_=ln("div","hmap-overview-map-target",i),this.collapsible_&&(this.collapsElement_=ln("div","hmap-overview-map-button",i),vn(this.collapsElement_,"click",this.handleClick_,this)),this.ovmap_=new Zi.Map({controls:new Zi.Collection,interactions:new Zi.Collection,view:t.view});var n=t.render?t.render:Zi.control.OverviewMapH.render;Zi.control.Control.call(this,{element:i,render:n,target:t.target}),this.addBoxControl_()},Zi.inherits(Zi.control.OverviewMapH,Zi.control.Control),Zi.control.OverviewMapH.prototype.addOptionLayers_=function(t){var e=this.ovmap_;t.layers&&t.layers.forEach((function(t){e.addLayer(t)}),this)},Zi.control.OverviewMapH.computeDesiredMousePosition=function(t,e){return{clientX:t.clientX-e.offsetWidth/2,clientY:t.clientY+e.offsetHeight/2}},Zi.control.OverviewMapH.prototype.move_=function(t){var e=this.boxOverlay_.getElement(),i=this.ovmap_.getEventCoordinate(Zi.control.OverviewMapH.computeDesiredMousePosition(t,e));this.boxOverlay_.setPosition(i)},Zi.control.OverviewMapH.prototype.endMoving_=function(t){var e=this.ovmap_.getEventCoordinate(t);this.getMap().getView().setCenter(e),_n(window,"mousemove",this.move_,this),_n(window,"mouseup",this.endMoving_,this)},Zi.control.OverviewMapH.prototype.addEvent_=function(){vn(window,"mousemove",this.move_,this),vn(window,"mouseup",this.endMoving_,this)},Zi.control.OverviewMapH.prototype.addBoxControl_=function(){var t=ln("div","hmap-overview-map-box");vn(t,"mousedown",this.addEvent_,this),this.boxOverlay_=new Zi.Overlay({position:[0,0],positioning:"bottom-left",element:t}),this.ovmap_.addOverlay(this.boxOverlay_)},Zi.control.OverviewMapH.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var i=e.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(Zi.control.Control.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),vn(t,"propertychange",this.handleMapPropertyChange_,this),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(t.getLayerGroup());var n=t.getView();n&&(this.bindView_(n),this.isDef(n)&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},Zi.control.OverviewMapH.prototype.isDef=function(t){return!!t.getCenter()&&void 0!==t.getResolution()},Zi.control.OverviewMapH.prototype.handleMapPropertyChange_=function(t){if("view"===t.key){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}},Zi.control.OverviewMapH.prototype.bindView_=function(t){vn(t,"change:rotation",this.handleRotationChanged_,this)},Zi.control.OverviewMapH.prototype.unbindView_=function(t){_n(t,"change:rotation",this.handleRotationChanged_,this)},Zi.control.OverviewMapH.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},Zi.control.OverviewMapH.render=function(t){this.validateExtent_(),this.updateBox_()},Zi.control.OverviewMapH.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),n=t.getView().calculateExtent(i),o=e.getSize(),r=e.getView().calculateExtent(o),s=e.getPixelFromCoordinate(Zi.extent.getTopLeft(n)),a=e.getPixelFromCoordinate(Zi.extent.getBottomRight(n)),l=Math.abs(s[0]-a[0]),h=Math.abs(s[1]-a[1]),c=o[0],u=o[1];l<c*tr||h<u*tr||l>c*er||h>u*er?this.resetExtent_():Zi.extent.containsExtent(r,n)||this.recenter_()},Zi.control.OverviewMapH.prototype.resetExtent_=function(){if(0!==er&&0!==tr){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),n=t.getView().calculateExtent(i),o=e.getView(),r=Math.log(er/tr)/Math.LN2,s=1/(Math.pow(2,r/2)*tr);this.scaleFromCenter(n,s),o.fit(n)}},Zi.control.OverviewMapH.prototype.scaleFromCenter=function(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n},Zi.control.OverviewMapH.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView();e.getView().setCenter(i.getCenter())},Zi.control.OverviewMapH.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),n=t.getView(),o=e.getView(),r=n.getRotation(),s=this.boxOverlay_,a=this.boxOverlay_.getElement(),l=n.calculateExtent(i),h=o.getResolution(),c=Zi.extent.getBottomLeft(l),u=Zi.extent.getTopRight(l),p=this.calculateCoordinateRotate_(r,c);s.setPosition(p),a&&(a.style.width=Math.abs((c[0]-u[0])/h)+"px",a.style.height=Math.abs((u[1]-c[1])/h)+"px")},Zi.control.OverviewMapH.prototype.calculateCoordinateRotate_=function(t,e){var i=void 0,n=this.getMap().getView().getCenter();return n&&(i=[e[0]-n[0],e[1]-n[1]],Zi.coordinate.rotate(i,t),Zi.coordinate.add(i,n)),i},Zi.control.OverviewMapH.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},Zi.control.OverviewMapH.prototype.handleToggle_=function(){this.collapsed_?(this.collapsed_=!1,event.target.style.backgroundPosition="-40px -405px",this.element.style.width="17px",this.element.style.height="17px"):(this.collapsed_=!0,event.target.style.backgroundPosition="-40px -386px",this.element.style.width="120px",this.element.style.height="120px");var t,e,i,n=this.ovmap_;this.collapsed_||n||(n.updateSize(),this.resetExtent_(),t=n,e="postrender",i=this.updateBox_,vn(t,e,i,this,!0))},Zi.control.OverviewMapH.prototype.getCollapsible=function(){return this.collapsible_},Zi.control.OverviewMapH.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,!t&&this.collapsed_&&this.handleToggle_())},Zi.control.OverviewMapH.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},Zi.control.OverviewMapH.prototype.getCollapsed=function(){return this.collapsed_},Zi.control.OverviewMapH.prototype.getOverviewMap=function(){return this.ovmap_};Zi.control.OverviewMapH;var $a=function(){function t(){n(this,t)}return t.prototype._addControls=function(t){var e=t||{},i=[];if(e.hasOwnProperty("zoom")||this.addZoom({},i),e.hasOwnProperty("rotate")||this.addRotate({},i),e)for(var n in e)n&&e[n]&&this["add"+Qi(n)](e[n],i);return i},t.prototype.addZoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getControls()).push(new Zi.control.ZoomMenu({className:t.className,duration:t.duration,target:t.target,delta:t.delta}))},t.prototype.addRotate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getControls()).push(new Zi.control.RotateControl({className:t.className,duration:t.duration,label:t.resetNorth,autoHide:t.autoHide,target:t.target}))},t.prototype.addAttribution=function(t,e){(e=e||this.map.getControls()).push(new Zi.control.Attribution({className:t.className?t.className:"ol-attribution",label:t.label?t.label:"i",tipLabel:t.tipLabel&&"string"==typeof t.tipLabel?t.tipLabel:"版权",collapsible:!1!==t.collapsible||t.collapsible,collapsed:!1!==t.collapsed||t.collapsed,collapseLabel:t.collapseLabel?t.collapseLabel:"»",target:t.target?t.target:void 0}))},t.prototype.addScaleLine=function(t,e){(e=e||this.map.getControls()).push(new Zi.control.ScaleLineH({units:t.units?t.units:"metric_cn"}))},t.prototype.addFullScreen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getControls()).push(new Zi.control.FullScreenMenu(t))},t.prototype.addMousePosition=function(t,e){e=e||this.map.getControls(),t.projection||(t.projection=this.view.getProjection()),e.push(new Zi.control.MousePositionH(t))},t.prototype.addZoomSlider=function(t,e){e=e||this.map.getControls();var i=new Zi.control.BZoomSlider(t);e.push(i)},t.prototype.addGeolocation=function(t,e){(e=e||this.map.getControls()).push(new Zi.control.Geolocation(t))},t.prototype.addLoading=function(t,e){e=e||this.map.getControls();var i=new Zi.control.Loading({className:t.className?t.className:"hmap-loading-panel",widget:t.widget?t.widget:"animatedGif",target:t.target?t.target:void 0});e.push(i)},t.prototype.addCompareLayer=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];n=n||this.map.getControls();var o=new Zi.control.CompareLayer(t,e,i);n.push(o)},t.prototype.addContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=e||this.map.getControls();var i=new Zi.control.ContextMenu(t);e.push(i)},t.prototype.addLayerSwitcher=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=e||this.map.getControls();var i=new Zi.control.LayerSwitcher(t);e.push(i)},t.prototype.addOverviewMap=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=e||this.map.getControls();var i=new Zi.control.OverviewMapH(t);e.push(i)},t}(),tl=function(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n},el=function(t,e){var i=t[0],n=t[1],o=e[0],r=e[1],s=o[0],a=o[1],l=r[0],h=r[1],c=l-s,u=h-a,p=0===c&&0===u?0:(c*(i-s)+u*(n-a))/(c*c+u*u||0),g=void 0,d=void 0;return p<=0?(g=s,d=a):p>=1?(g=l,d=h):(g=s+p*c,d=a+p*u),[g,d]},il=function(t,e){return tl(t,el(t,e))},nl=p((function(t,e){t.exports=function(){function t(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(i,n,o,r,s){!function e(i,n,o,r,s){for(;r>o;){if(r-o>600){var a=r-o+1,l=n-o+1,h=Math.log(a),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(a-c)/a)*(l-a/2<0?-1:1),p=Math.max(o,Math.floor(n-l*c/a+u)),g=Math.min(r,Math.floor(n+(a-l)*c/a+u));e(i,n,p,g,s)}var d=i[n],f=o,y=r;for(t(i,o,n),s(i[r],d)>0&&t(i,o,r);f<y;){for(t(i,f,y),f++,y--;s(i[f],d)<0;)f++;for(;s(i[y],d)>0;)y--}0===s(i[o],d)?t(i,o,y):(y++,t(i,y,r)),y<=n&&(o=y+1),n<=y&&(r=y-1)}}(i,n,o||0,r||i.length-1,s||e)}}()})),ol=rl;function rl(t,e){if(!(this instanceof rl))return new rl(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function sl(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function al(t,e){ll(t,0,t.children.length,e,t)}function ll(t,e,i,n,o){o||(o=vl(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r,s=e;s<i;s++)r=t.children[s],hl(o,t.leaf?n(r):r);return o}function hl(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function cl(t,e){return t.minX-e.minX}function ul(t,e){return t.minY-e.minY}function pl(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function gl(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dl(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function fl(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,o-i)*Math.max(0,r-n)}function yl(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ml(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function vl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _l(t,e,i,n,o){for(var r,s=[e,i];s.length;)(i=s.pop())-(e=s.pop())<=n||(r=e+Math.ceil((i-e)/n/2)*n,nl(t,r,e,i,o),s.push(e,r,r,i))}rl.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!ml(t,e))return i;for(var o,r,s,a,l=[];e;){for(o=0,r=e.children.length;o<r;o++)s=e.children[o],ml(t,a=e.leaf?n(s):s)&&(e.leaf?i.push(s):yl(t,a)?this._all(s,i):l.push(s));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!ml(t,e))return!1;for(var n,o,r,s,a=[];e;){for(n=0,o=e.children.length;n<o;n++)if(r=e.children[n],ml(t,s=e.leaf?i(r):r)){if(e.leaf||yl(t,s))return!0;a.push(r)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=vl([]),this},remove:function(t,e){if(!t)return this;for(var i,n,o,r,s=this.data,a=this.toBBox(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),s.leaf&&-1!==(o=sl(t,s.children,e)))return s.children.splice(o,1),l.push(s),this._condense(l),this;r||s.leaf||!yl(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(l.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:cl,compareMinY:ul,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var o,r=i-e+1,s=this._maxEntries;if(r<=s)return al(o=vl(t.slice(e,i+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,n-1))),(o=vl([])).leaf=!1,o.height=n;var a,l,h,c,u=Math.ceil(r/s),p=u*Math.ceil(Math.sqrt(s));for(_l(t,e,i,p,this.compareMinX),a=e;a<=i;a+=p)for(_l(t,a,h=Math.min(a+p-1,i),u,this.compareMinY),l=a;l<=h;l+=u)c=Math.min(l+u-1,h),o.children.push(this._build(t,l,c,n-1));return al(o,this.toBBox),o},_chooseSubtree:function(t,e,i,n){for(var o,r,s,a,l,h,c,u;n.push(e),!e.leaf&&n.length-1!==i;){for(c=u=1/0,o=0,r=e.children.length;o<r;o++)l=pl(s=e.children[o]),(h=dl(t,s)-l)<u?(u=h,c=l<c?l:c,a=s):h===u&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,o=i?t:n(t),r=[],s=this._chooseSubtree(o,this.data,e,r);for(s.children.push(t),hl(s,o);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(o,r,e)},_split:function(t,e){var i=t[e],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);var r=this._chooseSplitIndex(i,o,n),s=vl(i.children.splice(r,i.children.length-r));s.height=i.height,s.leaf=i.leaf,al(i,this.toBBox),al(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=vl([t,e]),this.data.height=t.height+1,this.data.leaf=!1,al(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,o,r,s,a,l,h,c;for(l=h=1/0,n=e;n<=i-e;n++)s=fl(o=ll(t,0,n,this.toBBox),r=ll(t,n,i,this.toBBox)),a=pl(o)+pl(r),s<l?(l=s,c=n,h=a<h?a:h):s===l&&a<h&&(h=a,c=n);return c},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:cl,o=t.leaf?this.compareMinY:ul;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,o)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var o,r,s=this.toBBox,a=ll(t,0,e,s),l=ll(t,i-e,i,s),h=gl(a)+gl(l);for(o=e;o<i-e;o++)r=t.children[o],hl(a,t.leaf?s(r):r),h+=gl(a);for(o=i-e-1;o>=e;o--)r=t.children[o],hl(l,t.leaf?s(r):r),h+=gl(l);return h},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)hl(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():al(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var xl=function(){function t(e){n(this,t),this.rbush_=ol(e,void 0),this.items_={}}return t.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[sn(e)]=i},t.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,o=e.length;n<o;n++){var r=t[n],s=e[n],a={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};i[n]=a,this.items_[sn(s)]=a}this.rbush_.load(i)},t.prototype.remove=function(t){var e=sn(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},t.prototype.update=function(t,e){var i=this.items_[sn(e)];(function(){for(var t=!0,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce((function(e,i){return e[0]===i[0]&&e[1]===i[1]&&e[2]===i[2]&&e[3]===i[3]||(t=!1),i})),t})([i.minX,i.minY,i.maxX,i.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},t.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},t.prototype.forEach_=function(t,e,i){for(var n=void 0,o=0,r=t.length;o<r;o++)if(n=e.call(i,t[o]))return n;return n},t.prototype.isEmpty=function(){return function(t){try{return 0===Object.keys(t).length}catch(e){return"{}"===JSON.stringify(t)}}(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.data;return[e.minX,e.minY,e.maxX,e.maxY]},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]},t}();function Cl(t,e){return il(this.pixelCoordinate_,t.segment)-il(this.pixelCoordinate_,e.segment)}var Il=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var o=s(this,t.call(this,{handleEvent:e.handleEvent,handleDownEvent:function(){return!0},handleUpEvent:e.handleUpEvent,stopDown:function(){return!1}}));return o.source_=i.source?i.source:null,o.vertex_=void 0===i.vertex||i.vertex,o.edge_=void 0===i.edge||i.edge,o.features_=i.features?i.features:null,o.featuresListenerKeys_=[],o.featureChangeListenerKeys_={},o.indexedFeaturesExtents_={},o.pendingFeatures_={},o.pixelCoordinate_=null,o.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,o.sortByDistance_=Cl.bind(o),o.rBush_=new xl,o.SEGMENT_WRITERS_={Point:o.writePointGeometry_,LineString:o.writeLineStringGeometry_,LinearRing:o.writeLineStringGeometry_,Polygon:o.writePolygonGeometry_,MultiPoint:o.writeMultiPointGeometry_,MultiLineString:o.writeMultiLineStringGeometry_,MultiPolygon:o.writeMultiPolygonGeometry_,GeometryCollection:o.writeGeometryCollectionGeometry_,Circle:o.writeCircleGeometry_},o}return r(e,t),e.handleEvent=function(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),Zi.interaction.Pointer.handleEvent.call(this,t)},e.handleUpEvent=function(t){var e=this,i=Object.keys(this.pendingFeatures_).map((function(t){return e.pendingFeatures_[t]}));return i.length&&(i.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.addFeature=function(t,e){var i=void 0===e||e,n=sn(t),o=t.getGeometry();if(o){var r=this.SEGMENT_WRITERS_[o.getType()];r&&(this.indexedFeaturesExtents_[n]=o.getExtent(Zi.extent.createEmpty()),r.call(this,t,o))}i&&(this.featureChangeListenerKeys_[n]=t.on("change",this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t=void 0;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype._uid=function(t){this.addFeature(t.feature)},e.prototype.handleFeatureRemove_=function(t){this.removeFeature(t.feature)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=sn(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},e.prototype.removeFeature=function(t,e){var i=void 0===e||e,n=sn(t),o=this.indexedFeaturesExtents_[n];if(o){var r=this.rBush_,s=[];r.forEachInExtent(o,(function(e){t===e.feature&&s.push(e)}));for(var a=s.length-1;a>=0;--a)r.remove(s[a])}i&&(Zi.Observable.unByKey(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},e.prototype.setMap=function(e){var i=this.getMap(),n=this.featuresListenerKeys_,o=this.getFeatures_();i&&(n.forEach((function(t){Zi.Observable.unByKey(t)})),n.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.source_&&n.push(this.source_.on("addfeature",this.handleFeatureAdd_,this),this.source_.on("removefeature",this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,i){var n=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),o=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),r=Zi.extent.boundingExtent([n,o]),s=this.rBush_.getInExtent(r);this.vertex_&&!this.edge_&&(s=s.filter((function(t){return"Circle"!==t.feature.getGeometry().getType()})));var a,l,h=!1,c=null,u=null,p=void 0,g=void 0,d=void 0,f=void 0;if(s.length>0){this.pixelCoordinate_=e,s.sort(this.sortByDistance_);var y=s[0].segment,m="Circle"===s[0].feature.getGeometry().getType();this.vertex_&&!this.edge_?(p=i.getPixelFromCoordinate(y[0]),g=i.getPixelFromCoordinate(y[1]),d=tl(t,p),f=tl(t,g),Math.sqrt(Math.min(d,f))<=this.pixelTolerance_&&(h=!0,c=d>f?y[1]:y[0],u=i.getPixelFromCoordinate(c))):this.edge_&&(c=m?function(t,e){var i=e.getRadius(),n=e.getCenter(),o=n[0],r=n[1],s=t[0]-o,a=t[1]-r;0===s&&0===a&&(s=1);var l=Math.sqrt(s*s+a*a);return[o+i*s/l,r+i*a/l]}(e,s[0].feature.getGeometry()):el(e,y),u=i.getPixelFromCoordinate(c),a=t,l=u,Math.sqrt(tl(a,l))<=this.pixelTolerance_&&(h=!0,this.vertex_&&!m&&(p=i.getPixelFromCoordinate(y[0]),g=i.getPixelFromCoordinate(y[1]),d=tl(u,p),f=tl(u,g),Math.sqrt(Math.min(d,f))<=this.pixelTolerance_&&(c=d>f?y[1]:y[0],u=i.getPixelFromCoordinate(c))))),h&&(u=[Math.round(u[0]),Math.round(u[1])])}return{snapped:h,vertex:c,vertexPixel:u}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var i=Zi.geom.Polygon.fromCircle(e).getCoordinates()[0],n=0,o=i.length-1;n<o;++n){var r=i.slice(n,n+2),s={feature:t,segment:r};this.rBush_.insert(Zi.extent.boundingExtent(r),s)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),n=0;n<i.length;++n){var o=this.SEGMENT_WRITERS_[i[n].getType()];o&&o.call(this,t,i[n])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length-1;n<o;++n){var r=i.slice(n,n+2),s={feature:t,segment:r};this.rBush_.insert(Zi.extent.boundingExtent(r),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n)for(var r=i[n],s=0,a=r.length-1;s<a;++s){var l=r.slice(s,s+2),h={feature:t,segment:l};this.rBush_.insert(Zi.extent.boundingExtent(l),h)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n){var r=i[n],s={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n)for(var r=i[n],s=0,a=r.length;s<a;++s)for(var l=r[s],h=0,c=l.length-1;h<c;++h){var u=l.slice(h,h+2),p={feature:t,segment:u};this.rBush_.insert(Zi.extent.boundingExtent(u),p)}},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n)for(var r=i[n],s=0,a=r.length-1;s<a;++s){var l=r.slice(s,s+2),h={feature:t,segment:l};this.rBush_.insert(Zi.extent.boundingExtent(l),h)}},e}(Zi.interaction.Pointer);Zi.interaction.FreeHandCircle=function(t){this.options=t||{},this.wgs84Sphere=new Zi.Sphere("number"==typeof this.options.sphere?this.options.sphere:6378137),this.layerName=this.options.layerName||"FREE_HAND_CIRCLE",this.centerStyle=this.options.centerStyle||null,this.layer=null,this.radius="",this.center_=[],this.isMouseDown=!1,this.isDraging=!1,this.cursor_="pointer",this.drawStart_=!1,this.previousCursor_=void 0,this.coordinate_=null,this.feature_=null,this.textOverlay=null,this.circleFeature=null,this.centerFeature=null,this.labelFeature=null,this.style_={fill:{fillColor:"rgba(67, 110, 238, 0)"},stroke:{strokeColor:"rgba(249, 185, 154, 1)",strokeWidth:2.5},image:{type:"",image:{fill:{fillColor:"rgba(255, 255, 255, 0.8)"},points:1/0,radius:4,stroke:{strokeColor:"rgba(255, 0, 0, 1)",strokeWidth:1.5}}}},this.options.style&&"object"===i(this.options.style)&&(this.style_=this.options.style),Zi.interaction.Pointer.call(this,{handleMoveEvent:Zi.interaction.FreeHandCircle.handleMoveEvent_,handleDownEvent:Zi.interaction.FreeHandCircle.handleDownEvent_,handleUpEvent:Zi.interaction.FreeHandCircle.handleUpEvent_,handleDragEvent:Zi.interaction.FreeHandCircle.handleDragEvent_}),Ji.call(this)},Zi.inherits(Zi.interaction.FreeHandCircle,Zi.interaction.Pointer),Un(Zi.interaction.FreeHandCircle,Ji),Zi.interaction.FreeHandCircle.handleMoveEvent_=function(t){var e=this;if(this.cursor_){var i=t.map,n=i.forEachFeatureAtPixel(t.pixel,(function(t){return t}),{layerFilter:function(t){return t.get("layerName")===e.layerName}}),o=i.getTargetElement();n&&n.get("free-hand-circle-lable")?o.style.cursor!==this.cursor_&&(this.previousCursor_=o.style.cursor,o.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(o.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},Zi.interaction.FreeHandCircle.handleDownEvent_=function(t){var e=this;if(this.isMouseDown=!0,!this.drawStart_&&0===t.originalEvent.button){var i=t.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}),{layerFilter:function(t){return t.get("layerName")===e.layerName}});return i&&i.get("free-hand-circle-lable")&&(this.coordinate_=t.coordinate,this.feature_=i),!!this.feature_}},Zi.interaction.FreeHandCircle.handleUpEvent_=function(t){return this.feature_&&this.coordinate_&&this.isDraging&&this.dispatch("changeend",this.circleFeature.getGeometry()),this.coordinate_=null,this.feature_=null,this.isMouseDown=!1,this.isDraging=!1,!1},Zi.interaction.FreeHandCircle.handleDragEvent_=function(t){if(this.coordinate_&&this.feature_){this.isDraging=!0;var e=t.coordinate[0]-this.coordinate_[0],i=this.feature_.getGeometry();i.translate(e,0),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1],this.createCircle(this.center_,this.mathRadius(this.center_,i.getCoordinates()))}},Zi.interaction.FreeHandCircle.prototype.initDrawInteraction=function(){if(this.getMap()){var t=new Wn(this.style_);this.draw=new Zi.interaction.Draw({type:"Circle",style:t}),this.draw.set("uuid",on()),this.getMap().addInteraction(this.draw),this.draw.on("drawstart",this.drawStartHandle_,this),this.draw.on("drawend",this.drawEndHandle_,this)}},Zi.interaction.FreeHandCircle.prototype.removeLastInteraction_=function(){this.getMap()&&(this.draw.un("drawstart",this.drawStartHandle_,this),this.draw.un("drawend",this.drawEndHandle_,this),this.getMap().removeInteraction(this.draw))},Zi.interaction.FreeHandCircle.prototype.drawStartHandle_=function(t){this.drawStart_=!0},Zi.interaction.FreeHandCircle.prototype.drawEndHandle_=function(t){if(t&&t.feature){var e=t.feature.getGeometry();this.center_=e.getCenter();var i=e.getLastCoordinate();this.radius=this.mathRadius(this.center_,i),this.createCircle(this.center_,this.radius)}this.removeLastInteraction_(),this.drawStart_=!1},Zi.interaction.FreeHandCircle.prototype.createCircle=function(t,e){var i=this;if(this.getMap()){var n=new Wn(this.style_);this.layer||(this.layer=En(this.getMap(),this.layerName,{create:!0}),this.layer.setStyle(n));var o=this.transformCenterAndRadius_(t,e);if(this.circleFeature)this.circleFeature.getGeometry().setCenterAndRadius(o.center,o.radius);else{this.circleFeature=new Zi.Feature({geometry:new Zi.geom.Circle(o.center,o.radius)});var r=this.draw&&this.draw.get("uuid")?this.draw.get("uuid"):on();this.circleFeature.set("uuid",r),this.layer.getSource().addFeature(this.circleFeature),this.circleFeature.getGeometry().on("change",(function(t){var e=t.target,n=e.getLastCoordinate();i.center_=e.getCenter(),i.radius=i.mathRadius(i.center_,n),i.addLabelFeature_(i.center_,"center"),i.addLabelFeature_(n,"endLabel"),i.drawTextLabel_(i.radius+" m",n),!i.drawStart_&&i.isMouseDown&&i.isDraging||i.dispatch("changeend",e)})),this.circleFeature.getGeometry().dispatchEvent("change")}}},Zi.interaction.FreeHandCircle.prototype.transformCenterAndRadius_=function(t,e){var i=Zi.proj.transform(t,this._getProjectionCode(),"EPSG:4326"),n=new Zi.geom.Circle(i,this.transformRadius(i,e)).transform("EPSG:4326",this._getProjectionCode());return{center:n.getCenter(),radius:n.getRadius()}},Zi.interaction.FreeHandCircle.prototype.addLabelFeature_=function(t,e){if("center"===e)if(this.centerFeature)this.centerFeature.setGeometry(new Zi.geom.Point(t));else{if(this.centerFeature=new Zi.Feature({uuid:this.circleFeature.get("uuid"),geometry:new Zi.geom.Point(t)}),this.centerStyle){var i=new Wn(this.centerStyle);this.centerFeature.setStyle(i)}this.layer.getSource().addFeature(this.centerFeature)}else if(this.labelFeature)this.labelFeature.setGeometry(new Zi.geom.Point(t));else{this.labelFeature=new Zi.Feature({uuid:this.circleFeature.get("uuid"),geometry:new Zi.geom.Point(t)});var n=new Wn({image:{type:"icon",image:{imageSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAATCAYAAAGCZu9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTAyQjQ0OTk5MUZGMTFFN0JCMzdENDYyNTY0RDI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTAyQjQ0OUE5MUZGMTFFN0JCMzdENDYyNTY0RDI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMDJCNDQ5NzkxRkYxMUU3QkIzN0Q0NjI1NjREMjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMDJCNDQ5ODkxRkYxMUU3QkIzN0Q0NjI1NjREMjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poms414AAAUoSURBVHjaYmxqamJg+PTJn+H//0gGBoYVtT09G1iADMm86uoNDBAQDsSMTEDi+bPHj9/9//eP4dWzZx9AMgABxAjW/vHjCrA6fv4Ixo8fPvwHAgYYYObi4rpnZmoaCLSAYfKUKSIAAcQA0nJkz54nP3/8+I+OTx858hykG2SZiJ6JifS7N28YXEqvMCDTqlpaEiCjAQIIYjkDAwvQAd0gJ0OtfAl0SD5EgoFBubys7A4DJsjr7OoC+unjxyXfv38HGw2ikdmcv36dZ2Lg4Dj5/etXhlXlEgwgGoX948cMJgZ29obZEybs5+TmZuDg5ARjEHt2f/8+Bj6+mQABBHMkI8PPn8YO9vbrbZydZZADCB0wMjIynDx06NnuLVscgR65VVtbCw4ODoYvX+aU1tScNraykgG578ePHwwOhRfANAzD+CB5PVNTqdLm5psMHz70gQwGGSLG8O+fyvcvX+B+8ai8AbYVxgdhEACJw/jfgOqBwAoW5sxA2gdoalVmebnZD6BNhAA7BwfDjK6uMwwCApZA7/wBxctfIN4IFNg9feZMTSBbCYi5cej/BsQPgPgaUP0XmCBAAMECFhK437+LMvz6lQtkq2JoB4U2IyPIn1OBAfoGJgwKWBYomxOYEFaVtbR4srKxMTPgih1gzABBfWtp6XagS7xhwqCAZWP4/HlGZUeHDzD6mP/8/s3w588f7Bgk9/s3I1CtFzAM5yEbouYTHOz+6+dPuGJQUgRhXPxfv34xRKWmBiIbog7MHiK/gbaAMCx6NzcpM8DEQGxYFMPEpBUUBIBBwAszhPPHt29//gBNB+H1NbJgDTA+DIMASA7G//v7939gAH+FGfLm6L59T0DOhNkCyjiBLY/hfBAbJAbjg9SePnr0CVDvP5ghVy5dv77q65cvH/8Cix2Yv5cVi2Bl//37F4S/Hd6/vxAWJqAofsbAyrp26ZIlDDrq6mFmtrZS3Dw8nNhiGJiaf549fvzZuXPnmhl4eDYgGwJy0nmgQS+v3Lt3EIjFQKUbFjNA6l4D8VUGTk64V0AAIMCQUywk1YIM/vVLDJhlE4EZ09vAzExMUU2ND5hfmAUEBdkZiASfP3369e3r1z9PHz78curwYZDlG4CJdQYwMt4hqwOleJhvYA7gBAacBsPXrx2egYG6RhYWEv/+/WMgFwgKC3OBaA0dHRFnb28FRiYm02sXLhRsWLbsEtBBsUAHPUdWzwKNZBFgKHjKiImVx9bWav6FJmxswK38Gpje1alFkhwIqGpriwJznfPmVasOXzl/PgXomAPIDuEHYh1gVMT5hIUp/gQWa9hKaa+a23D2thZVcHZGByBxkDqYg0B8dPAXWJa4BwQoXgElNAYGW+QczAuuy/794+Hm5maD5Q1kjOyIjfUKDNjUwDBIHtnx6PKgkAaWWUx8AgJ8wHaAKHKIgMroXwwsLM8e3b//QUxKSgjdt2uqpMF0SNtTBv/GByhiyAAkj67nN5pZzMzMDO/fvv326ePHG8jFNMgh74H4HjA/7li9aBF/YESErpS8vAiwvYARRStKxeBsbFGDTx5U8QKLf4aP799/XDpr1hlg1Z8Hqj2QHQKqia6DQ4WP79v69etNgBWPRUBUlJKMggLYQaASCJSD8NXw2OoVJiBmZmEBtibYGd69fv1h+Zw5d4BlzWJgSMwHqviCnmtg1SIohT0G6roAxPs2bNsmAWxmqAPDVhHoCn4g5iM5DzMyfmZgYnoLjPZLQDN3ACu6u0DRD9DkgAIAomQEZFjvy7gAAAAASUVORK5CYII="}}});this.labelFeature.set("free-hand-circle-lable",!0),this.labelFeature.setStyle(n),this.layer.getSource().addFeature(this.labelFeature)}},Zi.interaction.FreeHandCircle.prototype.drawTextLabel_=function(t,e){if(this.textOverlay){this.textOverlay.getElement().innerHTML=t,this.textOverlay.setPosition(e),this.getMap().render()}else{var i=document.createElement("span");i.className="free-hand-circle-label",i.innerHTML=t,this.textOverlay=new Zi.Overlay({element:i,position:e,positioning:"center-left",offset:[20,0]}),this.getMap().addOverlay(this.textOverlay)}},Zi.interaction.FreeHandCircle.prototype.getImageSrc_=function(t){var e=document.createElement("canvas"),i=e.getContext("2d");i.font="30px Arial",i.textAlign="center";var n=i.measureText(t).width;return e.width=n+8,e.height=24,i.fillText(t,2,10),i.fillStyle="white",i.fillRect(0,0,n,20),e.toDataURL("image/.png",1)},Zi.interaction.FreeHandCircle.prototype.transformRadius=function(t,e){try{var i=this.wgs84Sphere.offset(t,e,1.5*Math.PI),n=t[0]-i[0],o=t[1]-i[1];return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}catch(t){console.log(t)}},Zi.interaction.FreeHandCircle.prototype.mathRadius=function(t,e){var i="";if(t&&e){var n=Zi.proj.transform(this.center_,this._getProjectionCode(),"EPSG:4326"),o=Zi.proj.transform(e,this._getProjectionCode(),"EPSG:4326"),r=this.wgs84Sphere.haversineDistance(n,o);i=this.options.maxRadius&&r>this.options.maxRadius?this.options.maxRadius-1:this.options.minRadius&&r<this.options.minRadius?this.options.minRadius-1:r,i=Math.floor(i)+1}return i},Zi.interaction.FreeHandCircle.prototype._getProjectionCode=function(){return this.getMap()?this.getMap().getView().getProjection().getCode():"EPSG:3857"},Zi.interaction.FreeHandCircle.prototype.setRadius=function(t){if(!this.circleFeature||!this.circleFeature.getGeometry())throw new Error("未创建Circle实例。");var e=this.circleFeature.getGeometry(),i=this.transformCenterAndRadius_(this.center_,t);e.setCenterAndRadius(i.center,i.radius),e.dispatchEvent("change")},Zi.interaction.FreeHandCircle.prototype.setCenter=function(t){if(!this.circleFeature||!this.circleFeature.getGeometry())throw new Error("未创建Circle实例。");var e=this.circleFeature.getGeometry(),i=this.transformCenterAndRadius_(t,this.radius);e.setCenterAndRadius(i.center,i.radius),e.dispatchEvent("change")},Zi.interaction.FreeHandCircle.prototype.setCenterRadius=function(t,e){if(!this.circleFeature||!this.circleFeature.getGeometry())throw new Error("未创建Circle实例。");var i=this.circleFeature.getGeometry(),n=this.transformCenterAndRadius_(t,e);i.setCenterAndRadius(n.center,n.radius),i.dispatchEvent("change")},Zi.interaction.FreeHandCircle.prototype.setActive=function(t){Zi.interaction.Pointer.prototype.setActive.call(this,t)},Zi.interaction.FreeHandCircle.prototype.destroy=function(){this.draw&&this.removeLastInteraction_(),this.textOverlay&&this.textOverlay instanceof Zi.Overlay&&(this.getMap().removeOverlay(this.textOverlay),this.textOverlay=null),this.layer&&(this.layer.getSource().clear(),this.circleFeature=null,this.centerFeature=null,this.labelFeature=null),this.coordinate_=null,this.feature_=null,this.drawStart_=!1,this.center_=[],this.radius="",this.isDraging=!1,this.isMouseDown=!1};Zi.interaction.FreeHandCircle;Zi.interaction.LayerSpyglass=function(t){if(this.options=t||{},!this.options.spyLayer)throw new Error("图层必须传入！");this.spyLayer=this.options.spyLayer,this._currentLayerIndex=null,this.radius="number"==typeof this.options.radius?this.options.radius:75,this.minRadius="number"==typeof this.options.minRadius?this.options.minRadius:150,this.maxRadius="number"==typeof this.options.maxRadius?this.options.maxRadius:25,this.lineWidth="number"==typeof this.options.lineWidth?this.options.lineWidth:5,this.strokeStyle=this.options.strokeStyle?this.options.strokeStyle:"rgba(0, 0, 0, 0.5)",this.zoomInKeyCode=void 0!==this.options.zoomInKeyCode?this.options.zoomInKeyCode:38,this.zoomOutKeyCode=void 0!==this.options.zoomOutKeyCode?this.options.zoomOutKeyCode:40,this.mousePosition=null,Zi.interaction.Pointer.call(this,{handleEvent:Zi.interaction.LayerSpyglass.handleEvent_,handleMoveEvent:Zi.interaction.LayerSpyglass.handleMoveEvent_})},Zi.inherits(Zi.interaction.LayerSpyglass,Zi.interaction.Pointer),Zi.interaction.LayerSpyglass.handleMoveEvent_=function(t){this.mousePosition=t.pixel,this.getMap().render()},Zi.interaction.LayerSpyglass.handleEvent_=function(t){return Zi.interaction.Pointer.handleEvent.call(this,t)},Zi.interaction.LayerSpyglass.prototype.initEvents_=function(){if(this.getMap()){vn(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),vn(document,"keydown",this.handleKeyDown_,this);var t=this.getMap().getLayers().getArray(),e=[];this._currentLayerIndex=this.spyLayer.getZIndex(),t.every((function(t){e.push(t.getZIndex())}));var i=Math.max.apply(Math,e);this.spyLayer.setZIndex(i+10),this.spyLayer.setVisible(!0),this.spyLayer.on("precompose",this.handlePrecompose_,this),this.spyLayer.on("postcompose",this.handlePostcompose_,this)}},Zi.interaction.LayerSpyglass.prototype.handleMouseOut_=function(t){this.mousePosition=null,this.getMap().render()},Zi.interaction.LayerSpyglass.prototype.handleKeyDown_=function(t){t.which===this.zoomInKeyCode?(this.radius=Math.min(this.radius+5,150),this.getMap().render(),t.preventDefault()):t.which===this.zoomOutKeyCode&&(this.radius=Math.max(this.radius-5,25),this.getMap().render(),t.preventDefault())},Zi.interaction.LayerSpyglass.prototype.handlePrecompose_=function(t){var e=t.context,i=t.frameState.pixelRatio;e.save(),e.beginPath(),this.mousePosition&&(e.arc(this.mousePosition[0]*i,this.mousePosition[1]*i,this.radius*i,0,2*Math.PI),e.lineWidth=this.lineWidth*i,e.strokeStyle=this.strokeStyle,e.stroke()),e.clip()},Zi.interaction.LayerSpyglass.prototype.handlePostcompose_=function(t){t.context.restore()},Zi.interaction.LayerSpyglass.prototype.setMap=function(t){t&&t instanceof Zi.Map?(Zi.interaction.Interaction.prototype.setMap.call(this,t),this.initEvents_()):(_n(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),_n(document,"keydown",this.handleKeyDown_,this),this.spyLayer.un("precompose",this.handlePrecompose_,this),this.spyLayer.un("postcompose",this.handlePostcompose_,this),this.spyLayer.setVisible(!1),this.spyLayer.setZIndex(this._currentLayerIndex),this._currentLayerIndex=null,Zi.interaction.Interaction.prototype.setMap.call(this,t))};Zi.interaction.LayerSpyglass;Zi.interaction.LayerMagnify=function(t){if(this.options=t||{},!this.options.magnifyLayer)throw new Error("图层必须传入！");this.magnifyLayer=this.options.magnifyLayer,this._currentLayerIndex=null,this.radius="number"==typeof this.options.radius?this.options.radius:75,this.minRadius="number"==typeof this.options.minRadius?this.options.minRadius:150,this.maxRadius="number"==typeof this.options.maxRadius?this.options.maxRadius:25,this.lineWidth="number"==typeof this.options.lineWidth?this.options.lineWidth:2,this.strokeStyle=this.options.strokeStyle?this.options.strokeStyle:"rgba(0, 0, 0, 0.5)",this.zoomInKeyCode=void 0!==this.options.zoomInKeyCode?this.options.zoomInKeyCode:38,this.zoomOutKeyCode=void 0!==this.options.zoomOutKeyCode?this.options.zoomOutKeyCode:40,this.mousePosition=null,Zi.interaction.Pointer.call(this,{handleEvent:Zi.interaction.LayerMagnify.handleEvent_,handleMoveEvent:Zi.interaction.LayerMagnify.handleMoveEvent_})},Zi.inherits(Zi.interaction.LayerMagnify,Zi.interaction.Pointer),Zi.interaction.LayerMagnify.handleMoveEvent_=function(t){this.mousePosition=t.pixel,this.getMap().render()},Zi.interaction.LayerMagnify.handleEvent_=function(t){return Zi.interaction.Pointer.handleEvent.call(this,t)},Zi.interaction.LayerMagnify.prototype.initEvents_=function(){this.getMap()&&(vn(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),vn(document,"keydown",this.handleKeyDown_,this),this.magnifyLayer.on("postcompose",this.handlePostcompose_,this))},Zi.interaction.LayerMagnify.prototype.handleMouseOut_=function(t){this.mousePosition=null,this.getMap().render()},Zi.interaction.LayerMagnify.prototype.handleKeyDown_=function(t){t.which===this.zoomInKeyCode?(this.radius=Math.min(this.radius+5,150),this.getMap().render(),t.preventDefault()):t.which===this.zoomOutKeyCode&&(this.radius=Math.max(this.radius-5,25),this.getMap().render(),t.preventDefault())},Zi.interaction.LayerMagnify.prototype.handlePostcompose_=function(t){if(this.mousePosition){for(var e=[t.context,t.frameState.pixelRatio],i=e[0],n=e[1],o=this.radius*n,r=this.mousePosition[0]*n,s=this.mousePosition[1]*n,a=r-o,l=s-o,h=2*o+1,c=i.getImageData(a,l,h,h).data,u=i.createImageData(h,h),p=u.data,g=0;g<h;++g)for(var d=0;d<h;++d){var f=d-o,y=g-o,m=d,v=g;Math.sqrt(f*f+y*y)<o&&(m=Math.round(o+f/2),v=Math.round(o+y/2));var _=4*(g*h+d),x=4*(v*h+m);p[_]=c[x],p[_+1]=c[x+1],p[_+2]=c[x+2],p[_+3]=c[x+3]}i.beginPath(),i.arc(r,s,o,0,2*Math.PI,!1),i.lineWidth=this.lineWidth*n,i.strokeStyle=this.strokeStyle,i.putImageData(u,a,l),i.stroke(),i.restore()}},Zi.interaction.LayerMagnify.prototype.setMap=function(t){t&&t instanceof Zi.Map?(Zi.interaction.Interaction.prototype.setMap.call(this,t),this.initEvents_()):(_n(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),_n(document,"keydown",this.handleKeyDown_,this),this.magnifyLayer.un("postcompose",this.handlePostcompose_,this),Zi.interaction.Interaction.prototype.setMap.call(this,t))};Zi.interaction.LayerMagnify;Zi.interaction.MeasureTool=function(t){this.options=t||{},this.wgs84Sphere=new Zi.Sphere("number"==typeof this.options.sphere?this.options.sphere:6378137),this.measureTypes={measureLength:{name:"measureLength",type:"LineString"},measureArea:{name:"measureArea",type:"Polygon"},measureCircle:{name:"measureCircle",type:"Circle"}},this.measureType="",this.freehand=!1,this.isGeodesic=!1!==this.options.isGeodesic||this.options.isGeodesic,this.layerName=this.options.layerName||"measureTool",this.layer=null,this.draw=null,this.isActive_=!1,this.clickCount="",this.drawStyle={fill:{fillColor:"rgba(67, 110, 238, 0.4)"},stroke:{strokeColor:"rgba(249, 185, 154, 1)",strokeWidth:2.5},image:{type:"",image:{fill:{fillColor:"rgba(255, 255, 255, 0.8)"},points:1/0,radius:4,stroke:{strokeColor:"rgba(255, 0, 0, 1)",strokeWidth:1.5}}}},this.options.drawStyle&&"object"===i(this.options.drawStyle)&&(this.drawStyle=this.options.drawStyle),this.finshStyle={fill:{fillColor:"rgba(67, 110, 238, 0.4)"},stroke:{strokeColor:"rgba(253, 128, 68, 1)",strokeWidth:3},image:{type:"",image:{fill:{fillColor:"rgba(255, 255, 255, 0.8)"},points:1/0,radius:4,stroke:{strokeColor:"rgba(255, 0, 0, 1)",strokeWidth:1.5}}}},this.options.finshStyle&&"object"===i(this.options.finshStyle)&&(this.finshStyle=this.options.finshStyle),this.cursor_="default",this.previousCursor_=void 0,Zi.interaction.Pointer.call(this,{handleMoveEvent:Zi.interaction.MeasureTool.handleMoveEvent_,handleDownEvent:Zi.interaction.MeasureTool.handleDownEvent_,handleDragEvent:Zi.interaction.MeasureTool.handleDragEvent_}),this.doubleClickZoom=null},Zi.inherits(Zi.interaction.MeasureTool,Zi.interaction.Pointer),Zi.interaction.MeasureTool.handleMoveEvent_=function(t){this.getTool()&&(this.drawStart_&&!t.dragging&&this.measureType===this.measureTypes.measureCircle.name?this.afterDrawPointClickHandler(t):this.drawStart_||t.dragging?this.drawStart_&&!t.dragging?this.afterDrawPointClickHandler(t):this.freehand&&this.drawStart_&&t.dragging&&this.afterDragHandler_(t):this.beforeDrawPointClickHandler(t))},Zi.interaction.MeasureTool.handleDownEvent_=function(t){this.freehand&&console.log(t)},Zi.interaction.MeasureTool.handleDragEvent_=function(t){this.freehand&&console.log(t)},Zi.interaction.MeasureTool.prototype.addDrawInteractions_=function(t){var e=new Wn(this.drawStyle);this.draw=new Zi.interaction.Draw({type:t,style:e,freehand:this.freehand}),this.draw.set("uuid",on()),this.getMap().addInteraction(this.draw),this.draw.on("drawstart",this.drawStartHandle_,this),this.draw.on("drawend",this.drawEndHandle_,this),"LineString"!==t||this.freehand||this.getMap().on("singleclick",this.drawClickHandle_,this)},Zi.interaction.MeasureTool.prototype.drawClickHandle_=function(t){this.drawStart_&&!t.dragging&&(this.clickCount||(this.clickCount=on(),this.draw.set("measureResult","起点")),this.addMeasurecircle(t.coordinate),this.addMeasureOverlay(t.coordinate,this.draw.get("measureResult")))},Zi.interaction.MeasureTool.prototype.addMeasurecircle=function(t){var e=new Zi.Feature({uuid:this.draw.get("uuid"),geometry:new Zi.geom.Point(t)});this.layer.getSource().addFeature(e)},Zi.interaction.MeasureTool.prototype.drawStartHandle_=function(t){var e=this,i=this;this.drawStart_=!0,t.feature.getGeometry().on("change",(function(t){var n=t.target;if(n instanceof Zi.geom.LineString){var o=i.formatData(n);i.draw.set("measureResult",o)}else if(n instanceof Zi.geom.Polygon){var r=e.formatData(n);i.draw.set("measureResult",r)}else if(n instanceof Zi.geom.Circle){var s=e.formatData(n);i.draw.set("measureResult",s)}}))},Zi.interaction.MeasureTool.prototype.drawEndHandle_=function(t){this.drawEnd_=!0;var e=t.feature;e.set("uuid",this.draw.get("uuid")),this.layer.getSource().addFeature(e);var i=e.getGeometry().getLastCoordinate();if(this.measureTypes.measureLength.name===this.measureType)this.addMeasurecircle(i),this.addMeasureOverlay(i,this.draw.get("measureResult"),"length");else if(this.measureTypes.measureArea.name===this.measureType){var n=Zi.extent.getCenter(e.getGeometry().getExtent());this.addMeasureOverlay(n,this.draw.get("measureResult"),"area")}else if(this.measureTypes.measureCircle.name===this.measureType){var o=Zi.extent.getCenter(e.getGeometry().getExtent());this.addMeasureOverlay(o,this.draw.get("measureResult"),"circle")}this.addMeasureRemoveButton(i),this.setTool(!1),this.dispatchEvent("measureEnd")},Zi.interaction.MeasureTool.prototype.beforeDrawPointClickHandler=function(t){if(!this.measureHelpTooltip&&this.getTool()){var e=document.createElement("span");this.measureTypes.measureLength.name===this.measureType?(e.className="hamp-js-measure hamp-js-measure-length",this.freehand?e.innerHTML="按下鼠标拖拽开始测量":e.innerHTML="单击开始测距"):this.measureTypes.measureArea.name===this.measureType?(e.className="hamp-js-measure hamp-js-measure-area",this.freehand?e.innerHTML="按下鼠标拖拽开始测量":e.innerHTML="单击开始测面"):this.measureTypes.measureCircle.name===this.measureType&&(e.className="hamp-js-measure hamp-js-measure-area",this.freehand?e.innerHTML="按下鼠标拖拽开始测量":e.innerHTML="单击开始测方圆面积"),this.measureHelpTooltip=new Zi.Overlay({element:e,offset:[15,0],positioning:"center-left"}),this.measureHelpTooltip.set("layerName",this.layerName),this.getMap().addOverlay(this.measureHelpTooltip)}else this.measureHelpTooltip&&this.measureHelpTooltip instanceof Zi.Overlay&&this.measureHelpTooltip.setPosition(t.coordinate)},Zi.interaction.MeasureTool.prototype.afterDrawPointClickHandler=function(t){var e=this.measureHelpTooltip.getElement();if(this.measureTypes.measureLength.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-length";var i=this.draw.get("measureResult");e.innerHTML='<span>总长：<span class="measure-result">'+i+'</span></span><br><span class="tool-tip">单击确定地点，双击结束</span>'}else if(this.measureTypes.measureArea.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var n=this.draw.get("measureResult");e.innerHTML='<span>总面积：<span class="measure-result">'+n+'</span></span><br><span class="tool-tip">单击确定地点，双击结束</span>'}else if(this.measureTypes.measureCircle.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var o=this.draw.get("measureResult");e.innerHTML='<span>总面积：<span class="measure-result">'+o+'</span></span><br><span class="tool-tip">单击确定地点，双击结束</span>'}this.measureHelpTooltip.setPosition(t.coordinate),this.getMap().render()},Zi.interaction.MeasureTool.prototype.afterDragHandler_=function(t){var e=this.measureHelpTooltip.getElement();if(this.measureTypes.measureLength.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-length";var i=this.draw.get("measureResult");e.innerHTML='<span>总长：<span class="measure-result">'+i+'</span></span><br><span class="tool-tip">松开鼠标按键结束测量</span>'}else if(this.measureTypes.measureArea.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var n=this.draw.get("measureResult");e.innerHTML='<span>总面积：<span class="measure-result">'+n+'</span></span><br><span class="tool-tip">松开鼠标按键结束测量</span>'}else if(this.measureTypes.measureCircle.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var o=this.draw.get("measureResult");e.innerHTML='<span>总面积：<span class="measure-result">'+o+'</span></span><br><span class="tool-tip">松开鼠标按键结束测量</span>'}this.measureHelpTooltip.setPosition(t.coordinate),this.getMap().render()},Zi.interaction.MeasureTool.prototype.addMeasureOverlay=function(t,e,i){var n=document.createElement("span"),o=null;"length"===i?(n.className="hmap-measure-end-overlay-label",n.innerHTML="总长：<span class='measure-end-label'>"+e+"</span>",o=new Zi.Overlay({element:n,position:t,offset:[10,10],positioning:"top-left"})):"area"===i||"circle"===i?(n.className="hmap-measure-area-overlay-label",n.innerHTML='<span class="measure-label">'+e+"</span>",o=new Zi.Overlay({element:n,position:t,positioning:"center-center"})):(n.className="hmap-measure-overlay-label",n.innerHTML=e,o=new Zi.Overlay({element:n,position:t,offset:[10,0],positioning:"center-left"})),o.set("layerName",this.layerName),o.set("uuid",this.draw.get("uuid")),this.getMap().addOverlay(o),this.getMap().render()},Zi.interaction.MeasureTool.prototype.addMeasureRemoveButton=function(t){var e=this,i=document.createElement("img");i.src=this.options.removeButtonSrc?this.options.removeButtonSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEYzMzc1RDY3RDU1MTFFNUFDNDJFNjQ4NUUwMzRDRDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEYzMzc1RDc3RDU1MTFFNUFDNDJFNjQ4NUUwMzRDRDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0RjMzNzVENDdENTUxMUU1QUM0MkU2NDg1RTAzNENENiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0RjMzNzVENTdENTUxMUU1QUM0MkU2NDg1RTAzNENENiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsDx84AAAAC3SURBVHjavJIxDoMwDEV/ok5wDCbu0DvAdUBIwMLFSs/AxDXY6tZ2SCGVUikd+ifn20+2k5hHVd0AXJGmGQw+UyWMxY8KQGpbUNcB23aYHIsnuSgIy8dlAQ2DgwWSmD0YE5ReAq5pQOMIrKsDRByjKGC/dsxz2L7XQgU8JB7n4qDoY6SYF4J+p72T7/zeOXqr03SMx8XnsTUX7UgElKVCyDK3s8Tsae6sv/8ceceZ6jr1k99fAgwAsZy0Sa2HgDcAAAAASUVORK5CYII=",i.style.cursor="pointer",i.title="清除测量结果",i.uuid_=this.draw.get("uuid"),i.onclick=function(t){e.removeMeasure_(this.uuid_)};var n=new Zi.Overlay({element:i,offset:[8,0],position:t,positioning:"center-left"});n.set("uuid",this.draw.get("uuid")),n.set("layerName",this.layerName),this.getMap().addOverlay(n),this.getMap().render()},Zi.interaction.MeasureTool.prototype.removeMeasure_=function(t){var e=this.getMap().getOverlays().getArray();if(e&&Array.isArray(e))for(var i=e.length,n=0,o=0;n<i;n++)e[i-++o]&&e[i-o]instanceof Zi.Overlay&&e[i-o].get("uuid")===t&&this.getMap().removeOverlay(e[i-o]);if(this.layer&&this.layer.getSource()){var r=this.layer.getSource();r.getFeatures().forEach((function(e){e.get("uuid")===t&&r.removeFeature(e)}),this)}},Zi.interaction.MeasureTool.prototype.removeAllMeasure_=function(){var t=this.getMap().getOverlays().getArray();if(t&&Array.isArray(t))for(var e=t.length,i=0,n=0;i<e;i++)t[e-++n]&&t[e-n]instanceof Zi.Overlay&&t[e-n].get("layerName")===this.layerName&&this.getMap().removeOverlay(t[e-n]);if(this.layer&&this.layer.getSource()){var o=this.layer.getSource();o.getFeatures().forEach((function(t){o.removeFeature(t)}),this)}},Zi.interaction.MeasureTool.prototype.setTool=function(t,e,i){if(this.removeLastInteraction_(),t&&e&&this.measureTypes.hasOwnProperty(e)){if(this.isActive_=t,this.freehand=i,this.measureType=e,!this.layer){var n=new Wn(this.finshStyle);this.layer=En(this.getMap(),this.layerName,{create:!0}),this.layer.setStyle(n)}this.addDrawInteractions_(this.measureTypes[e].type)}},Zi.interaction.MeasureTool.prototype.removeLastInteraction_=function(){this.isActive_=!1,this.freehand=!1,this.drawStart_=!1,this.draw&&(this.draw.un("drawstart",this.drawStartHandle_,this),this.draw.un("drawend",this.drawEndHandle_,this),this.getMap().un("singleclick",this.drawClickHandle_,this),this.measureHelpTooltip&&this.measureHelpTooltip instanceof Zi.Overlay&&(this.getMap().removeOverlay(this.measureHelpTooltip),this.measureHelpTooltip=null),this.clickCount="",this.disActionInteraction(),this.getMap().removeInteraction(this.draw),this.measureType="")},Zi.interaction.MeasureTool.prototype.getTool=function(){return this.isActive_},Zi.interaction.MeasureTool.prototype.setActive=function(t){Zi.interaction.Pointer.prototype.setActive.call(this,t)},Zi.interaction.MeasureTool.prototype.disActionInteraction=function(){var t=this;this.doubleClickZoom=this.getDoubleClickZoomInteraction();var e=this.doubleClickZoom.getActive();this.doubleClickZoom.setActive(!1),window.setTimeout((function(){t.doubleClickZoom.setActive(e)}),200)},Zi.interaction.MeasureTool.prototype.getDoubleClickZoomInteraction=function(){var t=this;this.doubleClickZoom||this.getMap().getInteractions().getArray().every((function(e){return!(e&&e instanceof Zi.interaction.DoubleClickZoom)||(t.doubleClickZoom=e,!1)}));return this.doubleClickZoom},Zi.interaction.MeasureTool.prototype.formatData=function(t){var e=0;if(t)if(this.measureTypes.measureLength.name===this.measureType)if(this.isGeodesic){for(var i=[t.getCoordinates(),0],n=i[0],o=i[1],r=this.getMap().getView().getProjection(),s=0,a=n.length-1;s<a;++s){var l=Zi.proj.transform(n[s],r,"EPSG:4326"),h=Zi.proj.transform(n[s+1],r,"EPSG:4326");o+=this.wgs84Sphere.haversineDistance(l,h)}e=o>100?Math.round(o/1e3*100)/100+" 公里":Math.round(100*o)/100+" 米"}else e=Math.round(100*t.getLength())/100;else if("measureArea"===this.measureType)if(this.isGeodesic){var c=this.getMap().getView().getProjection(),u=t.clone().transform(c,"EPSG:4326").getLinearRing(0).getCoordinates(),p=Math.abs(this.wgs84Sphere.geodesicArea(u));e=p>1e10?Math.round(p/1e10*100)/100+" 万平方公里":p>1e6&&p<1e10?Math.round(p/1e6*100)/100+" 平方公里":Math.round(100*p)/100+" 平方米"}else e=t.getArea();else if("measureCircle"===this.measureType){var g=this.getMap().getView().getProjection(),d=t.clone().transform(g,"EPSG:4326"),f=Zi.geom.Polygon.fromCircle(d,64,0);if(this.isGeodesic){var y=f.getLinearRing(0).getCoordinates(),m=Math.abs(this.wgs84Sphere.geodesicArea(y));e=m>1e10?Math.round(m/1e10*100)/100+" 万平方公里":m>1e6&&m<1e10?Math.round(m/1e6*100)/100+" 平方公里":Math.round(100*m)/100+" 平方米"}else e=f.getArea()}return e};Zi.interaction.MeasureTool;var Al=function(t){function e(i){n(this,e);var o=s(this,t.call(this,i));o.pointRadius=i.pointRadius||12,o.circleMaxObjects=i.circleMaxObjects||10,o.maxObjects=i.maxObjects||60,o.spiral=!1!==i.spiral,o.animate=i.animate,o.animationDuration=i.animationDuration||500,o.selectCluster_=!1!==i.selectCluster;var r=new Zi.layer.Vector({source:new Zi.source.Vector({features:new Zi.Collection,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:i.featureStyle});if(o.overlayLayer_=r,i.layers)if("function"==typeof i.layers){var a=i.layers;i.layers=function(t){return t===r||a(t)}}else i.layers.push&&i.layers.push(o.overlayLayer_);if(i.filter){var l=i.filter;i.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))&&l(t,e)}}else i.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))};return o.filter_=i.filter,o.on("select",o.selectCluster,o),o}return r(e,t),e.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},e.prototype.setMap=function(t){this.getMap()&&(this.getMap().getView()&&this.getMap().getView().un("change:resolution",this.clear,this),this.getMap().removeLayer(this.overlayLayer_)),this.overlayLayer_.setMap(t),Zi.interaction.Select.prototype.setMap.call(this,t),t&&t.getView()&&t.getView().on("change:resolution",this.clear,this)},e.prototype.getLayer=function(){return this.overlayLayer_},e.prototype.selectCluster=function(t){if(t.selected.length){var e=t.selected[0];if(!e.get("selectclusterfeature")){var i=this.overlayLayer_.getSource();i.clear();var n=e.get("features");if(n&&1!==n.length){this.selectCluster_||this.getFeatures().clear();var o=e.getGeometry().getCoordinates(),r=this.getMap().getView().getResolution(),s=r*this.pointRadius*(.5+n.length/4);if(!this.spiral||n.length<=this.circleMaxObjects)for(var a=Math.min(n.length,this.circleMaxObjects),l=0;l<a;l++){var h=2*Math.PI*l/a;2!==a&&4!==a||(h+=Math.PI/4);var c=[o[0]+s*Math.sin(h),o[1]+s*Math.cos(h)],u=new Zi.Feature({selectclusterfeature:!0,features:[n[l]],geometry:new Zi.geom.Point(c)});u.setStyle(n[l].getStyle()),i.addFeature(u);var p=new Zi.Feature({selectclusterlink:!0,geometry:new Zi.geom.LineString([o,c])});i.addFeature(p)}else for(var g=0,d=null,f=2*this.pointRadius,y=Math.min(this.maxObjects,n.length),m=0;m<y;m++){g+=(f+.1)/(d=f/2+f*g/(2*Math.PI));var v=r*d*Math.sin(g),_=r*d*Math.cos(g),x=[o[0]+v,o[1]+_],C=new Zi.Feature({selectclusterfeature:!0,features:[n[m]],geometry:new Zi.geom.Point(x)});C.setStyle(n[m].getStyle()),i.addFeature(C);var I=new Zi.Feature({selectclusterlink:!0,geometry:new Zi.geom.LineString([o,x])});i.addFeature(I)}this.animate&&this.animateCluster_(o)}}}else this.clear()},e.prototype.animateCluster_=function(t){this.listenerKey_&&(this.overlayLayer_.setVisible(!0),Zi.Observable.unByKey(this.listenerKey_));var e=this.overlayLayer_.getSource().getFeatures();if(e.length){this.overlayLayer_.setVisible(!1);var i=this.overlayLayer_.getStyle(),n="function"==typeof i?i:i.length?function(){return i}:function(){return[i]},o=this.animationDuration||500,r=(new Date).getTime();this.listenerKey_=this.getMap().on("postcompose",(function(i){for(var s=i.vectorContext,a=i.frameState.pixelRatio,l=i.target.getView().getResolution(),h=Zi.easing.easeOut((i.frameState.time-r)/o),c=0;c<e.length;c++){if(e[c].get("features")){var u=e[c],p=u.getGeometry().getCoordinates();p[0]=t[0]+h*(p[0]-t[0]),p[1]=t[1]+h*(p[1]-t[1]);for(var g=new Zi.geom.Point(p),d=n(u,l),f=0;f<d.length;f++){var y=void 0,m=!Zi.Map.prototype.getFeaturesAtPixel&&d[f].getImage();m&&(y=m.getScale(),m.setScale(a)),s.setStyle?(s.setStyle(d[f]),s.drawGeometry(g)):(s.setImageStyle(m),s.drawPointGeometry(g)),m&&m.setScale(y)}}}if(h>1)return Zi.Observable.unByKey(this.listenerKey_),this.overlayLayer_.setVisible(!0),void this.overlayLayer_.changed();i.frameState.animate=!0}),this)}},e}(Zi.interaction.Select);Zi.interaction.SelectCluster=Al;var bl=Zi.interaction.Pointer,wl=Zi.Collection,Sl=Zi.layer.Vector,Ml=Zi.source.Vector,El=Zi.Feature,Tl=Zi.geom.Point,Pl=Zi.geom.Polygon,Ll=Zi.geom.GeometryCollection,Nl=Zi.extent,Dl="rotatestart",Rl="rotating",Ol="rotateend",Fl=function(){function t(e,i,o,r){n(this,t),this.propagationStopped_=!1,this.type_=e,this.features_=i,this.angle_=o,this.anchor_=r}return t.prototype.preventDefault=function(){this.propagationStopped_=!0},t.prototype.stopPropagation=function(){this.propagationStopped_=!0},o(t,[{key:"propagationStopped",get:function(){return this.propagationStopped_}},{key:"type",get:function(){return this.type_}},{key:"features",get:function(){return this.features_}},{key:"angle",get:function(){return this.angle_}},{key:"anchor",get:function(){return this.anchor_}}]),t}(),kl=function(t){function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var r=s(this,t.call(this,{handleEvent:Gl,handleDownEvent:Bl,handleUpEvent:zl,handleDragEvent:Vl,handleMoveEvent:jl}));if(r.previousCursor_=void 0,r.anchorFeature_=void 0,r.arrowFeature_=void 0,r.lastCoordinate_=void 0,r.anchorMoving_=!1,r.overlay_=new Sl({style:o.style||Hl(),source:new Ml({features:new wl})}),r.features_=void 0,o.features)if(Array.isArray(o.features))r.features_=new wl(o.features);else{if(!(o.features instanceof wl))throw new Error("Features option should be an array or collection of features, got "+i(o.features));r.features_=o.features}else r.features_=new wl;return r.setAnchor(o.anchor||Ul(r.features_)),r.setAngle(o.angle||0),r.features_.on("add",r.onFeatureAdd_,r),r.features_.on("remove",r.onFeatureRemove_,r),r.on("change:angle",r.onAngleChange_,r),r.on("change:anchor",r.onAnchorChange_,r),r.createOrUpdateAnchorFeature_(),r.createOrUpdateArrowFeature_(),r}return r(e,t),e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.setActive=function(e){this.overlay_&&this.overlay_.setMap(e?this.map:void 0),t.prototype.setActive.call(this,e)},e.prototype.setAngle=function(t){this.set("angle",parseFloat(t))},e.prototype.getAngle=function(){return this.get("angle")},e.prototype.setAnchor=function(t){this.set("anchor",null!=t?t.map(parseFloat):Ul(this.features_))},e.prototype.getAnchor=function(){return this.get("anchor")},e.prototype.createOrUpdateAnchorFeature_=function(){var t,e=this.getAngle(),i=this.getAnchor();i&&(this.anchorFeature_?(this.anchorFeature_.getGeometry().setCoordinates(i),this.anchorFeature_.set("angle",e)):(this.anchorFeature_=new El(((t={geometry:new Tl(i)}).angle=e,t["rotate-anchor"]=!0,t)),this.overlay_.getSource().addFeature(this.anchorFeature_)))},e.prototype.createOrUpdateArrowFeature_=function(){var t,e=this.getAngle(),i=this.getAnchor();i&&(this.arrowFeature_?(this.arrowFeature_.getGeometry().setCoordinates(i),this.arrowFeature_.set("angle",e)):(this.arrowFeature_=new El(((t={geometry:new Tl(i)}).angle=e,t["rotate-arrow"]=!0,t)),this.overlay_.getSource().addFeature(this.arrowFeature_)))},e.prototype.resetAngleAndAnchor_=function(){this.resetAngle_(),this.resetAnchor_()},e.prototype.resetAngle_=function(){this.set("angle",0,!0),this.arrowFeature_&&this.arrowFeature_.set("angle",this.getAngle()),this.anchorFeature_&&this.anchorFeature_.set("angle",this.getAngle())},e.prototype.resetAnchor_=function(){this.set("anchor",Ul(this.features_),!0),this.getAnchor()&&(this.arrowFeature_&&this.arrowFeature_.getGeometry().setCoordinates(this.getAnchor()),this.anchorFeature_&&this.anchorFeature_.getGeometry().setCoordinates(this.getAnchor()))},e.prototype.onFeatureAdd_=function(){this.resetAngleAndAnchor_(),this.createOrUpdateAnchorFeature_(),this.createOrUpdateArrowFeature_()},e.prototype.onFeatureRemove_=function(){this.resetAngleAndAnchor_(),this.features_.getLength()?(this.createOrUpdateAnchorFeature_(),this.createOrUpdateArrowFeature_()):(this.overlay_.getSource().clear(),this.anchorFeature_=this.arrowFeature_=void 0)},e.prototype.onAngleChange_=function(t){var e=this,i=t.oldValue;this.features_.forEach((function(t){return t.getGeometry().rotate(e.getAngle()-i,e.getAnchor())})),this.arrowFeature_&&this.arrowFeature_.set("angle",this.getAngle()),this.anchorFeature_&&this.anchorFeature_.set("angle",this.getAngle())},e.prototype.onAnchorChange_=function(){var t=this.getAnchor();t&&(this.anchorFeature_&&this.anchorFeature_.getGeometry().setCoordinates(t),this.arrowFeature_&&this.arrowFeature_.getGeometry().setCoordinates(t))},e.prototype.dispatchRotateStartEvent_=function(t){this.dispatchEvent(new Fl(Dl,t,this.getAngle(),this.getAnchor()))},e.prototype.dispatchRotatingEvent_=function(t){this.dispatchEvent(new Fl(Rl,t,this.getAngle(),this.getAnchor()))},e.prototype.dispatchRotateEndEvent_=function(t){this.dispatchEvent(new Fl(Ol,t,this.getAngle(),this.getAnchor()))},o(e,[{key:"features",get:function(){return this.features_}},{key:"angle",get:function(){return this.getAngle()},set:function(t){this.setAngle(t)}},{key:"anchor",get:function(){return this.getAnchor()},set:function(t){this.setAnchor(t)}},{key:"map",set:function(t){this.setMap(t)},get:function(){return this.getMap()}},{key:"active",set:function(t){this.setActive(t)},get:function(){return this.getActive()}}]),e}(bl);function Gl(t){var e=t.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}));return!(["click","singleclick","dblclick"].indexOf(t.type)>-1&&[this.anchorFeature_,this.arrowFeature_].indexOf(e)>-1)&&bl.handleEvent.call(this,t)}function Bl(t){var e=t.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}));return e&&!this.lastCoordinate_&&(this.features_.getArray().indexOf(e)>-1||e===this.arrowFeature_)?(this.lastCoordinate_=t.coordinate,jl.call(this,t),this.dispatchRotateStartEvent_(this.features_),!0):!(!e||e!==this.anchorFeature_)&&(this.anchorMoving_=!0,jl.call(this,t),!0)}function zl(t){return this.lastCoordinate_?(this.lastCoordinate_=void 0,jl.call(this,t),this.dispatchRotateEndEvent_(this.features_),!0):!!this.anchorMoving_&&(this.anchorMoving_=!1,jl.call(this,t),!0)}function Vl(t){var e=t.coordinate,i=this.anchorFeature_.getGeometry().getCoordinates();if(this.lastCoordinate_){var n=[this.lastCoordinate_[0]-i[0],this.lastCoordinate_[1]-i[1]],o=[e[0]-i[0],e[1]-i[1]],r=Math.atan2(n[0]*o[1]-o[0]*n[1],n[0]*o[0]+n[1]*o[1]);this.setAngle(this.getAngle()+r),this.dispatchRotatingEvent_(this.features_),this.lastCoordinate_=e}else this.anchorMoving_&&this.setAnchor(e)}function jl(t){var e=t.map,i=t.pixel,n=e.getTargetElement(),o=e.forEachFeatureAtPixel(i,(function(t){return t})),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(n.style.cursor="-webkit-"+t,n.style.cursor="-moz-"+t),n.style.cursor=t};this.lastCoordinate_?(this.previousCursor_=n.style.cursor,r("grabbing",!0)):o&&(this.features_.getArray().indexOf(o)>-1||o===this.arrowFeature_)?(this.previousCursor_=n.style.cursor,r("grab",!0)):o&&o===this.anchorFeature_||this.anchorMoving_?(this.previousCursor_=n.style.cursor,r("crosshair")):(r(this.previousCursor_||""),this.previousCursor_=void 0)}function Hl(){var t,e=[255,255,255,.8],i=[0,153,255,.8],n=[255,255,255,.01],o=((t={})["rotate-anchor"]=[new Wn({image:{type:"",image:{points:6,radius:4,stroke:{strokeColor:i,strokeWidth:1},fill:{fillColor:[0,153,255,.8]}}},zIndex:1/0})],t["rotate-arrow"]=[new Wn({fill:{fillColor:n},stroke:{strokeColor:e,strokeWidth:4},text:{textFont:"normal normal 100 12px ArialMT",textOffsetX:20,textOffsetY:-20,textOverflow:!0,textFill:{fillColor:"blue"},textStroke:{strokeColor:e,strokeWidth:3}},zIndex:1/0}),new Wn({fill:{fillColor:n},stroke:{strokeColor:i,strokeWidth:2},zIndex:1/0})],t);return function(t,e){var i=void 0,n=t.get("angle")||0;switch(!0){case t.get("rotate-anchor"):return(i=o["rotate-anchor"])[0].getImage().setRotation(-n),i;case t.get("rotate-arrow"):i=o["rotate-arrow"];var r=t.getGeometry().getCoordinates(),s=new Pl([[[r[0],r[1]-6*e],[r[0]+8*e,r[1]-12*e],[r[0],r[1]+30*e],[r[0]-8*e,r[1]-12*e],[r[0],r[1]-6*e]]]);return s.rotate(n,r),i[0].setGeometry(s),i[1].setGeometry(s),i[0].getText().setText(Math.round(180*-n/Math.PI)+"°"),i}}}function Ul(t){if((t=t instanceof wl?t.getArray():t).length)return Nl.getCenter(function(t){if((t=t instanceof wl?t.getArray():t).length)return new Ll(t.map((function(t){return t.getGeometry()}))).getExtent()}(t))}Zi.interaction.RotateFeature=kl,Zi.interaction.PointerEvents=function(){this.coordinate_=null,this.cursor_="pointer",this.feature_=null,this.previousCursor_=void 0,Zi.interaction.Pointer.call(this,{handleDownEvent:Zi.interaction.PointerEvents.handleDownEvent,handleDragEvent:Zi.interaction.PointerEvents.handleDragEvent,handleMoveEvent:Zi.interaction.PointerEvents.handleMoveEvent,handleUpEvent:Zi.interaction.PointerEvents.handleUpEvent})},Zi.inherits(Zi.interaction.PointerEvents,Zi.interaction.Pointer),Zi.interaction.PointerEvents.handleDownEvent=function(t){if(0===t.originalEvent.button){var e=t.map,i=e.forEachFeatureAtPixel(t.pixel,(function(t){return t}));return i&&this.isSelectSupported(i)&&(this.coordinate_=t.coordinate,this.feature_=i,e.dispatchEvent({type:Go,originEvent:t,value:i})),!!this.feature_}},Zi.interaction.PointerEvents.handleDragEvent=function(t){if(this.coordinate_&&this.isMoveSupported(this.feature_)){var e=t.coordinate[0]-this.coordinate_[0],i=t.coordinate[1]-this.coordinate_[1];this.feature_.getGeometry().translate(e,i),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1],this.feature_.dispatchEvent(zo),t.map.dispatchEvent({type:zo,originEvent:t,value:this.feature_})}},Zi.interaction.PointerEvents.handleMoveEvent=function(t){if(this.cursor_){var e=t.map,i=null;i=this.feature_?this.feature_:e.forEachFeatureAtPixel(t.pixel,(function(t){return t}));var n=t.map.getTargetElement();i&&this.isSelectSupported(i)?n.style.cursor!==this.cursor_&&(this.previousCursor_=n.style.cursor,n.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(n.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},Zi.interaction.PointerEvents.handleUpEvent=function(t){var e=t.map;return this.feature_&&this.isSelectSupported(this.feature_)&&e.dispatchEvent({type:Bo,originEvent:t,value:this.feature_}),this.coordinate_=null,this.feature_=null,!1},Zi.interaction.PointerEvents.prototype.isSelectSupported=function(t){var e=!1;if(t&&t instanceof Zi.Feature){var i=t.get("params");i&&i[Zo]&&(e=!0)}return e},Zi.interaction.PointerEvents.prototype.isMoveSupported=function(t){var e=!1;if(t&&t instanceof Zi.Feature){var i=t.get("params");i&&i[qo]&&(e=!0)}return e};var Wl=Zi.interaction.PointerEvents;Zi.interaction.Snapor=Il;var Yl=function(){function t(){n(this,t)}return t.prototype._addInteractions=function(t){var e=Object.assign(Vn.INTERACTIONS,t||{}),i=[];if(e)for(var n in e)n&&e[n]&&this["add"+Qi(n)](e[n],i);return i},t.prototype.addDoubleClickZoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.DoubleClickZoom({delta:t.zoomDelta,duration:t.zoomDuration}))},t.prototype.addMouseWheelZoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.MouseWheelZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))},t.prototype.addKeyboard=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.KeyboardPan),e.push(new Zi.interaction.KeyboardZoom({delta:t.zoomDelta,duration:t.zoomDuration}))},t.prototype.addAltShiftDragRotate=function(){var t=arguments[1];(t=t||this.map.getInteractions()).push(new Zi.interaction.DragRotate)},t.prototype.addShiftDragZoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.DragZoom({duration:t.zoomDuration}))},t.prototype.addDragPan=function(){var t=arguments[1];(t=t||this.map.getInteractions()).push(new Zi.interaction.DragPan({kinetic:new Zi.Kinetic(-.005,.05,100)}))},t.prototype.addPinchRotate=function(){var t=arguments[1];(t=t||this.map.getInteractions()).push(new Zi.interaction.PinchRotate)},t.prototype.addPinchZoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.PinchZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))},t.prototype.addDraw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.Draw(t))},t.prototype.addMeasureTool=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.MeasureTool(t))},t.prototype.addFreeHandCircle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.FreeHandCircle(t))},t.prototype.addLayerMagnify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.LayerMagnify(t))},t.prototype.addLayerSpyglass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new Zi.interaction.LayerSpyglass(t))},t.prototype.addPointerEvents=function(t){(t=t||this.map.getInteractions()).push(new Wl)},t}();function Xl(t,e,i){return(t[0]-i[0])*(e[1]-i[1])-(t[1]-i[1])*(e[0]-i[0])<=0}Zi.coordinate.convexHull=function(t){t.sort((function(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}));for(var e=[],i=0;i<t.length;i++){for(;e.length>=2&&Xl(e[e.length-2],e[e.length-1],t[i]);)e.pop();e.push(t[i])}for(var n=[],o=t.length-1;o>=0;o--){for(;n.length>=2&&Xl(n[n.length-2],n[n.length-1],t[o]);)n.pop();n.push(t[o])}return n.pop(),e.pop(),e.concat(n)},Zi.geom.Geometry.prototype.convexHull=function(){return Zi.coordinate.convexHull(function t(e){var i=[],n=null;switch(e.getType()){case"Point":i.push(e.getCoordinates());break;case"LineString":case"LinearRing":case"MultiPoint":i=e.getCoordinates();break;case"MultiLineString":n=e.getLineStrings();for(var o=0;o<n.length;o++)i.concat(t(n[o]));break;case"Polygon":i=t(e.getLinearRing(0));break;case"MultiPolygon":n=e.getPolygons();for(var r=0;r<n.length;r++)i.concat(t(n[r]));break;case"GeometryCollection":n=e.getGeometries();for(var s=0;s<n.length;s++)i.concat(t(n[s]))}return i}(this))};var Zl=function(){function t(){n(this,t)}return t.prototype.getExtent=function(t){return t?this.view.calculateExtent(t):this.view.calculateExtent(this.map.getSize())},t.prototype.getMapCurrentExtent=function(){if(this.map)return this.view.calculateExtent(this.map.getSize())},t.prototype.zoomMaxExtent=function(t){var e=this.map.getView();if(t="number"==typeof t?t:2,this.map&&e){var i=e.getCenter();i&&(this.view.setCenter(i),this.view.setZoom(t))}},t.prototype.setViewCenter=function(t){t&&Array.isArray(t)&&this.map&&this.map.getView().animate({center:t,duration:800})},t.prototype.movePointToView=function(t){if(this.map){var e=this.getMapCurrentExtent();Zi.extent.containsXY(e,t[0],t[1])||this.map.getView().animate({center:[t[0],t[1]],duration:400})}},t.prototype.adjustExtent=function(t,e){if(this.map){e=e||{};var i=Zi.extent.getSize(t),n="number"==typeof e.adjust?e.adjust:.2,o="number"==typeof e.minWidth?e.minWidth:.05,r="number"==typeof e.minHeight?e.minHeight:.05;if(i[0]<=o||i[1]<=r){var s=Zi.extent.getBottomLeft(t),a=Zi.extent.getTopRight(t),l=s[0]-n,h=s[1]-n,c=a[0]+n,u=a[1]+n;t=Zi.extent.buffer([l,h,c,u],n)}return t}},t.prototype.zoomToExtent=function(t,e,i){if(this.map){var n=this.map.getView(),o=this.map.getSize();e?n.fit(t,{size:o,padding:[0,0,0,0],duration:i||800,maxZoom:n.getMaxZoom()||void 0}):n.fit(t,{size:o,padding:[0,0,0,0],duration:0,maxZoom:n.getMaxZoom()||void 0})}},t.prototype.orderLayerZindex=function(){var t=this,e=10;if(this.map){var i=this.pointLayers,n=this.lineLayers;this.polygonLayers.forEach((function(i){if(i){var n=t.getLayerByLayerName(i);n&&n.setZIndex(e++)}})),n.forEach((function(i){if(i){var n=t.getLayerByLayerName(i);n&&n.setZIndex(e++)}})),i.forEach((function(i){if(i){var n=t.getLayerByLayerName(i);n&&n.setZIndex(e++)}}))}},t}(),ql=function(t){function e(){n(this,e);var i=s(this,t.call(this));return i[Symbol("geometry")]=Symbol("geometry"),i}return r(e,t),e.prototype._getExtent=function(t,e){var i=t.getExtent(),n=!0;return i.every((function(t){return t!==1/0&&!isNaN(t)&&null!=t||(n=!1,!1)})),n&&(e.view&&e.view.adjustExtent&&(i=this.adjustExtent(i,e.view)),e.zoomToExtent&&this.zoomToExtent(i,!0)),i},e.prototype.getCenterExtentFromLine=function(t,e){try{var i=null;t instanceof Zi.geom.Geometry||(i=this.getGeomFromGeomData(t,e));var n=new Zi.geom.MultiLineString([]);if(i&&i instanceof Zi.geom.LineString)n.appendLineString(i);else if(i&&i instanceof Zi.geom.MultiLineString){var o=i.getLineStrings();o&&Array.isArray(o)&&o.length>0&&o.forEach((function(t){t&&t instanceof Zi.geom.LineString&&n.appendLineString(t)}))}var r=this._getExtent(n,e);return{extent:r,center:Zi.extent.getCenter(r)}}catch(t){console.error(t)}},e.prototype.getCenterExtentFromPolygon=function(t,e){try{var i=null;t instanceof Zi.geom.Geometry||(i=this.getGeomFromGeomData(t,e));var n=new Zi.geom.MultiPolygon([]);if(i&&i instanceof Zi.geom.Polygon)n.appendPolygon(i);else if(i&&i instanceof Zi.geom.MultiPolygon){var o=i.getPolygons();o&&Array.isArray(o)&&o.length>0&&o.forEach((function(t){t&&t instanceof Zi.geom.Polygon&&n.appendPolygon(t)}))}var r=this._getExtent(n,e);return{extent:r,center:Zi.extent.getCenter(r)}}catch(t){console.error(t)}},e.prototype._getMultiGeomtery=function(t,e){try{var i=null,n=new Zi.geom.MultiPolygon([]),o=new Zi.geom.MultiLineString([]),r=new Zi.geom.MultiPoint([]);if(!(i=t instanceof Zi.geom.Geometry?t:this.getGeomFromGeomData(t,e)))return!1;if(i instanceof Zi.geom.Polygon||i instanceof Zi.geom.MultiPolygon){if(i instanceof Zi.geom.Polygon)n.appendPolygon(i);else{var s=i.getPolygons();s&&Array.isArray(s)&&s.length>0&&s.forEach((function(t){t&&t instanceof Zi.geom.Polygon&&n.appendPolygon(t)}))}return n}if(i instanceof Zi.geom.LineString||i instanceof Zi.geom.MultiLineString){if(i instanceof Zi.geom.LineString)o.appendLineString(i);else{var a=i.getLineStrings();a&&Array.isArray(a)&&a.length>0&&a.forEach((function(t){t&&t instanceof Zi.geom.LineString&&o.appendLineString(t)}))}return o}if(i instanceof Zi.geom.Point||i instanceof Zi.geom.MultiPoint){if(i instanceof Zi.geom.Point)r.appendPoint(i);else{var l=i.getPoints();l&&Array.isArray(l)&&l.length>0&&l.forEach((function(t){t&&t instanceof Zi.geom.Point&&r.appendPoint(t)}))}return r}}catch(t){console.log(t)}},e.prototype.getGeomFromGeomData=function(t,e){try{e=e||{};var i=null;if(t instanceof Zi.geom.Geometry)i=t,e.dataProjection&&e.featureProjection&&(i=i.transform(e.dataProjection,e.featureProjection));else if(t.hasOwnProperty("geometry")&&t.geometry instanceof Zi.geom.Geometry)i=t.geometry,e.dataProjection&&e.featureProjection&&(i=i.transform(e.dataProjection,e.featureProjection));else if("GeoJSON"===t.geomType||"GeoJSON"===e.geomType){i=(new Zi.format.GeoJSON).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}else if("EsriJSON"===t.geomType||"EsriJSON"===e.geomType){i=(new Zi.format.EsriJSON).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}else if("Polyline"===t.geomType||"Polyline"===e.geomType){i=(new Zi.format.Polyline).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}else if(Array.isArray(t.geometry))i=new Zi.geom.Point(t.geometry),e.dataProjection&&e.featureProjection&&(i=i.transform(e.dataProjection,e.featureProjection));else if("MVT"===t.geomType||"MVT"===e.geomType)i=(new Zi.format.MVT).readGeometry(t);else if("TopoJSON"===t.geomType||"TopoJSON"===e.geomType)i=(new Zi.format.TopoJSON).readGeometry(t);else if("IGC"===t.geomType||"IGC"===e.geomType)i=(new Zi.format.IGC).readGeometry(t);else if("GMLBase"===t.geomType||"GMLBase"===e.geomType)i=(new Zi.format.GMLBase).readGeometry(t);else if("GPX"===t.geomType||"GPX"===e.geomType)i=(new Zi.format.GPX).readGeometry(t);else if("KML"===t.geomType||"KML"===e.geomType)i=(new Zi.format.KML).readGeometry(t);else if("OSMXML"===t.geomType||"OSMXML"===e.geomType)i=(new Zi.format.OSMXML).readGeometry(t);else if("WFS"===t.geomType||"WFS"===e.geomType)i=(new Zi.format.WFS).readGeometry(t);else if("WMSGetFeatureInfo"===t.geomType||"WMSGetFeatureInfo"===e.geomType)i=(new Zi.format.WMSGetFeatureInfo).readGeometry(t);else{var n=new Zi.format.WKT;if(!t.geometry)return!1;i=n.readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}return i}catch(t){console.log(t)}},e.prototype.getCenterExtentFromGeom=function(t,e){var i=this.getGeomFromGeomData(t,e),n=this._getExtent(i,e),o=Zi.extent.getCenter(n),r=!0;return n.every((function(t){return t!==1/0&&!isNaN(t)&&null!=t||(r=!1,!1)})),r&&e.zoomToExtent&&(e.view&&e.view.adjustExtent&&(n=this.adjustExtent(n,e.view)),this.zoomToExtent(n,!0)),{extent:n,center:o}},e.prototype._getExtentCenter=function(t,e){var i=this._getExtent(t,e),n=Zi.extent.getCenter(i),o=!0;return i.every((function(t){return t!==1/0&&!isNaN(t)&&null!=t||(o=!1,!1)})),o&&e.zoomToExtent&&(e.view&&e.view.adjustExtent&&(i=this.adjustExtent(i,e.view)),this.zoomToExtent(i,!0)),{extent:i,center:n}},e.prototype.getCenterExtentFromGeoms=function(t,e){var i=this,n=null,o="";if(t&&Array.isArray(t)&&t.length>0){var r=new Zi.geom.MultiPolygon([]),s=new Zi.geom.MultiLineString([]),a=new Zi.geom.MultiPoint([]);t.forEach((function(t){if(t){var n=i._getMultiGeomtery(i.getGeomFromGeomData(t,e));if(n)if(n instanceof Zi.geom.MultiPolygon){var l=n.getPolygons();l&&Array.isArray(l)&&l.length>0&&l.forEach((function(t){t&&t instanceof Zi.geom.Polygon&&r.appendPolygon(t)})),o="multiPolygon"}else if(n instanceof Zi.geom.MultiLineString){var h=n.getLineStrings();h&&Array.isArray(h)&&h.length>0&&h.forEach((function(t){t&&t instanceof Zi.geom.LineString&&s.appendLineString(t)})),o="multiLine"}else if(n instanceof Zi.geom.MultiPoint){var c=n.getPoints();c&&Array.isArray(c)&&c.length>0&&c.forEach((function(t){t&&t instanceof Zi.geom.Point&&a.appendPoint(t)})),o="multiPoint"}}})),"multiPolygon"===o?n=this._getExtentCenter(r,e):"multiLine"===o?n=this._getExtentCenter(s,e):"multiPoint"===o&&(n=this._getExtentCenter(a,e))}return n},e}(Zl),Kl=function(t){function e(){n(this,e);var i=s(this,t.call(this));return i[Symbol("feature")]=Symbol("feature"),i}return r(e,t),e.prototype.getFeatureFromLayer=function(t,e){var i=void 0;if(t&&t instanceof Zi.layer.Vector&&e){var n=t.getSource();n&&n.getFeatureById&&(i=n.getFeatureById(e))}return i},e.prototype.getFeatureById=function(t){var e=this,i=this.getVectorLayers(),n=void 0;return i.every((function(i){return!((n=e.getFeatureFromLayer(i,t))&&n instanceof Zi.Feature)})),n},e.prototype.getFeatureById2LayerName=function(t,e){var i=void 0;if(e){var n=this.getLayerByLayerName(e);i=this.getFeatureFromLayer(n,t)}return i&&i instanceof Zi.Feature||(i=this.getFeatureById(t)),i},e.prototype.fixStyle=function(t,e,n){t.attributes||(t.attributes={});var o=[],r=o[0],s=o[1],a=t.attributes.style||e.style,l=t.attributes.selectStyle||e.selectStyle;return a&&a instanceof Zi.style.Style||nn(a)?r=a:"object"===(void 0===a?"undefined":i(a))&&(r=new Wn(a)),l&&l instanceof Zi.style.Style||nn(l)?s=l:"object"===(void 0===l?"undefined":i(l))&&(s=new Wn(l)),r&&n&&(n.setStyle(r),n.set("style",r),s&&n.set("selectStyle",s)),n},e.prototype.fixProperties=function(t,e,i){if(t.attributes&&(t.attributes.id||t.attributes.ID)){var n=t.attributes.id||t.attributes.ID||e.id;i.setId(n),i.setProperties(t.attributes)}return i},e.prototype.fixView=function(t,e){if(e.zoomToExtent){var i=t.getExtent();e.view&&e.view.adjustExtent&&(i=this.adjustExtent(i,e.view)),this.zoomToExtent(i,!0)}},e.prototype.appendFeature=function(t,e){t.create=!0,this.createVectorLayer(t.layerName,t).getSource().addFeature(e),this.orderLayerZindex()},e.prototype.addPoint=function(t,e){var i=this.getGeomFromGeomData(t,e);if(i){var n=new Zi.Feature({geometry:i,params:e});return n=this.fixStyle(t,e,n),n=this.fixProperties(t,e,n),this.fixView(i,e),e.layerName&&(this.appendFeature(e,n),this.pointLayers.add(e.layerName)),n}},e.prototype.addPoints=function(t,e){var i=this;try{if(t&&Array.isArray(t)){var n=[],o=new Zi.geom.MultiPoint([]),r=!1;return e.zoomToExtent&&(e.zoomToExtent=!1,r=!0),t.forEach((function(t){if(t&&t.geometry){var r=i.addPoint(t,e);if(r&&r instanceof Zi.Feature){n.push(r);var s=r.getGeometry();if(s&&s instanceof Zi.geom.Point)o.appendPoint(s);else if(s&&s instanceof Zi.geom.MultiPoint){var a=s.getPoints();a&&Array.isArray(a)&&a.length>0&&a.forEach((function(t){t&&t instanceof Zi.geom.Point&&o.appendPoint(t)}))}}}})),r&&(e.zoomToExtent=!0,this.fixView(o,e)),n}}catch(t){console.error(t)}},e.prototype.setPointGeometry=function(t,e,i){if(t&&e&&t instanceof Zi.Feature){var n=this.getGeomFromGeomData({geometry:e},i);t.setGeometry(n)}else console.info("传入数据有误！")},e.prototype.addPolyline=function(t,e){var i=this.getGeomFromGeomData(t,e);if(i){var n=new Zi.Feature({geometry:i,params:e});return n=this.fixStyle(t,e,n),n=this.fixProperties(t,e,n),this.fixView(i,e),e.layerName&&(this.appendFeature(e,n),this.lineLayers.add(e.layerName)),n}},e.prototype.addPolylines=function(t,e){var i=this;try{if(t&&Array.isArray(t)){var n=[],o=new Zi.geom.MultiLineString([]),r=!1;return e.zoomToExtent&&(e.zoomToExtent=!1,r=!0),t.forEach((function(t){var r=i.addPolyline(t,e);if(r&&r instanceof Zi.Feature){n.push(r);var s=r.getGeometry();if(s&&s instanceof Zi.geom.LineString)o.appendLineString(s);else if(s&&s instanceof Zi.geom.MultiLineString){var a=s.getLineStrings();a&&Array.isArray(a)&&a.length>0&&a.forEach((function(t){t&&t instanceof Zi.geom.LineString&&o.appendLineString(t)}))}}})),r&&(e.zoomToExtent=!0,this.fixView(o,e)),n}}catch(t){console.error(t)}},e.prototype.addPolygon=function(t,e){var i=this.getGeomFromGeomData(t,e);if(i){var n=new Zi.Feature({geometry:i,params:e});return n=this.fixStyle(t,e,n),n=this.fixProperties(t,e,n),this.fixView(i,e),e.layerName&&(this.appendFeature(e,n),this.polygonLayers.add(e.layerName)),n}},e.prototype.addPolygons=function(t,e){var i=this;try{if(t&&Array.isArray(t)){var n=[],o=new Zi.geom.MultiPolygon([]),r=!1;return e.zoomToExtent&&(e.zoomToExtent=!1,r=!0),t.forEach((function(t){var r=i.addPolygon(t,e);if(r&&r instanceof Zi.Feature){n.push(r);var s=r.getGeometry();if(s&&s instanceof Zi.geom.Polygon)o.appendPolygon(s);else if(s&&s instanceof Zi.geom.MultiPolygon){var a=s.getPolygons();a&&Array.isArray(a)&&a.length>0&&a.forEach((function(t){t&&t instanceof Zi.geom.Polygon&&o.appendPolygon(t)}))}}})),r&&(e.zoomToExtent=!0,this.fixView(o,e)),n}}catch(t){console.log(t)}},e.prototype.addHeatFeatures=function(t,e){var i=this;try{var n="";if(t&&Array.isArray(t)&&t.length>0){var o=new Zi.geom.MultiPoint([]),r=!1;if(e.zoomToExtent&&(e.zoomToExtent=!1,r=!0),t.forEach((function(t){if(t&&t.geometry){var n=i.getGeomFromGeomData(t,e);if(n&&n instanceof Zi.geom.Point)o.appendPoint(n);else if(n&&n instanceof Zi.geom.MultiPoint){var r=n.getPoints();r&&Array.isArray(r)&&r.length>0&&r.forEach((function(t){t&&t instanceof Zi.geom.Point&&o.appendPoint(t)}))}}})),e.layerName){n=new Zi.Feature({geometry:o,params:e}),e.create=!0;var s=this.createHeatMapLayer(e.layerName,e);s&&s instanceof Zi.layer.Heatmap&&s.getSource().addFeature(n),this.pointLayers.add(e.layerName)}r&&(e.zoomToExtent=!0,this.fixView(o,e))}return n}catch(t){console.log(t)}},e.prototype.setHeatLayerStyle=function(t,e){try{var n=null;if(t){t=t.trim();var o=this.getLayerByLayerName(t);if(o&&o instanceof Zi.layer.Heatmap&&(n=o,e&&"object"===(void 0===e?"undefined":i(e))))for(var r in e)switch(r){case"blur":n.setBlur(e[r]);break;case"radius":n.setRadius(e[r]);break;case"gradient":n.setGradient(e[r]);break;case"visible":n.setVisible(e[r]);break;case"opacity":n.setOpacity(e[r])}}return n}catch(t){console.log(t)}},e.prototype.removeFeatureByLayerName=function(t,e){try{this._removeSelectFeature(null,!0);var i=this.getLayerByLayerName(t),n=[];if(i&&i instanceof Zi.layer.Vector){var o=i.getSource();o&&o.clear&&(o.getFeatures&&(n=o.getFeatures()),o.clear(e||!1))}return n}catch(t){console.log(t)}},e.prototype.removeFeatureByLayerNames=function(t){var e=this,i=[];if(this._removeSelectFeature(null,!0),t&&Array.isArray(t)&&t.length>0)return t.forEach((function(t){i=i.concat(e.removeFeatureByLayerName(t))})),i;console.info("传入的不是数组！")},e.prototype.removeFeature=function(t){if(this._removeSelectFeature(t,!1),!(t&&t instanceof Zi.Feature))throw new Error("传入的不是要素!");var e=this.getLayerByFeature(t);if(e){var i=e.getSource();i&&i.removeFeature&&i.removeFeature(t)}},e.prototype.removeFeatureById=function(t,e){var i=this,n=void 0;if(this.map&&t)if(e){var o=this.getLayerByLayerName(e);if(o&&o.getSource){var r=o.getSource();r&&r.getFeatureById&&(n=r.getFeatureById(t))&&n instanceof Zi.Feature&&(r.removeFeature(n),this._removeSelectFeature(n,!1))}}else{this.getAllLayers().every((function(e){return!((n=i.getFeatureFromLayer(e,t))&&n instanceof Zi.Feature)||(e.getSource().removeFeature(n),i._removeSelectFeature(n,!1),!1)}))}return n},e.prototype.removeFeatureByIds=function(t,e){var i=this,n=[];return t&&Array.isArray(t)&&t.length>0?t.forEach((function(t){n.push(i.removeFeatureById(t,e))})):console.info("id为空或者不是数组！"),n},e.prototype.highLightFeature=function(t,e,n){if(this.map){if(t&&t instanceof Zi.Feature){if(e&&e instanceof Zi.style.Style)t.setStyle(e);else if(nn(e))t.setStyle(e);else if("object"===(void 0===e?"undefined":i(e))){var o=new Wn(e);t.setStyle(o)}else{var r=t.get("selectStyle");if(r&&r instanceof Zi.style.Style)t.setStyle(r);else if(nn(r))t.setStyle(e);else if("object"===(void 0===r?"undefined":i(r))){var s=new Wn(r);t.setStyle(s)}}return t}if(t&&"string"==typeof t&&"''"!==t.trim()){var a=this.getFeatureById(t);if(a&&a instanceof Zi.Feature){if(e&&e instanceof Zi.style.Style)a.setStyle(e);else if(nn(e))a.setStyle(e);else if("object"===(void 0===e?"undefined":i(e))){var l=new Wn(e);a.setStyle(l)}else{var h=a.get("selectStyle");if(h&&h instanceof Zi.style.Style)a.setStyle(h);else if(nn(e))a.setStyle(h);else if("object"===(void 0===h?"undefined":i(h))){var c=new Wn(h);a.setStyle(c)}}a.set("keepStyle",n)}return a}}},e.prototype.unHighLightFeature=function(t,e,n){if(this.map){if(t&&t instanceof Zi.Feature){if(!n&&t.get("keepStyle"))return t;if(t.set("keepStyle",!1),e&&e instanceof Zi.style.Style)t.setStyle(e);else if(nn(e))t.setStyle(e);else if("object"===(void 0===e?"undefined":i(e))){var o=new Wn(e);t.setStyle(o)}else{var r=t.get("style");if(r&&r instanceof Zi.style.Style)t.setStyle(r);else if(nn(r))t.setStyle(r);else if("object"===(void 0===r?"undefined":i(r))){var s=new Wn(r);t.setStyle(s)}}return t}if(t&&"string"==typeof t&&"''"!==t.trim()){var a=this.getFeatureById(t);if(a&&a instanceof Zi.Feature){if(!n&&a.get("keepStyle"))return a;if(a.set("keepStyle",!1),e&&e instanceof Zi.style.Style)a.setStyle(e);else if(nn(e))a.setStyle(e);else if("object"===(void 0===e?"undefined":i(e))){var l=new Wn(e);a.setStyle(l)}else{var h=a.get("style");if(h&&h instanceof Zi.style.Style)a.setStyle(h);else if(nn(h))a.setStyle(e);else if("object"===(void 0===h?"undefined":i(h))){var c=new Wn(h);a.setStyle(c)}}}return a}}},e}(Ki(fo,ql)),Jl=function(t){function e(){return n(this,e),s(this,t.apply(this,arguments))}return r(e,t),e.prototype.addOverlayPoint=function(t,e,i){try{if(t&&t.geometry){var n=this.getGeomFromGeomData(t,e);if(n&&n.getCoordinates){var o=n.getCoordinates();if(t.attributes&&(t.attributes.id||t.attributes.ID)){var r=t.attributes.id||t.attributes.ID||e.id,s=this.map.getOverlayById(r),a=this.getElementForOverlay(t,e,i),l=[a.marker,a.ele],h=l[0],c=l[1];if(s)this._addOverLayEvent(h,c,s),s.setElement(h);else{var u=new Zi.Overlay({element:h,positioning:"center-center",id:r,offset:[0,0],stopEvent:!0});u.setPosition(o),u.setProperties(t.attributes),e&&(u.set("params",e),e.layerName&&u.set("layerName",e.layerName)),this._addOverLayEvent(h,c,u),this.map.addOverlay(u)}}if(e.zoomToExtent){var p=new Zi.geom.Point(o).getExtent();e.view&&e.view.adjustExtent&&(p=this.adjustExtent(p,e.view)),this.zoomToExtent(p,!0)}}}}catch(t){console.log(t)}},e.prototype._addOverLayEvent=function(t,e,i){var n=this;t.onmousedown=function(t){2===t.button?n.dispatch(Uo,{type:Uo,originEvent:t,value:i}):0===t.button&&n.dispatch(Ho,{type:Ho,originEvent:t,value:i}),n.dispatch(Wo,{type:Wo,originEvent:t,value:i})},t.onmouseover=function(t){e.style.color=e.selectColor,n.dispatch(Yo,{type:Yo,originEvent:t,value:i})},t.onmouseout=function(t){e.style.color=e.normalColor,n.dispatch(Xo,{type:Xo,originEvent:t,value:i})}},e.prototype.getElementForOverlay=function(t,e,i){var n=document.createElement("div");n.className="overlay-point-content";var o=t.attributes.style||e.style,r="",s="";if(o.element instanceof Element)(r=document.createElement("div")).setAttribute("normalColor",o.color?o.color:"#1b9de8"),r.setAttribute("selectColor",o.selectColor?o.selectColor:"#F61717"),r.innerHTML=o.text?o.text:"",r.appendChild(o.element),n.appendChild(r);else if(o.element&&en(o.element)){r=document.createElement("div");var a=o.element.className?o.element.className:"maker-point";pn(r,"iconfont"),pn(r,a),r.style.top=o.element.top?o.element.top:"-100%",r.style.left=o.element.left?o.element.left:"100%",r.style.fontSize=o.element.fontSize?o.element.fontSize:"16px",r.style.borderColor=o.element.borderColor?o.element.borderColor:"#2A2A2A",r.style.borderWidth=o.element.borderWidth?o.element.borderWidth:"1px",r.style.opacity=o.element.opacity?o.element.opacity:1,r.style.width=o.element.width?o.element.width:"100%",r.style.height=o.element.height?o.element.height:"100%",r.style.borderRadius=o.element.borderRadius?o.element.borderRadius:"0px",r.setAttribute("normalColor",o.color?o.color:"#1b9de8"),r.setAttribute("selectColor",o.selectColor?o.selectColor:"#F61717"),r.setAttribute("selectClass",o.selectClass?o.selectClass:"overlay-point-marker-raise"),r.style.color=o.color?o.color:"#1b9de8",r.innerHTML=o.element.text?o.element.text:"",e.orderBy?(s=document.createElement("span")).innerHTML=Number(i)+1:e.orderByNum&&void 0!==t.attributes.number&&""!==t.attributes.number&&null!==t.attributes.number?(s=document.createElement("span")).innerHTML=Number(t.attributes.number)+1:e.innerHtml&&(s.innerHTML=t.attributes.innerHtml),s&&r.appendChild(s),n.appendChild(r)}return{marker:n,ele:r}},e.prototype.addOverlayPoints=function(t,e){var i=this;try{if(t&&Array.isArray(t)){var n=new Zi.geom.MultiPoint([]),o=!1;e.zoomToExtent&&(e.zoomToExtent=!1,o=!0),t.forEach((function(t,o){if(t&&t.geometry){var r=i.getGeomFromGeomData(t,e);r&&(i.addOverlayPoint(t,e,o),n.appendPoint(r))}})),o&&(e.zoomToExtent=!0,this.fixView(n,e))}}catch(t){console.log(t)}},e.prototype.removeOverLay=function(t){try{if(t&&t instanceof Zi.Overlay&&this.map)return t.get("markFeature")&&t.get("markFeature")instanceof Zi.Feature&&this.removeFeature(t.get("markFeature")),this.map.removeOverlay(t),t}catch(t){console.log(t)}},e.prototype.removeOverlayById=function(t){try{if(this.map&&t){var e=$i(t),i=this.map.getOverlayById(e);return i&&i instanceof Zi.Overlay&&(i.get("markFeature")&&i.get("markFeature")instanceof Zi.Feature&&this.removeFeature(i.get("markFeature")),this.removeOverlay(i)),i}}catch(t){console.log(t)}},e.prototype.removeOverlayByLayerName=function(t){var e=[];if(this.map&&t)for(var i=this.map.getOverlays().getArray(),n=i.length,o=0;o<n;o++)i[o]&&i[o].get("layerName")===t&&(e.push(i[o]),i[o].get("markFeature")&&i[o].get("markFeature")instanceof Zi.Feature&&this.removeFeature(i[o].get("markFeature")),this.removeOverlay(i[o]),o--);return e},e.prototype.removeOverlayByIds=function(t){var e=this;try{var i=[];return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){if(t){var n=e.removeOverlayById(t);i.push(n)}})),i}catch(t){console.log(t)}},e.prototype.removeOverlayByLayerNames=function(t){var e=this;try{var i=[];return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){if(t){var n=e.removeOverlayByLayerName(t);n&&n.length>0&&(i=i.concat(n))}})),i}catch(t){console.log(t)}},e.prototype.highLightOverLay=function(t,e){try{if(!this.map)return;if(e&&e instanceof Zi.Overlay){var i=e.getElement(),n=i.getElementsByTagName("div")[0];return n.style.color=n.getAttribute("selectColor"),pn(i,n.getAttribute("selectClass")),e}if(t&&"''"!==$i(t)){var o=this.map.getOverlayById(t);if(o&&o instanceof Zi.Overlay){var r=o.getElement(),s=r.getElementsByTagName("div")[0];return s.style.color=s.getAttribute("selectColor"),pn(r,s.getAttribute("selectClass")),o}}}catch(t){console.info(t)}},e.prototype.unHighLightOverLay=function(t,e){if(this.map){if(e&&e instanceof Zi.Overlay){var i=e.getElement(),n=i.getElementsByTagName("div")[0];return n.style.color=n.getAttribute("normalColor"),gn(i,n.getAttribute("selectClass")),e}if(t&&"''"!==$i(t)){var o=this.map.getOverlayById(t);if(o&&o instanceof Zi.Overlay){var r=o.getElement(),s=r.getElementsByTagName("div")[0];return s.style.color=s.getAttribute("normalColor"),gn(r,s.getAttribute("selectClass")),o}}}},e.prototype.getOverLayById=function(t){var e=$i(t);return this.map.getOverlayById(e)},e.prototype.getOverLaysByLayerNames=function(t){var e=this;try{var i=[];return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){if(t){var n=e.getOverlayByLayerName(t);n&&n.length>0&&(i=i.concat(n))}})),i}catch(t){console.log(t)}},e.prototype.getOverlayByLayerName=function(t){var e=[];this.map&&t&&this.map.getOverlays().getArray().forEach((function(i){i&&i.get("layerName")===t&&e.push(i)}));return e},e.prototype.getOverlayByPropertiesKey=function(t,e){var i=[];this.map&&t&&e&&this.map.getOverlays().getArray().forEach((function(n){if(n){var o=n.getProperties();o&&o[t]&&o[t]===e&&i.push(n)}}));return i},e.prototype.getOverlayByPropertiesKeys=function(t,e){var i=this,n=[];return this.map&&t&&e&&Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.forEach((function(t,o){var r=i.getOverlayByPropertiesKey(t,e[o]);r&&r.length>0&&(n=n.concat(r))})),n},e.prototype.removeOverlayByPropertiesKey=function(t,e){var i=[];if(this.map&&t&&e)for(var n=this.map.getOverlays().getArray(),o=n.length,r=0;r<o;r++)if(n[r]){var s=n[r].getProperties();s&&s[t]&&s[t]===e&&(i.push(n[r]),n[r].get("markFeature")&&n[r].get("markFeature")instanceof Zi.Feature&&this.removeFeature(n[r].get("markFeature")),this.map.removeOverlay(n[r]),r--)}return i},e.prototype.removeOverlayByPropertiesKeys=function(t,e){var i=this,n=[];return this.map&&t&&e&&Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.forEach((function(t,o){var r=i.removeOverlayByPropertiesKey(t,e[o]);r&&r.length>0&&(n=n.concat(r))})),n},e}(ql),Ql=Math.PI,$l=3e3*Ql/180,th=6378245,eh=.006693421622965943,ih=function(t,e){var i=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*Ql)+20*Math.sin(2*t*Ql))/3,i+=2*(20*Math.sin(e*Ql)+40*Math.sin(e/3*Ql))/3,i+=2*(160*Math.sin(e/12*Ql)+320*Math.sin(e*Ql/30))/3},nh=function(t,e){var i=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*Ql)+20*Math.sin(2*t*Ql))/3,i+=2*(20*Math.sin(t*Ql)+40*Math.sin(t/3*Ql))/3,i+=2*(150*Math.sin(t/12*Ql)+300*Math.sin(t/30*Ql))/3},oh=function(t,e){return!(t>73.66&&t<135.05&&e>3.86&&e<53.55)},rh=Object.freeze({transformlat:ih,transformlng:nh,outOfChina:oh,gcj02towgs84:function(t,e){if(oh(t,e))return[t,e];var i=ih(t-105,e-35),n=nh(t-105,e-35),o=e/180*Ql,r=Math.sin(o);r=1-eh*r*r;var s=Math.sqrt(r);return i=180*i/(th*(1-eh)/(r*s)*Ql),[2*t-(t+(n=180*n/(th/s*Math.cos(o)*Ql))),2*e-(e+i)]},wgs84togcj02:function(t,e){if(oh(t,e))return[t,e];var i=ih(t-105,e-35),n=nh(t-105,e-35),o=e/180*Ql,r=Math.sin(o);r=1-eh*r*r;var s=Math.sqrt(r);return i=180*i/(th*(1-eh)/(r*s)*Ql),[t+(n=180*n/(th/s*Math.cos(o)*Ql)),e+i]},gcj02tobd:function(t,e){var i=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*$l),n=Math.atan2(e,t)+3e-6*Math.cos(t*$l);return[i*Math.cos(n)+.0065,i*Math.sin(n)+.006]},bdtogcj02:function(t,e){var i=t-.0065,n=e-.006,o=Math.sqrt(i*i+n*n)-2e-5*Math.sin(n*$l),r=Math.atan2(n,i)-3e-6*Math.cos(i*$l);return[o*Math.cos(r),o*Math.sin(r)]},lonLatToMercator:function(t,e){var i=20037508.34*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return[i,n=20037508.34*n/180]},MercatorTolonLat:function(t,e){var i=e/20037508.34*180;return[t/20037508.34*180,i=180/Math.PI*(2*Math.atan(Math.exp(i*Math.PI/180))-Math.PI/2)]}}),sh=function(t){function e(){n(this,e);var i=s(this,t.call(this));i.version_="1.5.8",i.logo_=zn,i.currentMapLines=[],i.currentMapPoints=[],i.currentMapPolygon=[],i.lineLayers=[],i.pointLayers=[],i.polygonLayers=[],i.selectInteraction=null,i.moveInteraction=null,i.currentSelectFeature=null,i.lastSelectFeature=null,i.view=null,i.timer_=null,i.map=null;var o=Array.prototype.slice.call(arguments);return 1===o.length&&en(o[0])?o[0].target&&i.initMap(o[0].target,o[0]):2===o.length&&o[0]&&en(o[1])&&i.initMap(o[0],o[1]),i.showMassages_(),Ji.call(i),i}return r(e,t),e.prototype.initMap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.target_=t,this.options_=e,this.view=this._addView(this.options_.view);var i=this._addCopyRight(this.options_.logo),n=this.addBaseLayers(this.options_.baseLayers),o=this._addInteractions(this.options_.interactions),r=this._addControls(this.options_.controls);this.map=new Zi.Map({target:this.target_,loadTilesWhileAnimating:"boolean"==typeof this.options_.loadTilesWhileAnimating&&this.options_.loadTilesWhileAnimating,loadTilesWhileInteracting:"boolean"==typeof this.options_.loadTilesWhileInteracting&&this.options_.loadTilesWhileInteracting,logo:i,layers:n,view:this.view,renderer:this.options_.renderer?this.options_.renderer:void 0,interactions:o,controls:r}),this._addEvent(),this._addMapInteraction(),this.dispatch(_o,!0)}catch(t){this.dispatch(_o,t)}},e.prototype._addEvent=function(){var t=this;this.map.on(xo,(function(e){t.dispatch(xo,e)})),this.map.on(Co,(function(e){t.dispatch(Co,e)})),this.map.on(Io,(function(e){t.dispatch(Io,e)})),this.map.on(Ao,(function(e){t.dispatch(Ao,e)})),this.map.on(bo,(function(e){t.dispatch(bo,e)})),this.map.on(wo,(function(e){t.dispatch(wo,e)})),this.map.on(So,(function(e){t.dispatch(So,e)})),this.map.on(To,(function(e){t.dispatch(To,e)})),this.map.on(Eo,(function(e){t.dispatch(Eo,e)})),this.map.on(Mo,(function(e){t.dispatch(Mo,e)})),this.map.on(Po,(function(e){t.dispatch(Po,e)})),this.map.on(Lo,(function(e){t.dispatch(Lo,e)})),this.map.on(No,(function(e){t.dispatch(No,e)})),this.map.on(Do,(function(e){t.dispatch(Do,e)})),this.map.on(Ro,(function(e){t.dispatch(Ro,e)})),this.map.on(Oo,(function(e){t.dispatch(Oo,e)})),this.map.on(Go,(function(e){t.dispatch(Go,e)})),this.map.on(Bo,(function(e){t.dispatch(Bo,e)}))},e.prototype._addMapInteraction=function(){var t=this;this.selectInteraction=new Zi.interaction.Select({condition:Zi.events.condition.click,style:function(t,e){return[new Zi.style.Style({stroke:new Zi.style.Stroke({color:"#D97363",width:5})})]},layers:function(t){return!0===t.get(Zo)},wrapX:!1}),this.moveInteraction=new Zi.interaction.Select({condition:Zi.events.condition.pointerMove,style:function(t,e){return[new Zi.style.Style({stroke:new Zi.style.Stroke({color:"#D97363",width:5})})]},layers:function(t){return!0===t.get(Zo)},filter:function(t,e){return!t.get("features")||t.get("features").length<=1},wrapX:!1}),this.moveInteraction.on("select",(function(e){var i=[e.selected,null],n=i[0],o=i[1];if(e.deselected){var r=e.deselected;r.length>0&&(o=r[0],t.unHighLightFeature(o),o&&o instanceof Zi.Feature&&t.dispatch(ko,{type:ko,originEvent:e,value:o}))}n.length>0&&(o=n[0],t.lastSelectFeature&&t.lastSelectFeature instanceof Zi.Feature&&(t.unHighLightFeature(t.lastSelectFeature),t.lastSelectFeature=null),t.lastSelectFeature=o,t.highLightFeature(o),o&&o instanceof Zi.Feature&&t.dispatch(Fo,{type:Fo,originEvent:e,value:o}))})),this.selectInteraction.on("select",(function(e){var i=[e.selected,null],n=i[0],o=i[1];if(e.deselected){var r=e.deselected;r.length>0&&(o=r[0],t.unHighLightFeature(o),o&&o instanceof Zi.Feature&&t.dispatch(jo,{type:jo,originEvent:e,value:o}))}n.length>0&&(o=n[0],t.lastSelectFeature&&t.lastSelectFeature instanceof Zi.Feature&&(t.unHighLightFeature(t.lastSelectFeature),t.lastSelectFeature=null),t.lastSelectFeature=o,t.highLightFeature(o),o&&o instanceof Zi.Feature&&t.dispatch(Vo,{type:Vo,originEvent:e,value:o}))})),this.map.addInteraction(this.moveInteraction),this.map.addInteraction(this.selectInteraction)},e.prototype._removeSelectFeature=function(t,e){if(this.selectInteraction){var i=this.selectInteraction.getFeatures().getArray();if(i&&i.length>0)for(var n=0;n<i.length;n++)e?this.selectInteraction.getFeatures().remove(i[n]):e||i[n]!==t||this.selectInteraction.getFeatures().remove(i[n])}},e.prototype._addFeatureSelectEvent=function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}));e&&e instanceof Zi.Feature&&this.dispatch(Fo,{type:Fo,originEvent:t,value:e})},e.prototype._addCopyRight=function(t){return!0===t?{href:Vn.INDEX_URL,src:this.logo_}:!!en(t)&&t},e.prototype.showMassages_=function(){console.log("%c            ","font-size:16px; padding:18px 24px;line-height:48px;background:url('"+this.logo_+"') no-repeat;background-size: 48px;"),console.log("hmap-js","1.5.8","©","FDD <smileFDD@gmail.com>")},o(e,null,[{key:"accessToken",get:function(){return Vn.ACCESS_TOKEN},set:function(t){Vn.ACCESS_TOKEN=t}}]),e}(Ki(yo,Ji,mo,vo,$a,Yl,fo,Zl,ql,Kl,Jl));sh.supported=Bn,sh.Popover=Tn,sh.AnimatedClusterLayer=jn,sh.Layer=Zi.layer,sh.Map=Zi.Map,sh.Observable=Ji,sh.View=Zi.View,sh.BaseLayers=vo,sh.Controls=Zi.control,sh.Interactions=Zi.interaction,sh.ViewUtil=Zl,sh.Geometry=Zi.geom,sh.Feature=Kl,sh.Overlay=Jl,sh.transform=rh,"undefined"!=typeof window?window.ol=Zi:void 0!==t?t.ol=Zi:"undefined"!=typeof self&&(self.ol=Zi),e.a=sh}).call(this,i(44))},function(t,e){var i=2311;t.exports=function(){return i++}},function(t,e,i){var n=i(107),o=i(30),r=i(79),s=i(188),a=i(0),l=function(t){r.call(this,t),o.call(this,t),s.call(this,t),this.id=t.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(a.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},a.mixin(l,s),a.mixin(l,r),a.mixin(l,o);var h=l;t.exports=h},function(t,e,i){var n=i(189),o=i(21),r=i(0).isArrayLike,s=Array.prototype.slice;function a(t,e){return t[e]}function l(t,e,i){t[e]=i}function h(t,e,i){return(e-t)*i+t}function c(t,e,i){return i>.5?e:t}function u(t,e,i,n,o){var r=t.length;if(1==o)for(var s=0;s<r;s++)n[s]=h(t[s],e[s],i);else{var a=r&&t[0].length;for(s=0;s<r;s++)for(var l=0;l<a;l++)n[s][l]=h(t[s][l],e[s][l],i)}}function p(t,e,i){var n=t.length,o=e.length;if(n!==o)if(n>o)t.length=o;else for(var r=n;r<o;r++)t.push(1===i?e[r]:s.call(e[r]));var a=t[0]&&t[0].length;for(r=0;r<t.length;r++)if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var l=0;l<a;l++)isNaN(t[r][l])&&(t[r][l]=e[r][l])}function g(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var o=0;o<n;o++)if(t[o]!==e[o])return!1}else{var r=t[0].length;for(o=0;o<n;o++)for(var s=0;s<r;s++)if(t[o][s]!==e[o][s])return!1}return!0}function d(t,e,i,n,o,r,s,a,l){var h=t.length;if(1==l)for(var c=0;c<h;c++)a[c]=f(t[c],e[c],i[c],n[c],o,r,s);else{var u=t[0].length;for(c=0;c<h;c++)for(var p=0;p<u;p++)a[c][p]=f(t[c][p],e[c][p],i[c][p],n[c][p],o,r,s)}}function f(t,e,i,n,o,r,s){var a=.5*(i-t),l=.5*(n-e);return(2*(e-i)+a+l)*s+(-3*(e-i)-2*a-l)*r+a*o+e}function y(t){if(r(t)){var e=t.length;if(r(t[0])){for(var i=[],n=0;n<e;n++)i.push(s.call(t[n]));return i}return s.call(t)}return t}function m(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function v(t,e,i,s,a,l){var y=t._getter,v=t._setter,_="spline"===e,x=s.length;if(x){var C,I=s[0].value,A=r(I),b=!1,w=!1,S=A?function(t){var e=t[t.length-1].value;return r(e&&e[0])?2:1}(s):0;s.sort((function(t,e){return t.time-e.time})),C=s[x-1].time;for(var M=[],E=[],T=s[0].value,P=!0,L=0;L<x;L++){M.push(s[L].time/C);var N=s[L].value;if(A&&g(N,T,S)||!A&&N===T||(P=!1),T=N,"string"==typeof N){var D=o.parse(N);D?(N=D,b=!0):w=!0}E.push(N)}if(l||!P){var R=E[x-1];for(L=0;L<x-1;L++)A?p(E[L],R,S):!isNaN(E[L])||isNaN(R)||w||b||(E[L]=R);A&&p(y(t._target,a),R,S);var O,F,k,G,B,z=0,V=0;if(b)var j=[0,0,0,0];var H=new n({target:t._target,life:C,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<V){for(i=Math.min(z+1,x-1);i>=0&&!(M[i]<=e);i--);i=Math.min(i,x-2)}else{for(i=z;i<x&&!(M[i]>e);i++);i=Math.min(i-1,x-2)}z=i,V=e;var n=M[i+1]-M[i];if(0!==n)if(O=(e-M[i])/n,_)if(k=E[i],F=E[0===i?i:i-1],G=E[i>x-2?x-1:i+1],B=E[i>x-3?x-1:i+2],A)d(F,k,G,B,O,O*O,O*O*O,y(t,a),S);else{if(b)o=d(F,k,G,B,O,O*O,O*O*O,j,1),o=m(j);else{if(w)return c(k,G,O);o=f(F,k,G,B,O,O*O,O*O*O)}v(t,a,o)}else if(A)u(E[i],E[i+1],O,y(t,a),S);else{var o;if(b)u(E[i],E[i+1],O,j,1),o=m(j);else{if(w)return c(E[i],E[i+1],O);o=h(E[i],E[i+1],O)}v(t,a,o)}},ondestroy:i});return e&&"spline"!==e&&(H.easing=e),H}}}var _=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||a,this._setter=n||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:y(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,n=this,o=0,r=function(){--o||n._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var a=v(this,t,r,this._tracks[s],s,e);a&&(this._clipList.push(a),o++,this.animation&&this.animation.addClip(a),i=a)}if(i){var l=i.onframe;i.onframe=function(t,e){l(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return o||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var x=_;t.exports=x},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},n=i.prototype;n.insert=function(t){var e=new o(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len},n.clear=function(){this.head=this.tail=null,this._len=0};var o=function(t){this.value=t,this.next,this.prev},r=function(t){this._list=new i,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},s=r.prototype;s.put=function(t,e){var i=this._list,n=this._map,r=null;if(null==n[t]){var s=i.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=i.head;i.remove(l),delete n[l.key],r=l.value,this._lastRemovedEntry=l}a?a.value=e:a=new o(e),a.key=t,i.insertEntry(a),n[t]=a}return r},s.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},s.clear=function(){this._list.clear(),this._map={}};var a=r;t.exports=a},function(t,e,i){var n=i(112),o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],r=function(t,e){this.extendFrom(t,!1),this.host=e};function s(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,r=null==e.y?0:e.y,s=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,o=o*i.width+i.x,r=r*i.height+i.y,s=s*i.height+i.y),t.createLinearGradient(n,r,o,s)}function a(t,e,i){var n=i.width,o=i.height,r=Math.min(n,o),s=null==e.x?.5:e.x,a=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(s=s*n+i.x,a=a*o+i.y,l*=r),t.createRadialGradient(s,a,0,s,a,l)}for(var l=r.prototype={constructor:r,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){for(var r=i&&i.style,s=!r,a=0;a<o.length;a++){var l=o[a],h=l[0];(s||this[h]!==r[h])&&(t[h]=n(t,h,this[h]||l[1]))}if((s||this.fill!==r.fill)&&(t.fillStyle=this.fill),(s||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(s||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(s||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var c=this.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=("radial"===e.type?a:s)(t,e,i),o=e.colorStops,r=0;r<o.length;r++)n.addColorStop(o[r].offset,o[r].color);return n}},h=0;h<o.length;h++){var c=o[h];c[0]in l||(l[c[0]]=c[1])}r.getGradient=l.getGradient;var u=r;t.exports=u},function(t,e){var i={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,n){return i.hasOwnProperty(e)?n*t.dpr:n}},function(t,e){var i=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};i.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var n=i;t.exports=n},function(t,e){var i="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=i},function(t,e,i){var n=i(64),o=new(i(9)),r=function(){};r.prototype={constructor:r,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&n.normalizeTextStyle(i,!0);var r=i.text;if(null!=r&&(r+=""),n.needDrawText(r,i)){t.save();var s=this.transform;i.transformText?this.setTransform(t):s&&(o.copy(e),o.applyTransform(s),e=o),n.renderText(this,t,r,i,e),t.restore()}}};var s=r;t.exports=s},function(t,e){e.buildPath=function(t,e){var i,n,o,r,s,a=e.x,l=e.y,h=e.width,c=e.height,u=e.r;h<0&&(a+=h,h=-h),c<0&&(l+=c,c=-c),"number"==typeof u?i=n=o=r=u:u instanceof Array?1===u.length?i=n=o=r=u[0]:2===u.length?(i=o=u[0],n=r=u[1]):3===u.length?(i=u[0],n=r=u[1],o=u[2]):(i=u[0],n=u[1],o=u[2],r=u[3]):i=n=o=r=0,i+n>h&&(i*=h/(s=i+n),n*=h/s),o+r>h&&(o*=h/(s=o+r),r*=h/s),n+o>c&&(n*=c/(s=n+o),o*=c/s),i+r>c&&(i*=c/(s=i+r),r*=c/s),t.moveTo(a+i,l),t.lineTo(a+h-n,l),0!==n&&t.quadraticCurveTo(a+h,l,a+h,l+n),t.lineTo(a+h,l+c-o),0!==o&&t.quadraticCurveTo(a+h,l+c,a+h-o,l+c),t.lineTo(a+r,l+c),0!==r&&t.quadraticCurveTo(a,l+c,a,l+c-r),t.lineTo(a,l+i),0!==i&&t.quadraticCurveTo(a,l,a+i,l)}},function(t,e,i){i(5).__DEV__;var n=i(0),o=n.each,r=n.filter,s=n.map,a=n.isArray,l=n.indexOf,h=n.isObject,c=n.isString,u=n.createHashMap,p=n.assert,g=n.clone,d=n.merge,f=n.extend,y=n.mixin,m=i(4),v=i(11),_=i(13),x=i(219),C=i(125),I=i(67).resetSourceDefaulter,A=v.extend({constructor:A,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new v(i),this._optionManager=n},setOption:function(t,e){p(!("\0_ec_inner"in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):b.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=i.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var s=i.getMediaOption(this,this._api);s.length&&o(s,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){var e=this.option,i=this._componentsMap,n=[];I(this),o(t,(function(t,i){null!=t&&(_.hasClass(i)?i&&n.push(i):e[i]=null==e[i]?g(t):d(e[i],t,!0))})),_.topologicalTravel(n,_.getAllClassMainTypes(),(function(n,r){var s=m.normalizeToArray(t[n]),l=m.mappingToExists(i.get(n),s);m.makeIdAndName(l),o(l,(function(t,e){var i=t.option;h(i)&&(t.keyInfo.mainType=n,t.keyInfo.subType=function(t,e,i){return e.type?e.type:i?i.subType:_.determineSubType(t,e)}(n,i,t.exist))}));var c=function(t,e){a(e)||(e=e?[e]:[]);var i={};return o(e,(function(e){i[e]=(t.get(e)||[]).slice()})),i}(i,r);e[n]=[],i.set(n,[]),o(l,(function(t,o){var r=t.exist,s=t.option;if(p(h(s)||r,"Empty component definition"),s){var a=_.getClass(n,t.keyInfo.subType,!0);if(r&&r instanceof a)r.name=t.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var l=f({dependentModels:c,componentIndex:o},t.keyInfo);r=new a(s,this,this,l),f(r,l),r.init(s,this,this,l),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);i.get(n)[o]=r,e[n][o]=r.option}),this),"series"===n&&w(this,i.get("series"))}),this),this._seriesIndicesMap=u(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=g(this.option);return o(t,(function(e,i){if(_.hasClass(i)){for(var n=(e=m.normalizeToArray(e)).length-1;n>=0;n--)m.isIdInner(e[n])&&e.splice(n,1);t[i]=e}})),delete t["\0_ec_inner"],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,o=t.id,h=t.name,c=this._componentsMap.get(e);if(!c||!c.length)return[];if(null!=n)a(n)||(n=[n]),i=r(s(n,(function(t){return c[t]})),(function(t){return!!t}));else if(null!=o){var u=a(o);i=r(c,(function(t){return u&&l(o,t.id)>=0||!u&&t.id===o}))}else if(null!=h){var p=a(h);i=r(c,(function(t){return p&&l(h,t.name)>=0||!p&&t.name===h}))}else i=c.slice();return S(i,t)},findComponents:function(t){var e,i,n,o,s,a=t.query,l=t.mainType,h=(i=l+"Index",n=l+"Id",o=l+"Name",!(e=a)||null==e[i]&&null==e[n]&&null==e[o]?null:{mainType:l,index:e[i],id:e[n],name:e[o]}),c=h?this.queryComponents(h):this._componentsMap.get(l);return s=S(c,t),t.filter?r(s,t.filter):s},eachComponent:function(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,n.each((function(t,n){o(t,(function(t,o){e.call(i,n,t,o)}))}));else if(c(t))o(n.get(t),e,i);else if(h(t)){var r=this.findComponents(t);o(r,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return r(e,(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return r(e,(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){o(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];t.call(e,n,i)}),this)},eachRawSeries:function(t,e){o(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,i){o(this._seriesIndices,(function(n){var o=this._componentsMap.get("series")[n];o.subType===t&&e.call(i,o,n)}),this)},eachRawSeriesByType:function(t,e,i){return o(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){w(this,r(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;w(this,e.get("series"));var i=[];e.each((function(t,e){i.push(e)})),_.topologicalTravel(i,_.getAllClassMainTypes(),(function(i,n){o(e.get(i),(function(e){("series"!==i||!function(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,o=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=o&&t.name!==o}}(e,t))&&e.restoreData()}))}))}});function b(t){var e,i;t=t,this.option={},this.option["\0_ec_inner"]=1,this._componentsMap=u({series:[]}),this._seriesIndices,this._seriesIndicesMap,e=t,i=this._theme.option,o(i,(function(t,i){_.hasClass(i)||("object"==typeof t?e[i]=e[i]?d(e[i],t,!1):g(t):null==e[i]&&(e[i]=t))})),d(t,x,!1),this.mergeOption(t)}function w(t,e){t._seriesIndicesMap=u(t._seriesIndices=s(e,(function(t){return t.componentIndex}))||[])}function S(t,e){return e.hasOwnProperty("subType")?r(t,(function(t){return t.subType===e.subType})):t}y(A,C);var M=A;t.exports=M},function(t,e){e.containStroke=function(t,e,i,n,o,r,s){if(0===o)return!1;var a=o,l=0;if(s>e+a&&s>n+a||s<e-a&&s<n-a||r>t+a&&r>i+a||r<t-a&&r<i-a)return!1;if(t===i)return Math.abs(r-t)<=a/2;var h=(l=(e-n)/(t-i))*r-s+(t*n-i*e)/(t-i);return h*h/(l*l+1)<=a/2*a/2}},function(t,e,i){var n=i(26).quadraticProjectPoint;e.containStroke=function(t,e,i,o,r,s,a,l,h){if(0===a)return!1;var c=a;return!(h>e+c&&h>o+c&&h>s+c||h<e-c&&h<o-c&&h<s-c||l>t+c&&l>i+c&&l>r+c||l<t-c&&l<i-c&&l<r-c)&&n(t,e,i,o,r,s,l,h,null)<=c/2}},function(t,e){var i=2*Math.PI;e.normalizeRadian=function(t){return(t%=i)<0&&(t+=i),t}},function(t,e){t.exports=function(t,e,i,n,o,r){if(r>e&&r>n||r<e&&r<n)return 0;if(n===e)return 0;var s=n<e?1:-1,a=(r-e)/(n-e);return 1!==a&&0!==a||(s=n<e?.5:-.5),a*(i-t)+t>o?s:0}},function(t,e,i){var n=i(10),o=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return n.browser.ie&&n.browser.version>=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var r=0;r<i.length;r++){var s=i[r],a=s&&s.shape,l=s&&s.type;if(a&&("sector"===l&&a.startAngle===a.endAngle||"rect"===l&&(!a.width||!a.height))){for(var h=0;h<o.length;h++)o[h][2]=n[o[h][0]],n[o[h][0]]=o[h][1];e=!0;break}}if(t.apply(this,arguments),e)for(h=0;h<o.length;h++)n[o[h][0]]=o[h][2]}:t}},function(t,e,i){var n=i(208),o=i(209);e.buildPath=function(t,e,i){var r=e.points,s=e.smooth;if(r&&r.length>=2){if(s&&"spline"!==s){var a=o(r,s,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var l=r.length,h=0;h<(i?l:l-1);h++){var c=a[2*h],u=a[2*h+1],p=r[(h+1)%l];t.bezierCurveTo(c[0],c[1],u[0],u[1],p[0],p[1])}}else{"spline"===s&&(r=n(r,i)),t.moveTo(r[0][0],r[0][1]);h=1;for(var g=r.length;h<g;h++)t.lineTo(r[h][0],r[h][1])}i&&t.closePath()}}},function(t,e,i){var n=i(0),o=i(65),r=function(t,e,i,n,r,s){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=s||!1,o.call(this,r)};r.prototype={constructor:r},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(4),o=n.makeInner,r=n.normalizeToArray,s=o();var a={clearColorPalette:function(){s(this).colorIdx=0,s(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var n=s(e=e||this),o=n.colorIdx||0,a=n.colorNameMap=n.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var l=r(this.get("color",!0)),h=this.get("colorLayer",!0),c=null!=i&&h?function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}(h,i):l;if((c=c||l)&&c.length){var u=c[o];return t&&(a[t]=u),n.colorIdx=(o+1)%c.length,u}}};t.exports=a},function(t,e,i){i(5).__DEV__;var n=i(0),o=n.createHashMap,r=(n.retrieve,n.each);var s={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents("xAxis")[0],r=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],i.set("x",o),i.set("y",r),a(o)&&(n.set("x",o),e.firstCategoryDimIndex=0),a(r)&&(n.set("y",r),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var o=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],i.set("single",o),a(o)&&(n.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents("polar")[0],r=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",s),a(r)&&(n.set("radius",r),e.firstCategoryDimIndex=0),a(s)&&(n.set("angle",s),e.firstCategoryDimIndex=1)},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var o=t.ecModel,s=o.getComponent("parallel",t.get("parallelIndex")),l=e.coordSysDims=s.dimensions.slice();r(s.parallelAxisIndex,(function(t,r){var s=o.getComponent("parallelAxis",t),h=l[r];i.set(h,s),a(s)&&null==e.firstCategoryDimIndex&&(n.set(h,s),e.firstCategoryDimIndex=r)}))}};function a(t){return"category"===t.get("type")}e.getCoordSysDefineBySeries=function(t){var e=t.get("coordinateSystem"),i={coordSysName:e,coordSysDims:[],axisMap:o(),categoryAxisMap:o()},n=s[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}},function(t,e,i){var n=i(0),o=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];var r=function(t){n.each(o,(function(e){this[e]=n.bind(t[e],t)}),this)};t.exports=r},function(t,e,i){var n=i(61);e.zrender=n;var o=i(15);e.matrix=o;var r=i(7);e.vector=r;var s=i(0),a=i(21);e.color=a;var l=i(2);e.graphic=l;var h=i(3);e.number=h;var c=i(8);e.format=c;var u=i(31);u.throttle;e.throttle=u.throttle;var p=i(229);e.helper=p;var g=i(132);e.parseGeoJSON=g;var d=i(16);e.List=d;var f=i(11);e.Model=f;var y=i(27);e.Axis=y;var m=i(10);e.env=m;var v=g,_={};s.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){_[t]=s[t]})),e.parseGeoJson=v,e.util=_},function(t,e,i){var n=i(0),o=n.createHashMap,r=n.each,s=n.isString,a=n.defaults,l=n.extend,h=n.isObject,c=n.clone,u=i(4).normalizeToArray,p=i(67).guessOrdinal,g=i(49),d=i(52).OTHER_DIMENSIONS;function f(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}var y=function(t,e,i){g.isInstance(e)||(e=g.seriesDataToSource(e)),i=i||{},t=(t||[]).slice();for(var n=(i.dimsDef||[]).slice(),y=o(i.encodeDef),m=o(),v=o(),_=[],x=function(t,e,i,n){null==n&&(n=Math.max(t.dimensionsDetectCount||1,e.length,i.length),r(e,(function(t){var e=t.dimsDef;e&&(n=Math.max(n,e.length))})));return n}(e,t,n,i.dimCount),C=0;C<x;C++){var I=n[C]=l({},h(n[C])?n[C]:{name:n[C]}),A=I.name,b=_[C]={otherDims:{}};null!=A&&null==m.get(A)&&(b.name=b.displayName=A,m.set(A,C)),null!=I.type&&(b.type=I.type),null!=I.displayName&&(b.displayName=I.displayName)}y.each((function(t,e){t=u(t).slice();var i=y.set(e,[]);r(t,(function(t,n){s(t)&&(t=m.get(t)),null!=t&&t<x&&(i[n]=t,S(_[t],e,n))}))}));var w=0;function S(t,e,i){null!=d.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,v.set(e,!0))}r(t,(function(t,e){var i,n,o;if(s(t))i=t,t={};else{i=t.name;var l=t.ordinalMeta;t.ordinalMeta=null,(t=c(t)).ordinalMeta=l,n=t.dimsDef,o=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var h=u(y.get(i));if(!h.length)for(var p=0;p<(n&&n.length||1);p++){for(;w<_.length&&null!=_[w].coordDim;)w++;w<_.length&&h.push(w++)}r(h,(function(e,r){var s=_[e];S(a(s,t),i,r),null==s.name&&n&&(s.name=s.displayName=n[r]),s.isSysCoord=!0,o&&a(s.otherDims,o)}))}));for(var M=i.extraPrefix||"value",E=0;E<x;E++){null==(b=_[E]=_[E]||{}).coordDim&&(b.coordDim=f(M,v,i.extraFromZero),b.coordDimIndex=0,b.isExtraCoord=!0),null==b.name&&(b.name=f(b.coordDim,m)),null==b.type&&p(e,E,b.name)&&(b.type="ordinal")}return _};t.exports=y},function(t,e,i){var n=i(0),o=n.createHashMap,r=n.isObject,s=n.map;function a(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}a.createByAxisModel=function(t){var e=t.option,i=e.data,n=i&&s(i,c);return new a({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var l=a.prototype;function h(t){return t._map||(t._map=o(t.categories))}function c(t){return r(t)&&null!=t.value?t.value:t+""}l.getOrdinal=function(t){return h(this).get(t)},l.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=h(this);return null==(e=n.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var u=a;t.exports=u},function(t,e,i){var n=i(3),o=n.round;function r(t){return n.getPrecisionSafe(t)+2}function s(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function a(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),s(t,0,e),s(t,1,e),t[0]>t[1]&&(t[0]=t[1])}e.intervalScaleNiceTicks=function(t,e,i,s){var l={},h=t[1]-t[0],c=l.interval=n.nice(h/e,!0);null!=i&&c<i&&(c=l.interval=i),null!=s&&c>s&&(c=l.interval=s);var u=l.intervalPrecision=r(c);return a(l.niceTickExtent=[o(Math.ceil(t[0]/c)*c,u),o(Math.floor(t[1]/c)*c,u)],t),l},e.getIntervalPrecision=r,e.fixExtent=a,e.intervalScaleGetTicks=function(t,e,i,n){var r=[];if(!t)return r;e[0]<i[0]&&r.push(e[0]);for(var s=i[0];s<=i[1]&&(r.push(s),(s=o(s+t,n))!==r[r.length-1]);)if(r.length>1e4)return[];return e[1]>(r.length?r[r.length-1]:i[1])&&r.push(e[1]),r}},function(t,e,i){var n=i(0),o=i(133);function r(t,e,i){for(var n=[],o=e[0],r=e[1],s=0;s<t.length;s+=2){var a=t.charCodeAt(s)-64,l=t.charCodeAt(s+1)-64;a=a>>1^-(1&a),l=l>>1^-(1&l),o=a+=o,r=l+=r,n.push([a/i,l/i])}return n}t.exports=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n].geometry,s=o.coordinates,a=o.encodeOffsets,l=0;l<s.length;l++){var h=s[l];if("Polygon"===o.type)s[l]=r(h,a[l],e);else if("MultiPolygon"===o.type)for(var c=0;c<h.length;c++){var u=h[c];h[c]=r(u,a[l][c],e)}}t.UTF8Encoding=!1}(t),n.map(n.filter(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var e=t.properties,i=t.geometry,r=i.coordinates,s=[];"Polygon"===i.type&&s.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===i.type&&n.each(r,(function(t){t[0]&&s.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var a=new o(e.name,s,e.cp);return a.properties=e,a}))}},function(t,e,i){var n=i(9),o=i(82),r=i(7),s=i(134);function a(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}a.prototype={constructor:a,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],s=[-e,-e],a=[],l=[],h=this.geometries,c=0;c<h.length;c++)if("polygon"===h[c].type){var u=h[c].exterior;o.fromPoints(u,a,l),r.min(i,i,a),r.max(s,s,l)}return 0===c&&(i[0]=i[1]=s[0]=s[1]=0),this._rect=new n(i[0],i[1],s[0]-i[0],s[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++)if("polygon"===i[n].type){var r=i[n].exterior,a=i[n].interiors;if(s.contain(r,t[0],t[1])){for(var l=0;l<(a?a.length:0);l++)if(s.contain(a[l]))continue t;return!0}}return!1},transformTo:function(t,e,i,o){var s=this.getBoundingRect(),a=s.width/s.height;i?o||(o=i/a):i=a*o;for(var l=new n(t,e,i,o),h=s.calculateTransform(l),c=this.geometries,u=0;u<c.length;u++)if("polygon"===c[u].type){for(var p=c[u].exterior,g=c[u].interiors,d=0;d<p.length;d++)r.applyTransform(p[d],p[d],h);for(var f=0;f<(g?g.length:0);f++)for(d=0;d<g[f].length;d++)r.applyTransform(g[f][d],g[f][d],h)}(s=this._rect).copy(l),this.center=[s.x+s.width/2,s.y+s.height/2]}};var l=a;t.exports=l},function(t,e,i){var n=i(121);function o(t,e){return Math.abs(t-e)<1e-8}e.contain=function(t,e,i){var r=0,s=t[0];if(!s)return!1;for(var a=1;a<t.length;a++){var l=t[a];r+=n(s[0],s[1],l[0],l[1],e,i),s=l}var h=t[0];return o(s[0],h[0])&&o(s[1],h[1])||(r+=n(s[0],s[1],h[0],h[1],e,i)),0!==r}},function(t,e,i){var n=i(12),o=i(7),r=i(122),s=o.min,a=o.max,l=o.scaleAndAdd,h=o.copy,c=[],u=[],p=[];function g(t){return isNaN(t[0])||isNaN(t[1])}function d(t,e,i,n,r,d,f,y,m,v,_){for(var x=0,C=i,I=0;I<n;I++){var A=e[C];if(C>=r||C<0)break;if(g(A)){if(_){C+=d;continue}break}if(C===i)t[d>0?"moveTo":"lineTo"](A[0],A[1]),h(u,A);else if(m>0){var b=C+d,w=e[b];if(_)for(;w&&g(e[b]);)w=e[b+=d];var S=.5,M=e[x];if(!(w=e[b])||g(w))h(p,A);else{var E,T;if(g(w)&&!_&&(w=A),o.sub(c,w,M),"x"===v||"y"===v){var P="x"===v?0:1;E=Math.abs(A[P]-M[P]),T=Math.abs(A[P]-w[P])}else E=o.dist(A,M),T=o.dist(A,w);l(p,A,c,-m*(1-(S=T/(T+E))))}s(u,u,y),a(u,u,f),s(p,p,y),a(p,p,f),t.bezierCurveTo(u[0],u[1],p[0],p[1],A[0],A[1]),l(u,A,c,m*S)}else t.lineTo(A[0],A[1]);x=C,C+=d}return I}function f(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var r=t[o];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:e?i:n,max:e?n:i}}var y=n.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(n.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,o=i.length,r=f(i,e.smoothConstraint);if(e.connectNulls){for(;o>0&&g(i[o-1]);o--);for(;n<o&&g(i[n]);n++);}for(;n<o;)n+=d(t,i,n,o,o,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),m=n.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(n.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,r=i.length,s=e.smoothMonotone,a=f(i,e.smoothConstraint),l=f(n,e.smoothConstraint);if(e.connectNulls){for(;r>0&&g(i[r-1]);r--);for(;o<r&&g(i[o]);o++);}for(;o<r;){var h=d(t,i,o,r,r,1,a.min,a.max,e.smooth,s,e.connectNulls);d(t,n,o+h-1,h,r,-1,l.min,l.max,e.stackedOnSmooth,s,e.connectNulls),o+=h+1,t.closePath()}}});e.Polyline=y,e.Polygon=m},function(t,e,i){var n=i(0),o=i(13),r=i(72),s=i(42),a=o.extend({type:"cartesian2dAxis",axis:null,init:function(){a.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){a.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){a.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(t,e){return e.type||(e.data?"category":"value")}n.merge(a.prototype,s);var h={offset:0};r("x",a,l,h),r("y",a,l,h);var c=a;t.exports=c},function(t,e,i){var n=i(0),o={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=n.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},o),r.valueAxis=n.merge({boundaryGap:[0,0],splitNumber:5},o),r.timeAxis=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=n.defaults({scale:!0,logBase:10},r.valueAxis);var s=r;t.exports=s},function(t,e,i){var n=i(0);e.layout=function(t,e,i){i=i||{};var o=t.coordinateSystem,r=e.axis,s={},a=r.position,l=r.onZero?"onZero":a,h=r.dim,c=o.getRect(),u=[c.x,c.x+c.width,c.y,c.y+c.height],p={left:0,right:1,top:0,bottom:1,onZero:2},g=e.get("offset")||0,d="x"===h?[u[2]-g,u[3]+g]:[u[0]-g,u[1]+g];if(r.onZero){var f=o.getAxis("x"===h?"y":"x",r.onZeroAxisIndex),y=f.toGlobalCoord(f.dataToCoord(0));d[p.onZero]=Math.max(Math.min(y,d[1]),d[0])}s.position=["y"===h?d[p[l]]:u[0],"x"===h?d[p[l]]:u[3]],s.rotation=Math.PI/2*("x"===h?0:1),s.labelDirection=s.tickDirection=s.nameDirection={top:-1,bottom:1,left:-1,right:1}[a],s.labelOffset=r.onZero?d[p[a]]-d[p.onZero]:0,e.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),n.retrieve(i.labelInside,e.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var m=e.get("axisLabel.rotate");return s.labelRotate="top"===l?-m:m,s.labelInterval=r.getLabelInterval(),s.z2=1,s}},function(t,e,i){var n=i(14),o=i(25),r=n.extend({type:"series.__base_bar__",getInitialData:function(t,e){return o(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),o=n.getLayout("offset"),r=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=o+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});t.exports=r},function(t,e,i){var n=i(2),o=i(88).getDefaultLabel;function r(t,e){"outside"===t.textPosition&&(t.textPosition=e)}e.setLabel=function(t,e,i,s,a,l,h){var c=i.getModel("label"),u=i.getModel("emphasis.label");n.setLabelStyle(t,e,c,u,{labelFetcher:a,labelDataIndex:l,defaultText:o(a.getData(),l),isRectText:!0,autoColor:s}),r(t),r(e)}},function(t,e,i){var n=i(1),o=i(0);t.exports=function(t,e){o.each(e,(function(e){e.update="updateView",n.registerAction(e,(function(i,n){var o={};return n.eachComponent({mainType:"series",subType:t,query:i},(function(t){t[e.method]&&t[e.method](i.name,i.dataIndex);var n=t.getData();n.each((function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1}))})),{name:i.name,selected:o}}))}))}},function(t,e,i){var n=i(0),o=i(75),r=i(144),s=i(91).onIrrelevantElement,a=i(2);function l(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(i.fill=n),i}function h(t,e){e.eachChild((function(e){n.each(e.__regions,(function(i){e.trigger(t.isSelected(i.name)?"emphasis":"normal")}))}))}function c(t,e){var i=new a.Group;this._controller=new o(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag}c.prototype={constructor:c,draw:function(t,e,i,o,r){var s="geo"===t.mainType,c=t.getData&&t.getData();s&&e.eachComponent({mainType:"series",subType:"map"},(function(e){c||e.getHostGeoModel()!==t||(c=e.getData())}));var u=t.coordinateSystem,p=this.group,g=u.scale,d={position:u.position,scale:g};!p.childAt(0)||r?p.attr(d):a.updateProps(p,d,t),p.removeAll();var f=["itemStyle"],y=["emphasis","itemStyle"],m=["label"],v=["emphasis","label"],_=n.createHashMap();n.each(u.regions,(function(e){var i=_.get(e.name)||_.set(e.name,new a.Group),o=new a.CompoundPath({shape:{paths:[]}});i.add(o);var r,h=(L=t.getRegionModel(e.name)||t).getModel(f),u=L.getModel(y),d=l(h),x=l(u),C=L.getModel(m),I=L.getModel(v);if(c){r=c.indexOfName(e.name);var A=c.getItemVisual(r,"color",!0);A&&(d.fill=A)}n.each(e.geometries,(function(t){if("polygon"===t.type){o.shape.paths.push(new a.Polygon({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)o.shape.paths.push(new a.Polygon({shape:{points:t.interiors[e]}}))}})),o.setStyle(d),o.style.strokeNoScale=!0,o.culling=!0;var b=C.get("show"),w=I.get("show"),S=c&&isNaN(c.get(c.mapDimension("value"),r)),M=c&&c.getItemLayout(r);if(s||S&&(b||w)||M&&M.showLabel){var E,T=s?e.name:r;(!c||r>=0)&&(E=t);var P=new a.Text({position:e.center.slice(),scale:[1/g[0],1/g[1]],z2:10,silent:!0});a.setLabelStyle(P.style,P.hoverStyle={},C,I,{labelFetcher:E,labelDataIndex:T,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),i.add(P)}if(c)c.setItemGraphicEl(r,i);else{var L=t.getRegionModel(e.name);o.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:L&&L.option||{}}}(i.__regions||(i.__regions=[])).push(e),a.setHoverStyle(i,x,{hoverSilentOnTouch:!!t.get("selectedMode")}),p.add(i)})),this._updateController(t,e,i),function(t,e,i,o,r){i.off("click"),i.off("mousedown"),e.get("selectedMode")&&(i.on("mousedown",(function(){t._mouseDownFlag=!0})),i.on("click",(function(s){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var a=s.target;!a.__regions;)a=a.parent;if(a){var l={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:n.map(a.__regions,(function(t){return{name:t.name,from:r.uid}}))};l[e.mainType+"Id"]=e.id,o.dispatchAction(l),h(e,i)}}})))}(this,t,p,i,o),h(t,p)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,i){var o=t.coordinateSystem,a=this._controller,l=this._controllerHost;l.zoomLimit=t.get("scaleLimit"),l.zoom=o.getZoom(),a.enable(t.get("roam")||!1);var h=t.mainType;function c(){var e={type:"geoRoam",componentType:h};return e[h+"Id"]=t.id,e}a.off("pan").on("pan",(function(t,e){this._mouseDownFlag=!1,r.updateViewOnPan(l,t,e),i.dispatchAction(n.extend(c(),{dx:t,dy:e}))}),this),a.off("zoom").on("zoom",(function(t,e,o){if(this._mouseDownFlag=!1,r.updateViewOnZoom(l,t,e,o),i.dispatchAction(n.extend(c(),{zoom:t,originX:e,originY:o})),this._updateGroup){var s=this.group,a=s.scale;s.traverse((function(t){"text"===t.type&&t.attr("scale",[1/a[0],1/a[1]])}))}}),this),a.setPointerChecker((function(e,n,r){return o.getViewRectAfterRoam().contain(n,r)&&!s(e,i,t)}))}};var u=c;t.exports=u},function(t,e,i){var n=i(1),o="\0_ec_interaction_mutex";function r(t){return t[o]||(t[o]={})}n.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),e.take=function(t,e,i){r(t)[e]=i},e.release=function(t,e,i){var n=r(t);n[e]===i&&(n[e]=null)},e.isTaken=function(t,e){return!!r(t)[e]}},function(t,e){e.updateViewOnPan=function(t,e,i){var n=t.target,o=n.position;o[0]+=e,o[1]+=i,n.dirty()},e.updateViewOnZoom=function(t,e,i,n){var o=t.target,r=t.zoomLimit,s=o.position,a=o.scale,l=t.zoom=t.zoom||1;if(l*=e,r){var h=r.min||0,c=r.max||1/0;l=Math.max(Math.min(c,l),h)}var u=l/t.zoom;t.zoom=l,s[0]-=(i-s[0])*(u-1),s[1]-=(n-s[1])*(u-1),a[0]*=u,a[1]*=u,o.dirty()}},function(t,e,i){var n=i(1),o=i(0),r=i(146).updateCenterAndZoom;n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){var n=e.coordinateSystem;if("geo"===n.type){var s=r(n,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(s.center),e.setZoom&&e.setZoom(s.zoom),"series"===i&&o.each(e.seriesGroup,(function(t){t.setCenter(s.center),t.setZoom(s.zoom)}))}}))}))},function(t,e){e.updateCenterAndZoom=function(t,e,i){var n=t.getZoom(),o=t.getCenter(),r=e.zoom,s=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy){s[0]-=e.dx,s[1]-=e.dy;o=t.pointToData(s);t.setCenter(o)}if(null!=r){if(i){var a=i.min||0,l=i.max||1/0;r=Math.max(Math.min(n*r,l),a)/n}t.scale[0]*=r,t.scale[1]*=r;var h=t.position,c=(e.originX-h[0])*(r-1),u=(e.originY-h[1])*(r-1);h[0]-=c,h[1]-=u,t.updateTransform();o=t.pointToData(s);t.setCenter(o),t.setZoom(r*n)}return{center:t.getCenter(),zoom:t.getZoom()}}},function(t,e,i){var n=i(0),o=i(7),r=i(15),s=i(9),a=i(79),l=o.applyTransform;function h(){a.call(this)}function c(t){this.name=t,this.zoomLimit,a.call(this),this._roamTransformable=new h,this._rawTransformable=new h,this._center,this._zoom}function u(t,e,i,n){var o=i.seriesModel,r=o?o.coordinateSystem:null;return r===this?r[t](n):null}n.mixin(h,a),c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new s(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new s(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new s(t,e,i,n)),r.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),r=this.getZoom();n=o.applyTransform([],n,t),i=o.applyTransform([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),r.copy(this.transform||(this.transform=[]),e.transform||r.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?l(i,t,n):o.copy(i,t)},pointToData:function(t){var e=this.invTransform;return e?l([],t,e):[t[0],t[1]]},convertToPixel:n.curry(u,"dataToPoint"),convertFromPixel:n.curry(u,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},n.mixin(c,a);var p=c;t.exports=p},function(t,e,i){var n=i(0),o=n.each,r="\0__link_datas",s="\0__link_mainData";function a(t,e){if((o=this)[s]===o){var i=n.extend({},this[r]);i[this.dataType]=e,u(e,i,t)}else p(e,this.dataType,this[s],t);var o;return e}function l(t,e){return t.struct&&t.struct.update(this),e}function h(t,e){return o(e[r],(function(i,n){i!==e&&p(i.cloneShallow(),n,e,t)})),e}function c(t){var e=this[s];return null==t||null==e?e:e[r][t]}function u(t,e,i){t[r]={},o(e,(function(e,n){p(e,n,t,i)}))}function p(t,e,i,n){i[r][e]=t,t[s]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=c}var g=function(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,u(e,i,t),o(i,(function(i){o(e.TRANSFERABLE_METHODS,(function(e){i.wrapMethod(e,n.curry(a,t))}))})),e.wrapMethod("cloneShallow",n.curry(h,t)),o(e.CHANGABLE_METHODS,(function(i){e.wrapMethod(i,n.curry(l,t))})),n.assert(i[e.dataType]===e)};t.exports=g},function(t,e,i){var n=i(6);function o(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function r(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function s(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function a(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function l(t,e){return t.parentNode===e.parentNode?1:2}e.init=function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,n=[t];e=n.pop();)if(i=e.children,e.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var r=i[o];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(r)}},e.firstWalk=function(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,l=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){!function(t){var e=t.children,i=e.length,n=0,o=0;for(;--i>=0;){var r=e[i];r.hierNode.prelim+=n,r.hierNode.modifier+=n,o+=r.hierNode.change,n+=r.hierNode.shift+o}}(t);var h=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;l?(t.hierNode.prelim=l.hierNode.prelim+e(t,l),t.hierNode.modifier=t.hierNode.prelim-h):t.hierNode.prelim=h}else l&&(t.hierNode.prelim=l.hierNode.prelim+e(t,l));t.parentNode.hierNode.defaultAncestor=function(t,e,i,n){if(e){for(var l=t,h=t,c=h.parentNode.children[0],u=e,p=l.hierNode.modifier,g=h.hierNode.modifier,d=c.hierNode.modifier,f=u.hierNode.modifier;u=o(u),h=r(h),u&&h;){l=o(l),c=r(c),l.hierNode.ancestor=t;var y=u.hierNode.prelim+f-h.hierNode.prelim-g+n(u,h);y>0&&(a(s(u,t,i),t,y),g+=y,p+=y),f+=u.hierNode.modifier,g+=h.hierNode.modifier,p+=l.hierNode.modifier,d+=c.hierNode.modifier}u&&!o(l)&&(l.hierNode.thread=u,l.hierNode.modifier+=f-p),h&&!r(c)&&(c.hierNode.thread=h,c.hierNode.modifier+=g-d,i=t)}return i}(t,l,t.parentNode.hierNode.defaultAncestor||n[0],e)},e.secondWalk=function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},e.separation=function(t){return arguments.length?t:l},e.radialCoordinate=function(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i},e.getViewRect=function(t,e){return n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}},function(t,e,i){var n=i(286),o=n.eachAfter,r=n.eachBefore,s=i(149),a=s.init,l=s.firstWalk,h=s.secondWalk,c=s.separation,u=s.radialCoordinate,p=s.getViewRect;t.exports=function(t,e){var i=p(t,e);t.layoutInfo=i;var n=t.get("layout"),s=0,g=0,d=null;"radial"===n?(s=2*Math.PI,g=Math.min(i.height,i.width)/2,d=c((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(s=i.width,g=i.height,d=c());var f=t.getData().tree.root,y=f.children[0];a(f),o(y,l,d),f.hierNode.modifier=-y.hierNode.prelim,r(y,h);var m=y,v=y,_=y;r(y,(function(t){var e=t.getLayout().x;e<m.getLayout().x&&(m=t),e>v.getLayout().x&&(v=t),t.depth>_.depth&&(_=t)}));var x=m===v?1:d(m,v)/2,C=x-m.getLayout().x,I=0,A=0,b=0,w=0;"radial"===n?(I=s/(v.getLayout().x+x+C),A=g/(_.depth-1||1),r(y,(function(t){b=(t.getLayout().x+C)*I,w=(t.depth-1)*A;var e=u(b,w);t.setLayout({x:e.x,y:e.y,rawX:b,rawY:w},!0)}))):"horizontal"===t.get("orient")?(A=g/(v.getLayout().x+x+C),I=s/(_.depth-1||1),r(y,(function(t){w=(t.getLayout().x+C)*A,b=(t.depth-1)*I,t.setLayout({x:b,y:w},!0)}))):(I=s/(v.getLayout().x+x+C),A=g/(_.depth-1||1),r(y,(function(t){b=(t.getLayout().x+C)*I,w=(t.depth-1)*A,t.setLayout({x:b,y:w},!0)})))}},function(t,e,i){var n=i(0),o=i(16),r=i(298),s=i(148),a=i(41),l=i(19),h=i(25);t.exports=function(t,e,i,c,u){for(var p=new r(c),g=0;g<t.length;g++)p.addNode(n.retrieve(t[g].id,t[g].name,g),g);var d=[],f=[],y=0;for(g=0;g<e.length;g++){var m=e[g],v=m.source,_=m.target;p.addEdge(v,_,y)&&(f.push(m),d.push(n.retrieve(m.id,v+" > "+_)),y++)}var x,C=i.get("coordinateSystem");if("cartesian2d"===C||"polar"===C)x=h(t,i);else{var I=l.get(C),A=a(t,{coordDimensions:(I&&"view"!==I.type&&I.dimensions||[]).concat(["value"])});(x=new o(A,i)).initData(t)}var b=new o(["value"],i);return b.initData(f,d),u&&u(x,b),s({mainData:x,struct:p,structAttr:"graph",datas:{node:x,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),p.update(),p}},function(t,e,i){var n=i(7);function o(t){t.eachEdge((function(t){var e=t.getModel().get("lineStyle.curveness")||0,i=n.clone(t.node1.getLayout()),o=n.clone(t.node2.getLayout()),r=[i,o];+e&&r.push([(i[0]+o[0])/2-(i[1]-o[1])*e,(i[1]+o[1])/2-(o[0]-i[0])*e]),t.setLayout(r)}))}e.simpleLayout=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),o(i)}},e.simpleLayoutEdge=o},function(t,e,i){var n=i(7);e.circularLayout=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),o=t.getData(),r=o.graph,s=0,a=o.getSum("value"),l=2*Math.PI/(a||o.count()),h=i.width/2+i.x,c=i.height/2+i.y,u=Math.min(i.width,i.height)/2;r.eachNode((function(t){var e=t.getValue("value");s+=l*(a?e:1)/2,t.setLayout([u*Math.cos(s)+h,u*Math.sin(s)+c]),s+=l*(a?e:1)/2})),o.setLayout({cx:h,cy:c}),r.eachEdge((function(t){var e,i=t.getModel().get("lineStyle.curveness")||0,o=n.clone(t.node1.getLayout()),r=n.clone(t.node2.getLayout()),s=(o[0]+r[0])/2,a=(o[1]+r[1])/2;+i&&(e=[h*(i*=3)+s*(1-i),c*i+a*(1-i)]),t.setLayout([o,r,e])}))}}},function(t,e,i){var n=i(1),o=i(0),r=i(31),s=i(320);i(155),i(323),i(325);n.extendComponentView({type:"parallel",render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},o.each(a,(function(t,e){i.getZr().on(e,this._handlers[e]=o.bind(t,this))}),this)),r.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){o.each(this._handlers,(function(t,i){e.getZr().off(i,t)})),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(o.extend({type:"parallelAxisExpand"},t))}});var a={mousedown:function(t){l(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(l(this,"click")&&e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&l(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n&&null})}}};function l(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e}n.registerPreprocessor(s)},function(t,e,i){var n=i(321);i(19).register("parallel",{create:function(t,e){var i=[];return t.eachComponent("parallel",(function(o,r){var s=new n(o,t,e);s.name="parallel_"+r,s.resize(o,e),o.coordinateSystem=s,s.model=o,i.push(s)})),t.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=i.coordinateSystem}})),i}})},function(t,e,i){var n=i(9),o=i(91).onIrrelevantElement,r=i(2);function s(t){return n.create(t)}e.makeRectPanelClipPath=function(t){return t=s(t),function(e,i){return r.clipPointsByRect(e,t)}},e.makeLinearBrushOtherExtent=function(t,e){return t=s(t),function(i){var n=null!=e?e:i,o=n?t.width:t.height,r=n?t.x:t.y;return[r,r+(o||0)]}},e.makeRectIsTargetByCursor=function(t,e,i){return t=s(t),function(n,r,s){return t.contain(r[0],r[1])&&!o(n,e,i)}}},function(t,e,i){var n=i(0);t.exports=function(){var t=[],e=[];return{key:function(e){return t.push(e),this},sortKeys:function(i){return e[t.length-1]=i,this},entries:function(i){return function i(o,r){if(r>=t.length)return o;var s=[],a=e[r++];return n.each(o,(function(t,e){s.push({key:e,values:i(t,r)})})),a?s.sort((function(t,e){return a(t.key,e.key)})):s}(function e(i,o){if(o>=t.length)return i;for(var r=-1,s=i.length,a=t[o++],l={},h={};++r<s;){var c=a(i[r]),u=h[c];u?u.push(i[r]):h[c]=[i[r]]}return n.each(h,(function(t,i){l[i]=e(t,o)})),l}(i,0),0)}}}},function(t,e,i){var n=i(2),o=i(95),r=i(0),s=i(18).createSymbol,a=i(7),l=i(26);function h(t,e,i){n.Group.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}var c=h.prototype;c.createLine=function(t,e,i){return new o(t,e,i)},c._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),n=i.get("symbolSize"),o=i.get("symbol");r.isArray(n)||(n=[n,n]);var a=i.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1);this._symbolType!==o&&(this.remove(l),(l=s(o,-.5,-.5,1,1,a)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",a),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",n),l.setColor(a),l.attr("scale",n),this._symbolType=o,this._updateEffectAnimation(t,i,e))},c._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=this,s=t.getItemLayout(i),a=1e3*e.get("period"),l=e.get("loop"),h=e.get("constantSpeed"),c=r.retrieve(e.get("delay"),(function(e){return e/t.count()*a/3})),u="function"==typeof c;if(n.ignore=!0,this.updateAnimationPoints(n,s),h>0&&(a=this.getLineLength(n)/h*1e3),a!==this._period||l!==this._loop){n.stopAnimation();var p=c;u&&(p=c(i)),n.__t>0&&(p=-a*n.__t),n.__t=0;var g=n.animate("",l).when(a,{__t:1}).delay(p).during((function(){o.updateSymbolPosition(n)}));l||g.done((function(){o.remove(n)})),g.start()}this._period=a,this._loop=l}},c.getLineLength=function(t){return a.dist(t.__p1,t.__cp1)+a.dist(t.__cp1,t.__p2)},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},c.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},c.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,r=t.position,s=l.quadraticAt,a=l.quadraticDerivativeAt;r[0]=s(e[0],n[0],i[0],o),r[1]=s(e[1],n[1],i[1],o);var h=a(e[0],n[0],i[0],o),c=a(e[1],n[1],i[1],o);t.rotation=-Math.atan2(c,h)-Math.PI/2,t.ignore=!1},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},r.inherits(h,n.Group);var u=h;t.exports=u},function(t,e,i){var n=i(2),o=i(0);function r(t,e,i){n.Group.call(this),this._createPolyline(t,e,i)}var s=r.prototype;s._createPolyline=function(t,e,i){var o=t.getItemLayout(e),r=new n.Polyline({shape:{points:o}});this.add(r),this._updateCommonStl(t,e,i)},s.updateData=function(t,e,i){var o=t.hostModel,r=this.childAt(0),s={shape:{points:t.getItemLayout(e)}};n.updateProps(r,s,o,e),this._updateCommonStl(t,e,i)},s._updateCommonStl=function(t,e,i){var r=this.childAt(0),s=t.getItemModel(e),a=t.getItemVisual(e,"color"),l=i&&i.lineStyle,h=i&&i.hoverLineStyle;i&&!t.hasItemOption||(l=s.getModel("lineStyle").getLineStyle(),h=s.getModel("emphasis.lineStyle").getLineStyle()),r.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:a},l)),r.hoverStyle=h,n.setHoverStyle(this)},s.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},o.inherits(r,n.Group);var a=r;t.exports=a},function(t,e,i){var n={seriesType:"lines",plan:i(87)(),reset:function(t){var e=t.coordinateSystem,i=t.get("polyline"),n=t.pipelineContext.large;return{progress:function(o,r){var s=[];if(n){var a,l=o.end-o.start;if(i){for(var h=0,c=o.start;c<o.end;c++)h+=t.getLineCoordsCount(c);a=new Float32Array(l+2*h)}else a=new Float32Array(2*l);var u=0,p=[];for(c=o.start;c<o.end;c++){var g=t.getLineCoords(c,s);i&&(a[u++]=g);for(var d=0;d<g;d++)p=e.dataToPoint(s[d],!1,p),a[u++]=p[0],a[u++]=p[1]}r.setLayout("linesPoints",a)}else for(c=o.start;c<o.end;c++){var f=r.getItemModel(c),y=(g=t.getLineCoords(c,s),[]);if(i)for(var m=0;m<g;m++)y.push(e.dataToPoint(s[m]));else{y[0]=e.dataToPoint(s[0]),y[1]=e.dataToPoint(s[1]);var v=f.get("lineStyle.curveness");+v&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*v,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*v])}r.setItemLayout(c,y)}}}}};t.exports=n},function(t,e,i){var n=i(1);i(366),i(369),i(370),i(58),i(374),n.extendComponentView({type:"single"})},function(t,e,i){var n=i(0);e.layout=function(t,e){e=e||{};var i=t.coordinateSystem,o=t.axis,r={},s=o.position,a=o.orient,l=i.getRect(),h=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};r.position=["vertical"===a?c.vertical[s]:h[0],"horizontal"===a?c.horizontal[s]:h[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[s],t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),n.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var u=e.rotate;return null==u&&(u=t.get("axisLabel.rotate")),r.labelRotation="top"===s?-u:u,r.labelInterval=o.getLabelInterval(),r.z2=1,r}},function(t,e,i){var n=i(0),o=i(4);t.exports=function(t,e){var i,r=[],s=t.seriesIndex;if(null==s||!(i=e.getSeriesByIndex(s)))return{point:[]};var a=i.getData(),l=o.queryDataIndex(a,t);if(null==l||l<0||n.isArray(l))return{point:[]};var h=a.getItemGraphicEl(l),c=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(l)||[];else if(c&&c.dataToPoint)r=c.dataToPoint(a.getValues(n.map(c.dimensions,(function(t){return a.mapDimension(t)})),l,!0))||[];else if(h){var u=h.getBoundingRect().clone();u.applyTransform(h.transform),r=[u.x+u.width/2,u.y+u.height/2]}return{point:r,el:h}}},function(t,e,i){var n=i(0),o=i(10),r=(0,i(4).makeInner)(),s=n.each;function a(t,e,i){t.handler("leave",null,i)}function l(t,e,i,n){e.handler(t,i,n)}e.register=function(t,e,i){if(!o.node){var h=e.getZr();r(h).records||(r(h).records={}),function(t,e){if(r(t).initialized)return;function i(i,n){t.on(i,(function(i){var o=function(t){var e={showTip:[],hideTip:[]},i=function(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}(e);s(r(t).records,(function(t){t&&n(t,i,o.dispatchAction)})),function(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]);i&&(i.dispatchAction=null,e.dispatchAction(i))}(o.pendings,e)}))}r(t).initialized=!0,i("click",n.curry(l,"click")),i("mousemove",n.curry(l,"mousemove")),i("globalout",a)}(h,e),(r(h).records[t]||(r(h).records[t]={})).handler=i}},e.unregister=function(t,e){if(!o.node){var i=e.getZr();(r(i).records||{})[t]&&(r(i).records[t]=null)}}},function(t,e,i){var n=i(2),o=i(97),r=i(77),s=i(138),a=i(36),l=o.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,l=a.grid,u=n.get("type"),p=h(l,a).getOtherAxis(a).getGlobalExtent(),g=a.toGlobalCoord(a.dataToCoord(e,!0));if(u&&"none"!==u){var d=r.buildElStyle(n),f=c[u](a,g,p,d);f.style=d,t.graphicKey=f.type,t.pointer=f}var y=s.layout(l.model,i);r.buildCartesianSingleLabelElOption(e,t,y,i,n,o)},getHandleTransform:function(t,e,i){var n=s.layout(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:r.getTransformedPosition(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,r=o.grid,s=o.getGlobalExtent(!0),a=h(r,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,c=t.position;c[l]+=e[l],c[l]=Math.min(s[1],c[l]),c[l]=Math.max(s[0],c[l]);var u=(a[1]+a[0])/2,p=[u,u];p[l]=c[l];return{position:c,rotation:t.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}});function h(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var c={line:function(t,e,i,o){var s=r.makeLineShape([e,i[0]],[e,i[1]],u(t));return n.subPixelOptimizeLine({shape:s,style:o}),{type:"Line",shape:s}},shadow:function(t,e,i,n){var o=t.getBandWidth(),s=i[1]-i[0];return{type:"Rect",shape:r.makeRectShape([e-o/2,i[0]],[o,s],u(t))}}};function u(t){return"x"===t.dim?0:1}a.registerAxisPointerClass("CartesianAxisPointer",l);var p=l;t.exports=p},function(t,e,i){var n=i(1),o=i(0),r=i(11),s=i(4).DEFAULT_COMPONENT_NAME,a=n.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{}},mergeOption:function(t){a.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries((function(n){var o,r=n.name;if(i.push(r),n.legendDataProvider){var a=n.legendDataProvider(),l=a.mapArray(a.getName);t.isSeriesFiltered(n)||(i=i.concat(l)),l.length?e=e.concat(l):o=r}else o=r;o&&o!==s&&e.push(o)})),this._availableNames=i;var n=this.get("data")||e,a=o.map(n,(function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new r(t,this,this.ecModel)}),this);this._data=a},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;o.each(i,(function(t){e[t.get("name")]=!1}))}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&o.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),l=a;t.exports=l},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(18).createSymbol,s=i(2),a=i(168).makeBackground,l=i(6),h=o.curry,c=o.each,u=s.Group,p=n.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new u),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,i){if(this.resetInner(),t.get("show",!0)){var n=t.get("align");n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(n,t,e,i);var r=t.getBoxLayoutParams(),s={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),c=l.getLayoutRect(r,s,h),u=this.layoutInner(t,n,c),p=l.getLayoutRect(o.defaults({width:u.width,height:u.height},r),s,h);this.group.attr("position",[p.x-u.x,p.y-u.y]),this.group.add(this._backgroundEl=a(u,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,i,n){var r=this.getContentGroup(),s=o.createHashMap(),a=e.get("selectedMode");c(e.getData(),(function(o,l){var c=o.get("name");if(this.newlineDisabled||""!==c&&"\n"!==c){var p=i.getSeriesByName(c)[0];if(!s.get(c))if(p){var y=p.getData(),m=y.getVisual("color");"function"==typeof m&&(m=m(p.getDataParams(0)));var v=y.getVisual("legendSymbol")||"roundRect",_=y.getVisual("symbol");this._createItem(c,l,o,e,v,_,t,m,a).on("click",h(g,c,n)).on("mouseover",h(d,p,null,n)).on("mouseout",h(f,p,null,n)),s.set(c,!0)}else i.eachRawSeries((function(i){if(!s.get(c)&&i.legendDataProvider){var r=i.legendDataProvider(),u=r.indexOfName(c);if(u<0)return;var p=r.getItemVisual(u,"color");this._createItem(c,l,o,e,"roundRect",null,t,p,a).on("click",h(g,c,n)).on("mouseover",h(d,i,c,n)).on("mouseout",h(f,i,c,n)),s.set(c,!0)}}),this)}else r.add(new u({newline:!0}))}),this)},_createItem:function(t,e,i,n,a,l,h,c,p){var g=n.get("itemWidth"),d=n.get("itemHeight"),f=n.get("inactiveColor"),y=n.isSelected(t),m=new u,v=i.getModel("textStyle"),_=i.get("icon"),x=i.getModel("tooltip"),C=x.parentModel;if(a=_||a,m.add(r(a,0,0,g,d,y?c:f,!0)),!_&&l&&(l!==a||"none"==l)){var I=.8*d;"none"===l&&(l="circle"),m.add(r(l,(g-I)/2,(d-I)/2,I,I,y?c:f))}var A="left"===h?g+5:-5,b=h,w=n.get("formatter"),S=t;"string"==typeof w&&w?S=w.replace("{name}",null!=t?t:""):"function"==typeof w&&(S=w(t)),m.add(new s.Text({style:s.setTextStyle({},v,{text:S,x:A,y:d/2,textFill:y?v.getTextColor():f,textAlign:b,textVerticalAlign:"middle"})}));var M=new s.Rect({shape:m.getBoundingRect(),invisible:!0,tooltip:x.get("show")?o.extend({content:t,formatter:C.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},x.option):null});return m.add(M),m.eachChild((function(t){t.silent=!0})),M.silent=!p,this.getContentGroup().add(m),s.setHoverStyle(m),m.__legendDataIndex=e,m},layoutInner:function(t,e,i){var n=this.getContentGroup();l.box(t.get("orient"),n,t.get("itemGap"),i.width,i.height);var o=n.getBoundingRect();return n.attr("position",[-o.x,-o.y]),this.group.getBoundingRect()}});function g(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function d(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function f(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:t.name,name:e})}t.exports=p},function(t,e,i){var n=i(6),o=n.getLayoutRect,r=n.box,s=n.positionElement,a=i(8),l=i(2);e.layout=function(t,e,i){var n=e.getBoxLayoutParams(),a=e.get("padding"),l={width:i.getWidth(),height:i.getHeight()},h=o(n,l,a);r(e.get("orient"),t,e.get("itemGap"),h.width,h.height),s(t,n,l,a)},e.makeBackground=function(t,e){var i=a.normalizeCssArray(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new l.Rect({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(2),r=i(4),s=i(156),a=n.each,l=n.indexOf,h=n.curry,c=["dataToPoint","pointToData"],u=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function p(t,e,i){var n=this._targetInfoList=[],o={},r=f(e,t);a(y,(function(t,e){(!i||!i.include||l(i.include,e)>=0)&&t(r,n,o)}))}var g=p.prototype;function d(t){return t[0]>t[1]&&t.reverse(),t}function f(t,e){return r.parseFinder(t,e,{includeMainTypes:u})}g.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,(function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=_[t.brushType](0,i,e);t.__rangeOffset={offset:C[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}}))},g.matchOutputRanges=function(t,e,i){a(t,(function(t){var o=this.findTargetInfo(t,e);o&&!0!==o&&n.each(o.coordSyses,(function(n){var o=_[t.brushType](1,n,t.range);i(t,o.values,n,e)}))}),this)},g.setInputRanges=function(t,e){a(t,(function(t){var i,n,o,r,s,a=this.findTargetInfo(t,e);if(t.range=t.range||[],a&&!0!==a){t.panelId=a.panelId;var l=_[t.brushType](0,a.coordSys,t.coordRange),h=t.__rangeOffset;t.range=h?C[t.brushType](l.values,h.offset,(i=l.xyMinMax,n=h.xyMinMax,o=A(i),r=A(n),s=[o[0]/r[0],o[1]/r[1]],isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s)):l.values}}),this)},g.makePanelOpts=function(t,e){return n.map(this._targetInfoList,(function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e&&e(i),clipPath:s.makeRectPanelClipPath(n),isTargetByCursor:s.makeRectIsTargetByCursor(n,t,i.coordSysModel),getLinearBrushOtherExtent:s.makeLinearBrushOtherExtent(n)}}))},g.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&l(n.coordSyses,e.coordinateSystem)>=0},g.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=f(e,t),o=0;o<i.length;o++){var r=i[o],s=t.panelId;if(s){if(r.panelId===s)return r}else for(o=0;o<m.length;o++)if(m[o](n,r))return r}return!0};var y={grid:function(t,e){var i=t.xAxisModels,o=t.yAxisModels,r=t.gridModels,s=n.createHashMap(),h={},c={};(i||o||r)&&(a(i,(function(t){var e=t.axis.grid.model;s.set(e.id,e),h[e.id]=!0})),a(o,(function(t){var e=t.axis.grid.model;s.set(e.id,e),c[e.id]=!0})),a(r,(function(t){s.set(t.id,t),h[t.id]=!0,c[t.id]=!0})),s.each((function(t){var n=t.coordinateSystem,r=[];a(n.getCartesians(),(function(t,e){(l(i,t.getAxis("x").model)>=0||l(o,t.getAxis("y").model)>=0)&&r.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:r[0],coordSyses:r,getPanelRect:v.grid,xAxisDeclared:h[t.id],yAxisDeclared:c[t.id]})})))},geo:function(t,e){a(t.geoModels,(function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:v.geo})}))}},m=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],v={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(o.getTransform(t)),e}},_={lineX:h(x,0),lineY:h(x,1),rect:function(t,e,i){var n=e[c[t]]([i[0][0],i[1][0]]),o=e[c[t]]([i[0][1],i[1][1]]),r=[d([n[0],o[0]]),d([n[1],o[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,i){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:n.map(i,(function(i){var n=e[c[t]](i);return o[0][0]=Math.min(o[0][0],n[0]),o[1][0]=Math.min(o[1][0],n[1]),o[0][1]=Math.max(o[0][1],n[0]),o[1][1]=Math.max(o[1][1],n[1]),n})),xyMinMax:o}}};function x(t,e,i,o){var r=i.getAxis(["x","y"][t]),s=d(n.map([0,1],(function(t){return e?r.coordToData(r.toLocalCoord(o[t])):r.toGlobalCoord(r.dataToCoord(o[t]))}))),a=[];return a[t]=s,a[1-t]=[NaN,NaN],{values:s,xyMinMax:a}}var C={lineX:h(I,0),lineY:h(I,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return n.map(t,(function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]}))}};function I(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function A(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var b=p;t.exports=b},function(t,e,i){i(13).registerSubTypeDefaulter("dataZoom",(function(){return"slider"}))},function(t,e,i){var n=i(1),o=i(0),r=o.createHashMap,s=o.each;n.registerProcessor({getTargetSeries:function(t){var e=r();return t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,i,n){var o=n.getAxisProxy(t.name,i);s(o.getTargetSeriesModels(),(function(t){e.set(t.uid,t)}))}))})),e},isOverallFilter:!0,overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,i,n){n.getAxisProxy(t.name,i).reset(n,e)})),t.eachTargetAxis((function(t,i,n){n.getAxisProxy(t.name,i).filterData(n,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)}))}})},function(t,e,i){var n=i(1),o=i(0),r=i(99);n.registerAction("dataZoom",(function(t,e){var i=r.createLinkedNodesFinder(o.bind(e.eachComponent,e,"dataZoom"),r.eachAxisDim,(function(t,e){return t.get(e.axisIndex)})),n=[];e.eachComponent({mainType:"dataZoom",query:t},(function(t,e){n.push.apply(n,i(t).nodes)})),o.each(n,(function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))},function(t,e,i){var n=i(0),o=n.each;function r(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.visualMap;n.isArray(e)||(e=e?[e]:[]),o(e,(function(t){if(t){r(t,"splitList")&&!r(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&n.isArray(e)&&o(e,(function(t){n.isObject(t)&&(r(t,"start")&&!r(t,"min")&&(t.min=t.start),r(t,"end")&&!r(t,"max")&&(t.max=t.end))}))}}))}},function(t,e,i){i(13).registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}))},function(t,e,i){var n=i(1),o=i(0),r=i(78),s=i(38),a=n.PRIORITY.VISUAL.COMPONENT;function l(t,e,i,n){for(var o=e.targetVisuals[n],r=s.prepareVisualTypes(o),a={color:t.getData().getVisual("color")},l=0,h=r.length;l<h;l++){var c=r[l],u=o["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(i,p,g)}return a.color;function p(t){return a[t]}function g(t,e){a[t]=e}}n.registerVisual(a,{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent("visualMap",(function(e){e.isTargetSeries(t)&&i.push(r.incrementalApplyVisual(e.stateList,e.targetVisuals,o.bind(e.getValueState,e),e.getDataDimension(t.getData())))})),i}}),n.registerVisual(a,{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(o.bind(l,null,t,e))||{stops:[],outerColors:[]},s=e.getDataDimension(i),a=i.getDimensionInfo(s);null!=a&&(r.dimension=a.index,n.push(r))}})),t.getData().setVisual("visualMeta",n)}})},function(t,e,i){var n=i(1),o=i(0),r=i(10),s=i(177),a=i(38),l=i(78),h=i(4),c=i(3),u=a.mapVisual,p=a.eachVisual,g=o.isArray,d=o.each,f=c.asc,y=c.linearMap,m=o.noop,v=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;r.canvasSupported||(i.realtime=!1),!e&&l.replaceVisualOption(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=o.bind(t,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,e,t),this.targetVisuals=l.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,i){e.push(i)})):e=h.normalizeToArray(t),e},eachTargetSeries:function(t,e){o.each(this.getTargetSeriesIndices(),(function(i){t.call(e,this.ecModel.getSeriesByIndex(i))}),this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries((function(i){i===t&&(e=!0)})),e},formatValueText:function(t,e,i){var n,r,s=this.option,a=s.precision,l=this.dataBound,h=s.formatter;return i=i||["<",">"],o.isArray(t)&&(t=t.slice(),n=!0),r=e?t:n?[c(t[0]),c(t[1])]:c(t),o.isString(h)?h.replace("{value}",n?r[0]:r).replace("{value2}",n?r[1]:r):o.isFunction(h)?n?h(t[0],t[1]):h(t):n?t[0]===l[0]?i[0]+" "+r[1]:t[1]===l[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r;function c(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(Math.min(a,20))}},resetExtent:function(){var t=this.option,e=f([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length)return t.getDimension(null!=e?e:i.length-1)},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),r=e.controller||(e.controller={});o.merge(n,i),o.merge(r,i);var l=this.isCategory();function h(i){g(e.color)&&!i.inRange&&(i.inRange={color:e.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get("gradientColor")},d(this.stateList,(function(t){var e=i[t];if(o.isString(e)){var n=s.get(e,"active",l);n?(i[t]={},i[t][e]=n):delete i[t]}}),this)}h.call(this,n),h.call(this,r),function(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},d(n,(function(t,e){if(a.isValidType(e)){var i=s.get(e,"inactive",l);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}.call(this,n,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor");d(this.stateList,(function(r){var s=this.itemSize,a=t[r];a||(a=t[r]={color:l?n:[n]}),null==a.symbol&&(a.symbol=e&&o.clone(e)||(l?"roundRect":["roundRect"])),null==a.symbolSize&&(a.symbolSize=i&&o.clone(i)||(l?s[0]:[s[0],s[0]])),a.symbol=u(a.symbol,(function(t){return"none"===t||"square"===t?"roundRect":t}));var h=a.symbolSize;if(null!=h){var c=-1/0;p(h,(function(t){t>c&&(c=t)})),a.symbolSize=u(h,(function(t){return y(t,[0,c],[0,s[0]],!0)}))}}),this)}.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:m,getValueState:m,getVisualMeta:m});t.exports=v},function(t,e,i){var n=i(0),o={get:function(t,e,i){var o=n.clone((r[t]||{})[e]);return i&&n.isArray(o)?o[o.length-1]:o}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},s=o;t.exports=s},function(t,e,i){var n=i(1),o=i(0),r=i(2),s=i(8),a=i(6),l=i(38),h=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=s.normalizeCssArray(e.get("padding")||0),n=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){var n=(i=i||{}).forceState,r=this.visualMapModel,s={};if("symbol"===e&&(s.symbol=r.get("itemSymbol")),"color"===e){var a=r.get("contentColor");s.color=a}function h(t){return s[t]}function c(t,e){s[t]=e}var u=r.controllerVisuals[n||r.getValueState(t)],p=l.prepareVisualTypes(u);return o.each(p,(function(n){var o=u[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=u.__alphaForOpacity),l.dependsOn(n,e)&&o&&o.applyVisual(t,h,c)})),s[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;a.positionElement(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:o.noop});t.exports=h},function(t,e,i){var n=i(0),o=i(6).getLayoutRect;e.getItemAlign=function(t,e,i){var n=t.option,r=n.align;if(null!=r&&"auto"!==r)return r;for(var s={width:e.getWidth(),height:e.getHeight()},a="horizontal"===n.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],h=l[a],c=[0,null,10],u={},p=0;p<3;p++)u[l[1-a][p]]=c[p],u[h[p]]=2===p?i[0]:n[h[p]];var g=[["x","width",3],["y","height",0]][a],d=o(u,s,n.padding);return h[(d.margin[g[2]]||0)+d[g[0]]+.5*d[g[1]]<.5*s[g[1]]?0:1]},e.convertDataIndex=function(t){return n.each(t||[],(function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)})),t}},function(t,e,i){i(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},(function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))}))},function(t,e,i){var n=i(0).each,o="\0_ec_hist_store";function r(t){var e=t[o];return e||(e=t[o]=[{}]),e}e.push=function(t,e){var i=r(t);n(e,(function(e,n){for(var o=i.length-1;o>=0;o--){if(i[o][n])break}if(o<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}})),i.push(e)},e.pop=function(t){var e=r(t),i=e[e.length-1];e.length>1&&e.pop();var o={};return n(i,(function(t,i){for(var n=e.length-1;n>=0;n--){if(t=e[n][i]){o[i]=t;break}}})),o},e.clear=function(t){t[o]=null},e.count=function(t){return r(t).length}},function(t,e,i){var n,o=i(10),r="urn:schemas-microsoft-com:vml",s="undefined"==typeof window?null:window,a=!1,l=s&&s.document;if(l&&!o.canvasSupported)try{!l.namespaces.zrvml&&l.namespaces.add("zrvml",r),n=function(t){return l.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){n=function(t){return l.createElement("<"+t+' xmlns="'+r+'" class="zrvml">')}}e.doc=l,e.createNode=function(t){return n(t)},e.initVML=function(){if(!a&&l){a=!0;var t=l.styleSheets;t.length<31?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(t,e,i){"use strict";(function(t){
/*!
 * author: FDD <smileFDD@gmail.com> 
 * ol-plot v2.1.3
 * build-time: 2018-3-27 21:54
 * LICENSE: MIT
 * (c) 2016-2018 https://sakitam-fdd.github.io/ol-plot
 */
const i=function(){this.Events={},this.__cnt=0};i.hasOwnKey=Function.call.bind(Object.hasOwnProperty),i.slice=Function.call.bind(Array.prototype.slice),i.prototype.on=function(t,e,i){return this.bindEvent(t,e,0,i)},i.prototype.un=function(t){var e="",n="",o=!1,r=typeof t,s=this;return"string"===r?!!i.hasOwnKey(this.Events,t)&&(delete this.Events[t],!0):"object"===r?(e=t[0],n=t[1],!(!i.hasOwnKey(this.Events,e)||!i.hasOwnKey(this.Events[e],n))&&(delete this.Events[e][n],!0)):"function"!==r||(s.eachEvent(s.Events,(function(e,i){s.eachEvent(i,(function(i,n){n[0]===t&&(delete s.Events[e][i],o=!0)}))})),o)},i.prototype.once=function(t,e,i){return this.bindEvent(t,e,1,i)},i.prototype.action=function(t,e){i.hasOwnKey(this.Events,t)&&this.eachEvent(this.Events[t],(function(i,n){n[0].apply(n[2],e),n[1]&&delete this.Events[t][i]}))},i.prototype.dispatch=function(t){var e=this,n=i.slice(arguments,1);setTimeout((function(){e.action(t,n)}))},i.prototype.dispatchSync=function(t){this.action(t,i.slice(arguments,1))},i.prototype.clear=function(){this.Events={}},i.prototype.bindEvent=function(t,e,n,o){if("string"!=typeof t||"function"!=typeof e)throw new Error("传入的事件名称和回调函数有误！");return i.hasOwnKey(this.Events,t)||(this.Events[t]={}),this.Events[t][++this.__cnt]=[e,n,o],[t,this.__cnt]},i.prototype.eachEvent=function(t,e){for(var n in t)i.hasOwnKey(t,n)&&e(n,t[n])};var n=Math.PI/2,o=(Math.PI,{borderRadius:"2px",fontSize:"12px",outline:0,overflow:"hidden",boxSizing:"border-box",border:"1px solid #eeeeee",fontFamily:"Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Noto Sans CJK SC,WenQuanYi Micro Hei,Arial,sans-serif",color:"#010500",fontWeight:400,padding:"3px",fontStretch:"normal",lineHeight:"normal",textAlign:"left",marginLeft:"auto",marginRight:"auto",width:"auto",height:"auto",background:"rgb(255, 255, 255)",fontStyle:"",fontVariant:""}),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},c=function(t){var e=0;return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(i,n){n<t.length-1&&(e+=h(i,t[n+1]))})),e},u=function(t){return Math.pow(c(t),.99)},p=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]},g=function(t,e,i){var n=[(t[0]+e[0])/2,(t[1]+e[1])/2],o=[n[0]-t[1]+e[1],n[1]+t[0]-e[0]],r=[(t[0]+i[0])/2,(t[1]+i[1])/2],s=[r[0]-t[1]+i[1],r[1]+t[0]-i[0]];return d(n,o,r,s)},d=function(t,e,i,n){if(t[1]===e[1])return[(n[0]-i[0])/(n[1]-i[1])*(t[1]-i[1])+i[0],t[1]];if(i[1]===n[1])return[(e[0]-t[0])/(e[1]-t[1])*(i[1]-t[1])+t[0],i[1]];var o=(e[0]-t[0])/(e[1]-t[1]),r=(n[0]-i[0])/(n[1]-i[1]),s=(o*t[1]-t[0]-r*i[1]+i[0])/(o-r);return[o*s-o*t[1]+t[0],s]},f=function(t,e){var i=void 0,n=Math.asin(Math.abs(e[1]-t[1])/h(t,e));return e[1]>=t[1]&&e[0]>=t[0]?i=n+Math.PI:e[1]>=t[1]&&e[0]<t[0]?i=2*Math.PI-n:e[1]<t[1]&&e[0]<t[0]?i=n:e[1]<t[1]&&e[0]>=t[0]&&(i=Math.PI-n),i},y=function(t,e,i){var n=f(e,t)-f(e,i);return n<0?n+2*Math.PI:n},m=function(t,e,i){return(i[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(i[0]-t[0])},v=function(t,e,i,n,o){var r=1-(t=Math.max(Math.min(t,1),0)),s=t*t,a=s*t,l=r*r,h=l*r;return[h*e[0]+3*l*t*i[0]+3*r*s*n[0]+a*o[0],h*e[1]+3*l*t*i[1]+3*r*s*n[1]+a*o[1]]},_=function(t,e,i,n,o){var r=f(t,e),s=o?r+i:r-i,a=n*Math.cos(s),l=n*Math.sin(s);return[e[0]+a,e[1]+l]},x=function(t,e,i,n){var o=null,r=null,s=[],a=n-i;a=a<0?a+2*Math.PI:a;for(var l=0;l<=100;l++){var h=i+a*l/100;o=t[0]+e*Math.cos(h),r=t[1]+e*Math.sin(h),s.push([o,r])}return s},C=function(t,e,i,n){var o=I(e,i,n),r=null,s=null,a=null,l=Math.sqrt(o[0]*o[0]+o[1]*o[1]),c=o[0]/l,u=o[1]/l,p=h(e,i),g=h(i,n);return l>1e-4?m(e,i,n)?(a=t*p,r=[i[0]-a*u,i[1]+a*c],a=t*g,s=[i[0]+a*u,i[1]-a*c]):(a=t*p,r=[i[0]+a*u,i[1]-a*c],a=t*g,s=[i[0]-a*u,i[1]+a*c]):(r=[i[0]+t*(e[0]-i[0]),i[1]+t*(e[1]-i[1])],s=[i[0]+t*(n[0]-i[0]),i[1]+t*(n[1]-i[1])]),[r,s]},I=function(t,e,i){var n=t[0]-e[0],o=t[1]-e[1],r=Math.sqrt(n*n+o*o);n/=r,o/=r;var s=i[0]-e[0],a=i[1]-e[1],l=Math.sqrt(s*s+a*a);return[n+(s/=l),o+(a/=l)]},A=function(t,e){for(var i=function(t,e){var i=[t[0],t[1],t[2],null,null],n=i[0],o=i[1],r=i[2],s=i[3],a=i[4],l=C(0,n,o,r)[0],c=I(n,o,r);if(Math.sqrt(c[0]*c[0]+c[1]*c[1])>1e-4){var u=p(n,o),g=n[0]-u[0],d=n[1]-u[1],f=2/h(n,o),y=-f*d,m=f*g,v=y*y-m*m,_=2*y*m,x=m*m-y*y,A=l[0]-u[0],b=l[1]-u[1];s=u[0]+v*A+_*b,a=u[1]+_*A+x*b}else s=n[0]+e*(o[0]-n[0]),a=n[1]+e*(o[1]-n[1]);return[s,a]}(e,t),n=null,o=null,r=[i],s=[],a=0;a<e.length-2;a++){var l=[e[a],e[a+1],e[a+2]],c=C(t,n=l[0],o=l[1],l[2]);r=r.concat(c)}var u=function(t,e){var i=t.length,n=t[i-3],o=t[i-2],r=t[i-1],s=C(0,n,o,r)[1],a=I(n,o,r),l=null,c=null;if(Math.sqrt(a[0]*a[0]+a[1]*a[1])>1e-4){var u=p(o,r),g=r[0]-u[0],d=r[1]-u[1],f=2/h(o,r),y=-f*d,m=f*g,v=y*y-m*m,_=2*y*m,x=m*m-y*y,A=s[0]-u[0],b=s[1]-u[1];l=u[0]+v*A+_*b,c=u[1]+_*A+x*b}else l=r[0]+e*(o[0]-r[0]),c=r[1]+e*(o[1]-r[1]);return[l,c]}(e,t);u&&r.push(u);for(var g=0;g<e.length-1;g++){n=e[g],o=e[g+1],s.push(n);for(var d=0;d<100;d++){var f=v(d/100,n,r[2*g],r[2*g+1],o);s.push(f)}s.push(o)}return s},b=function(t){if(t.length<=2)return t;for(var e=[],i=t.length-1,n=0;n<=1;n+=.01){for(var o=0,r=0,s=0;s<=i;s++){var a=S(i,s),l=Math.pow(n,s),h=Math.pow(1-n,i-s);o+=a*l*h*t[s][0],r+=a*l*h*t[s][1]}e.push([o,r])}return e.push(t[i]),e},w=function(t){var e=1;switch(t){case t<=1:e=1;break;case 2===t:e=2;break;case 3===t:e=6;break;case 24===t:e=24;break;case 5===t:e=120;break;default:for(var i=1;i<=t;i++)e*=i}return e},S=function(t,e){return w(t)/(w(e)*w(t-e))},M=function(t){if(t.length<=2)return t;var e=[],i=t.length-2-1;e.push(t[0]);for(var n=0;n<=i;n++)for(var o=0;o<=1;o+=.05){for(var r=0,s=0,a=0;a<=2;a++){var l=E(a,o);r+=l*t[n+a][0],s+=l*t[n+a][1]}e.push([r,s])}return e.push(t[t.length-1]),e},E=function(t,e){var i=0;return 0===t?i=Math.pow(e-1,2)/2:1===t?i=(-2*Math.pow(e,2)+2*e+1)/2:2===t&&(i=Math.pow(e,2)/2),i},T=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},P=function(t){var e=void 0===t?"undefined":r(t);return null!==t&&("object"===e||"function"===e)},L=ol.layer.Group,N=ol.layer.Vector,D=ol.source.Vector,R=ol.style.Style,O=ol.style.Stroke,F=ol.style.Circle,k=ol.style.Fill,G=function(t,e){try{var i=null;if(t){var n=t.getLayers().getArray();i=B(n,"layerName",e)}return i}catch(t){console.log(t)}},B=function t(e,i,n){var o=null;return e.length>0&&e.every((function(e){if(e instanceof L){var r=e.getLayers().getArray();return!(o=t(r,i,n))}return e.get(i)!==n||(o=e,!1)})),o},z=function(t,e,i){try{if(t){var n=G(t,e);if(n instanceof N||(n=null),n||i&&i.create&&(n=new N({layerName:e,params:i,layerType:"vector",source:new D({wrapX:!1}),style:new R({fill:new k({color:"rgba(67, 110, 238, 0.4)"}),stroke:new O({color:"#4781d9",width:2}),image:new F({radius:7,fill:new k({color:"#ffcc33"})})})})),t&&n){i&&i.hasOwnProperty("selectable")&&n.set("selectable",i.selectable);var o=G(t,e);o&&o instanceof N||t.addLayer(n)}return n}}catch(t){console.log(t)}};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var V=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){
/*!
	autosize 4.0.1
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(t,e){var i,n,o="function"==typeof Map?new Map:(i=[],n=[],{has:function(t){return i.indexOf(t)>-1},get:function(t){return n[i.indexOf(t)]},set:function(t,e){-1===i.indexOf(t)&&(i.push(t),n.push(e))},delete:function(t){var e=i.indexOf(t);e>-1&&(i.splice(e,1),n.splice(e,1))}}),r=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){r=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function s(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,i=null,n=null,s=null,a=function(){t.clientWidth!==n&&u()},l=function(e){window.removeEventListener("resize",a,!1),t.removeEventListener("input",u,!1),t.removeEventListener("keyup",u,!1),t.removeEventListener("autosize:destroy",l,!1),t.removeEventListener("autosize:update",u,!1),Object.keys(e).forEach((function(i){t.style[i]=e[i]})),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",l,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",u,!1),window.addEventListener("resize",a,!1),t.addEventListener("input",u,!1),t.addEventListener("autosize:update",u,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:l,update:u}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),i="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(i)&&(i=0),u()}function h(e){var i=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=i,t.style.overflowY=e}function c(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+i+"px",n=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function u(){c();var e=Math.round(parseFloat(t.style.height)),i=window.getComputedStyle(t,null),n="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):t.offsetHeight;if(n!==e?"hidden"===i.overflowY&&(h("scroll"),c(),n="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==i.overflowY&&(h("hidden"),c(),n="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),s!==n){s=n;var o=r("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function a(t){var e=o.get(t);e&&e.destroy()}function l(t){var e=o.get(t);e&&e.update()}var h=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((h=function(t){return t}).destroy=function(t){return t},h.update=function(t){return t}):((h=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return s(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],a),t},h.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],l),t}),e.default=h,t.exports=e.default}(t,e)})),j=/([\:\-\_]+(.))/g,H=/^moz([A-Z])/,U=function(t){return"string"==typeof t?document.getElementById(t):t},W=function(t){return t.replace(j,(function(t,e,i,n){return n?i.toUpperCase():i})).replace(H,"Moz$1")},Y=function(){if(document.addEventListener)return function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}}(),X=function(){if(document.removeEventListener)return function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}}();function Z(t,e){if(!t||!e)return null;"float"===(e=W(e))&&(e="cssFloat");try{var i=document.defaultView.getComputedStyle(t,"");return t.style[e]||i?i[e]:null}catch(i){return t.style[e]}}function q(t,e,i){if(t&&e)if("object"===(void 0===e?"undefined":r(e)))for(var n in e)e.hasOwnProperty(n)&&q(t,n,e[n]);else"opacity"===(e=W(e))?t.style.filter=isNaN(i)?"":"alpha(opacity="+100*i+")":t.style[e]=i}var K=ol.interaction.DragPan,J=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e);var n=[i.id,i.element,i.offset,i.stopEvent,i.positioning,i.insertFirst,i.autoPan,i.autoPanAnimation,i.autoPanMargin,i.className?i.className:"ol-plot-text-editor"],o=n[0],r=n[1],a=n[2],h=n[3],c=n[4],u=n[5],p=n[6],g=n[7],d=n[8],f=n[9],y=l(this,t.call(this,{id:o,element:r,stopEvent:h,insertFirst:u,autoPan:p,autoPanAnimation:g,autoPanMargin:d,className:f}));return y.setOffset(void 0!==a?a:[0,0]),y.setPositioning(void 0!==c?c:"center-center"),y.mapDragPan=void 0,y.isClick_=!1,y.dragging_=!1,y.isFocus_=!1,y.options_=i,y._position=i.position&&i.position.length>0?i.position:[],y.handleTimer_=null,y.currentPixel_=[],y.createTextContent(i),y}return a(e,t),e.prototype.createTextContent=function(t){var e=t.className||"ol-plot-text-editor",i=document.createElement("textarea");i.className=e,i.style.width=t.width+"px",i.style.height=t.height+"px",i.style.minHeight=t.minHeight+"px",i.setAttribute("id",t.id),i.setAttribute("autofocus",!0),V(i),Y(i,"focus",this.handleFocus_.bind(this)),Y(i,"blur",this.handleBlur_.bind(this)),Y(i,"click",this.handleClick_.bind(this)),Y(i,"mousedown",this.handleDragStart_.bind(this)),Y(window,"mouseup",this.handleDragEnd_.bind(this)),this.set("isPlotText",!0),this.setElement(i),this.createCloseButton(t),this.createResizeButton(t),this.setPosition(this._position),this.dispatchEvent("textBoxDrawEnd",{overlay:this,element:i,uuid:t.id})},e.prototype.getTextAreaFromContent_=function(){var t="",e=Array.prototype.slice.call(this.element&&this.element.children,0);return e.length>0&&e.every((function(e){return 1!==e.nodeType||"textarea"!==e.nodeName.toLowerCase()||(t=e,!1)})),t},e.prototype.createCloseButton=function(t){var e=document.createElement("span");e.className="ol-plot-text-editor-close",e.setAttribute("data-id",t.id),X(e,"click",this.closeCurrentPlotText.bind(this)),Y(e,"click",this.closeCurrentPlotText.bind(this)),this.element.appendChild(e)},e.prototype.createResizeButton=function(t){var e=document.createElement("span");e.className="ol-plot-text-editor-resize",e.setAttribute("data-id",t.id),X(e,"mousedown",this.handleResizeMouseDown_.bind(this)),X(e,"mousemove",this.handleResizeMouseMove_.bind(this)),Y(e,"mousedown",this.handleResizeMouseDown_.bind(this)),Y(e,"mousemove",this.handleResizeMouseMove_.bind(this)),this.element.appendChild(e)},e.prototype.resizeButtonMoveHandler_=function(t){var e=t.pixel,i=this.getTextAreaFromContent_();if(!(e.length<1||this.currentPixel_.length<1)&&i){var n=[e[0]-this.currentPixel_[0],e[1]-this.currentPixel_[1]],o=[i.offsetWidth,i.offsetHeight],r=o[1]+2*n[1];q(i,"width",o[0]+2*n[0]+"px"),q(i,"height",r+"px"),this.currentPixel_=e,this.getMap().render()}},e.prototype.handleResizeMouseMove_=function(t){t.stopImmediatePropagation()},e.prototype.handleResizeMouseDown_=function(t){this.getMap()&&(this.currentPixel_=[t.x,t.y],this.getMap().on("pointermove",this.resizeButtonMoveHandler_,this),Y(this.getMap().getViewport(),"mouseup",this.handleResizeMouseUp_.bind(this)))},e.prototype.handleResizeMouseUp_=function(t){this.getMap()&&(this.getMap().un("pointermove",this.resizeButtonMoveHandler_,this),X(this.getMap().getViewport(),"mouseup",this.handleResizeMouseUp_.bind(this)),this.currentPixel_=[])},e.prototype.closeCurrentPlotText=function(t){if(this.getMap()&&t&&function(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}(t.target,"ol-plot-text-editor-close")){var e=t.target.getAttribute("data-id");if(e){var i=this.getMap().getOverlayById(e);i&&this.getMap().removeOverlay(i)}}},e.prototype.handleFocus_=function(){this.isFocus_=!0,this.getMap()&&(this.getMap().set("activeTextArea",this),this.getMap().dispatchEvent("activeTextArea"))},e.prototype.handleBlur_=function(){this.isFocus_=!1,this.getMap()&&(this.getMap().set("activeTextArea",null),this.getMap().set("disActiveTextArea",this),this.getMap().dispatchEvent("disActiveTextArea"))},e.prototype.handleDragStart_=function(t){var e=this;this.getMap()&&!this.dragging_&&this.isMoveModel()&&this.isFocus_&&(this.handleTimer_=window.setTimeout((function(){window.clearTimeout(e.handleTimer_),e.handleTimer_=null,e.isClick_||(e.dragging_=!0,e.disableMapDragPan(),e.preCursor_=e.element.style.cursor,Y(e.getMap().getViewport(),"mousemove",e.handleDragDrag_.bind(e)),Y(e.element,"mouseup",e.handleDragEnd_.bind(e)))}),300))},e.prototype.handleDragDrag_=function(t){this.dragging_&&(this.element.style.cursor="move",this._position=this.getMap().getCoordinateFromPixel([t.clientX,t.clientY]),this.setPosition(this._position))},e.prototype.handleDragEnd_=function(t){this.isClick_=!1,window.clearTimeout(this.handleTimer_),this.handleTimer_=null,this.dragging_&&this.isFocus_&&(this.dragging_=!1,this.enableMapDragPan(),this.element.style.cursor=this.preCursor_,X(this.getMap().getViewport(),"mousemove",this.handleDragDrag_.bind(this)),X(this.element,"mouseup",this.handleDragEnd_.bind(this)))},e.prototype.handleClick_=function(t){t.target===this.element?this.isClick_=!0:this.isClick_=!1},e.prototype.isMoveModel=function(){return window.getSelection().getRangeAt(0).collapsed},e.prototype.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getTextAreaFromContent_();if(e)for(var i in t)t[i]&&q(e,i,t[i])},e.prototype.getStyle=function(){var t={},e=this.getTextAreaFromContent_();if(e)for(var i in o)t[i]=Z(e,i);return t},e.prototype.setValue=function(t){var e=this.getTextAreaFromContent_();e&&(e.value=t,t&&V.update(e),this.getMap().render())},e.prototype.getValue=function(){var t=this.getTextAreaFromContent_();return t?t.value:""},e.prototype.getWidth=function(){var t=this.getTextAreaFromContent_();return t&&t.offsetWidth?t.offsetWidth:0},e.prototype.getHeight=function(){var t=this.getTextAreaFromContent_();return t&&t.offsetHeight?t.offsetHeight:0},e.prototype.enableMapDragPan=function(){var t=this.getMap();t&&this.mapDragPan&&this.mapDragPan instanceof K&&(t.addInteraction(this.mapDragPan),delete this.mapDragPan)},e.prototype.disableMapDragPan=function(){var t=this,e=this.getMap();e&&e.getInteractions().getArray().every((function(i){return!(i instanceof K)||(t.mapDragPan=i,e.removeInteraction(i),!1)}))},e.prototype.setMap=function(t){ol.Overlay.prototype.setMap.call(this,t),t&&t instanceof ol.Map&&(this.setStyle(function t(e,i){for(var n in i)P(i[n])&&P(e[n])?t(e[n],i[n]):e[n]=i[n];return e}(o,this.options_.style)),this.setValue(this.options_.value))},e}(ol.Overlay),Q=Object.freeze({TEXTAREA:"TextArea",ARC:"Arc",CURVE:"Curve",GATHERING_PLACE:"GatheringPlace",POLYLINE:"Polyline",FREEHANDLINE:"FreeHandLine",POINT:"Point",PENNANT:"Pennant",RECTANGLE:"RectAngle",CIRCLE:"Circle",ELLIPSE:"Ellipse",LUNE:"Lune",SECTOR:"Sector",CLOSED_CURVE:"ClosedCurve",POLYGON:"Polygon",FREE_POLYGON:"FreePolygon",ATTACK_ARROW:"AttackArrow",DOUBLE_ARROW:"DoubleArrow",STRAIGHT_ARROW:"StraightArrow",FINE_ARROW:"FineArrow",ASSAULT_DIRECTION:"AssaultDirection",TAILED_SQUAD_COMBAT:"TailedSquadCombat",TAILED_ATTACK_ARROW:"TailedAttackArrow",SQUAD_COMBAT:"SquadCombat",RECTFLAG:"RectFlag",TRIANGLEFLAG:"TriangleFlag",CURVEFLAG:"CurveFlag"}),$=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Point",r.options=o||{},r.set("params",r.options),r.fixPointCount=1,n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){var t=this.points[0];this.setCoordinates(t)},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Point),tt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Pennant",r.options=o||{},r.set("params",r.options),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){this.setCoordinates(this.points)},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Point),et=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Polyline",r.freehand=!1,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){this.setCoordinates(this.points)},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.LineString),it=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Arc",r.fixPointCount=3,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){var t=this.getPointCount();if(!(t<2))if(2===t)this.setCoordinates(this.points);else{var e=[this.points[0],this.points[1],this.points[2],null,null],i=e[0],n=e[1],o=e[2],r=e[3],s=e[4],a=g(i,n,o),l=h(i,a),c=f(i,a),u=f(n,a);m(i,n,o)?(r=u,s=c):(r=c,s=u),this.setCoordinates(x(a,l,r,s))}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.LineString),nt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Circle",r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;var t=this.points[0],e=h(t,this.points[1]);this.setCoordinates([this.generatePoints(t,e)])},e.prototype.generatePoints=function(t,e){for(var i=null,n=null,o=null,r=[],s=0;s<=100;s++)o=2*Math.PI*s/100,i=t[0]+e*Math.cos(o),n=t[1]+e*Math.sin(o),r.push([i,n]);return r},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),ot=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Curve",r.t=.3,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates(this.points);else{var e=A(this.t,this.points);this.setCoordinates(e)}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.LineString),rt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="FreeHandLine",r.freehand=!0,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){this.setCoordinates(this.points)},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.LineString),st=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="RectAngle",r.fixPointCount=2,r.set("params",o),r.isFill=!1!==o.isFill||o.isFill,n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(2===this.points.length){var t=[];if(this.isFill){var e=ol.extent.boundingExtent(this.points);t=ol.geom.Polygon.fromExtent(e).getCoordinates()}else{var i=this.points[0],n=this.points[1];t=[i,[i[0],n[1]],n,[n[0],i[1]],i]}this.setCoordinates(t)}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),at=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Ellipse",r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;var t=[this.points[0],this.points[1]],e=t[0],i=t[1],n=p(e,i),o=Math.abs((e[0]-i[0])/2),r=Math.abs((e[1]-i[1])/2),s=this.generatePoints(n,o,r);this.setCoordinates([s])},e.prototype.generatePoints=function(t,e,i){for(var n=null,o=null,r=null,s=[],a=0;a<=100;a++)r=2*Math.PI*a/100,n=t[0]+e*Math.cos(r),o=t[1]+i*Math.sin(r),s.push([n,o]);return s},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),lt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Lune",r.fixPointCount=3,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;var t=this.getPoints();if(2===this.getPointCount()){var e=p(t[0],t[1]),i=h(t[0],e),o=_(t[0],e,n,i);t.push(o)}var r=[t[0],t[1],t[2],void 0,void 0],s=r[0],a=r[1],l=r[2],c=r[3],u=r[4],d=g(s,a,l),y=h(s,d),v=f(s,d),C=f(a,d);m(s,a,l)?(c=C,u=v):(c=v,u=C),(t=x(d,y,c,u)).push(t[0]),this.setCoordinates([t])},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),ht=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Sector",r.fixPointCount=3,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates([this.points]);else{var e=this.getPoints(),i=[e[0],e[1],e[2]],n=i[0],o=i[1],r=i[2],s=h(o,n),a=f(o,n),l=f(r,n),c=x(n,s,a,l);c.push(n,c[0]),this.setCoordinates([c])}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),ct=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="ClosedCurve",r.t=.3,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates([this.points]);else{var e=this.getPoints();e.push(e[0],e[1]);for(var i=[],n=[],o=0;o<e.length-2;o++){var r=C(this.t,e[o],e[o+1],e[o+2]);i=i.concat(r)}var s=i.length;i=[i[s-1]].concat(i.slice(0,s-1));for(var a=0;a<e.length-2;a++){var l=e[a],h=e[a+1];n.push(l);for(var c=0;c<=100;c++){var u=v(c/100,l,i[2*a],i[2*a+1],h);n.push(u)}n.push(h)}this.setCoordinates([n])}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),ut=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="Polygon",r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.points])},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),pt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="FreePolygon",r.freehand=!0,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){this.setCoordinates([this.points])},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),gt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="AttackArrow",r.headHeightFactor=.18,r.headWidthFactor=.3,r.neckHeightFactor=.85,r.neckWidthFactor=.15,r.headTailFactor=.8,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){try{var t=this.getPointCount();if(t<2)return!1;if(2===t)this.setCoordinates([this.points]);else{var e=this.getPoints(),i=[e[0],e[1]],n=i[0],o=i[1];m(e[0],e[1],e[2])&&(n=e[1],o=e[0]);var r=[p(n,o)].concat(e.slice(2)),s=this.getArrowHeadPoints(r,n,o),a=[s[0],s[4]],l=a[0],c=a[1],g=h(n,o)/u(r),d=this.getArrowBodyPoints(r,l,c,g),f=d.length,y=[n].concat(d.slice(0,f/2));y.push(l);var v=[o].concat(d.slice(f/2,f));v.push(c),y=M(y),v=M(v),this.setCoordinates([y.concat(s,v.reverse())])}}catch(t){console.log(t)}},e.prototype.getArrowPoints=function(t,e,i,o){var r=p(t,e),s=h(r,i),a=_(i,r,0,.3*s,!0),l=_(i,r,0,.5*s,!0),c=[r,a=_(r,a,n,s/5,o),l=_(r,l,n,s/4,o),i],g=this.getArrowHeadPoints(c);if(!(g&&Array.isArray(g)&&g.length>0))throw new Error("插值出错");var d=[g[0],g[4]],f=d[0],y=d[1],m=h(t,e)/u(c)/2,v=this.getArrowBodyPoints(c,f,y,m);if(v){var x=v.length,C=v.slice(0,x/2),I=v.slice(x/2,x);return C.push(f),I.push(y),(C=C.reverse()).push(e),(I=I.reverse()).push(t),C.reverse().concat(g,I)}},e.prototype.getArrowHeadPoints=function(t,e,i){try{var o=u(t),r=o*this.headHeightFactor,s=t[t.length-1];o=h(s,t[t.length-2]);var a=h(e,i);r>a*this.headTailFactor&&(r=a*this.headTailFactor);var l=r*this.headWidthFactor,c=r*this.neckWidthFactor,p=(r=r>o?o:r)*this.neckHeightFactor,g=_(t[t.length-2],s,0,r,!0),d=_(t[t.length-2],s,0,p,!0),f=_(s,g,n,l,!1),y=_(s,g,n,l,!0);return[_(s,d,n,c,!1),f,s,y,_(s,d,n,c,!0)]}catch(t){console.log(t)}},e.prototype.getArrowBodyPoints=function(t,e,i,n){for(var o=c(t),r=u(t)*n,s=(r-h(e,i))/2,a=0,l=[],p=[],g=1;g<t.length-1;g++){var d=y(t[g-1],t[g],t[g+1])/2,f=(r/2-(a+=h(t[g-1],t[g]))/o*s)/Math.sin(d),m=_(t[g-1],t[g],Math.PI-d,f,!0),v=_(t[g-1],t[g],d,f,!1);l.push(m),p.push(v)}return l.concat(p)},e.prototype.getTempPoint4=function(t,e,i){try{var o=p(t,e),r=h(o,i),s=y(t,o,i),a=void 0,l=void 0,c=void 0,u=void 0;return s<n?(l=r*Math.sin(s),c=r*Math.cos(s),u=_(t,o,n,l,!1),a=_(o,u,n,c,!0)):s>=n&&s<Math.PI?(l=r*Math.sin(Math.PI-s),c=r*Math.cos(Math.PI-s),u=_(t,o,n,l,!1),a=_(o,u,n,c,!1)):s>=Math.PI&&s<1.5*Math.PI?(l=r*Math.sin(s-Math.PI),c=r*Math.cos(s-Math.PI),u=_(t,o,n,l,!0),a=_(o,u,n,c,!0)):(l=r*Math.sin(2*Math.PI-s),c=r*Math.cos(2*Math.PI-s),u=_(t,o,n,l,!0),a=_(o,u,n,c,!1)),a}catch(t){console.log(t)}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),dt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="DoubleArrow",r.headHeightFactor=.25,r.headWidthFactor=.3,r.neckHeightFactor=.85,r.neckWidthFactor=.15,r.connPoint=null,r.tempPoint4=null,r.fixPointCount=4,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){try{var t=this.getPointCount();if(t<2)return!1;if(2===t)return this.setCoordinates([this.points]),!1;if(t>2){var e=[this.points[0],this.points[1],this.points[2]],i=e[0],n=e[1],o=e[2];3===t?(this.tempPoint4=this.getTempPoint4(i,n,o),this.connPoint=p(i,n)):4===t?(this.tempPoint4=this.points[3],this.connPoint=p(i,n)):(this.tempPoint4=this.points[3],this.connPoint=this.points[4]);var r=void 0,s=void 0;m(i,n,o)?(r=this.getArrowPoints(i,this.connPoint,this.tempPoint4,!1),s=this.getArrowPoints(this.connPoint,n,o,!0)):(r=this.getArrowPoints(n,this.connPoint,o,!1),s=this.getArrowPoints(this.connPoint,i,this.tempPoint4,!0));var a=r.length,l=(a-5)/2,h=r.slice(0,l),c=r.slice(l,l+5),u=r.slice(l+5,a),g=s.slice(0,l),d=s.slice(l,l+5),f=s.slice(l+5,a);g=b(g);var y=b(f.concat(h.slice(1)));u=b(u);var v=g.concat(d,y,c,u);this.setCoordinates([v])}}catch(t){console.log(t)}},e.prototype.getArrowPoints=function(t,e,i,o){var r=p(t,e),s=h(r,i),a=_(i,r,0,.3*s,!0),l=_(i,r,0,.5*s,!0),c=[r,a=_(r,a,n,s/5,o),l=_(r,l,n,s/4,o),i],g=this.getArrowHeadPoints(c);if(!(g&&Array.isArray(g)&&g.length>0))throw new Error("插值出错");var d=[g[0],g[4]],f=d[0],y=d[1],m=h(t,e)/u(c)/2,v=this.getArrowBodyPoints(c,f,y,m);if(v){var x=v.length,C=v.slice(0,x/2),I=v.slice(x/2,x);return C.push(f),I.push(y),(C=C.reverse()).push(e),(I=I.reverse()).push(t),C.reverse().concat(g,I)}},e.prototype.getArrowHeadPoints=function(t){try{var e=u(t)*this.headHeightFactor,i=t[t.length-1],o=e*this.headWidthFactor,r=e*this.neckWidthFactor,s=e*this.neckHeightFactor,a=_(t[t.length-2],i,0,e,!0),l=_(t[t.length-2],i,0,s,!0),h=_(i,a,n,o,!1),c=_(i,a,n,o,!0);return[_(i,l,n,r,!1),h,i,c,_(i,l,n,r,!0)]}catch(t){console.log(t)}},e.prototype.getArrowBodyPoints=function(t,e,i,n){for(var o=c(t),r=u(t)*n,s=(r-h(e,i))/2,a=0,l=[],p=[],g=1;g<t.length-1;g++){var d=y(t[g-1],t[g],t[g+1])/2,f=(r/2-(a+=h(t[g-1],t[g]))/o*s)/Math.sin(d),m=_(t[g-1],t[g],Math.PI-d,f,!0),v=_(t[g-1],t[g],d,f,!1);l.push(m),p.push(v)}return l.concat(p)},e.prototype.getTempPoint4=function(t,e,i){try{var o=p(t,e),r=h(o,i),s=y(t,o,i),a=void 0,l=void 0,c=void 0,u=void 0;return s<n?(l=r*Math.sin(s),c=r*Math.cos(s),u=_(t,o,n,l,!1),a=_(o,u,n,c,!0)):s>=n&&s<Math.PI?(l=r*Math.sin(Math.PI-s),c=r*Math.cos(Math.PI-s),u=_(t,o,n,l,!1),a=_(o,u,n,c,!1)):s>=Math.PI&&s<1.5*Math.PI?(l=r*Math.sin(s-Math.PI),c=r*Math.cos(s-Math.PI),u=_(t,o,n,l,!0),a=_(o,u,n,c,!0)):(l=r*Math.sin(2*Math.PI-s),c=r*Math.cos(2*Math.PI-s),u=_(t,o,n,l,!0),a=_(o,u,n,c,!1)),a}catch(t){console.log(t)}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){3===this.getPointCount()&&null!==this.tempPoint4&&this.points.push(this.tempPoint4),null!==this.connPoint&&this.points.push(this.connPoint)},e}(ol.geom.Polygon),ft=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="StraightArrow",r.fixPointCount=2,r.maxArrowLength=3e6,r.arrowLengthScale=5,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){try{if(this.getPointCount()<2)return!1;var t=this.getPoints(),e=[t[0],t[1]],i=e[0],n=e[1],o=h(i,n)/this.arrowLengthScale;o=o>this.maxArrowLength?this.maxArrowLength:o;var r=_(i,n,Math.PI/6,o,!1),s=_(i,n,Math.PI/6,o,!0);this.setCoordinates([i,n,r,n,s])}catch(t){console.log(t)}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.LineString),yt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="FineArrow",r.tailWidthFactor=.1,r.neckWidthFactor=.2,r.headWidthFactor=.25,r.headAngle=Math.PI/8.5,r.neckAngle=Math.PI/13,r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){try{if(this.getPointCount()<2)return!1;var t=this.getPoints(),e=[t[0],t[1]],i=e[0],o=e[1],r=u(t),s=r*this.tailWidthFactor,a=r*this.neckWidthFactor,l=r*this.headWidthFactor,h=_(o,i,n,s,!0),c=_(o,i,n,s,!1),p=_(i,o,this.headAngle,l,!1),g=_(i,o,this.headAngle,l,!0),d=[h,_(i,o,this.neckAngle,a,!1),p,o,g,_(i,o,this.neckAngle,a,!0),c];this.setCoordinates([d])}catch(t){console.log(t)}},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),mt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,i,n,o));return r.tailWidthFactor=.05,r.neckWidthFactor=.1,r.headWidthFactor=.15,r.type="AssaultDirection",r.headAngle=Math.PI/4,r.neckAngle=.17741*Math.PI,n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r.set("params",o),r}return a(e,t),e}(yt),vt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,i,n,o));return r.type="TailedAttackArrow",r.headHeightFactor=.18,r.headWidthFactor=.3,r.neckHeightFactor=.85,r.neckWidthFactor=.15,r.tailWidthFactor=.1,r.headTailFactor=.8,r.swallowTailFactor=1,r.swallowTailPnt=null,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.generate=function(){try{var t=this.getPointCount();if(t<2)return!1;if(2===t)return this.setCoordinates([this.points]),!1;var e=this.getPoints(),i=[e[0],e[1]],n=i[0],o=i[1];m(e[0],e[1],e[2])&&(n=e[1],o=e[0]);var r=[p(n,o)].concat(e.slice(2)),s=this.getArrowHeadPoints(r,n,o),a=[s[0],s[4]],l=a[0],c=a[1],g=h(n,o),d=u(r),f=d*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=_(r[1],r[0],0,f,!0);var y=g/d,v=this.getArrowBodyPoints(r,l,c,y),x=v.length,C=[n].concat(v.slice(0,x/2));C.push(l);var I=[o].concat(v.slice(x/2,x));I.push(c),C=M(C),I=M(I),this.setCoordinates([C.concat(s,I.reverse(),[this.swallowTailPnt,C[0]])])}catch(t){console.log(t)}},e}(gt),_t=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,i,n,o));return r.type="SquadCombat",r.headHeightFactor=.18,r.headWidthFactor=.3,r.neckHeightFactor=.85,r.neckWidthFactor=.15,r.tailWidthFactor=.1,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.generate=function(){try{if(this.getPointCount()<2)return!1;var t=this.getPoints(),e=this.getTailPoints(t),i=this.getArrowHeadPoints(t,e[0],e[1]),n=i[0],o=i[4],r=this.getArrowBodyPoints(t,n,o,this.tailWidthFactor),s=r.length,a=[e[0]].concat(r.slice(0,s/2));a.push(n);var l=[e[1]].concat(r.slice(s/2,s));l.push(o),a=M(a),l=M(l),this.setCoordinates([a.concat(i,l.reverse())])}catch(t){console.log(t)}},e.prototype.getTailPoints=function(t){var e=u(t)*this.tailWidthFactor;return[_(t[1],t[0],n,e,!1),_(t[1],t[0],n,e,!0)]},e}(gt),xt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,i,n,o));return r.type="TailedSquadCombat",r.headHeightFactor=.18,r.headWidthFactor=.3,r.neckHeightFactor=.85,r.neckWidthFactor=.15,r.tailWidthFactor=.1,r.swallowTailFactor=1,r.swallowTailPnt=null,r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.generate=function(){try{if(this.getPointCount()<2)return!1;var t=this.getPoints(),e=this.getTailPoints(t),i=this.getArrowHeadPoints(t,e[0],e[2]),n=i[0],o=i[4],r=this.getArrowBodyPoints(t,n,o,this.tailWidthFactor),s=r.length,a=[e[0]].concat(r.slice(0,s/2));a.push(n);var l=[e[2]].concat(r.slice(s/2,s));l.push(o),a=M(a),l=M(l),this.setCoordinates([a.concat(i,l.reverse(),[e[1],a[0]])])}catch(t){console.log(t)}},e.prototype.getTailPoints=function(t){var e=u(t)*this.tailWidthFactor,i=_(t[1],t[0],n,e,!1),o=_(t[1],t[0],n,e,!0),r=e*this.swallowTailFactor;return[i,_(t[1],t[0],0,r,!0),o]},e}(gt),Ct=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="GatheringPlace",r.t=.4,r.fixPointCount=3,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){var t=this.getPoints(),e=this.getPointCount();if(t.length<2)return!1;if(2===e){var i=p(t[0],t[1]),o=h(t[0],i)/.9,r=_(t[0],i,n,o,!0);t=[t[0],r,t[1]]}var s=p(t[0],t[2]);t.push(s,t[0],t[1]);for(var a=[],l=void 0,c=void 0,u=void 0,g=[],d=0;d<t.length-2;d++){l=t[d],c=t[d+1],u=t[d+2];var f=C(this.t,l,c,u);a=a.concat(f)}var y=a.length;a=[a[y-1]].concat(a.slice(0,y-1));for(var m=0;m<t.length-2;m++){l=t[m],c=t[m+1],g.push(l);for(var x=0;x<=100;x++){var I=v(x/100,l,a[2*m],a[2*m+1],c);g.push(I)}g.push(c)}this.setCoordinates([g])},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),It=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="RectFlag",r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.calculatePonits(this.points)])},e.prototype.calculatePonits=function(t){var e=[];if(t.length>1){var i=t[0],n=t[t.length-1];e=[i,[n[0],i[1]],[n[0],(i[1]+n[1])/2],[i[0],(i[1]+n[1])/2],[i[0],n[1]]]}return e},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),At=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="TriangleFlag",r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.calculatePonits(this.points)])},e.prototype.calculatePonits=function(t){var e=[];if(t.length>1){var i=t[0],n=t[t.length-1];e=[i,[n[0],(i[1]+n[1])/2],[i[0],(i[1]+n[1])/2],[i[0],n[1]]]}return e},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),bt=function(t){function e(i,n,o){s(this,e);var r=l(this,t.call(this,[]));return r.type="CurveFlag",r.fixPointCount=2,r.set("params",o),n&&n.length>0?r.setPoints(n):i&&i.length>0&&r.setCoordinates(i),r}return a(e,t),e.prototype.getPlotType=function(){return this.type},e.prototype.generate=function(){if(this.getPointCount()<2)return!1;this.setCoordinates([this.calculatePonits(this.points)])},e.prototype.calculatePonits=function(t){var e=[];if(t.length>1){var i=t[0],n=t[t.length-1],o=i,r=[(n[0]-i[0])/4+i[0],(n[1]-i[1])/8+i[1]],s=[(i[0]+n[0])/2,i[1]],a=[3*(n[0]-i[0])/4+i[0],-(n[1]-i[1])/8+i[1]],l=[n[0],i[1]],h=[n[0],(i[1]+n[1])/2],c=[3*(n[0]-i[0])/4+i[0],3*(n[1]-i[1])/8+i[1]],u=[(i[0]+n[0])/2,(i[1]+n[1])/2],p=[(n[0]-i[0])/4+i[0],5*(n[1]-i[1])/8+i[1]],g=[i[0],(i[1]+n[1])/2],d=[i[0],n[1]],f=b([o,r,s,a,l]),y=b([h,c,u,p,g]);(e=f.concat(y)).push(d)}return e},e.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=t},e.prototype.getMap=function(){return this.map},e.prototype.isPlot=function(){return!0},e.prototype.setPoints=function(t){this.points=t||[],this.points.length>=1&&this.generate()},e.prototype.getPoints=function(){return this.points.slice(0)},e.prototype.getPointCount=function(){return this.points.length},e.prototype.updatePoint=function(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())},e.prototype.updateLastPoint=function(t){this.updatePoint(t,this.points.length-1)},e.prototype.finishDrawing=function(){},e}(ol.geom.Polygon),wt=Object.freeze({Point:$,Pennant:tt,Polyline:et,Arc:it,Circle:nt,Curve:ot,FreeHandLine:rt,RectAngle:st,Ellipse:at,Lune:lt,Sector:ht,ClosedCurve:ct,Polygon:ut,FreePolygon:pt,AttackArrow:gt,DoubleArrow:dt,StraightArrow:ft,FineArrow:yt,AssaultDirection:mt,TailedAttackArrow:vt,SquadCombat:_t,TailedSquadCombat:xt,GatheringPlace:Ct,RectFlag:It,TriangleFlag:At,CurveFlag:bt,PlotTextBox:J}),St=ol.interaction.Draw,Mt=ol.style.Style,Et=ol.style.Icon,Tt=ol.style.Stroke,Pt=ol.style.Fill,Lt=function(t){function e(i,n){s(this,e);var o=l(this,t.call(this));if(!(i&&i instanceof ol.Map))throw new Error("传入的不是地图对象！");return o.map=i,o.options=n||{},o.points=null,o.plot=null,o.feature=null,o.plotType=null,o.plotParams=null,o.mapViewport=o.map.getViewport(),o.dblClickZoomInteraction=null,o.drawInteraction_=null,o.layerName=o.options&&o.options.layerName?o.options.layerName:"ol-plot-vector-layer",o.drawLayer=z(o.map,o.layerName,{create:!0}),o.drawLayer.setZIndex(o.options.zIndex||99),o}return a(e,t),e.prototype.createPlot=function(t,e,i){var n=i||{};switch(t){case"TextArea":return"TextArea";case"Point":return new $([],e,n);case"Pennant":return new tt([],e,n);case"Polyline":return new et([],e,n);case"Arc":return new it([],e,n);case"Circle":return new nt([],e,n);case"Curve":return new ot([],e,n);case"FreeHandLine":return new rt([],e,n);case"RectAngle":return new st([],e,n);case"Ellipse":return new at([],e,n);case"Lune":return new lt([],e,n);case"Sector":return new ht([],e,n);case"ClosedCurve":return new ct([],e,n);case"Polygon":return new ut([],e,n);case"AttackArrow":return new gt([],e,n);case"FreePolygon":return new pt([],e,n);case"DoubleArrow":return new dt([],e,n);case"StraightArrow":return new ft([],e,n);case"FineArrow":return new yt([],e,n);case"AssaultDirection":return new mt([],e,n);case"TailedAttackArrow":return new vt([],e,n);case"SquadCombat":return new _t([],e,n);case"TailedSquadCombat":return new xt([],e,n);case"GatheringPlace":return new Ct([],e,n);case"RectFlag":return new It([],e,n);case"TriangleFlag":return new At([],e,n);case"CurveFlag":return new bt([],e,n)}return null},e.prototype.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.disActive(),this.deactiveMapTools(),this.plotType=t,this.plotParams=e,"TextArea"===t?this.activeInteraction():Object.keys(Q).some((function(e){return Q[e]===t}))?this.map.on("click",this.mapFirstClickHandler,this):console.warn("不存在的标绘类型！")},e.prototype.activeInteraction=function(){this.drawInteraction_=new St({style:new Mt({fill:new Pt({color:"rgba(255, 255, 255, 0.7)"}),stroke:new Tt({color:"rgba(0, 0, 0, 0.15)",width:2}),image:new Et({anchor:[1,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.75,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABgklEQVQ4T41T0W3CQAy1lfwRqR0h/CE5UhkBJmiZADpB0wlKJwA2aDegE5QR+Igl/noj9OPuLydXPuXQEYUKS5FyPvvd87ONRDRFxEdr7c4Y8ws3WFmW90VRvIjIF1ZVtQaANxH59N6v8zwvRaQEgCMATDu88I+Ipm1bk2XZHhEfAOAdFW00Gh2YOQafOeidHoaYEdGHc65GDZhMJuXpdDJ99hqkPmZe9e9iTgCoqmrWNM0hDerq/FGftXbcZxFzAgARrZg5vBaNiGpE3OhZRF6Zedu7DzkRYMrMKlQKYBBRQVVgw8zj3n3IGWSg9ESkds6tiqJQbe4AYJ6WGVkPAqh4+romdP9LbXMqZh/gXIKqm+d5EK9vbduOY7d0AAdL6AYLmqbRAQtGRMc4ONF/wSC2RF/PsuwbABapqLEjKqb3fq4sLtoYh6Lbiydr7TbtuwYDgH5qB9XmPEjdKG+Y+Xmo7ms+Lcs5N0uX6ei9X9y4TGtEXIZlukb7PzbdmNcisv8DtQILak2vZsYAAAAASUVORK5CYII="})}),type:"Circle",geometryFunction:St.createBox()}),this.map.addInteraction(this.drawInteraction_),this.drawInteraction_.on("drawend",this.textAreaDrawEnd,this)},e.prototype.textAreaDrawEnd=function(t){if(t&&t.feature){this.map.removeInteraction(this.drawInteraction_);var e=t.feature.getGeometry().getExtent(),i=[(e[0]+e[2])/2,(e[1]+e[3])/2],n=this.map.getPixelFromCoordinate([e[0],e[1]]),o=this.map.getPixelFromCoordinate([e[2],e[3]]),r=[Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1])],s=r[0],a=r[1],l=new J({id:T(),position:i,value:"",width:s,height:a,style:{width:s+"px",height:a+"px"}});this.map&&this.map instanceof ol.Map&&l?this.map.addOverlay(l):console.warn("未传入地图对象或者plotText创建失败！")}else console.info("未获取到要素！")},e.prototype.disActive=function(){this.removeEventHandlers(),this.drawInteraction_&&(this.map.removeInteraction(this.drawInteraction_),this.drawInteraction_=null),this.points=[],this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null,this.activateMapTools()},e.prototype.isDrawing=function(){return!!this.plotType},e.prototype.mapFirstClickHandler=function(t){this.map.un("click",this.mapFirstClickHandler,this),this.points.push(t.coordinate),this.plot=this.createPlot(this.plotType,this.points,this.plotParams),this.feature=new ol.Feature(this.plot),this.feature.set("isPlot",!0),this.drawLayer.getSource().addFeature(this.feature),"Point"===this.plotType||"Pennant"===this.plotType?(this.plot.finishDrawing(),this.drawEnd(t)):(this.map.on("click",this.mapNextClickHandler,this),this.plot.freehand||this.map.on("dblclick",this.mapDoubleClickHandler,this),this.map.un("pointermove",this.mapMouseMoveHandler,this),this.map.on("pointermove",this.mapMouseMoveHandler,this)),this.plotType&&this.feature&&(this.plotParams.plotType=this.plotType,this.feature.setProperties(this.plotParams))},e.prototype.mapNextClickHandler=function(t){if(!this.plot.freehand&&h(t.coordinate,this.points[this.points.length-1])<1e-4)return!1;this.points.push(t.coordinate),this.plot.setPoints(this.points),this.plot.fixPointCount===this.plot.getPointCount()&&this.mapDoubleClickHandler(t),this.plot&&this.plot.freehand&&this.mapDoubleClickHandler(t)},e.prototype.mapDoubleClickHandler=function(t){t.preventDefault(),this.plot.finishDrawing(),this.drawEnd(t)},e.prototype.mapMouseMoveHandler=function(t){var e=t.coordinate;if(h(e,this.points[this.points.length-1])<1e-4)return!1;if(this.plot.freehand)this.points.push(e),this.plot.setPoints(this.points);else{var i=this.points.concat([e]);this.plot.setPoints(i)}},e.prototype.removeEventHandlers=function(){this.map.un("click",this.mapFirstClickHandler,this),this.map.un("click",this.mapNextClickHandler,this),this.map.un("pointermove",this.mapMouseMoveHandler,this),this.map.un("dblclick",this.mapDoubleClickHandler,this)},e.prototype.drawEnd=function(t){this.dispatchSync("drawEnd",{type:"drawEnd",originalEvent:t,feature:this.feature}),this.feature&&this.options.isClear&&this.drawLayer.getSource().removeFeature(this.feature),this.disActive()},e.prototype.addFeature=function(){this.feature=new ol.Feature(this.plot),this.feature&&this.drawLayer&&this.drawLayer.getSource().addFeature(this.feature)},e.prototype.deactiveMapTools=function(){var t=this;this.map.getInteractions().getArray().every((function(e){return!(e instanceof ol.interaction.DoubleClickZoom)||(t.dblClickZoomInteraction=e,t.map.removeInteraction(e),!1)}))},e.prototype.activateMapTools=function(){this.dblClickZoomInteraction&&this.dblClickZoomInteraction instanceof ol.interaction.DoubleClickZoom&&(this.map.addInteraction(this.dblClickZoomInteraction),this.dblClickZoomInteraction=null)},e}(i),Nt=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e);var o=l(this,t.call(this));if(!(i&&i instanceof ol.Map))throw new Error("传入的不是地图对象！");return o.map=i,o.options=n,o.mapViewport=o.map.getViewport(),o.activePlot=null,o.startPoint=null,o.ghostControlPoints=null,o.controlPoints=null,o.mouseOver=!1,o.elementTable={},o.activeControlPointId=null,o.mapDragPan=null,o.previousCursor_=null,o}return a(e,t),e.prototype.initHelperDom=function(){var t=this;if(!this.map||!this.activePlot)return!1;var e=this.getMapParentElement();if(!e)return!1;var i=function(t,e,i){var n=document.createElement(t);return n.style.display="none",i&&(n.id=i),e&&e.appendChild(n),n}("div",e,"plot-helper-hidden-div"),n=this.getControlPoints();n&&Array.isArray(n)&&n.length>0&&n.forEach((function(e,n){var o="plot-helper-control-point-div-"+n;!function(t,e,i,n){var o=document.createElement(t);o.className=e||"",n&&(o.id=n),i&&i.appendChild(o)}("div","plot-helper-control-point-div",i,o),t.elementTable[o]=n}))},e.prototype.getMapParentElement=function(){var t=this.map.getTargetElement();return!!t&&t.parentNode},e.prototype.destroyHelperDom=function(){var t=this;this.controlPoints&&Array.isArray(this.controlPoints)&&this.controlPoints.length>0&&(this.controlPoints.forEach((function(e,i){e&&e instanceof ol.Overlay&&t.map.removeOverlay(e);var n=U("plot-helper-control-point-div-"+i);n&&(X(n,"mousedown",t.controlPointMouseDownHandler.bind(t)),X(n,"mousemove",t.controlPointMouseMoveHandler2.bind(t)))})),this.controlPoints=[]);var e=this.getMapParentElement(),i=U("plot-helper-hidden-div");i&&e&&function(t){var e=t.parentNode;e&&e.removeChild(t)}(i)},e.prototype.initControlPoints=function(){this.controlPoints=[];var t=this.getControlPoints();if(t&&Array.isArray(t)&&t.length>0){if(t.length>this.options.limitControlPoints&&this.options.hasOwnProperty("limitControlPoints")&&this.options.limitControlPoints>2){for(var e=Math.floor(t.length/(this.options.limitControlPoints-2))||1,i=0;i<this.options.limitControlPoints-2;i++){var n=(i+1)*e-1;this._addControlPoint(t,n)}this._addControlPoint(t,0),this._addControlPoint(t,t.length-1)}else for(var o=0;o<t.length;o++)this._addControlPoint(t,o);this.map.render()}},e.prototype._addControlPoint=function(t,e){var i="plot-helper-control-point-div-"+e;this.elementTable[i]=e;var n=U(i),o=new ol.Overlay({id:i,position:t[e],positioning:"center-center",element:n});this.controlPoints.push(o),this.map.addOverlay(o),Y(n,"mousedown",this.controlPointMouseDownHandler.bind(this)),Y(n,"mousemove",this.controlPointMouseMoveHandler2.bind(this))},e.prototype.controlPointMouseMoveHandler2=function(t){t.stopImmediatePropagation()},e.prototype.controlPointMouseDownHandler=function(t){this.activeControlPointId=t.target.id,this.map.on("pointermove",this.controlPointMouseMoveHandler,this),Y(this.mapViewport,"mouseup",this.controlPointMouseUpHandler.bind(this))},e.prototype.controlPointMouseMoveHandler=function(t){var e=t.coordinate;if(this.activeControlPointId){var i=this.activePlot.getGeometry(),n=this.elementTable[this.activeControlPointId];i.updatePoint(e,n);var o=this.map.getOverlayById(this.activeControlPointId);o&&o.setPosition(e)}},e.prototype.controlPointMouseUpHandler=function(t){this.map.un("pointermove",this.controlPointMouseMoveHandler,this),X(this.mapViewport,"mouseup",this.controlPointMouseUpHandler.bind(this))},e.prototype.activate=function(t){var e=this;t&&t instanceof ol.Feature&&t.get("isPlot")&&t.getGeometry().isPlot&&t!==this.activePlot&&(this.deactivate(),this.activePlot=t,this.previousCursor_=this.map.getTargetElement().style.cursor,window.setTimeout((function(){e.dispatch("active_plot_change",e.activePlot)}),500),this.map.on("pointermove",this.plotMouseOverOutHandler,this),this.initHelperDom(),this.initControlPoints())},e.prototype.getControlPoints=function(){var t=[];if(this.activePlot){var e=this.activePlot.getGeometry();e&&(t=e.getPoints())}return t},e.prototype.plotMouseOverOutHandler=function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}));return e&&e===this.activePlot?this.mouseOver||(this.mouseOver=!0,this.map.getTargetElement().style.cursor="move",this.map.on("pointerdown",this.plotMouseDownHandler,this)):this.mouseOver&&(this.mouseOver=!1,this.map.getTargetElement().style.cursor="default",this.map.un("pointerdown",this.plotMouseDownHandler,this)),e},e.prototype.plotMouseDownHandler=function(t){this.ghostControlPoints=this.getControlPoints(),this.startPoint=t.coordinate,this.disableMapDragPan(),this.map.on("pointerup",this.plotMouseUpHandler,this),this.map.on("pointerdrag",this.plotMouseMoveHandler,this)},e.prototype.plotMouseMoveHandler=function(t){var e=t.coordinate[0]-this.startPoint[0],i=t.coordinate[1]-this.startPoint[1],n=[];if(this.ghostControlPoints&&Array.isArray(this.ghostControlPoints)&&this.ghostControlPoints.length>0)for(var o=0;o<this.ghostControlPoints.length;o++){var r=[this.ghostControlPoints[o][0]+e,this.ghostControlPoints[o][1]+i];n.push(r);var s="plot-helper-control-point-div-"+o,a=this.map.getOverlayById(s);a&&(a.setPosition(r),a.setPositioning("center-center"))}this.activePlot.getGeometry().setPoints(n)},e.prototype.plotMouseUpHandler=function(t){this.enableMapDragPan(),this.map.un("pointerup",this.plotMouseUpHandler,this),this.map.un("pointerdrag",this.plotMouseMoveHandler,this)},e.prototype.disconnectEventHandlers=function(){this.map.un("pointermove",this.plotMouseOverOutHandler,this),this.map.un("pointermove",this.controlPointMouseMoveHandler,this),X(this.mapViewport,"mouseup",this.controlPointMouseUpHandler.bind(this)),this.map.un("pointerdown",this.plotMouseDownHandler,this),this.map.un("pointerup",this.plotMouseUpHandler,this),this.map.un("pointerdrag",this.plotMouseMoveHandler,this)},e.prototype.deactivate=function(){this.activePlot=null,this.mouseOver=!1,this.map.getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=null,this.destroyHelperDom(),this.disconnectEventHandlers(),this.enableMapDragPan(),this.elementTable={},this.activeControlPointId=null,this.startPoint=null},e.prototype.disableMapDragPan=function(){var t=this;this.map.getInteractions().getArray().every((function(e){return!(e instanceof ol.interaction.DragPan)||(t.mapDragPan=e,t.map.removeInteraction(e),!1)}))},e.prototype.enableMapDragPan=function(){this.mapDragPan&&this.mapDragPan instanceof ol.interaction.DragPan&&(this.map.addInteraction(this.mapDragPan),this.mapDragPan=null)},e.getLimitControlPoints=function(t,e){var i=[];if(t&&t.length>0)for(var n=Math.floor(t.length/e)||1,o=0;o<e;o++)i.push(t[(o+1)*n-1]);return i},e}(i),Dt=function(t){var e=t&&"object"===(void 0===t?"undefined":r(t))?t:{},i=new ol.style.Style({});return e.geometry&&e.geometry instanceof ol.geom.Geometry&&i.setGeometry(e.geometry),e.zIndex&&"number"==typeof e.zIndex&&i.setZIndex(e.zIndex),e.fill&&"object"===r(e.fill)&&i.setFill(this._getFill(e.fill)),e.image&&"object"===r(e.image)&&i.setImage(this._getImage(e.image)),e.stroke&&"object"===r(e.stroke)&&i.setStroke(this._getStroke(e.stroke)),e.text&&"object"===r(e.text)&&i.setText(this._getText(e.text)),i};Dt.prototype._getRegularShape=function(t){try{return new ol.style.RegularShape({fill:this._getFill(t.fill)||void 0,points:"number"==typeof t.points?t.points:1,radius:"number"==typeof t.radius?t.radius:void 0,radius1:"number"==typeof t.radius1?t.radius1:void 0,radius2:"number"==typeof t.radius2?t.radius2:void 0,angle:"number"==typeof t.angle?t.angle:0,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,stroke:this._getStroke(t.stroke)||void 0,rotation:"number"==typeof t.rotation?t.rotation:0,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,atlasManager:t.atlasManager?t.atlasManager:void 0})}catch(t){console.log(t)}},Dt.prototype._getImage=function(t){try{return"icon"===(t=t||{}).type?this._getIcon(t.image):this._getRegularShape(t.image)}catch(t){console.log(t)}},Dt.prototype._getIcon=function(t){try{return t=t||{},new ol.style.Icon({anchor:t.imageAnchor?t.imageAnchor:[.5,.5],anchorXUnits:t.imageAnchorXUnits?t.imageAnchorXUnits:"fraction",anchorYUnits:t.imageAnchorYUnits?t.imageAnchorYUnits:"fraction",anchorOrigin:t.imageAnchorOrigin?t.imageAnchorYUnits:"top-left",color:t.imageColor?t.imageColor:void 0,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,img:t.img?t.img:void 0,offset:t.offset&&Array.isArray(t.offset)&&2===t.offset.length?t.offset:[0,0],offsetOrigin:t.offsetOrigin?t.offsetOrigin:"top-left",scale:"number"==typeof t.scale?t.scale:1,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,opacity:"number"==typeof t.imageOpacity?t.imageOpacity:1,rotation:"number"==typeof t.imageRotation?t.imageRotation:0,size:t.size&&Array.isArray(t.size)&&2===t.size.length?t.size:void 0,imgSize:t.imgSize&&Array.isArray(t.imgSize)&&2===t.imgSize.length?t.imgSize:void 0,src:t.imageSrc?t.imageSrc:void 0})}catch(t){console.log(t)}},Dt.prototype._getStroke=function(t){try{return t=t||{},new ol.style.Stroke({color:t.strokeColor?t.strokeColor:void 0,lineCap:t.strokeLineCap&&"string"==typeof t.strokeLineCap?t.strokeLineCap:"round",lineJoin:t.strokeLineJoin&&"string"==typeof t.strokeLineJoin?t.strokeLineJoin:"round",lineDash:t.strokeLineDash?t.strokeLineDash:void 0,lineDashOffset:"number"==typeof t.strokeLineDashOffset?t.strokeLineDashOffset:"0",miterLimit:"number"==typeof t.strokeMiterLimit?t.strokeMiterLimit:10,width:"number"==typeof t.strokeWidth?t.strokeWidth:void 0})}catch(t){console.log(t)}},Dt.prototype._getText=function(t){try{return new ol.style.Text({font:t.textFont&&"string"==typeof t.textFont?t.textFont:"10px sans-serif",offsetX:"number"==typeof t.textOffsetX?t.textOffsetX:0,offsetY:"number"==typeof t.textOffsetY?t.textOffsetY:0,scale:"number"==typeof t.textScale?t.textScale:void 0,rotation:"number"==typeof t.textRotation?t.textRotation:0,text:t.text&&"string"==typeof t.text?t.text:void 0,textAlign:t.textAlign&&"string"==typeof t.textAlign?t.textAlign:"start",textBaseline:t.textBaseline&&"string"==typeof t.textBaseline?t.textBaseline:"alphabetic",rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,fill:this._getFill(t.textFill),stroke:this._getStroke(t.textStroke)})}catch(t){console.log(t)}},Dt.prototype._getFill=function(t){try{return t=t||{},new ol.style.Fill({color:t.fillColor?t.fillColor:void 0})}catch(t){console.log(t)}};var Rt=function(){function t(e,i){if(s(this,t),!(e&&e instanceof ol.Map))throw new Error("传入的不是地图对象！");this.map=e,this.options=i,this.layerName=this.options&&this.options.layerName?this.options.layerName:"ol-plot-vector-layer"}return t.prototype.getBaseStyle=function(t){var e=t.getStyle();if(!e){var i=G(this.map,this.layerName);if(!(i&&i instanceof ol.layer.Vector))return!1;e=i.getStyle()}return e},t.prototype.setIcon=function(t,e){try{if(t&&t instanceof ol.Feature){var i=this.getBaseStyle(t).clone(),n=this._getImage(e);n&&(i.setImage(n),t.setStyle(i))}}catch(t){console.warn(t)}},t.prototype.setBackgroundColor=function(t,e){try{if(t&&t instanceof ol.Feature){var i=this.getBaseStyle(t).clone(),n=i.getFill(),o=n.getColor();if(o){var r=ol.color.asArray(o),s=ol.color.asArray(e),a=this.handleBackgroundColor(s,r[3]);n.setColor(a),t.setStyle(i)}}}catch(t){console.warn(t)}},t.prototype.setOpacity=function(t,e){try{if(t&&t instanceof ol.Feature){var i=this.getBaseStyle(t);if(i){var n=i.clone(),o=n.getFill(),r=o.getColor();if(r){var s=ol.color.asArray(r);s[3]=e;var a="rgba("+s.join(",")+")";o.setColor(a),t.setStyle(n)}}}}catch(t){console.warn(t)}},t.prototype.setBorderColor=function(t,e){try{if(t&&t instanceof ol.Feature){var i=this.getBaseStyle(t).clone();i.getStroke().setColor(e),t.setStyle(i)}}catch(t){console.warn(t)}},t.prototype.setBorderWidth=function(t,e){try{if(t&&t instanceof ol.Feature){var i=this.getBaseStyle(t).clone();i.getStroke().setWidth(e),t.setStyle(i)}}catch(t){console.warn(t)}},t.prototype.handleBackgroundColor=function(t,e){try{e||(e=1);var i=ol.color.asArray(t);return i[3]=e,"rgba("+i.join(",")+")"}catch(t){console.warn(t)}},t.prototype.getColor=function(t){try{var e=ol.color.asArray(t);return ol.color.asString(e)}catch(t){console.warn(t)}},t.prototype.fixObject=function(t){if(t&&"object"===(void 0===t?"undefined":r(t)))for(var e in t)e&&void 0===t[e]&&delete t[e];return t},t.prototype.getStroke_=function(t){var e=null;if(t){var i=t.getStroke();i&&((e={}).strokeColor=this.getColor(i.getColor()),e.strokeWidth=i.getWidth(),e.strokeLineDash=i.getLineDash(),e.lineDashOffset=i.getLineDashOffset(),e.strokeLineCap=i.getLineCap(),e.strokeLineJoin=i.getLineJoin(),e.strokeMiterLimit=i.getMiterLimit())}return this.fixObject(e)},t.prototype.getFill_=function(t){var e=null;if(t){var i=t.getFill();if(i){e={};var n=i.getColor();e.fillColor=this.getColor(n)}}return this.fixObject(e)},t.prototype.getText_=function(t){var e=null;if(t){var i=t.getText();i&&((e={}).textFont=i.getFont(),e.textOffsetX=i.getOffsetX(),e.textOffsetY=i.getOffsetY(),e.textScale=i.getScale(),e.textRotation=i.getRotation(),e.text=i.getText(),e.textAlign=i.getTextAlign(),e.textBaseline=i.getTextBaseline(),e.rotateWithView=i.getRotateWithView(),e.textFill=this.getFill_(i),e.textStroke=this.getStroke_(i))}return this.fixObject(e)},t.prototype.getImage_=function(t){var e=null;if(t){var i=t.getImage();i&&(e={},i instanceof ol.style.Icon?(e.type="icon",e.image={},e.image.imageAnchor=i.getAnchor(),e.image.imageColor=i.getColor(),e.image.imageSrc=i.getSrc(),e.image.imgSize=i.getSize(),e.image.scale=i.getScale(),e.image.imageRotation=i.getRotation(),e.image.rotateWithView=i.getRotateWithView(),e.image.imageOpacity=i.getOpacity(),e.image.snapToPixel=i.getSnapToPixel(),e.image.offset=i.getOrigin()):i instanceof ol.style.RegularShape&&(e.type="",e.image={},e.image.fill=this.getFill_(i),e.image.points=i.getPoints(),e.image.radius=i.getRadius(),e.image.radius2=i.getRadius2(),e.image.angle=i.getAngle(),e.image.stroke=this.getStroke_(i),e.image.rotateWithView=i.getRotateWithView(),e.image.snapToPixel=i.getSnapToPixel()))}return this.fixObject(e)},t.prototype.getStyleCode=function(t){try{if(t&&t instanceof ol.Feature){var e=this.getBaseStyle(t);if(e&&e instanceof ol.style.Style){var i=this.getFill_(e),n=[1,null],o=n[0],r=n[1],s=n[2];i&&i.fillColor&&(r=ol.color.asArray(i.fillColor),o=parseFloat(r[3]),r&&"number"==typeof o&&(s=this.handleBackgroundColor(ol.color.asString(r),o)));var a=this.getStroke_(e),l=this.getText_(e);return{fill:{fillColor:s,opacity:o},stroke:a,image:this.getImage_(e),text:l}}}}catch(t){console.warn(t)}},t.prototype.removeAllFeatures=function(){var t=G(this.map,this.layerName),e=this.map.getOverlays().getArray();t&&t.getSource().clear();if(e&&e.length>0)for(var i=e.length,n=0;n<i;n++)e[n]&&e[n].get("isPlotText")&&(this.map.removeOverlay(e[n]),n--)},t.prototype.getFeatures=function(){var t=this,e=[],i=G(this.map,this.layerName);if(i){var n=i.getSource();if(n&&n instanceof ol.source.Vector){var o=n.getFeatures();o&&o.length>0&&o.forEach((function(i,n){if(i&&i.getGeometry){var o=i.getGeometry();if(o&&o.getCoordinates){var r=o.getType(),s=o.getCoordinates();e.push({type:"Feature",geometry:{type:r,coordinates:s},properties:{type:i.getGeometry().getPlotType(),style:t.getStyleCode(i),points:i.getGeometry().getPoints()}})}}}))}}return this.map.getOverlays().getArray().forEach((function(t){if(t.get("isPlotText")){var i=t.getStyle();i.width=t.getWidth()+"px",i.height=t.getHeight()+"px",e.push({type:"Feature",geometry:{type:"PlotText",coordinates:t.getPosition()},properties:{id:t.getId(),width:t.getWidth(),height:t.getHeight(),style:i,value:t.getValue()}})}})),e},t.prototype.addFeatures=function(t){var e=this;if(t&&Array.isArray(t)&&t.length>0){var i=G(this.map,this.layerName);if(i||(i=z(this.map,this.layerName,{create:!0})).setZIndex(this.options.zIndex||99),i){var n=i.getSource();if(n&&n instanceof ol.source.Vector){var o=[];if(t.forEach((function(t){if(t&&t.geometry&&"PlotText"!==t.geometry.type)if(t.properties.type&&wt[t.properties.type]){var i=new ol.Feature({geometry:new wt[t.properties.type]([],t.properties.points,t.properties)});if(i.set("isPlot",!0),o.push(i.getGeometry().getExtent()),t.properties.style){var r=new Dt(t.properties.style);r&&i.setStyle(r)}n.addFeature(i)}else console.warn("不存在的标绘类型！");else if(t&&t.geometry&&"PlotText"===t.geometry.type){o.push(new ol.geom.Point(t.geometry.coordinates).getExtent());var s=new J({id:t.properties.id,position:t.geometry.coordinates,width:t.properties.width,height:t.properties.height,value:t.properties.value,style:t.properties.style});e.map&&e.map instanceof ol.Map&&s?e.map.addOverlay(s):console.warn("未传入地图对象或者plotText创建失败！")}})),this.options.zoomToExtent&&o&&o.length>0){var r=this._getExtent(o),s=this.map.getSize(),a=this.map.getView();a.fit(r,{size:s,duration:800,maxZoom:a.getMaxZoom()||void 0})}}}}},t.prototype._getExtent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],n=t.reduce((function(t,e){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[2]),Math.max(e[3],t[3])]}),i),o=ol.extent.getSize(n),r="number"==typeof e.adjust?e.adjust:.2,s="number"==typeof e.minWidth?e.minWidth:.05,a="number"==typeof e.minHeight?e.minHeight:.05;if(o[0]<=s||o[1]<=a){var l=ol.extent.getBottomLeft(n),h=ol.extent.getTopRight(n),c=l[0]-r,u=l[1]-r,p=h[0]+r,g=h[1]+r;n=ol.extent.buffer([c,u,p,g],r)}return n},t}(),Ot=function t(e,i){s(this,t),this.plotDraw=new Lt(e,i),this.plotEdit=new Nt(e,i),this.plotUtils=new Rt(e,i)};Ot.PlotTypes=Q,Ot.Geometry=wt,e.a=Ot}).call(this,i(44))},function(t,e,i){
/**
 * JSTS. See https://github.com/bjornharrtell/jsts
 * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EDLv1.txt
 * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EPLv1.txt
 * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_LICENSE_ES6_COLLECTIONS.txt
 * @license
 */
!function(t){"use strict";class e{constructor(){e.constructor_.apply(this,arguments)}static equalsWithTolerance(t,e,i){return Math.abs(t-e)<=i}getClass(){return e}get interfaces_(){return[]}}function i(t){this.message=t}function n(t,e){this.low=0|e,this.high=0|t}function o(){}function r(){}function s(){}function a(){}function l(){}function h(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}e.constructor_=function(){},n.toBinaryString=function(t){let e,i="";for(e=2147483648;e>0;e>>>=1)i+=(t.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)i+=(t.low&e)===e?"1":"0";return i},o.isNaN=t=>Number.isNaN(t),o.isInfinite=t=>!Number.isFinite(t),o.MAX_VALUE=Number.MAX_VALUE,"function"==typeof Float64Array&&"function"==typeof Int32Array?function(){const t=new Float64Array(1),e=new Int32Array(t.buffer);o.doubleToLongBits=function(i){t[0]=i;let o=0|e[0],r=0|e[1];return 2146435072==(2146435072&r)&&0!=(1048575&r)&&0!==o&&(o=0,r=2146959360),new n(r,o)},o.longBitsToDouble=function(i){return e[0]=i.low,e[1]=i.high,t[0]}}():function(){const t=Math.log2,e=Math.floor,i=Math.pow,r=function(){for(let n=53;n>0;n--){const o=i(2,n)-1;if(e(t(o))+1===n)return o}return 0}();o.doubleToLongBits=function(o){let s,a,l,h,c,u,p,g,d;if(o<0||1/o===Number.NEGATIVE_INFINITY?(u=1<<31,o=-o):u=0,0===o)return new n(g=u,d=0);if(o===1/0)return new n(g=2146435072|u,d=0);if(o!=o)return new n(g=2146959360,d=0);if(h=0,d=0,(s=e(o))>1)if(s<=r)(h=e(t(s)))<=20?(d=0,g=s<<20-h&1048575):(d=s%(a=i(2,l=h-20))<<32-l,g=s/a&1048575);else for(l=s,d=0;0!==(l=e(a=l/2));)h++,d>>>=1,d|=(1&g)<<31,g>>>=1,a!==l&&(g|=524288);if(p=h+1023,c=0===s,s=o-s,h<52&&0!==s)for(l=0;;){if((a=2*s)>=1?(s=a-1,c?(p--,c=!1):(l<<=1,l|=1,h++)):(s=a,c?0==--p&&(h++,c=!1):(l<<=1,h++)),20===h)g|=l,l=0;else if(52===h){d|=l;break}if(1===a){h<20?g|=l<<20-h:h<52&&(d|=l<<52-h);break}}return g|=p<<20,new n(g|=u,d)},o.longBitsToDouble=function(t){let e,n,o,r,s;const a=t.high,l=t.low;for(o=a&1<<31?-1:1,r=((2146435072&a)>>20)-1023,s=0,n=1<<19,e=1;e<=20;e++)a&n&&(s+=i(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)l&n&&(s+=i(2,-e)),n>>>=1;if(-1023===r){if(0===s)return 0*o;r=-1022}else{if(1024===r)return 0===s?o/0:NaN;s+=1}return o*s*i(2,r)}}(),h.prototype=Object.create(Error.prototype),h.prototype.constructor=Error;class c extends h{constructor(){super(),c.constructor_.apply(this,arguments)}getClass(){return c}get interfaces_(){return[]}}c.constructor_=function(){if(0===arguments.length)h.constructor_.call(this);else if(1===arguments.length){const t=arguments[0];h.constructor_.call(this,t)}};class u{constructor(){u.constructor_.apply(this,arguments)}static shouldNeverReachHere(){if(0===arguments.length)u.shouldNeverReachHere(null);else if(1===arguments.length){const t=arguments[0];throw new c("Should never reach here"+(null!==t?": "+t:""))}}static isTrue(){if(1===arguments.length){const t=arguments[0];u.isTrue(t,null)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(!t)throw null===e?new c:new c(e)}}static equals(){if(2===arguments.length){const t=arguments[0],e=arguments[1];u.equals(t,e,null)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];if(!e.equals(t))throw new c("Expected "+t+" but encountered "+e+(null!==i?": "+i:""))}}getClass(){return u}get interfaces_(){return[]}}u.constructor_=function(){};class p{constructor(){p.constructor_.apply(this,arguments)}static hashCode(){if(1===arguments.length&&"number"==typeof arguments[0]){const t=arguments[0],e=o.doubleToLongBits(t);return Math.trunc(e^e>>>32)}}setOrdinate(t,e){switch(t){case p.X:this.x=e;break;case p.Y:this.y=e;break;case p.Z:this.z=e;break;default:throw new i("Invalid ordinate index: "+t)}}equals2D(){if(1===arguments.length){const t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){const t=arguments[0],i=arguments[1];return!!e.equalsWithTolerance(this.x,t.x,i)&&!!e.equalsWithTolerance(this.y,t.y,i)}}getOrdinate(t){switch(t){case p.X:return this.x;case p.Y:return this.y;case p.Z:return this.z}throw new i("Invalid ordinate index: "+t)}equals3D(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||o.isNaN(this.z)&&o.isNaN(t.z))}equals(t){return t instanceof p&&this.equals2D(t)}equalInZ(t,i){return e.equalsWithTolerance(this.z,t.z,i)}compareTo(t){const e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}clone(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return u.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}}copy(){return new p(this)}toString(){return"("+this.x+", "+this.y+", "+this.z+")"}distance3D(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return Math.sqrt(e*e+i*i+n*n)}distance(t){const e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}hashCode(){let t=17;return 37*(t=37*t+p.hashCode(this.x))+p.hashCode(this.y)}setCoordinate(t){this.x=t.x,this.y=t.y,this.z=t.z}getClass(){return p}get interfaces_(){return[r,s,l]}}class g{constructor(){g.constructor_.apply(this,arguments)}static compare(t,e){return t<e?-1:t>e?1:o.isNaN(t)?o.isNaN(e)?0:-1:o.isNaN(e)?1:0}compare(t,e){const i=t,n=e,o=g.compare(i.x,n.x);if(0!==o)return o;const r=g.compare(i.y,n.y);return 0!==r?r:this._dimensionsToTest<=2?0:g.compare(i.z,n.z)}getClass(){return g}get interfaces_(){return[a]}}function d(t,e){return t.interfaces_&&t.interfaces_.indexOf(e)>-1}function f(){}function y(t){this.message=t||""}function m(){}function v(t){this.message=t||""}function _(){this.array_=[],arguments[0]instanceof f&&this.addAll(arguments[0])}g.constructor_=function(){if(this._dimensionsToTest=2,0===arguments.length)g.constructor_.call(this,2);else if(1===arguments.length){const t=arguments[0];if(2!==t&&3!==t)throw new i("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}},p.DimensionalComparator=g,p.constructor_=function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)p.constructor_.call(this,0,0);else if(1===arguments.length){const t=arguments[0];p.constructor_.call(this,t.x,t.y,t.z)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];p.constructor_.call(this,t,e,p.NULL_ORDINATE)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this.x=t,this.y=e,this.z=i}},p.serialVersionUID=0x5cbf2c235c7e5800,p.NULL_ORDINATE=o.NaN,p.X=0,p.Y=1,p.Z=2,f.prototype.add=function(){},f.prototype.addAll=function(){},f.prototype.isEmpty=function(){},f.prototype.iterator=function(){},f.prototype.size=function(){},f.prototype.toArray=function(){},f.prototype.remove=function(){},y.prototype=new Error,y.prototype.name="IndexOutOfBoundsException",m.prototype=Object.create(f.prototype),m.prototype.constructor=m,m.prototype.get=function(){},m.prototype.set=function(){},m.prototype.isEmpty=function(){},v.prototype=new Error,v.prototype.name="NoSuchElementException",_.prototype=Object.create(m.prototype),_.prototype.constructor=_,_.prototype.ensureCapacity=function(){},_.prototype.interfaces_=[m,f],_.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],0,arguments[1]),!0},_.prototype.clear=function(){this.array_=[]},_.prototype.addAll=function(t){for(let e=t.iterator();e.hasNext();)this.add(e.next());return!0},_.prototype.set=function(t,e){const i=this.array_[t];return this.array_[t]=e,i},_.prototype.iterator=function(){return new x(this)},_.prototype.get=function(t){if(t<0||t>=this.size())throw new y;return this.array_[t]},_.prototype.isEmpty=function(){return 0===this.array_.length},_.prototype.size=function(){return this.array_.length},_.prototype.toArray=function(){const t=[];for(let e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},_.prototype.remove=function(t){let e=!1;for(let i=0,n=this.array_.length;i<n;i++)if(this.array_[i]===t){this.array_.splice(i,1),e=!0;break}return e},_.prototype.removeAll=function(t){for(let e=t.iterator();e.hasNext();)this.remove(e.next());return!0};const x=function(t){this.arrayList_=t,this.position_=0};x.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new v;return this.arrayList_.get(this.position_++)},x.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},x.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},x.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))};class C extends _{constructor(){super(),C.constructor_.apply(this,arguments)}getCoordinate(t){return this.get(t)}addAll(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&d(arguments[0],f)){const t=arguments[0],e=arguments[1];let i=!1;for(let n=t.iterator();n.hasNext();)this.add(n.next(),e),i=!0;return i}return super.addAll.apply(this,arguments)}clone(){const t=super.clone.call(this);for(let e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t}toCoordinateArray(){return this.toArray(C.coordArrayType)}add(){if(1===arguments.length){const t=arguments[0];super.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return this.add(t,e,!0),!0}if(arguments[0]instanceof p&&"boolean"==typeof arguments[1]){const t=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(t))return null;super.add.call(this,t)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return this.add(t,e),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1];if(arguments[2])for(let i=0;i<t.length;i++)this.add(t[i],e);else for(let i=t.length-1;i>=0;i--)this.add(t[i],e);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1];if(!arguments[2]){const i=this.size();if(i>0){if(t>0&&this.get(t-1).equals2D(e))return null;if(t<i&&this.get(t).equals2D(e))return null}}super.add.call(this,t,e)}}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];let o=1;i>n&&(o=-1);for(let r=i;r!==n;r+=o)this.add(t[r],e);return!0}}closeRing(){this.size()>0&&this.add(new p(this.get(0)),!1)}getClass(){return C}get interfaces_(){return[]}}C.constructor_=function(){if(0===arguments.length);else if(1===arguments.length){const t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.ensureCapacity(t.length),this.add(t,e)}},C.coordArrayType=new Array(0).fill(null);class I{constructor(){I.constructor_.apply(this,arguments)}static intersects(){if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return i.x>=(t.x<e.x?t.x:e.x)&&i.x<=(t.x>e.x?t.x:e.x)&&i.y>=(t.y<e.y?t.y:e.y)&&i.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];let o=Math.min(i.x,n.x),r=Math.max(i.x,n.x),s=Math.min(t.x,e.x),a=Math.max(t.x,e.x);return!(s>r||a<o||(o=Math.min(i.y,n.y),r=Math.max(i.y,n.y),s=Math.min(t.y,e.y),a=Math.max(t.y,e.y),s>r||a<o))}}getArea(){return this.getWidth()*this.getHeight()}equals(t){if(!(t instanceof I))return!1;const e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()}intersection(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new I;const e=this._minx>t._minx?this._minx:t._minx,i=this._miny>t._miny?this._miny:t._miny,n=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new I(e,n,i,o)}isNull(){return this._maxx<this._minx}getMaxX(){return this._maxx}covers(){if(1===arguments.length){if(arguments[0]instanceof p){const t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof I){const t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];return!this.isNull()&&t>=this._minx&&t<=this._maxx&&e>=this._miny&&e<=this._maxy}}intersects(){if(1===arguments.length){if(arguments[0]instanceof I){const t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof p){const t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){if(arguments[0]instanceof p&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1];return!(this.isNull()||(t.x<e.x?t.x:e.x)>this._maxx||(t.x>e.x?t.x:e.x)<this._minx||(t.y<e.y?t.y:e.y)>this._maxy||(t.y>e.y?t.y:e.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return!this.isNull()&&!(t>this._maxx||t<this._minx||e>this._maxy||e<this._miny)}}}getMinY(){return this._miny}getMinX(){return this._minx}expandToInclude(){if(1===arguments.length){if(arguments[0]instanceof p){const t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof I){const t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.isNull()?(this._minx=t,this._maxx=t,this._miny=e,this._maxy=e):(t<this._minx&&(this._minx=t),t>this._maxx&&(this._maxx=t),e<this._miny&&(this._miny=e),e>this._maxy&&(this._maxy=e))}}minExtent(){if(this.isNull())return 0;const t=this.getWidth(),e=this.getHeight();return t<e?t:e}getWidth(){return this.isNull()?0:this._maxx-this._minx}compareTo(t){const e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}translate(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}toString(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}setToNull(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}getHeight(){return this.isNull()?0:this._maxy-this._miny}maxExtent(){if(this.isNull())return 0;const t=this.getWidth(),e=this.getHeight();return t>e?t:e}expandBy(){if(1===arguments.length){const t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=e,this._maxy+=e,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}contains(){if(1===arguments.length){if(arguments[0]instanceof I){const t=arguments[0];return this.covers(t)}if(arguments[0]instanceof p){const t=arguments[0];return this.covers(t)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.covers(t,e)}}centre(){return this.isNull()?null:new p((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}init(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof p){const t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof I){const t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.init(t.x,e.x,t.y,e.y)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];t<e?(this._minx=t,this._maxx=e):(this._minx=e,this._maxx=t),i<n?(this._miny=i,this._maxy=n):(this._miny=n,this._maxy=i)}}getMaxY(){return this._maxy}distance(t){if(this.intersects(t))return 0;let e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);let i=0;return this._maxy<t._miny?i=t._miny-this._maxy:this._miny>t._maxy&&(i=this._miny-t._maxy),0===e?i:0===i?e:Math.sqrt(e*e+i*i)}hashCode(){let t=17;return 37*(t=37*(t=37*(t=37*t+p.hashCode(this._minx))+p.hashCode(this._maxx))+p.hashCode(this._miny))+p.hashCode(this._maxy)}getClass(){return I}get interfaces_(){return[r,l]}}function A(){}I.constructor_=function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof p){const t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof I){const t=arguments[0];this.init(t)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.init(t.x,e.x,t.y,e.y)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.init(t,e,i,n)}},I.serialVersionUID=0x51845cd552189800;class b extends A{constructor(){super(),b.constructor_.apply(this,arguments)}getClass(){return b}get interfaces_(){return[]}}function w(t){this.str=t}function S(t){this.value=t}function M(){}b.constructor_=function(){A.constructor_.call(this,"Projective point not representable on the Cartesian plane.")},w.prototype.append=function(t){this.str+=t},w.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},w.prototype.toString=function(t){return this.str},S.prototype.intValue=function(){return this.value},S.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},S.isNaN=t=>Number.isNaN(t),M.isWhitespace=t=>t<=32&&t>=0||127===t,M.toUpperCase=t=>t.toUpperCase();class E{constructor(){E.constructor_.apply(this,arguments)}static sqr(t){return E.valueOf(t).selfMultiply(t)}static valueOf(){if("string"==typeof arguments[0]){const t=arguments[0];return E.parse(t)}if("number"==typeof arguments[0]){const t=arguments[0];return new E(t)}}static sqrt(t){return E.valueOf(t).sqrt()}static parse(t){let e=0;const i=t.length;for(;M.isWhitespace(t.charAt(e));)e++;let n=!1;if(e<i){const i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(n=!0))}const o=new E;let r=0,s=0,a=0;for(;!(e>=i);){const i=t.charAt(e);if(e++,M.isDigit(i)){const t=i-"0";o.selfMultiply(E.TEN),o.selfAdd(t),r++}else{if("."!==i){if("e"===i||"E"===i){const i=t.substring(e);try{a=S.parseInt(i)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+i+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+i+"' at position "+e+" in string "+t)}s=r}}let l=o;const h=r-s-a;if(0===h)l=o;else if(h>0){const t=E.TEN.pow(h);l=o.divide(t)}else if(h<0){const t=E.TEN.pow(-h);l=o.multiply(t)}return n?l.negate():l}static createNaN(){return new E(o.NaN,o.NaN)}static copy(t){return new E(t)}static magnitude(t){const e=Math.abs(t),i=Math.log(e)/Math.log(10);let n=Math.trunc(Math.floor(i));return 10*Math.pow(10,n)<=e&&(n+=1),n}static stringOfChar(t,e){const i=new w;for(let n=0;n<e;n++)i.append(t);return i.toString()}le(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}extractSignificantDigits(t,e){let i=this.abs(),n=E.magnitude(i._hi);const o=E.TEN.pow(n);(i=i.divide(o)).gt(E.TEN)?(i=i.divide(E.TEN),n+=1):i.lt(E.ONE)&&(i=i.multiply(E.TEN),n-=1);const r=n+1,s=new w,a=E.MAX_PRINT_DIGITS-1;for(let e=0;e<=a;e++){t&&e===r&&s.append(".");const n=Math.trunc(i._hi);if(n<0)break;let o=!1,l=0;n>9?(o=!0,l="9"):l="0"+n,s.append(l),i=i.subtract(E.valueOf(n)).multiply(E.TEN),o&&i.selfAdd(E.TEN);let h=!0;const c=E.magnitude(i._hi);if(c<0&&Math.abs(c)>=a-e&&(h=!1),!h)break}return e[0]=n,s.toString()}sqr(){return this.multiply(this)}doubleValue(){return this._hi+this._lo}subtract(){if(arguments[0]instanceof E){const t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){const t=arguments[0];return this.add(-t)}}equals(){if(1===arguments.length&&arguments[0]instanceof E){const t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}isZero(){return 0===this._hi&&0===this._lo}selfSubtract(){if(arguments[0]instanceof E){const t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}}getSpecialNumberString(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}min(t){return this.le(t)?this:t}selfDivide(){if(1===arguments.length){if(arguments[0]instanceof E){const t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];let i=null,n=null,o=null,r=null,s=null,a=null,l=null,h=null;return s=this._hi/t,i=(a=E.SPLIT*s)-s,h=E.SPLIT*t,h=(i=a-i)*(o=h-(o=h-t))-(l=s*t)+i*(r=t-o)+(n=s-i)*o+n*r,h=s+(a=(this._hi-l-h+this._lo-s*e)/t),this._hi=h,this._lo=s-h+a,this}}dump(){return"DD<"+this._hi+", "+this._lo+">"}divide(){if(arguments[0]instanceof E){const t=arguments[0];let e=null,i=null,n=null,o=null,r=null,s=null,a=null,l=null;return r=this._hi/t._hi,e=(s=E.SPLIT*r)-r,l=E.SPLIT*t._hi,i=r-(e=s-e),n=l-t._hi,a=r*t._hi,l=e*(n=l-n)-a+e*(o=t._hi-n)+i*n+i*o,s=(this._hi-a-l+this._lo-r*t._lo)/t._hi,new E(l=r+s,r-l+s)}if("number"==typeof arguments[0]){const t=arguments[0];return o.isNaN(t)?E.createNaN():E.copy(this).selfDivide(t,0)}}ge(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}pow(t){if(0===t)return E.valueOf(1);let e=new E(this),i=E.valueOf(1),n=Math.abs(t);if(n>1)for(;n>0;)n%2==1&&i.selfMultiply(e),(n/=2)>0&&(e=e.sqr());else i=e;return t<0?i.reciprocal():i}ceil(){if(this.isNaN())return E.NaN;const t=Math.ceil(this._hi);let e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new E(t,e)}compareTo(t){const e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}rint(){return this.isNaN()?this:this.add(.5).floor()}setValue(){if(arguments[0]instanceof E){const t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){const t=arguments[0];return this.init(t),this}}max(t){return this.ge(t)?this:t}sqrt(){if(this.isZero())return E.valueOf(0);if(this.isNegative())return E.NaN;const t=1/Math.sqrt(this._hi),e=this._hi*t,i=E.valueOf(e),n=this.subtract(i.sqr())._hi*(.5*t);return i.add(n)}selfAdd(){if(1===arguments.length){if(arguments[0]instanceof E){const t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];let e=null,i=null,n=null,o=null,r=null,s=null;return o=(n=this._hi+t)-(r=n-this._hi),i=(s=(o=t-r+(this._hi-o))+this._lo)+(n-(e=n+s)),this._hi=e+i,this._lo=i+(e-this._hi),this}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];let i=null,n=null,o=null,r=null,s=null,a=null,l=null,h=null;s=this._hi+t,o=this._lo+e,l=s-this._hi,h=o-this._lo,a=s-l,r=o-h,a=t-l+(this._hi-a),r=e-h+(this._lo-r);const c=(i=s+(l=a+o))+(l=r+(n=l+(s-i))),u=l+(i-c);return this._hi=c,this._lo=u,this}}selfMultiply(){if(1===arguments.length){if(arguments[0]instanceof E){const t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){const t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];let i=null,n=null,o=null,r=null,s=null,a=null;i=(s=E.SPLIT*this._hi)-this._hi,a=E.SPLIT*t,i=s-i,n=this._hi-i,o=a-t;const l=(s=this._hi*t)+(a=i*(o=a-o)-s+i*(r=t-o)+n*o+n*r+(this._hi*e+this._lo*t)),h=a+(i=s-l);return this._hi=l,this._lo=h,this}}selfSqr(){return this.selfMultiply(this)}floor(){if(this.isNaN())return E.NaN;const t=Math.floor(this._hi);let e=0;return t===this._hi&&(e=Math.floor(this._lo)),new E(t,e)}negate(){return this.isNaN()?this:new E(-this._hi,-this._lo)}clone(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}multiply(){if(arguments[0]instanceof E){const t=arguments[0];return t.isNaN()?E.createNaN():E.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){const t=arguments[0];return o.isNaN(t)?E.createNaN():E.copy(this).selfMultiply(t,0)}}isNaN(){return o.isNaN(this._hi)}intValue(){return Math.trunc(this._hi)}toString(){const t=E.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}toStandardNotation(){const t=this.getSpecialNumberString();if(null!==t)return t;const e=new Array(1).fill(null),i=this.extractSignificantDigits(!0,e),n=e[0]+1;let o=i;if("."===i.charAt(0))o="0"+i;else if(n<0)o="0."+E.stringOfChar("0",-n)+i;else if(-1===i.indexOf(".")){const t=n-i.length;o=i+E.stringOfChar("0",t)+".0"}return this.isNegative()?"-"+o:o}reciprocal(){let t=null,e=null,i=null,n=null,o=null,r=null,s=null,a=null;e=(o=1/this._hi)-(t=(r=E.SPLIT*o)-(t=r-o)),i=(a=E.SPLIT*this._hi)-this._hi;const l=o+(r=(1-(s=o*this._hi)-(a=t*(i=a-i)-s+t*(n=this._hi-i)+e*i+e*n)-o*this._lo)/this._hi);return new E(l,o-l+r)}toSciNotation(){if(this.isZero())return E.SCI_NOT_ZERO;const t=this.getSpecialNumberString();if(null!==t)return t;const e=new Array(1).fill(null),i=this.extractSignificantDigits(!1,e),n=E.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);let o="";i.length>1&&(o=i.substring(1));const r=i.charAt(0)+"."+o;return this.isNegative()?"-"+r+n:r+n}abs(){return this.isNaN()?E.NaN:this.isNegative()?this.negate():new E(this)}isPositive(){return this._hi>0||0===this._hi&&this._lo>0}lt(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}add(){if(arguments[0]instanceof E){const t=arguments[0];return E.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){const t=arguments[0];return E.copy(this).selfAdd(t)}}init(){if(1===arguments.length){if("number"==typeof arguments[0]){const t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof E){const t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._hi=t,this._lo=e}}gt(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}isNegative(){return this._hi<0||0===this._hi&&this._lo<0}trunc(){return this.isNaN()?E.NaN:this.isPositive()?this.floor():this.ceil()}signum(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}getClass(){return E}get interfaces_(){return[l,r,s]}}E.constructor_=function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){const t=arguments[0];this.init(t)}else if(arguments[0]instanceof E){const t=arguments[0];this.init(t)}else if("string"==typeof arguments[0]){const t=arguments[0];E.constructor_.call(this,E.parse(t))}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.init(t,e)}},E.PI=new E(3.141592653589793,12246467991473532e-32),E.TWO_PI=new E(6.283185307179586,24492935982947064e-32),E.PI_2=new E(1.5707963267948966,6123233995736766e-32),E.E=new E(2.718281828459045,14456468917292502e-32),E.NaN=new E(o.NaN,o.NaN),E.EPS=123259516440783e-46,E.SPLIT=134217729,E.MAX_PRINT_DIGITS=32,E.TEN=E.valueOf(10),E.ONE=E.valueOf(1),E.SCI_NOT_EXPONENT_CHAR="E",E.SCI_NOT_ZERO="0.0E0";class T{constructor(){T.constructor_.apply(this,arguments)}static orientationIndex(t,e,i){const n=T.orientationIndexFilter(t,e,i);if(n<=1)return n;const o=E.valueOf(e.x).selfAdd(-t.x),r=E.valueOf(e.y).selfAdd(-t.y),s=E.valueOf(i.x).selfAdd(-e.x),a=E.valueOf(i.y).selfAdd(-e.y);return o.selfMultiply(a).selfSubtract(r.selfMultiply(s)).signum()}static signOfDet2x2(){if(arguments[3]instanceof E&&arguments[2]instanceof E&&arguments[0]instanceof E&&arguments[1]instanceof E){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];return t.multiply(n).selfSubtract(e.multiply(i)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=E.valueOf(t),r=E.valueOf(e),s=E.valueOf(i),a=E.valueOf(n);return o.multiply(a).selfSubtract(r.multiply(s)).signum()}}static intersection(t,e,i,n){const o=E.valueOf(n.y).selfSubtract(i.y).selfMultiply(E.valueOf(e.x).selfSubtract(t.x)),r=E.valueOf(n.x).selfSubtract(i.x).selfMultiply(E.valueOf(e.y).selfSubtract(t.y)),s=o.subtract(r),a=E.valueOf(n.x).selfSubtract(i.x).selfMultiply(E.valueOf(t.y).selfSubtract(i.y)),l=E.valueOf(n.y).selfSubtract(i.y).selfMultiply(E.valueOf(t.x).selfSubtract(i.x)),h=a.subtract(l).selfDivide(s).doubleValue(),c=E.valueOf(t.x).selfAdd(E.valueOf(e.x).selfSubtract(t.x).selfMultiply(h)).doubleValue(),u=E.valueOf(e.x).selfSubtract(t.x).selfMultiply(E.valueOf(t.y).selfSubtract(i.y)),g=E.valueOf(e.y).selfSubtract(t.y).selfMultiply(E.valueOf(t.x).selfSubtract(i.x)),d=u.subtract(g).selfDivide(s).doubleValue(),f=E.valueOf(i.y).selfAdd(E.valueOf(n.y).selfSubtract(i.y).selfMultiply(d)).doubleValue();return new p(c,f)}static orientationIndexFilter(t,e,i){let n=null;const o=(t.x-i.x)*(e.y-i.y),r=(t.y-i.y)*(e.x-i.x),s=o-r;if(o>0){if(r<=0)return T.signum(s);n=o+r}else{if(!(o<0))return T.signum(s);if(r>=0)return T.signum(s);n=-o-r}const a=T.DP_SAFE_EPSILON*n;return s>=a||-s>=a?T.signum(s):2}static signum(t){return t>0?1:t<0?-1:0}getClass(){return T}get interfaces_(){return[]}}T.constructor_=function(){},T.DP_SAFE_EPSILON=1e-15;class P{constructor(){P.constructor_.apply(this,arguments)}static index(t,e,i){return T.orientationIndex(t,e,i)}static isCCW(t){const e=t.length-1;if(e<3)throw new i("Ring has fewer than 4 points, so orientation cannot be determined");let n=t[0],o=0;for(let i=1;i<=e;i++){const e=t[i];e.y>n.y&&(n=e,o=i)}let r=o;do{(r-=1)<0&&(r=e)}while(t[r].equals2D(n)&&r!==o);let s=o;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==o);const a=t[r],l=t[s];if(a.equals2D(n)||l.equals2D(n)||a.equals2D(l))return!1;const h=P.index(a,n,l);return 0===h?a.x>l.x:h>0}getClass(){return P}get interfaces_(){return[]}}function L(){}P.constructor_=function(){},P.CLOCKWISE=-1,P.RIGHT=P.CLOCKWISE,P.COUNTERCLOCKWISE=1,P.LEFT=P.COUNTERCLOCKWISE,P.COLLINEAR=0,P.STRAIGHT=P.COLLINEAR,L.arraycopy=(t,e,i,n,o)=>{let r=0;for(let s=e;s<e+o;s++)i[n+r]=t[s],r++},L.getProperty=t=>({"line.separator":"\n"}[t]);class N{constructor(){N.constructor_.apply(this,arguments)}static intersection(t,e,i,n){const r=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,l=i.y-n.y,h=n.x-i.x,c=i.x*n.y-n.x*i.y,u=r*h-l*s,g=(s*c-h*a)/u,d=(l*a-r*c)/u;if(o.isNaN(g)||o.isInfinite(g)||o.isNaN(d)||o.isInfinite(d))throw new b;return new p(g,d)}getY(){const t=this.y/this.w;if(o.isNaN(t)||o.isInfinite(t))throw new b;return t}getX(){const t=this.x/this.w;if(o.isNaN(t)||o.isInfinite(t))throw new b;return t}getCoordinate(){const t=new p;return t.x=this.getX(),t.y=this.getY(),t}getClass(){return N}get interfaces_(){return[]}}N.constructor_=function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){const t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];this.x=t,this.y=e,this.w=1}else if(arguments[0]instanceof N&&arguments[1]instanceof N){const t=arguments[0],e=arguments[1];this.x=t.y*e.w-e.y*t.w,this.y=e.x*t.w-t.x*e.w,this.w=t.x*e.y-e.x*t.y}else if(arguments[0]instanceof p&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1];this.x=t.y-e.y,this.y=e.x-t.x,this.w=t.x*e.y-e.x*t.y}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this.x=t,this.y=e,this.w=i}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=t.y-e.y,r=e.x-t.x,s=t.x*e.y-e.x*t.y,a=i.y-n.y,l=n.x-i.x,h=i.x*n.y-n.x*i.y;this.x=r*h-l*s,this.y=a*s-o*h,this.w=o*l-a*r}};class D{constructor(){D.constructor_.apply(this,arguments)}static log10(t){const e=Math.log(t);return o.isInfinite(e)||o.isNaN(e)?e:e/D.LOG_10}static min(t,e,i,n){let o=t;return e<o&&(o=e),i<o&&(o=i),n<o&&(o=n),o}static clamp(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2];return t<e?e:t>i?i:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],i=arguments[2];return t<e?e:t>i?i:t}}static wrap(t,e){return t<0?e- -t%e:t%e}static max(){if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];let n=t;return e>n&&(n=e),i>n&&(n=i),n}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];let o=t;return e>o&&(o=e),i>o&&(o=i),n>o&&(o=n),o}}static average(t,e){return(t+e)/2}getClass(){return D}get interfaces_(){return[]}}D.constructor_=function(){},D.LOG_10=Math.log(10);class R{constructor(){R.constructor_.apply(this,arguments)}static segmentToSegment(t,e,i,n){if(t.equals(e))return R.pointToSegment(t,i,n);if(i.equals(n))return R.pointToSegment(n,t,e);let o=!1;if(I.intersects(t,e,i,n)){const r=(e.x-t.x)*(n.y-i.y)-(e.y-t.y)*(n.x-i.x);if(0===r)o=!0;else{const s=(t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y),a=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/r,l=s/r;(l<0||l>1||a<0||a>1)&&(o=!0)}}else o=!0;return o?D.min(R.pointToSegment(t,i,n),R.pointToSegment(e,i,n),R.pointToSegment(i,t,e),R.pointToSegment(n,t,e)):0}static pointToSegment(t,e,i){if(e.x===i.x&&e.y===i.y)return t.distance(e);const n=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y),o=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;if(o<=0)return t.distance(e);if(o>=1)return t.distance(i);const r=((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y))/n;return Math.abs(r)*Math.sqrt(n)}static pointToLinePerpendicular(t,e,i){const n=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y),o=((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y))/n;return Math.abs(o)*Math.sqrt(n)}static pointToSegmentString(t,e){if(0===e.length)throw new i("Line array must contain at least one vertex");let n=t.distance(e[0]);for(let i=0;i<e.length-1;i++){const o=R.pointToSegment(t,e[i],e[i+1]);o<n&&(n=o)}return n}getClass(){return R}get interfaces_(){return[]}}R.constructor_=function(){};class O{constructor(){O.constructor_.apply(this,arguments)}setOrdinate(t,e,i){}size(){}getOrdinate(t,e){}getCoordinate(){}getCoordinateCopy(t){}getDimension(){}getX(t){}expandEnvelope(t){}copy(){}getY(t){}toCoordinateArray(){}getClass(){return O}get interfaces_(){return[s]}}O.constructor_=function(){},O.X=0,O.Y=1,O.Z=2,O.M=3;class F{constructor(){F.constructor_.apply(this,arguments)}create(){1===arguments.length&&(arguments[0]instanceof Array||d(arguments[0],O))}getClass(){return F}get interfaces_(){return[]}}F.constructor_=function(){};class k{constructor(){k.constructor_.apply(this,arguments)}filter(t){}getClass(){return k}get interfaces_(){return[]}}k.constructor_=function(){};class G{constructor(){G.constructor_.apply(this,arguments)}isGeometryCollection(){return this.getTypeCode()===G.TYPECODE_GEOMETRYCOLLECTION}getFactory(){return this._factory}getGeometryN(t){return this}getArea(){return 0}isRectangle(){return!1}equals(){if(arguments[0]instanceof G){const t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){const t=arguments[0];if(!(t instanceof G))return!1;const e=t;return this.equalsExact(e)}}equalsExact(t){return this===t||this.equalsExact(t,0)}geometryChanged(){this.apply(G.geometryChangedFilter)}geometryChangedAction(){this._envelope=null}equalsNorm(t){return null!==t&&this.norm().equalsExact(t.norm())}getLength(){return 0}getNumGeometries(){return 1}compareTo(){let t;if(1===arguments.length){const e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){const e=arguments[0],i=arguments[1];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e,i)}}getUserData(){return this._userData}getSRID(){return this._SRID}getEnvelope(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}checkNotGeometryCollection(t){if(t.getTypeCode()===G.TYPECODE_GEOMETRYCOLLECTION)throw new i("This method does not support GeometryCollection arguments")}equal(t,e,i){return 0===i?t.equals(e):t.distance(e)<=i}norm(){const t=this.copy();return t.normalize(),t}getPrecisionModel(){return this._factory.getPrecisionModel()}getEnvelopeInternal(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new I(this._envelope)}setSRID(t){this._SRID=t}setUserData(t){this._userData=t}compare(t,e){const i=t.iterator(),n=e.iterator();for(;i.hasNext()&&n.hasNext();){const t=i.next(),e=n.next(),o=t.compareTo(e);if(0!==o)return o}return i.hasNext()?1:n.hasNext()?-1:0}hashCode(){return this.getEnvelopeInternal().hashCode()}isGeometryCollectionOrDerived(){return this.getTypeCode()===G.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===G.TYPECODE_MULTIPOINT||this.getTypeCode()===G.TYPECODE_MULTILINESTRING||this.getTypeCode()===G.TYPECODE_MULTIPOLYGON}get interfaces_(){return[s,r,l]}getClass(){return G}static hasNonEmptyElements(t){for(let e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}static hasNullElements(t){for(let e=0;e<t.length;e++)if(null===t[e])return!0;return!1}}G.constructor_=function(t){t&&(this._envelope=null,this._userData=null,this._factory=t,this._SRID=t.getSRID())},G.serialVersionUID=0x799ea46522854c00,G.TYPECODE_POINT=0,G.TYPECODE_MULTIPOINT=1,G.TYPECODE_LINESTRING=2,G.TYPECODE_LINEARRING=3,G.TYPECODE_MULTILINESTRING=4,G.TYPECODE_POLYGON=5,G.TYPECODE_MULTIPOLYGON=6,G.TYPECODE_GEOMETRYCOLLECTION=7,G.TYPENAME_POINT="Point",G.TYPENAME_MULTIPOINT="MultiPoint",G.TYPENAME_LINESTRING="LineString",G.TYPENAME_LINEARRING="LinearRing",G.TYPENAME_MULTILINESTRING="MultiLineString",G.TYPENAME_POLYGON="Polygon",G.TYPENAME_MULTIPOLYGON="MultiPolygon",G.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",G.geometryChangedFilter={get interfaces_(){return[k]},filter(t){t.geometryChangedAction()}};class B{constructor(){B.constructor_.apply(this,arguments)}filter(t){}getClass(){return B}get interfaces_(){return[]}}B.constructor_=function(){};class z{constructor(){z.constructor_.apply(this,arguments)}isInBoundary(t){}getClass(){return z}get interfaces_(){return[]}}class V{constructor(){V.constructor_.apply(this,arguments)}isInBoundary(t){return t%2==1}getClass(){return V}get interfaces_(){return[z]}}V.constructor_=function(){};class j{constructor(){j.constructor_.apply(this,arguments)}isInBoundary(t){return t>0}getClass(){return j}get interfaces_(){return[z]}}j.constructor_=function(){};class H{constructor(){H.constructor_.apply(this,arguments)}isInBoundary(t){return t>1}getClass(){return H}get interfaces_(){return[z]}}H.constructor_=function(){};class U{constructor(){U.constructor_.apply(this,arguments)}isInBoundary(t){return 1===t}getClass(){return U}get interfaces_(){return[z]}}U.constructor_=function(){},z.Mod2BoundaryNodeRule=V,z.EndPointBoundaryNodeRule=j,z.MultiValentEndPointBoundaryNodeRule=H,z.MonoValentEndPointBoundaryNodeRule=U,z.constructor_=function(){},z.MOD2_BOUNDARY_RULE=new V,z.ENDPOINT_BOUNDARY_RULE=new j,z.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new H,z.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new U,z.OGC_SFS_BOUNDARY_RULE=z.MOD2_BOUNDARY_RULE;class W{constructor(){W.constructor_.apply(this,arguments)}static isRing(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))}static ptNotInList(t,e){for(let i=0;i<t.length;i++){const n=t[i];if(W.indexOf(n,e)<0)return n}return null}static scroll(t,e){const i=W.indexOf(e,t);if(i<0)return null;const n=new Array(t.length).fill(null);L.arraycopy(t,i,n,0,t.length-i),L.arraycopy(t,0,n,t.length-i,i),L.arraycopy(n,0,t,0,t.length)}static equals(){if(2===arguments.length){const t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].equals(e[i]))return!1;return!0}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(0!==i.compare(t[n],e[n]))return!1;return!0}}static intersection(t,e){const i=new C;for(let n=0;n<t.length;n++)e.intersects(t[n])&&i.add(t[n],!0);return i.toCoordinateArray()}static hasRepeatedPoints(t){for(let e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}static removeRepeatedPoints(t){return W.hasRepeatedPoints(t)?new C(t,!1).toCoordinateArray():t}static reverse(t){const e=t.length-1,i=Math.trunc(e/2);for(let n=0;n<=i;n++){const i=t[n];t[n]=t[e-n],t[e-n]=i}}static removeNull(t){let e=0;for(let i=0;i<t.length;i++)null!==t[i]&&e++;const i=new Array(e).fill(null);if(0===e)return i;let n=0;for(let e=0;e<t.length;e++)null!==t[e]&&(i[n++]=t[e]);return i}static copyDeep(){if(1===arguments.length){const t=arguments[0],e=new Array(t.length).fill(null);for(let i=0;i<t.length;i++)e[i]=new p(t[i]);return e}if(5===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4];for(let r=0;r<o;r++)i[n+r]=new p(t[e+r])}}static isEqualReversed(t,e){for(let i=0;i<t.length;i++){const n=t[i],o=e[t.length-i-1];if(0!==n.compareTo(o))return!1}return!0}static envelope(t){const e=new I;for(let i=0;i<t.length;i++)e.expandToInclude(t[i]);return e}static toCoordinateArray(t){return t.toArray(W.coordArrayType)}static atLeastNCoordinatesOrNothing(t,e){return e.length>=t?e:[]}static indexOf(t,e){for(let i=0;i<e.length;i++)if(t.equals(e[i]))return i;return-1}static increasingDirection(t){for(let e=0;e<Math.trunc(t.length/2);e++){const i=t.length-1-e,n=t[e].compareTo(t[i]);if(0!==n)return n}return 1}static compare(t,e){let i=0;for(;i<t.length&&i<e.length;){const n=t[i].compareTo(e[i]);if(0!==n)return n;i++}return i<e.length?-1:i<t.length?1:0}static minCoordinate(t){let e=null;for(let i=0;i<t.length;i++)(null===e||e.compareTo(t[i])>0)&&(e=t[i]);return e}static extract(t,e,i){e=D.clamp(e,0,t.length);let n=(i=D.clamp(i,-1,t.length))-e+1;i<0&&(n=0),e>=t.length&&(n=0),i<e&&(n=0);const o=new Array(n).fill(null);if(0===n)return o;let r=0;for(let n=e;n<=i;n++)o[r++]=t[n];return o}getClass(){return W}get interfaces_(){return[]}}class Y{constructor(){Y.constructor_.apply(this,arguments)}compare(t,e){const i=t,n=e;return W.compare(i,n)}getClass(){return Y}get interfaces_(){return[a]}}Y.constructor_=function(){};class X{constructor(){X.constructor_.apply(this,arguments)}compare(t,e){const i=t,n=e;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;const o=W.compare(i,n);return W.isEqualReversed(i,n)?0:o}OLDcompare(t,e){const i=t,n=e;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;const o=W.increasingDirection(i),r=W.increasingDirection(n);let s=o>0?0:i.length-1,a=r>0?0:i.length-1;for(let t=0;t<i.length;t++){const t=i[s].compareTo(n[a]);if(0!==t)return t;s+=o,a+=r}return 0}getClass(){return X}get interfaces_(){return[a]}}function Z(){}function q(){}function K(t){this.message=t||""}function J(){}function Q(){this.array_=[],arguments[0]instanceof f&&this.addAll(arguments[0])}X.constructor_=function(){},W.ForwardComparator=Y,W.BidirectionalComparator=X,W.constructor_=function(){},W.coordArrayType=new Array(0).fill(null),Z.prototype.get=function(){},Z.prototype.put=function(){},Z.prototype.size=function(){},Z.prototype.values=function(){},Z.prototype.entrySet=function(){},q.prototype=new Z,K.prototype=new Error,K.prototype.name="OperationNotSupported",J.prototype=new f,J.prototype.contains=function(){},Q.prototype=new J,Q.prototype.contains=function(t){for(let e=0,i=this.array_.length;e<i;e++)if(this.array_[e]===t)return!0;return!1},Q.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},Q.prototype.addAll=function(t){for(let e=t.iterator();e.hasNext();)this.add(e.next());return!0},Q.prototype.remove=function(t){throw new K},Q.prototype.size=function(){return this.array_.length},Q.prototype.isEmpty=function(){return 0===this.array_.length},Q.prototype.toArray=function(){const t=[];for(let e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},Q.prototype.iterator=function(){return new $(this)};const $=function(t){this.hashSet_=t,this.position_=0};function tt(t){return null==t?0:t.color}function et(t){return null==t?null:t.parent}function it(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function ot(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}$.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new v;return this.hashSet_.array_[this.position_++]},$.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},$.prototype.remove=function(){throw new K},rt.prototype=new q,rt.prototype.get=function(t){for(var e=this.root_;null!==e;){var i=t.compareTo(e.key);if(i<0)e=e.left;else{if(!(i>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue(){return this.value},getKey(){return this.key}},this.size_=1,null;var i,n,o=this.root_;do{if(i=o,(n=t.compareTo(o.key))<0)o=o.left;else{if(!(n>0)){var r=o.value;return o.value=e,r}o=o.right}}while(null!==o);var s={key:t,left:null,right:null,value:e,parent:i,color:0,getValue(){return this.value},getKey(){return this.key}};return n<0?i.left=s:i.right=s,this.fixAfterInsertion(s),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){let e;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)et(t)===nt(et(et(t)))?1===tt(e=ot(et(et(t))))?(it(et(t),0),it(e,0),it(et(et(t)),1),t=et(et(t))):(t===ot(et(t))&&(t=et(t),this.rotateLeft(t)),it(et(t),0),it(et(et(t)),1),this.rotateRight(et(et(t)))):1===tt(e=nt(et(et(t))))?(it(et(t),0),it(e,0),it(et(et(t)),1),t=et(et(t))):(t===nt(et(t))&&(t=et(t),this.rotateRight(t)),it(et(t),0),it(et(et(t)),1),this.rotateLeft(et(et(t))));this.root_.color=0},rt.prototype.values=function(){var t=new _,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new Q,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){let e;if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var i=t;null!==e&&i===e.right;)i=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},rt.prototype.containsKey=function(t){for(var e=this.root_;null!==e;){var i=t.compareTo(e.key);if(i<0)e=e.left;else{if(!(i>0))return!0;e=e.right}}return!1};class st{constructor(){st.constructor_.apply(this,arguments)}getClass(){return st}get interfaces_(){return[]}}function at(){}function lt(){this.array_=[],arguments[0]instanceof f&&this.addAll(arguments[0])}st.constructor_=function(){},at.prototype=new J,lt.prototype=new at,lt.prototype.contains=function(t){for(let e=0,i=this.array_.length;e<i;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},lt.prototype.add=function(t){if(this.contains(t))return!1;for(let e=0,i=this.array_.length;e<i;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},lt.prototype.addAll=function(t){for(let e=t.iterator();e.hasNext();)this.add(e.next());return!0},lt.prototype.remove=function(t){throw new K},lt.prototype.size=function(){return this.array_.length},lt.prototype.isEmpty=function(){return 0===this.array_.length},lt.prototype.toArray=function(){const t=[];for(let e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},lt.prototype.iterator=function(){return new ht(this)};const ht=function(t){this.treeSet_=t,this.position_=0};function ct(){}ht.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new v;return this.treeSet_.array_[this.position_++]},ht.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ht.prototype.remove=function(){throw new K},ct.sort=function(){const t=arguments[0];let e,i,n,o;if(1===arguments.length)o=function(t,e){return t.compareTo(e)},t.sort(o);else if(2===arguments.length)n=arguments[1],o=function(t,e){return n.compare(t,e)},t.sort(o);else if(3===arguments.length){(i=t.slice(arguments[1],arguments[2])).sort();const n=t.slice(0,arguments[1]).concat(i,t.slice(arguments[2],t.length));for(t.splice(0,t.length),e=0;e<n.length;e++)t.push(n[e])}else if(4===arguments.length){i=t.slice(arguments[1],arguments[2]),n=arguments[3],o=function(t,e){return n.compare(t,e)},i.sort(o);const r=t.slice(0,arguments[1]).concat(i,t.slice(arguments[2],t.length));for(t.splice(0,t.length),e=0;e<r.length;e++)t.push(r[e])}},ct.asList=function(t){const e=new _;for(let i=0,n=t.length;i<n;i++)e.add(t[i]);return e};class ut{constructor(){ut.constructor_.apply(this,arguments)}static toDimensionSymbol(t){switch(t){case ut.FALSE:return ut.SYM_FALSE;case ut.TRUE:return ut.SYM_TRUE;case ut.DONTCARE:return ut.SYM_DONTCARE;case ut.P:return ut.SYM_P;case ut.L:return ut.SYM_L;case ut.A:return ut.SYM_A}throw new i("Unknown dimension value: "+t)}static toDimensionValue(t){switch(M.toUpperCase(t)){case ut.SYM_FALSE:return ut.FALSE;case ut.SYM_TRUE:return ut.TRUE;case ut.SYM_DONTCARE:return ut.DONTCARE;case ut.SYM_P:return ut.P;case ut.SYM_L:return ut.L;case ut.SYM_A:return ut.A}throw new i("Unknown dimension symbol: "+t)}getClass(){return ut}get interfaces_(){return[]}}ut.constructor_=function(){},ut.P=0,ut.L=1,ut.A=2,ut.FALSE=-1,ut.TRUE=-2,ut.DONTCARE=-3,ut.SYM_FALSE="F",ut.SYM_TRUE="T",ut.SYM_DONTCARE="*",ut.SYM_P="0",ut.SYM_L="1",ut.SYM_A="2";class pt{constructor(){pt.constructor_.apply(this,arguments)}filter(t){}getClass(){return pt}get interfaces_(){return[]}}pt.constructor_=function(){};class gt{constructor(){gt.constructor_.apply(this,arguments)}filter(t,e){}isDone(){}isGeometryChanged(){}getClass(){return gt}get interfaces_(){return[]}}gt.constructor_=function(){};class dt extends G{constructor(){super(),dt.constructor_.apply(this,arguments)}computeEnvelopeInternal(){const t=new I;for(let e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t}getGeometryN(t){return this._geometries[t]}getCoordinates(){const t=new Array(this.getNumPoints()).fill(null);let e=-1;for(let i=0;i<this._geometries.length;i++){const n=this._geometries[i].getCoordinates();for(let i=0;i<n.length;i++)t[++e]=n[i]}return t}getArea(){let t=0;for(let e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;const i=t;if(this._geometries.length!==i._geometries.length)return!1;for(let t=0;t<this._geometries.length;t++)if(!this._geometries[t].equalsExact(i._geometries[t],e))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let t=0;t<this._geometries.length;t++)this._geometries[t].normalize();ct.sort(this._geometries)}getCoordinate(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}getBoundaryDimension(){let t=ut.FALSE;for(let e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t}getTypeCode(){return G.TYPECODE_GEOMETRYCOLLECTION}getDimension(){let t=ut.FALSE;for(let e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t}getLength(){let t=0;for(let e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t}getNumPoints(){let t=0;for(let e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t}getNumGeometries(){return this._geometries.length}reverse(){const t=this._geometries.length,e=new Array(t).fill(null);for(let t=0;t<this._geometries.length;t++)e[t]=this._geometries[t].reverse();return this.getFactory().createGeometryCollection(e)}compareToSameClass(){if(1===arguments.length){const t=arguments[0],e=new lt(ct.asList(this._geometries)),i=new lt(ct.asList(t._geometries));return this.compare(e,i)}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t,n=this.getNumGeometries(),o=i.getNumGeometries();let r=0;for(;r<n&&r<o;){const t=this.getGeometryN(r),n=i.getGeometryN(r),o=t.compareToSameClass(n,e);if(0!==o)return o;r++}return r<n?1:r<o?-1:0}}apply(){if(d(arguments[0],B)){const t=arguments[0];for(let e=0;e<this._geometries.length;e++)this._geometries[e].apply(t)}else if(d(arguments[0],gt)){const t=arguments[0];if(0===this._geometries.length)return null;for(let e=0;e<this._geometries.length&&(this._geometries[e].apply(t),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else if(d(arguments[0],pt)){const t=arguments[0];t.filter(this);for(let e=0;e<this._geometries.length;e++)this._geometries[e].apply(t)}else if(d(arguments[0],k)){const t=arguments[0];t.filter(this);for(let e=0;e<this._geometries.length;e++)this._geometries[e].apply(t)}}getBoundary(){return this.checkNotGeometryCollection(this),u.shouldNeverReachHere(),null}getGeometryType(){return G.TYPENAME_GEOMETRYCOLLECTION}copy(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new dt(t,this._factory)}isEmpty(){for(let t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0}getClass(){return dt}get interfaces_(){return[]}}dt.constructor_=function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){let t=arguments[0];const e=arguments[1];if(G.constructor_.call(this,e),null===t&&(t=[]),G.hasNullElements(t))throw new i("geometries must not contain null elements");this._geometries=t}},dt.serialVersionUID=-0x4f07bcb1f857d800;class ft extends dt{constructor(){super(),ft.constructor_.apply(this,arguments)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&super.equalsExact.call(this,t,e)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return this.isClosed()?ut.FALSE:0}isClosed(){if(this.isEmpty())return!1;for(let t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0}getTypeCode(){return G.TYPECODE_MULTILINESTRING}getDimension(){return 1}reverse(){const t=this._geometries.length,e=new Array(t).fill(null);for(let i=0;i<this._geometries.length;i++)e[t-1-i]=this._geometries[i].reverse();return this.getFactory().createMultiLineString(e)}getBoundary(){return new yt(this).getBoundary()}getGeometryType(){return G.TYPENAME_MULTILINESTRING}copy(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new ft(t,this._factory)}getClass(){return ft}get interfaces_(){return[st]}}ft.constructor_=function(){const t=arguments[0],e=arguments[1];dt.constructor_.call(this,t,e)},ft.serialVersionUID=0x7155d2ab4afa8000;class yt{constructor(){yt.constructor_.apply(this,arguments)}static getBoundary(){if(1===arguments.length){const t=arguments[0];return new yt(t).getBoundary()}if(2===arguments.length){const t=arguments[0],e=arguments[1];return new yt(t,e).getBoundary()}}boundaryMultiLineString(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();const e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)}getBoundary(){return this._geom instanceof Mt?this.boundaryLineString(this._geom):this._geom instanceof ft?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()}boundaryLineString(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])}getEmptyMultiPoint(){return this._geomFact.createMultiPoint()}computeBoundaryCoordinates(t){const e=new _;this._endpointMap=new rt;for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(let t=this._endpointMap.entrySet().iterator();t.hasNext();){const i=t.next(),n=i.getValue().count;this._bnRule.isInBoundary(n)&&e.add(i.getKey())}return W.toCoordinateArray(e)}addEndpoint(t){let e=this._endpointMap.get(t);null===e&&(e=new mt,this._endpointMap.put(t,e)),e.count++}getClass(){return yt}get interfaces_(){return[]}}yt.constructor_=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){const t=arguments[0];yt.constructor_.call(this,t,z.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}};class mt{constructor(){mt.constructor_.apply(this,arguments)}getClass(){return mt}get interfaces_(){return[]}}mt.constructor_=function(){this.count=null};class vt{constructor(){vt.constructor_.apply(this,arguments)}static ofLine(t){const e=t.size();if(e<=1)return 0;let i=0;const n=new p;t.getCoordinate(0,n);let o=n.x,r=n.y;for(let s=1;s<e;s++){t.getCoordinate(s,n);const e=n.x,a=n.y,l=e-o,h=a-r;i+=Math.sqrt(l*l+h*h),o=e,r=a}return i}getClass(){return vt}get interfaces_(){return[]}}function _t(){}function xt(){}function Ct(){}function It(){}function At(){}vt.constructor_=function(){};class bt{constructor(){bt.constructor_.apply(this,arguments)}static chars(t,e){const i=new Array(e).fill(null);for(let n=0;n<e;n++)i[n]=t;return new String(i)}static getStackTrace(){if(1===arguments.length){const t=arguments[0],e=new Ct,i=new _t(e);return t.printStackTrace(i),e.toString()}if(2===arguments.length){const t=arguments[0],e=arguments[1];let i="";const n=new At(new xt(bt.getStackTrace(t)));for(let t=0;t<e;t++)try{i+=n.readLine()+bt.NEWLINE}catch(t){if(!(t instanceof It))throw t;u.shouldNeverReachHere()}return i}}static split(t,e){const i=e.length,n=new _;let o=""+t,r=o.indexOf(e);for(;r>=0;){const t=o.substring(0,r);n.add(t),r=(o=o.substring(r+i)).indexOf(e)}o.length>0&&n.add(o);const s=new Array(n.size()).fill(null);for(let t=0;t<s.length;t++)s[t]=n.get(t);return s}static toString(){if(1===arguments.length&&"number"==typeof arguments[0]){const t=arguments[0];return bt.SIMPLE_ORDINATE_FORMAT.format(t)}}static spaces(t){return bt.chars(" ",t)}getClass(){return bt}get interfaces_(){return[]}}function wt(t){this.str=t}bt.constructor_=function(){},bt.NEWLINE=L.getProperty("line.separator"),bt.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#"),wt.prototype.append=function(t){this.str+=t},wt.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},wt.prototype.toString=function(t){return this.str};class St{constructor(){St.constructor_.apply(this,arguments)}static copyCoord(t,e,i,n){const o=Math.min(t.getDimension(),i.getDimension());for(let r=0;r<o;r++)i.setOrdinate(n,r,t.getOrdinate(e,r))}static isRing(t){const e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,O.X)===t.getOrdinate(e-1,O.X)&&t.getOrdinate(0,O.Y)===t.getOrdinate(e-1,O.Y)}static isEqual(t,e){const i=t.size();if(i!==e.size())return!1;const n=Math.min(t.getDimension(),e.getDimension());for(let r=0;r<i;r++)for(let i=0;i<n;i++){const n=t.getOrdinate(r,i),s=e.getOrdinate(r,i);if(!(t.getOrdinate(r,i)===e.getOrdinate(r,i)||o.isNaN(n)&&o.isNaN(s)))return!1}return!0}static extend(t,e,i){const n=t.create(i,e.getDimension()),o=e.size();if(St.copy(e,0,n,0,o),o>0)for(let t=o;t<i;t++)St.copy(e,o-1,n,t,1);return n}static reverse(t){const e=t.size()-1,i=Math.trunc(e/2);for(let n=0;n<=i;n++)St.swap(t,n,e-n)}static swap(t,e,i){if(e===i)return null;for(let n=0;n<t.getDimension();n++){const o=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(i,n)),t.setOrdinate(i,n,o)}}static copy(t,e,i,n,o){for(let r=0;r<o;r++)St.copyCoord(t,e+r,i,n+r)}static toString(){if(1===arguments.length&&d(arguments[0],O)){const t=arguments[0],e=t.size();if(0===e)return"()";const i=t.getDimension(),n=new wt;n.append("(");for(let o=0;o<e;o++){o>0&&n.append(" ");for(let e=0;e<i;e++)e>0&&n.append(","),n.append(bt.toString(t.getOrdinate(o,e)))}return n.append(")"),n.toString()}}static ensureValidRing(t,e){const i=e.size();return 0===i?e:i<=3?St.createClosedRing(t,e,4):e.getOrdinate(0,O.X)===e.getOrdinate(i-1,O.X)&&e.getOrdinate(0,O.Y)===e.getOrdinate(i-1,O.Y)?e:St.createClosedRing(t,e,i+1)}static createClosedRing(t,e,i){const n=t.create(i,e.getDimension()),o=e.size();St.copy(e,0,n,0,o);for(let t=o;t<i;t++)St.copy(e,0,n,t,1);return n}getClass(){return St}get interfaces_(){return[]}}St.constructor_=function(){};class Mt extends G{constructor(){super(),Mt.constructor_.apply(this,arguments)}computeEnvelopeInternal(){return this.isEmpty()?new I:this._points.expandEnvelope(new I)}isRing(){return this.isClosed()&&this.isSimple()}getCoordinates(){return this._points.toCoordinateArray()}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;const i=t;if(this._points.size()!==i._points.size())return!1;for(let t=0;t<this._points.size();t++)if(!this.equal(this._points.getCoordinate(t),i._points.getCoordinate(t),e))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let t=0;t<Math.trunc(this._points.size()/2);t++){const e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){const t=this._points.copy();St.reverse(t),this._points=t}return null}}}getCoordinate(){return this.isEmpty()?null:this._points.getCoordinate(0)}getBoundaryDimension(){return this.isClosed()?ut.FALSE:0}isClosed(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}getEndPoint(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}getTypeCode(){return G.TYPECODE_LINESTRING}getDimension(){return 1}getLength(){return vt.ofLine(this._points)}getNumPoints(){return this._points.size()}reverse(){const t=this._points.copy();return St.reverse(t),this.getFactory().createLineString(t)}compareToSameClass(){if(1===arguments.length){const t=arguments[0];let e=0,i=0;for(;e<this._points.size()&&i<t._points.size();){const n=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(i));if(0!==n)return n;e++,i++}return e<this._points.size()?1:i<t._points.size()?-1:0}if(2===arguments.length){const t=arguments[0];return arguments[1].compare(this._points,t._points)}}apply(){if(d(arguments[0],B)){const t=arguments[0];for(let e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e))}else if(d(arguments[0],gt)){const t=arguments[0];if(0===this._points.size())return null;for(let e=0;e<this._points.size()&&(t.filter(this._points,e),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else(d(arguments[0],pt)||d(arguments[0],k))&&arguments[0].filter(this)}getBoundary(){return new yt(this).getBoundary()}isEquivalentClass(t){return t instanceof Mt}getCoordinateN(t){return this._points.getCoordinate(t)}getGeometryType(){return G.TYPENAME_LINESTRING}copy(){return new Mt(this._points.copy(),this._factory)}getCoordinateSequence(){return this._points}isEmpty(){return 0===this._points.size()}init(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new i("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t}isCoordinate(t){for(let e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1}getStartPoint(){return this.isEmpty()?null:this.getPointN(0)}getPointN(t){return this.getFactory().createPoint(this._points.getCoordinate(t))}getClass(){return Mt}get interfaces_(){return[st]}}Mt.constructor_=function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){const t=arguments[0],e=arguments[1];G.constructor_.call(this,e),this.init(t)}},Mt.serialVersionUID=0x2b2b51ba435c8e00;class Et{constructor(){Et.constructor_.apply(this,arguments)}getClass(){return Et}get interfaces_(){return[]}}Et.constructor_=function(){};class Tt extends G{constructor(){super(),Tt.constructor_.apply(this,arguments)}computeEnvelopeInternal(){if(this.isEmpty())return new I;const t=new I;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t}getCoordinates(){return this.isEmpty()?[]:[this.getCoordinate()]}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return super.equalsExact.apply(this,arguments)}normalize(){}getCoordinate(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}getBoundaryDimension(){return ut.FALSE}getTypeCode(){return G.TYPECODE_POINT}getDimension(){return 0}getNumPoints(){return this.isEmpty()?0:1}reverse(){return this.copy()}getX(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}compareToSameClass(){if(1===arguments.length){const t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){const t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}apply(){if(d(arguments[0],B)){const t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(d(arguments[0],gt)){const t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(d(arguments[0],pt)||d(arguments[0],k))&&arguments[0].filter(this)}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return G.TYPENAME_POINT}copy(){return new Tt(this._coordinates.copy(),this._factory)}getCoordinateSequence(){return this._coordinates}getY(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}isEmpty(){return 0===this._coordinates.size()}init(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),u.isTrue(t.size()<=1),this._coordinates=t}isSimple(){return!0}getClass(){return Tt}get interfaces_(){return[Et]}}Tt.constructor_=function(){this._coordinates=null;const t=arguments[0],e=arguments[1];G.constructor_.call(this,e),this.init(t)},Tt.serialVersionUID=0x44077bad161cbc00;class Pt{constructor(){Pt.constructor_.apply(this,arguments)}static ofRing(){if(arguments[0]instanceof Array){const t=arguments[0];return Math.abs(Pt.ofRingSigned(t))}if(d(arguments[0],O)){const t=arguments[0];return Math.abs(Pt.ofRingSigned(t))}}static ofRingSigned(){if(arguments[0]instanceof Array){const t=arguments[0];if(t.length<3)return 0;let e=0;const i=t[0].x;for(let n=1;n<t.length-1;n++){const o=t[n].x-i,r=t[n+1].y;e+=o*(t[n-1].y-r)}return e/2}if(d(arguments[0],O)){const t=arguments[0],e=t.size();if(e<3)return 0;const i=new p,n=new p,o=new p;t.getCoordinate(0,n),t.getCoordinate(1,o);const r=n.x;o.x-=r;let s=0;for(let a=1;a<e-1;a++)i.y=n.y,n.x=o.x,n.y=o.y,t.getCoordinate(a+1,o),o.x-=r,s+=n.x*(i.y-o.y);return s/2}}getClass(){return Pt}get interfaces_(){return[]}}Pt.constructor_=function(){};class Lt{constructor(){Lt.constructor_.apply(this,arguments)}getClass(){return Lt}get interfaces_(){return[]}}Lt.constructor_=function(){};class Nt extends G{constructor(){super(),Nt.constructor_.apply(this,arguments)}computeEnvelopeInternal(){return this._shell.getEnvelopeInternal()}getCoordinates(){if(this.isEmpty())return[];const t=new Array(this.getNumPoints()).fill(null);let e=-1;const i=this._shell.getCoordinates();for(let n=0;n<i.length;n++)t[++e]=i[n];for(let i=0;i<this._holes.length;i++){const n=this._holes[i].getCoordinates();for(let i=0;i<n.length;i++)t[++e]=n[i]}return t}getArea(){let t=0;t+=Pt.ofRing(this._shell.getCoordinateSequence());for(let e=0;e<this._holes.length;e++)t-=Pt.ofRing(this._holes[e].getCoordinateSequence());return t}isRectangle(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;const t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal();for(let i=0;i<5;i++){const n=t.getX(i);if(n!==e.getMinX()&&n!==e.getMaxX())return!1;const o=t.getY(i);if(o!==e.getMinY()&&o!==e.getMaxY())return!1}let i=t.getX(0),n=t.getY(0);for(let e=1;e<=4;e++){const o=t.getX(e),r=t.getY(e);if(o!==i==(r!==n))return!1;i=o,n=r}return!0}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;const i=t,n=this._shell,o=i._shell;if(!n.equalsExact(o,e))return!1;if(this._holes.length!==i._holes.length)return!1;for(let t=0;t<this._holes.length;t++)if(!this._holes[t].equalsExact(i._holes[t],e))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){if(0===arguments.length){this.normalize(this._shell,!0);for(let t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);ct.sort(this._holes)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(t.isEmpty())return null;const i=new Array(t.getCoordinates().length-1).fill(null);L.arraycopy(t.getCoordinates(),0,i,0,i.length);const n=W.minCoordinate(t.getCoordinates());W.scroll(i,n),L.arraycopy(i,0,t.getCoordinates(),0,i.length),t.getCoordinates()[i.length]=i[0],P.isCCW(t.getCoordinates())===e&&W.reverse(t.getCoordinates())}}getCoordinate(){return this._shell.getCoordinate()}getNumInteriorRing(){return this._holes.length}getBoundaryDimension(){return 1}getTypeCode(){return G.TYPECODE_POLYGON}getDimension(){return 2}getLength(){let t=0;t+=this._shell.getLength();for(let e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t}getNumPoints(){let t=this._shell.getNumPoints();for(let e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t}reverse(){const t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(let e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t}convexHull(){return this.getExteriorRing().convexHull()}compareToSameClass(){if(1===arguments.length){const t=arguments[0],e=this._shell,i=t._shell;return e.compareToSameClass(i)}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t,n=this._shell,o=i._shell,r=n.compareToSameClass(o,e);if(0!==r)return r;const s=this.getNumInteriorRing(),a=i.getNumInteriorRing();let l=0;for(;l<s&&l<a;){const t=this.getInteriorRingN(l),n=i.getInteriorRingN(l),o=t.compareToSameClass(n,e);if(0!==o)return o;l++}return l<s?1:l<a?-1:0}}apply(){if(d(arguments[0],B)){const t=arguments[0];this._shell.apply(t);for(let e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(d(arguments[0],gt)){const t=arguments[0];if(this._shell.apply(t),!t.isDone())for(let e=0;e<this._holes.length&&(this._holes[e].apply(t),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else if(d(arguments[0],pt))arguments[0].filter(this);else if(d(arguments[0],k)){const t=arguments[0];t.filter(this),this._shell.apply(t);for(let e=0;e<this._holes.length;e++)this._holes[e].apply(t)}}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(let e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)}getGeometryType(){return G.TYPENAME_POLYGON}copy(){const t=this._shell.copy(),e=new Array(this._holes.length).fill(null);for(let t=0;t<this._holes.length;t++)e[t]=this._holes[t].copy();return new Nt(t,e,this._factory)}getExteriorRing(){return this._shell}isEmpty(){return this._shell.isEmpty()}getInteriorRingN(t){return this._holes[t]}getClass(){return Nt}get interfaces_(){return[Lt]}}Nt.constructor_=function(){this._shell=null,this._holes=null;let t=arguments[0],e=arguments[1];const n=arguments[2];if(G.constructor_.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),G.hasNullElements(e))throw new i("holes must not contain null elements");if(t.isEmpty()&&G.hasNonEmptyElements(e))throw new i("shell is empty but holes are not");this._shell=t,this._holes=e},Nt.serialVersionUID=-0x307ffefd8dc97200;class Dt extends dt{constructor(){super(),Dt.constructor_.apply(this,arguments)}isValid(){return!0}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&super.equalsExact.call(this,t,e)}return super.equalsExact.apply(this,arguments)}getCoordinate(){if(1===arguments.length&&Number.isInteger(arguments[0])){const t=arguments[0];return this._geometries[t].getCoordinate()}return super.getCoordinate.apply(this,arguments)}getBoundaryDimension(){return ut.FALSE}getTypeCode(){return G.TYPECODE_MULTIPOINT}getDimension(){return 0}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return G.TYPENAME_MULTIPOINT}copy(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new Dt(t,this._factory)}getClass(){return Dt}get interfaces_(){return[Et]}}Dt.constructor_=function(){const t=arguments[0],e=arguments[1];dt.constructor_.call(this,t,e)},Dt.serialVersionUID=-0x6fb1ed4162e0fc00;class Rt extends Mt{constructor(){super(),Rt.constructor_.apply(this,arguments)}getBoundaryDimension(){return ut.FALSE}isClosed(){return!!this.isEmpty()||super.isClosed.call(this)}getTypeCode(){return G.TYPECODE_LINEARRING}reverse(){const t=this._points.copy();return St.reverse(t),this.getFactory().createLinearRing(t)}validateConstruction(){if(!this.isEmpty()&&!super.isClosed.call(this))throw new i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Rt.MINIMUM_VALID_SIZE)throw new i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}getGeometryType(){return G.TYPENAME_LINEARRING}copy(){return new Rt(this._points.copy(),this._factory)}getClass(){return Rt}get interfaces_(){return[]}}Rt.constructor_=function(){if(arguments[0]instanceof Array&&arguments[1]instanceof Yt){const t=arguments[0],e=arguments[1];Rt.constructor_.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(d(arguments[0],O)&&arguments[1]instanceof Yt){const t=arguments[0],e=arguments[1];Mt.constructor_.call(this,t,e),this.validateConstruction()}},Rt.MINIMUM_VALID_SIZE=4,Rt.serialVersionUID=-0x3b229e262367a600;class Ot extends dt{constructor(){super(),Ot.constructor_.apply(this,arguments)}equalsExact(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof G){const t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&super.equalsExact.call(this,t,e)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return 1}getTypeCode(){return G.TYPECODE_MULTIPOLYGON}getDimension(){return 2}reverse(){const t=this._geometries.length,e=new Array(t).fill(null);for(let t=0;t<this._geometries.length;t++)e[t]=this._geometries[t].reverse();return this.getFactory().createMultiPolygon(e)}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const t=new _;for(let e=0;e<this._geometries.length;e++){const i=this._geometries[e].getBoundary();for(let e=0;e<i.getNumGeometries();e++)t.add(i.getGeometryN(e))}const e=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(e))}getGeometryType(){return G.TYPENAME_MULTIPOLYGON}copy(){const t=new Array(this._geometries.length).fill(null);for(let e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new Ot(t,this._factory)}getClass(){return Ot}get interfaces_(){return[Lt]}}Ot.constructor_=function(){const t=arguments[0],e=arguments[1];dt.constructor_.call(this,t,e)},Ot.serialVersionUID=-0x7a5aa1369171980;class Ft{constructor(){Ft.constructor_.apply(this,arguments)}setCopyUserData(t){this._isUserDataCopied=t}edit(t,e){if(null===t)return null;const i=this.editInternal(t,e);return this._isUserDataCopied&&i.setUserData(t.getUserData()),i}editInternal(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof dt?this.editGeometryCollection(t,e):t instanceof Nt?this.editPolygon(t,e):t instanceof Tt||t instanceof Mt?e.edit(t,this._factory):(u.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)}editGeometryCollection(t,e){const i=e.edit(t,this._factory),n=new _;for(let t=0;t<i.getNumGeometries();t++){const o=this.edit(i.getGeometryN(t),e);null===o||o.isEmpty()||n.add(o)}return i.getClass()===Dt?this._factory.createMultiPoint(n.toArray([])):i.getClass()===ft?this._factory.createMultiLineString(n.toArray([])):i.getClass()===Ot?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))}editPolygon(t,e){let i=e.edit(t,this._factory);if(null===i&&(i=this._factory.createPolygon()),i.isEmpty())return i;const n=this.edit(i.getExteriorRing(),e);if(null===n||n.isEmpty())return this._factory.createPolygon();const o=new _;for(let t=0;t<i.getNumInteriorRing();t++){const n=this.edit(i.getInteriorRingN(t),e);null===n||n.isEmpty()||o.add(n)}return this._factory.createPolygon(n,o.toArray([]))}getClass(){return Ft}get interfaces_(){return[]}}function kt(){}Ft.GeometryEditorOperation=kt;class Gt{constructor(){Gt.constructor_.apply(this,arguments)}edit(t,e){return t}getClass(){return Gt}get interfaces_(){return[kt]}}Gt.constructor_=function(){};class Bt{constructor(){Bt.constructor_.apply(this,arguments)}edit(t,e){const i=this.edit(t.getCoordinates(),t);return t instanceof Rt?null===i?e.createLinearRing():e.createLinearRing(i):t instanceof Mt?null===i?e.createLineString():e.createLineString(i):t instanceof Tt?null===i||0===i.length?e.createPoint():e.createPoint(i[0]):t}getClass(){return Bt}get interfaces_(){return[kt]}}Bt.constructor_=function(){};class zt{constructor(){zt.constructor_.apply(this,arguments)}edit(t,e){return t instanceof Rt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Mt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Tt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t}getClass(){return zt}get interfaces_(){return[kt]}}zt.constructor_=function(){},Ft.NoOpGeometryOperation=Gt,Ft.CoordinateOperation=Bt,Ft.CoordinateSequenceOperation=zt,Ft.constructor_=function(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this._factory=t}};class Vt{constructor(){Vt.constructor_.apply(this,arguments)}setOrdinate(t,e,n){switch(e){case O.X:this._coordinates[t].x=n;break;case O.Y:this._coordinates[t].y=n;break;case O.Z:this._coordinates[t].z=n;break;default:throw new i("invalid ordinateIndex")}}size(){return this._coordinates.length}getOrdinate(t,e){switch(e){case O.X:return this._coordinates[t].x;case O.Y:return this._coordinates[t].y;case O.Z:return this._coordinates[t].z}return o.NaN}getCoordinate(){if(1===arguments.length){const t=arguments[0];return this._coordinates[t]}if(2===arguments.length){const t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}}getCoordinateCopy(t){return new p(this._coordinates[t])}getDimension(){return this._dimension}getX(t){return this._coordinates[t].x}expandEnvelope(t){for(let e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}copy(){const t=new Array(this.size()).fill(null);for(let e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Vt(t,this._dimension)}toString(){if(this._coordinates.length>0){const t=new wt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(let e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"}getY(t){return this._coordinates[t].y}toCoordinateArray(){return this._coordinates}getClass(){return Vt}get interfaces_(){return[O,l]}}Vt.constructor_=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];Vt.constructor_.call(this,t,3)}else if(Number.isInteger(arguments[0])){const t=arguments[0];this._coordinates=new Array(t).fill(null);for(let e=0;e<t;e++)this._coordinates[e]=new p}else if(d(arguments[0],O)){const t=arguments[0];if(null===t)return this._coordinates=new Array(0).fill(null),null;this._dimension=t.getDimension(),this._coordinates=new Array(t.size()).fill(null);for(let e=0;e<this._coordinates.length;e++)this._coordinates[e]=t.getCoordinateCopy(e)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1];this._coordinates=t,this._dimension=e,null===t&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1];this._coordinates=new Array(t).fill(null),this._dimension=e;for(let e=0;e<t;e++)this._coordinates[e]=new p}},Vt.serialVersionUID=-0xcb44a778db18e00;class jt{constructor(){jt.constructor_.apply(this,arguments)}static instance(){return jt.instanceObject}readResolve(){return jt.instance()}create(){if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];return new Vt(t)}if(d(arguments[0],O)){const t=arguments[0];return new Vt(t)}}else if(2===arguments.length){const t=arguments[0];let e=arguments[1];return e>3&&(e=3),e<2?new Vt(t):new Vt(t,e)}}getClass(){return jt}get interfaces_(){return[F,l]}}function Ht(){this.map_=new Map}jt.constructor_=function(){},jt.serialVersionUID=-0x38e49fa6cf6f2e00,jt.instanceObject=new jt,Ht.prototype=new Z,Ht.prototype.get=function(t){return this.map_.get(t)||null},Ht.prototype.put=function(t,e){return this.map_.set(t,e),e},Ht.prototype.values=function(){const t=new _,e=this.map_.values();let i=e.next();for(;!i.done;)t.add(i.value),i=e.next();return t},Ht.prototype.entrySet=function(){const t=new Q;return this.map_.entries().forEach(e=>t.add(e)),t},Ht.prototype.size=function(){return this.map_.size()};class Ut{constructor(){Ut.constructor_.apply(this,arguments)}static mostPrecise(t,e){return t.compareTo(e)>=0?t:e}equals(t){if(!(t instanceof Ut))return!1;const e=t;return this._modelType===e._modelType&&this._scale===e._scale}compareTo(t){const e=t,i=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new S(i).compareTo(new S(n))}getScale(){return this._scale}isFloating(){return this._modelType===Ut.FLOATING||this._modelType===Ut.FLOATING_SINGLE}getType(){return this._modelType}toString(){let t="UNKNOWN";return this._modelType===Ut.FLOATING?t="Floating":this._modelType===Ut.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ut.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}makePrecise(){if("number"==typeof arguments[0]){const t=arguments[0];return o.isNaN(t)||this._modelType===Ut.FLOATING_SINGLE?t:this._modelType===Ut.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof p){const t=arguments[0];if(this._modelType===Ut.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}}getMaximumSignificantDigits(){let t=16;return this._modelType===Ut.FLOATING?t=16:this._modelType===Ut.FLOATING_SINGLE?t=6:this._modelType===Ut.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}setScale(t){this._scale=Math.abs(t)}getClass(){return Ut}get interfaces_(){return[l,r]}}class Wt{constructor(){Wt.constructor_.apply(this,arguments)}readResolve(){return Wt.nameToTypeMap.get(this._name)}toString(){return this._name}getClass(){return Wt}get interfaces_(){return[l]}}Wt.constructor_=function(){this._name=null;const t=arguments[0];this._name=t,Wt.nameToTypeMap.put(t,this)},Wt.serialVersionUID=-552860263173159e4,Wt.nameToTypeMap=new Ht,Ut.Type=Wt,Ut.constructor_=function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=Ut.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Wt){const t=arguments[0];this._modelType=t,t===Ut.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){const t=arguments[0];this._modelType=Ut.FIXED,this.setScale(t)}else if(arguments[0]instanceof Ut){const t=arguments[0];this._modelType=t._modelType,this._scale=t._scale}},Ut.serialVersionUID=0x6bee6404e9a25c00,Ut.FIXED=new Wt("FIXED"),Ut.FLOATING=new Wt("FLOATING"),Ut.FLOATING_SINGLE=new Wt("FLOATING SINGLE"),Ut.maximumPreciseValue=9007199254740992;class Yt{constructor(){Yt.constructor_.apply(this,arguments)}static toMultiPolygonArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toGeometryArray(t){if(null===t)return null;const e=new Array(t.size()).fill(null);return t.toArray(e)}static getDefaultCoordinateSequenceFactory(){return jt.instance()}static toMultiLineStringArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toLineStringArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toMultiPointArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toLinearRingArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toPointArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static toPolygonArray(t){const e=new Array(t.size()).fill(null);return t.toArray(e)}static createPointFromInternalCoord(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}toGeometry(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new p(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new p(t.getMinX(),t.getMinY()),new p(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new p(t.getMinX(),t.getMinY()),new p(t.getMinX(),t.getMaxY()),new p(t.getMaxX(),t.getMaxY()),new p(t.getMaxX(),t.getMinY()),new p(t.getMinX(),t.getMinY())]),null)}createLineString(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(d(arguments[0],O)){const t=arguments[0];return new Mt(t,this)}}}createMultiLineString(){if(0===arguments.length)return new ft(null,this);if(1===arguments.length){const t=arguments[0];return new ft(t,this)}}buildGeometry(t){let e=null,i=!1,n=!1;for(let o=t.iterator();o.hasNext();){const t=o.next(),r=t.getClass();null===e&&(e=r),r!==e&&(i=!0),t instanceof dt&&(n=!0)}if(null===e)return this.createGeometryCollection();if(i||n)return this.createGeometryCollection(Yt.toGeometryArray(t));const o=t.iterator().next();if(t.size()>1){if(o instanceof Nt)return this.createMultiPolygon(Yt.toPolygonArray(t));if(o instanceof Mt)return this.createMultiLineString(Yt.toLineStringArray(t));if(o instanceof Tt)return this.createMultiPoint(Yt.toPointArray(t));u.shouldNeverReachHere("Unhandled class: "+o.getClass().getName())}return o}createMultiPointFromCoords(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}createPoint(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof p){const t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(d(arguments[0],O)){const t=arguments[0];return new Tt(t,this)}}}getCoordinateSequenceFactory(){return this._coordinateSequenceFactory}createPolygon(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(d(arguments[0],O)){const t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){const t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Rt){const t=arguments[0];return this.createPolygon(t,null)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];return new Nt(t,e,this)}}getSRID(){return this._SRID}createGeometryCollection(){if(0===arguments.length)return new dt(null,this);if(1===arguments.length){const t=arguments[0];return new dt(t,this)}}createGeometry(t){return new Ft(this).edit(t,new Xt(this._coordinateSequenceFactory))}getPrecisionModel(){return this._precisionModel}createLinearRing(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(d(arguments[0],O)){const t=arguments[0];return new Rt(t,this)}}}createMultiPolygon(){if(0===arguments.length)return new Ot(null,this);if(1===arguments.length){const t=arguments[0];return new Ot(t,this)}}createMultiPoint(){if(0===arguments.length)return new Dt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];return new Dt(t,this)}if(d(arguments[0],O)){const t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));const e=new Array(t.size()).fill(null);for(let i=0;i<t.size();i++){const n=this.getCoordinateSequenceFactory().create(1,t.getDimension());St.copy(t,i,n,0,1),e[i]=this.createPoint(n)}return this.createMultiPoint(e)}}}getClass(){return Yt}get interfaces_(){return[l]}}class Xt extends Ft.CoordinateSequenceOperation{constructor(){super(),Xt.constructor_.apply(this,arguments)}edit(){if(2===arguments.length&&arguments[1]instanceof G&&d(arguments[0],O)){const t=arguments[0];return this.coordinateSequenceFactory.create(t)}return super.edit.apply(this,arguments)}getClass(){return Xt}get interfaces_(){return[]}}Xt.constructor_=function(){this.coordinateSequenceFactory=null;const t=arguments[0];this.coordinateSequenceFactory=t},Yt.CloneOp=Xt,Yt.constructor_=function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)Yt.constructor_.call(this,new Ut,0);else if(1===arguments.length){if(d(arguments[0],F)){const t=arguments[0];Yt.constructor_.call(this,new Ut,0,t)}else if(arguments[0]instanceof Ut){const t=arguments[0];Yt.constructor_.call(this,t,0,Yt.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e,Yt.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._precisionModel=t,this._coordinateSequenceFactory=i,this._SRID=e}},Yt.serialVersionUID=-0x5ea75f2051eeb400;const Zt={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};class qt{constructor(t){this.geometryFactory=t||new Yt,this.precisionModel=this.geometryFactory.getPrecisionModel()}read(t){var e,i,n;t=t.replace(/[\n\r]/g," ");var o=Zt.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((o=Zt.emptyTypeStr.exec(t))[2]=void 0),o&&(i=o[1].toLowerCase(),n=o[2],Jt[i]&&(e=Jt[i].call(this,n))),void 0===e)throw new Error("Could not parse WKT "+t);return e}write(t){return this.extractGeometry(t)}extractGeometry(t){var e=t.getGeometryType().toLowerCase();if(!Kt[e])return null;var i=e.toUpperCase();return t.isEmpty()?i+" EMPTY":i+"("+Kt[e].call(this,t)+")"}}const Kt={coordinate(t){return this.precisionModel.makePrecise(t),t.x+" "+t.y},point(t){return Kt.coordinate.call(this,t._coordinates._coordinates[0])},multipoint(t){var e=[];for(let i=0,n=t._geometries.length;i<n;++i)e.push("("+Kt.point.call(this,t._geometries[i])+")");return e.join(",")},linestring(t){var e=[];for(let i=0,n=t._points._coordinates.length;i<n;++i)e.push(Kt.coordinate.call(this,t._points._coordinates[i]));return e.join(",")},linearring(t){var e=[];for(let i=0,n=t._points._coordinates.length;i<n;++i)e.push(Kt.coordinate.call(this,t._points._coordinates[i]));return e.join(",")},multilinestring(t){var e=[];for(let i=0,n=t._geometries.length;i<n;++i)e.push("("+Kt.linestring.call(this,t._geometries[i])+")");return e.join(",")},polygon(t){var e=[];e.push("("+Kt.linestring.call(this,t._shell)+")");for(let i=0,n=t._holes.length;i<n;++i)e.push("("+Kt.linestring.call(this,t._holes[i])+")");return e.join(",")},multipolygon(t){var e=[];for(let i=0,n=t._geometries.length;i<n;++i)e.push("("+Kt.polygon.call(this,t._geometries[i])+")");return e.join(",")},geometrycollection(t){var e=[];for(let i=0,n=t._geometries.length;i<n;++i)e.push(this.extractGeometry(t._geometries[i]));return e.join(",")}},Jt={coord(t){var e=t.trim().split(Zt.spaces),i=new p(Number.parseFloat(e[0]),Number.parseFloat(e[1]));return this.precisionModel.makePrecise(i),i},point(t){return void 0===t?this.geometryFactory.createPoint():this.geometryFactory.createPoint(Jt.coord.call(this,t))},multipoint(t){if(void 0===t)return this.geometryFactory.createMultiPoint();var e,i=t.trim().split(","),n=[];for(let t=0,o=i.length;t<o;++t)e=i[t].replace(Zt.trimParens,"$1"),n.push(Jt.point.call(this,e));return this.geometryFactory.createMultiPoint(n)},linestring(t){if(void 0===t)return this.geometryFactory.createLineString();var e=t.trim().split(","),i=[];for(let t=0,n=e.length;t<n;++t)i.push(Jt.coord.call(this,e[t]));return this.geometryFactory.createLineString(i)},linearring(t){if(void 0===t)return this.geometryFactory.createLinearRing();var e=t.trim().split(","),i=[];for(let t=0,n=e.length;t<n;++t)i.push(Jt.coord.call(this,e[t]));return this.geometryFactory.createLinearRing(i)},multilinestring(t){if(void 0===t)return this.geometryFactory.createMultiLineString();var e,i=t.trim().split(Zt.parenComma),n=[];for(let t=0,o=i.length;t<o;++t)e=i[t].replace(Zt.trimParens,"$1"),n.push(Jt.linestring.call(this,e));return this.geometryFactory.createMultiLineString(n)},polygon(t){if(void 0===t)return this.geometryFactory.createPolygon();var e,i,n,o,r=t.trim().split(Zt.parenComma),s=[];for(let t=0,a=r.length;t<a;++t)e=r[t].replace(Zt.trimParens,"$1"),i=Jt.linestring.call(this,e),n=this.geometryFactory.createLinearRing(i._points),0===t?o=n:s.push(n);return this.geometryFactory.createPolygon(o,s)},multipolygon(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();var e,i=t.trim().split(Zt.doubleParenComma),n=[];for(let t=0,o=i.length;t<o;++t)e=i[t].replace(Zt.trimParens,"$1"),n.push(Jt.polygon.call(this,e));return this.geometryFactory.createMultiPolygon(n)},geometrycollection(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),i=[];for(let t=0,n=e.length;t<n;++t)i.push(this.read(e[t]));return this.geometryFactory.createGeometryCollection(i)}};class Qt{constructor(t){this.parser=new qt(t)}write(t){return this.parser.write(t)}static toLineString(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}class $t{constructor(){$t.constructor_.apply(this,arguments)}static computeEdgeDistance(t,e,i){const n=Math.abs(i.x-e.x),o=Math.abs(i.y-e.y);let r=-1;if(t.equals(e))r=0;else if(t.equals(i))r=n>o?n:o;else{const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(r=n>o?i:s)||t.equals(e)||(r=Math.max(i,s))}return u.isTrue(!(0===r&&!t.equals(e)),"Bad distance calculation"),r}static nonRobustComputeEdgeDistance(t,e,i){const n=t.x-e.x,o=t.y-e.y,r=Math.sqrt(n*n+o*o);return u.isTrue(!(0===r&&!t.equals(e)),"Invalid distance calculation"),r}getIndexAlongSegment(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}getTopologySummary(){const t=new wt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()}computeIntersection(t,e,i,n){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=i,this._inputLines[1][1]=n,this._result=this.computeIntersect(t,e,i,n)}getIntersectionNum(){return this._result}computeIntLineIndex(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(()=>Array(2)),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){const t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}isProper(){return this.hasIntersection()&&this._isProper}setPrecisionModel(t){this._precisionModel=t}isInteriorIntersection(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){const t=arguments[0];for(let e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}getIntersection(t){return this._intPt[t]}isEndPoint(){return this.hasIntersection()&&!this._isProper}hasIntersection(){return this._result!==$t.NO_INTERSECTION}getEdgeDistance(t,e){return $t.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])}isCollinear(){return this._result===$t.COLLINEAR_INTERSECTION}toString(){return Qt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Qt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}getEndpoint(t,e){return this._inputLines[t][e]}isIntersection(t){for(let e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}getIntersectionAlongSegment(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}getClass(){return $t}get interfaces_(){return[]}}$t.constructor_=function(){this._result=null,this._inputLines=Array(2).fill().map(()=>Array(2)),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new p,this._intPt[1]=new p,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},$t.DONT_INTERSECT=0,$t.DO_INTERSECT=1,$t.COLLINEAR=2,$t.NO_INTERSECTION=0,$t.POINT_INTERSECTION=1,$t.COLLINEAR_INTERSECTION=2;class te extends $t{constructor(){super(),te.constructor_.apply(this,arguments)}static nearestEndpoint(t,e,i,n){let o=t,r=R.pointToSegment(t,i,n),s=R.pointToSegment(e,i,n);return s<r&&(r=s,o=e),(s=R.pointToSegment(i,t,e))<r&&(r=s,o=i),(s=R.pointToSegment(n,t,e))<r&&(r=s,o=n),o}isInSegmentEnvelopes(t){const e=new I(this._inputLines[0][0],this._inputLines[0][1]),i=new I(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&i.contains(t)}computeIntersection(){if(3!==arguments.length)return super.computeIntersection.apply(this,arguments);{const t=arguments[0],e=arguments[1],i=arguments[2];if(this._isProper=!1,I.intersects(e,i,t)&&0===P.index(e,i,t)&&0===P.index(i,e,t))return this._isProper=!0,(t.equals(e)||t.equals(i))&&(this._isProper=!1),this._result=$t.POINT_INTERSECTION,null;this._result=$t.NO_INTERSECTION}}normalizeToMinimum(t,e,i,n,o){o.x=this.smallestInAbsValue(t.x,e.x,i.x,n.x),o.y=this.smallestInAbsValue(t.y,e.y,i.y,n.y),t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,i.x-=o.x,i.y-=o.y,n.x-=o.x,n.y-=o.y}safeHCoordinateIntersection(t,e,i,n){let o=null;try{o=N.intersection(t,e,i,n)}catch(r){if(!(r instanceof b))throw r;o=te.nearestEndpoint(t,e,i,n)}return o}intersection(t,e,i,n){let o=this.intersectionWithNormalization(t,e,i,n);return this.isInSegmentEnvelopes(o)||(o=new p(te.nearestEndpoint(t,e,i,n))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o}smallestInAbsValue(t,e,i,n){let o=t,r=Math.abs(o);return Math.abs(e)<r&&(o=e,r=Math.abs(e)),Math.abs(i)<r&&(o=i,r=Math.abs(i)),Math.abs(n)<r&&(o=n),o}checkDD(t,e,i,n,o){const r=T.intersection(t,e,i,n),s=this.isInSegmentEnvelopes(r);L.out.println("DD in env = "+s+"  --------------------- "+r),o.distance(r)>1e-4&&L.out.println("Distance = "+o.distance(r))}intersectionWithNormalization(t,e,i,n){const o=new p(t),r=new p(e),s=new p(i),a=new p(n),l=new p;this.normalizeToEnvCentre(o,r,s,a,l);const h=this.safeHCoordinateIntersection(o,r,s,a);return h.x+=l.x,h.y+=l.y,h}computeCollinearIntersection(t,e,i,n){const o=I.intersects(t,e,i),r=I.intersects(t,e,n),s=I.intersects(i,n,t),a=I.intersects(i,n,e);return o&&r?(this._intPt[0]=i,this._intPt[1]=n,$t.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=t,this._intPt[1]=e,$t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?$t.COLLINEAR_INTERSECTION:$t.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||s?$t.COLLINEAR_INTERSECTION:$t.POINT_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?$t.COLLINEAR_INTERSECTION:$t.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?$t.COLLINEAR_INTERSECTION:$t.POINT_INTERSECTION):$t.NO_INTERSECTION}normalizeToEnvCentre(t,e,i,n,o){const r=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,h=i.x<n.x?i.x:n.x,c=i.y<n.y?i.y:n.y,u=i.x>n.x?i.x:n.x,p=i.y>n.y?i.y:n.y,g=((r>h?r:h)+(a<u?a:u))/2,d=((s>c?s:c)+(l<p?l:p))/2;o.x=g,o.y=d,t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,i.x-=o.x,i.y-=o.y,n.x-=o.x,n.y-=o.y}computeIntersect(t,e,i,n){if(this._isProper=!1,!I.intersects(t,e,i,n))return $t.NO_INTERSECTION;const o=P.index(t,e,i),r=P.index(t,e,n);if(o>0&&r>0||o<0&&r<0)return $t.NO_INTERSECTION;const s=P.index(i,n,t),a=P.index(i,n,e);return s>0&&a>0||s<0&&a<0?$t.NO_INTERSECTION:0===o&&0===r&&0===s&&0===a?this.computeCollinearIntersection(t,e,i,n):(0===o||0===r||0===s||0===a?(this._isProper=!1,t.equals2D(i)||t.equals2D(n)?this._intPt[0]=t:e.equals2D(i)||e.equals2D(n)?this._intPt[0]=e:0===o?this._intPt[0]=new p(i):0===r?this._intPt[0]=new p(n):0===s?this._intPt[0]=new p(t):0===a&&(this._intPt[0]=new p(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,i,n)),$t.POINT_INTERSECTION)}getClass(){return te}get interfaces_(){return[]}}te.constructor_=function(){};class ee{constructor(){ee.constructor_.apply(this,arguments)}static midPoint(t,e){return new p((t.x+e.x)/2,(t.y+e.y)/2)}minX(){return Math.min(this.p0.x,this.p1.x)}orientationIndex(){if(arguments[0]instanceof ee){const t=arguments[0],e=P.index(this.p0,this.p1,t.p0),i=P.index(this.p0,this.p1,t.p1);return e>=0&&i>=0||e<=0&&i<=0?Math.max(e,i):0}if(arguments[0]instanceof p){const t=arguments[0];return P.index(this.p0,this.p1,t)}}toGeometry(t){return t.createLineString([this.p0,this.p1])}isVertical(){return this.p0.x===this.p1.x}equals(t){if(!(t instanceof ee))return!1;const e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)}intersection(t){const e=new te;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}project(){if(arguments[0]instanceof p){const t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new p(t);const e=this.projectionFactor(t),i=new p;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof ee){const t=arguments[0],e=this.projectionFactor(t.p0),i=this.projectionFactor(t.p1);if(e>=1&&i>=1)return null;if(e<=0&&i<=0)return null;let n=this.project(t.p0);e<0&&(n=this.p0),e>1&&(n=this.p1);let o=this.project(t.p1);return i<0&&(o=this.p0),i>1&&(o=this.p1),new ee(n,o)}}normalize(){this.p1.compareTo(this.p0)<0&&this.reverse()}angle(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}getCoordinate(t){return 0===t?this.p0:this.p1}distancePerpendicular(t){return R.pointToLinePerpendicular(t,this.p0,this.p1)}minY(){return Math.min(this.p0.y,this.p1.y)}midPoint(){return ee.midPoint(this.p0,this.p1)}projectionFactor(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;const e=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,n=e*e+i*i;return n<=0?o.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*i)/n}closestPoints(t){const e=this.intersection(t);if(null!==e)return[e,e];const i=new Array(2).fill(null);let n=o.MAX_VALUE,r=null;const s=this.closestPoint(t.p0);n=s.distance(t.p0),i[0]=s,i[1]=t.p0;const a=this.closestPoint(t.p1);(r=a.distance(t.p1))<n&&(n=r,i[0]=a,i[1]=t.p1);const l=t.closestPoint(this.p0);(r=l.distance(this.p0))<n&&(n=r,i[0]=this.p0,i[1]=l);const h=t.closestPoint(this.p1);return(r=h.distance(this.p1))<n&&(n=r,i[0]=this.p1,i[1]=h),i}closestPoint(t){const e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}maxX(){return Math.max(this.p0.x,this.p1.x)}getLength(){return this.p0.distance(this.p1)}compareTo(t){const e=t,i=this.p0.compareTo(e.p0);return 0!==i?i:this.p1.compareTo(e.p1)}reverse(){const t=this.p0;this.p0=this.p1,this.p1=t}equalsTopo(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}lineIntersection(t){try{return N.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof b))throw t}return null}maxY(){return Math.max(this.p0.y,this.p1.y)}pointAlongOffset(t,e){const i=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,s=Math.sqrt(o*o+r*r);let a=0,l=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*o/s,l=e*r/s}return new p(i-l,n+a)}setCoordinates(){if(1===arguments.length){const t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=e.x,this.p1.y=e.y}}segmentFraction(t){let e=this.projectionFactor(t);return e<0?e=0:(e>1||o.isNaN(e))&&(e=1),e}toString(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}isHorizontal(){return this.p0.y===this.p1.y}distance(){if(arguments[0]instanceof ee){const t=arguments[0];return R.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof p){const t=arguments[0];return R.pointToSegment(t,this.p0,this.p1)}}pointAlong(t){const e=new p;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}hashCode(){let t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);const e=Math.trunc(t)^Math.trunc(t>>32);let i=java.lang.Double.doubleToLongBits(this.p1.x);return i^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(i)^Math.trunc(i>>32)}getClass(){return ee}get interfaces_(){return[r,l]}}ee.constructor_=function(){if(this.p0=null,this.p1=null,0===arguments.length)ee.constructor_.call(this,new p,new p);else if(1===arguments.length){const t=arguments[0];ee.constructor_.call(this,t.p0,t.p1)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.p0=t,this.p1=e}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];ee.constructor_.call(this,new p(t,e),new p(i,n))}},ee.serialVersionUID=0x2d2172135f411c00;class ie{constructor(){ie.constructor_.apply(this,arguments)}static toLocationSymbol(t){switch(t){case ie.EXTERIOR:return"e";case ie.BOUNDARY:return"b";case ie.INTERIOR:return"i";case ie.NONE:return"-"}throw new i("Unknown location value: "+t)}getClass(){return ie}get interfaces_(){return[]}}ie.constructor_=function(){},ie.INTERIOR=0,ie.BOUNDARY=1,ie.EXTERIOR=2,ie.NONE=-1;class ne{constructor(){ne.constructor_.apply(this,arguments)}static matches(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return e===ut.SYM_DONTCARE||e===ut.SYM_TRUE&&(t>=0||t===ut.TRUE)||e===ut.SYM_FALSE&&t===ut.FALSE||e===ut.SYM_P&&t===ut.P||e===ut.SYM_L&&t===ut.L||e===ut.SYM_A&&t===ut.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){const t=arguments[0],e=arguments[1];return new ne(t).matches(e)}}static isTrue(t){return t>=0||t===ut.TRUE}isIntersects(){return!this.isDisjoint()}isCovers(){return(ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])||ne.isTrue(this._matrix[ie.INTERIOR][ie.BOUNDARY])||ne.isTrue(this._matrix[ie.BOUNDARY][ie.INTERIOR])||ne.isTrue(this._matrix[ie.BOUNDARY][ie.BOUNDARY]))&&this._matrix[ie.EXTERIOR][ie.INTERIOR]===ut.FALSE&&this._matrix[ie.EXTERIOR][ie.BOUNDARY]===ut.FALSE}isCoveredBy(){return(ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])||ne.isTrue(this._matrix[ie.INTERIOR][ie.BOUNDARY])||ne.isTrue(this._matrix[ie.BOUNDARY][ie.INTERIOR])||ne.isTrue(this._matrix[ie.BOUNDARY][ie.BOUNDARY]))&&this._matrix[ie.INTERIOR][ie.EXTERIOR]===ut.FALSE&&this._matrix[ie.BOUNDARY][ie.EXTERIOR]===ut.FALSE}set(){if(1===arguments.length){const t=arguments[0];for(let e=0;e<t.length;e++){const i=Math.trunc(e/3),n=e%3;this._matrix[i][n]=ut.toDimensionValue(t.charAt(e))}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._matrix[t][e]=i}}isContains(){return ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])&&this._matrix[ie.EXTERIOR][ie.INTERIOR]===ut.FALSE&&this._matrix[ie.EXTERIOR][ie.BOUNDARY]===ut.FALSE}setAtLeast(){if(1===arguments.length){const t=arguments[0];for(let e=0;e<t.length;e++){const i=Math.trunc(e/3),n=e%3;this.setAtLeast(i,n,ut.toDimensionValue(t.charAt(e)))}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._matrix[t][e]<i&&(this._matrix[t][e]=i)}}setAtLeastIfValid(t,e,i){t>=0&&e>=0&&this.setAtLeast(t,e,i)}isWithin(){return ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])&&this._matrix[ie.INTERIOR][ie.EXTERIOR]===ut.FALSE&&this._matrix[ie.BOUNDARY][ie.EXTERIOR]===ut.FALSE}isTouches(t,e){return t>e?this.isTouches(e,t):(t===ut.A&&e===ut.A||t===ut.L&&e===ut.L||t===ut.L&&e===ut.A||t===ut.P&&e===ut.A||t===ut.P&&e===ut.L)&&this._matrix[ie.INTERIOR][ie.INTERIOR]===ut.FALSE&&(ne.isTrue(this._matrix[ie.INTERIOR][ie.BOUNDARY])||ne.isTrue(this._matrix[ie.BOUNDARY][ie.INTERIOR])||ne.isTrue(this._matrix[ie.BOUNDARY][ie.BOUNDARY]))}isOverlaps(t,e){return t===ut.P&&e===ut.P||t===ut.A&&e===ut.A?ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])&&ne.isTrue(this._matrix[ie.INTERIOR][ie.EXTERIOR])&&ne.isTrue(this._matrix[ie.EXTERIOR][ie.INTERIOR]):t===ut.L&&e===ut.L&&1===this._matrix[ie.INTERIOR][ie.INTERIOR]&&ne.isTrue(this._matrix[ie.INTERIOR][ie.EXTERIOR])&&ne.isTrue(this._matrix[ie.EXTERIOR][ie.INTERIOR])}isEquals(t,e){return t===e&&ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])&&this._matrix[ie.INTERIOR][ie.EXTERIOR]===ut.FALSE&&this._matrix[ie.BOUNDARY][ie.EXTERIOR]===ut.FALSE&&this._matrix[ie.EXTERIOR][ie.INTERIOR]===ut.FALSE&&this._matrix[ie.EXTERIOR][ie.BOUNDARY]===ut.FALSE}toString(){const t=new wt("123456789");for(let e=0;e<3;e++)for(let i=0;i<3;i++)t.setCharAt(3*e+i,ut.toDimensionSymbol(this._matrix[e][i]));return t.toString()}setAll(t){for(let e=0;e<3;e++)for(let i=0;i<3;i++)this._matrix[e][i]=t}get(t,e){return this._matrix[t][e]}transpose(){let t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}matches(t){if(9!==t.length)throw new i("Should be length 9: "+t);for(let e=0;e<3;e++)for(let i=0;i<3;i++)if(!ne.matches(this._matrix[e][i],t.charAt(3*e+i)))return!1;return!0}add(t){for(let e=0;e<3;e++)for(let i=0;i<3;i++)this.setAtLeast(e,i,t.get(e,i))}isDisjoint(){return this._matrix[ie.INTERIOR][ie.INTERIOR]===ut.FALSE&&this._matrix[ie.INTERIOR][ie.BOUNDARY]===ut.FALSE&&this._matrix[ie.BOUNDARY][ie.INTERIOR]===ut.FALSE&&this._matrix[ie.BOUNDARY][ie.BOUNDARY]===ut.FALSE}isCrosses(t,e){return t===ut.P&&e===ut.L||t===ut.P&&e===ut.A||t===ut.L&&e===ut.A?ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])&&ne.isTrue(this._matrix[ie.INTERIOR][ie.EXTERIOR]):t===ut.L&&e===ut.P||t===ut.A&&e===ut.P||t===ut.A&&e===ut.L?ne.isTrue(this._matrix[ie.INTERIOR][ie.INTERIOR])&&ne.isTrue(this._matrix[ie.EXTERIOR][ie.INTERIOR]):t===ut.L&&e===ut.L&&0===this._matrix[ie.INTERIOR][ie.INTERIOR]}getClass(){return ne}get interfaces_(){return[s]}}ne.constructor_=function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(()=>Array(3)),this.setAll(ut.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){const t=arguments[0];ne.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof ne){const t=arguments[0];ne.constructor_.call(this),this._matrix[ie.INTERIOR][ie.INTERIOR]=t._matrix[ie.INTERIOR][ie.INTERIOR],this._matrix[ie.INTERIOR][ie.BOUNDARY]=t._matrix[ie.INTERIOR][ie.BOUNDARY],this._matrix[ie.INTERIOR][ie.EXTERIOR]=t._matrix[ie.INTERIOR][ie.EXTERIOR],this._matrix[ie.BOUNDARY][ie.INTERIOR]=t._matrix[ie.BOUNDARY][ie.INTERIOR],this._matrix[ie.BOUNDARY][ie.BOUNDARY]=t._matrix[ie.BOUNDARY][ie.BOUNDARY],this._matrix[ie.BOUNDARY][ie.EXTERIOR]=t._matrix[ie.BOUNDARY][ie.EXTERIOR],this._matrix[ie.EXTERIOR][ie.INTERIOR]=t._matrix[ie.EXTERIOR][ie.INTERIOR],this._matrix[ie.EXTERIOR][ie.BOUNDARY]=t._matrix[ie.EXTERIOR][ie.BOUNDARY],this._matrix[ie.EXTERIOR][ie.EXTERIOR]=t._matrix[ie.EXTERIOR][ie.EXTERIOR]}};class oe{constructor(){oe.constructor_.apply(this,arguments)}static toDegrees(t){return 180*t/Math.PI}static normalize(t){for(;t>Math.PI;)t-=oe.PI_TIMES_2;for(;t<=-Math.PI;)t+=oe.PI_TIMES_2;return t}static angle(){if(1===arguments.length){const t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=e.x-t.x,n=e.y-t.y;return Math.atan2(n,i)}}static isAcute(t,e,i){const n=t.x-e.x,o=t.y-e.y;return n*(i.x-e.x)+o*(i.y-e.y)>0}static isObtuse(t,e,i){const n=t.x-e.x,o=t.y-e.y;return n*(i.x-e.x)+o*(i.y-e.y)<0}static interiorAngle(t,e,i){const n=oe.angle(e,t),o=oe.angle(e,i);return Math.abs(o-n)}static normalizePositive(t){if(t<0){for(;t<0;)t+=oe.PI_TIMES_2;t>=oe.PI_TIMES_2&&(t=0)}else{for(;t>=oe.PI_TIMES_2;)t-=oe.PI_TIMES_2;t<0&&(t=0)}return t}static angleBetween(t,e,i){const n=oe.angle(e,t),o=oe.angle(e,i);return oe.diff(n,o)}static diff(t,e){let i=null;return(i=t<e?e-t:t-e)>Math.PI&&(i=2*Math.PI-i),i}static toRadians(t){return t*Math.PI/180}static getTurn(t,e){const i=Math.sin(e-t);return i>0?oe.COUNTERCLOCKWISE:i<0?oe.CLOCKWISE:oe.NONE}static angleBetweenOriented(t,e,i){const n=oe.angle(e,t),o=oe.angle(e,i)-n;return o<=-Math.PI?o+oe.PI_TIMES_2:o>Math.PI?o-oe.PI_TIMES_2:o}getClass(){return oe}get interfaces_(){return[]}}oe.constructor_=function(){},oe.PI_TIMES_2=2*Math.PI,oe.PI_OVER_2=Math.PI/2,oe.PI_OVER_4=Math.PI/4,oe.COUNTERCLOCKWISE=P.COUNTERCLOCKWISE,oe.CLOCKWISE=P.CLOCKWISE,oe.NONE=P.COLLINEAR;class re{constructor(){re.constructor_.apply(this,arguments)}static area(t,e,i){return Math.abs(((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2)}static signedArea(t,e,i){return((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2}static det(t,e,i,n){return t*n-e*i}static interpolateZ(t,e,i,n){const o=e.x,r=e.y,s=i.x-o,a=n.x-o,l=i.y-r,h=n.y-r,c=s*h-a*l,u=t.x-o,p=t.y-r,g=(h*u-a*p)/c,d=(-l*u+s*p)/c;return e.z+g*(i.z-e.z)+d*(n.z-e.z)}static longestSideLength(t,e,i){const n=t.distance(e),o=e.distance(i),r=i.distance(t);let s=n;return o>s&&(s=o),r>s&&(s=r),s}static isAcute(t,e,i){return!!oe.isAcute(t,e,i)&&!!oe.isAcute(e,i,t)&&!!oe.isAcute(i,t,e)}static circumcentre(t,e,i){const n=i.x,o=i.y,r=t.x-n,s=t.y-o,a=e.x-n,l=e.y-o,h=2*re.det(r,s,a,l),c=re.det(s,r*r+s*s,l,a*a+l*l),u=re.det(r,r*r+s*s,a,a*a+l*l);return new p(n-c/h,o+u/h)}static perpendicularBisector(t,e){const i=e.x-t.x,n=e.y-t.y,o=new N(t.x+i/2,t.y+n/2,1),r=new N(t.x-n+i/2,t.y+i+n/2,1);return new N(o,r)}static angleBisector(t,e,i){const n=e.distance(t),o=n/(n+e.distance(i)),r=i.x-t.x,s=i.y-t.y;return new p(t.x+o*r,t.y+o*s)}static area3D(t,e,i){const n=e.x-t.x,o=e.y-t.y,r=e.z-t.z,s=i.x-t.x,a=i.y-t.y,l=i.z-t.z,h=o*l-r*a,c=r*s-n*l,u=n*a-o*s,p=h*h+c*c+u*u;return Math.sqrt(p)/2}static centroid(t,e,i){const n=(t.x+e.x+i.x)/3,o=(t.y+e.y+i.y)/3;return new p(n,o)}static inCentre(t,e,i){const n=e.distance(i),o=t.distance(i),r=t.distance(e),s=n+o+r,a=(n*t.x+o*e.x+r*i.x)/s,l=(n*t.y+o*e.y+r*i.y)/s;return new p(a,l)}area(){return re.area(this.p0,this.p1,this.p2)}signedArea(){return re.signedArea(this.p0,this.p1,this.p2)}interpolateZ(t){if(null===t)throw new i("Supplied point is null.");return re.interpolateZ(t,this.p0,this.p1,this.p2)}longestSideLength(){return re.longestSideLength(this.p0,this.p1,this.p2)}isAcute(){return re.isAcute(this.p0,this.p1,this.p2)}circumcentre(){return re.circumcentre(this.p0,this.p1,this.p2)}area3D(){return re.area3D(this.p0,this.p1,this.p2)}centroid(){return re.centroid(this.p0,this.p1,this.p2)}inCentre(){return re.inCentre(this.p0,this.p1,this.p2)}getClass(){return re}get interfaces_(){return[]}}re.constructor_=function(){this.p0=null,this.p1=null,this.p2=null;const t=arguments[0],e=arguments[1],i=arguments[2];this.p0=t,this.p1=e,this.p2=i};class se extends A{constructor(){super(),se.constructor_.apply(this,arguments)}getClass(){return se}get interfaces_(){return[]}}se.constructor_=function(){if(0===arguments.length)A.constructor_.call(this);else if(1===arguments.length){const t=arguments[0];A.constructor_.call(this,t)}};class ae{constructor(){ae.constructor_.apply(this,arguments)}static translationInstance(t,e){const i=new ae;return i.setToTranslation(t,e),i}static shearInstance(t,e){const i=new ae;return i.setToShear(t,e),i}static reflectionInstance(){if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new ae;return i.setToReflection(t,e),i}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=new ae;return o.setToReflection(t,e,i,n),o}}static rotationInstance(){if(1===arguments.length){const t=arguments[0];return ae.rotationInstance(Math.sin(t),Math.cos(t))}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new ae;return i.setToRotation(t,e),i}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return ae.rotationInstance(Math.sin(t),Math.cos(t),e,i)}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=new ae;return o.setToRotation(t,e,i,n),o}}static scaleInstance(){if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new ae;return i.setToScale(t,e),i}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=new ae;return o.translate(-i,-n),o.scale(t,e),o.translate(i,n),o}}setToReflectionBasic(t,e,n,o){if(t===n&&e===o)throw new i("Reflection line points must be distinct");const r=n-t,s=o-e,a=Math.sqrt(r*r+s*s),l=s/a,h=r/a,c=2*l*h,u=h*h-l*l;return this._m00=u,this._m01=c,this._m02=0,this._m10=c,this._m11=-u,this._m12=0,this}getInverse(){const t=this.getDeterminant();if(0===t)throw new se("Transformation is non-invertible");const e=this._m11/t,i=-this._m10/t,n=-this._m01/t,o=this._m00/t,r=(this._m01*this._m12-this._m02*this._m11)/t,s=(-this._m00*this._m12+this._m10*this._m02)/t;return new ae(e,n,r,i,o,s)}compose(t){const e=t._m00*this._m00+t._m01*this._m10,i=t._m00*this._m01+t._m01*this._m11,n=t._m00*this._m02+t._m01*this._m12+t._m02,o=t._m10*this._m00+t._m11*this._m10,r=t._m10*this._m01+t._m11*this._m11,s=t._m10*this._m02+t._m11*this._m12+t._m12;return this._m00=e,this._m01=i,this._m02=n,this._m10=o,this._m11=r,this._m12=s,this}equals(t){if(null===t)return!1;if(!(t instanceof ae))return!1;const e=t;return this._m00===e._m00&&this._m01===e._m01&&this._m02===e._m02&&this._m10===e._m10&&this._m11===e._m11&&this._m12===e._m12}setToScale(t,e){return this._m00=t,this._m01=0,this._m02=0,this._m10=0,this._m11=e,this._m12=0,this}isIdentity(){return 1===this._m00&&0===this._m01&&0===this._m02&&0===this._m10&&1===this._m11&&0===this._m12}scale(t,e){return this.compose(ae.scaleInstance(t,e)),this}setToIdentity(){return this._m00=1,this._m01=0,this._m02=0,this._m10=0,this._m11=1,this._m12=0,this}isGeometryChanged(){return!0}setTransformation(){if(1===arguments.length){const t=arguments[0];return this._m00=t._m00,this._m01=t._m01,this._m02=t._m02,this._m10=t._m10,this._m11=t._m11,this._m12=t._m12,this}if(6===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];return this._m00=t,this._m01=e,this._m02=i,this._m10=n,this._m11=o,this._m12=r,this}}setToRotation(){if(1===arguments.length){const t=arguments[0];return this.setToRotation(Math.sin(t),Math.cos(t)),this}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this._m00=e,this._m01=-t,this._m02=0,this._m10=t,this._m11=e,this._m12=0,this}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return this.setToRotation(Math.sin(t),Math.cos(t),e,i),this}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];return this._m00=e,this._m01=-t,this._m02=i-i*e+n*t,this._m10=t,this._m11=e,this._m12=n-i*t-n*e,this}}getMatrixEntries(){return[this._m00,this._m01,this._m02,this._m10,this._m11,this._m12]}filter(t,e){this.transform(t,e)}rotate(){if(1===arguments.length){const t=arguments[0];return this.compose(ae.rotationInstance(t)),this}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.compose(ae.rotationInstance(t,e)),this}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return this.compose(ae.rotationInstance(t,e,i)),this}if(4===arguments.length){const t=arguments[0],e=arguments[1];return this.compose(ae.rotationInstance(t,e)),this}}getDeterminant(){return this._m00*this._m11-this._m01*this._m10}composeBefore(t){const e=this._m00*t._m00+this._m01*t._m10,i=this._m00*t._m01+this._m01*t._m11,n=this._m00*t._m02+this._m01*t._m12+this._m02,o=this._m10*t._m00+this._m11*t._m10,r=this._m10*t._m01+this._m11*t._m11,s=this._m10*t._m02+this._m11*t._m12+this._m12;return this._m00=e,this._m01=i,this._m02=n,this._m10=o,this._m11=r,this._m12=s,this}setToShear(t,e){return this._m00=1,this._m01=t,this._m02=0,this._m10=e,this._m11=1,this._m12=0,this}isDone(){return!1}clone(){try{return null}catch(t){if(!(t instanceof A))throw t;u.shouldNeverReachHere()}return null}translate(t,e){return this.compose(ae.translationInstance(t,e)),this}setToReflection(){if(2===arguments.length){const t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Reflection vector must be non-zero");if(t===e)return this._m00=0,this._m01=1,this._m02=0,this._m10=1,this._m11=0,this._m12=0,this;const n=Math.sqrt(t*t+e*e),o=e/n,r=t/n;return this.rotate(-o,r),this.scale(1,-1),this.rotate(o,r),this}if(4===arguments.length){const t=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3];if(t===n&&e===o)throw new i("Reflection line points must be distinct");this.setToTranslation(-t,-e);const r=n-t,s=o-e,a=Math.sqrt(r*r+s*s),l=s/a,h=r/a;return this.rotate(-l,h),this.scale(1,-1),this.rotate(l,h),this.translate(t,e),this}}toString(){return"AffineTransformation[["+this._m00+", "+this._m01+", "+this._m02+"], ["+this._m10+", "+this._m11+", "+this._m12+"]]"}setToTranslation(t,e){return this._m00=1,this._m01=0,this._m02=t,this._m10=0,this._m11=1,this._m12=e,this}shear(t,e){return this.compose(ae.shearInstance(t,e)),this}transform(){if(1===arguments.length){const t=arguments[0].copy();return t.apply(this),t}if(2===arguments.length){if(arguments[0]instanceof p&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],i=this._m00*t.x+this._m01*t.y+this._m02,n=this._m10*t.x+this._m11*t.y+this._m12;return e.x=i,e.y=n,e}if(d(arguments[0],O)&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],i=this._m00*t.getOrdinate(e,0)+this._m01*t.getOrdinate(e,1)+this._m02,n=this._m10*t.getOrdinate(e,0)+this._m11*t.getOrdinate(e,1)+this._m12;t.setOrdinate(e,0,i),t.setOrdinate(e,1,n)}}}reflect(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.compose(ae.reflectionInstance(t,e)),this}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];return this.compose(ae.reflectionInstance(t,e,i,n)),this}}getClass(){return ae}get interfaces_(){return[s,gt]}}ae.constructor_=function(){if(this._m00=null,this._m01=null,this._m02=null,this._m10=null,this._m11=null,this._m12=null,0===arguments.length)this.setToIdentity();else if(1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];this._m00=t[0],this._m01=t[1],this._m02=t[2],this._m10=t[3],this._m11=t[4],this._m12=t[5]}else if(arguments[0]instanceof ae){const t=arguments[0];this.setTransformation(t)}}else if(6===arguments.length&&"number"==typeof arguments[5]&&"number"==typeof arguments[4]&&"number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];this.setTransformation(t,e,i,n,o,r)}};class le{constructor(){le.constructor_.apply(this,arguments)}static solve(t,e){const n=e.length;if(t.length!==n||t[0].length!==n)throw new i("Matrix A is incorrectly sized");for(let i=0;i<n;i++){let o=i;for(let e=i+1;e<n;e++)Math.abs(t[e][i])>Math.abs(t[o][i])&&(o=e);if(0===t[o][i])return null;le.swapRows(t,i,o),le.swapRows(e,i,o);for(let o=i+1;o<n;o++){const r=t[o][i]/t[i][i];for(let e=n-1;e>=i;e--)t[o][e]-=t[i][e]*r;e[o]-=e[i]*r}}const o=new Array(n).fill(null);for(let i=n-1;i>=0;i--){let r=0;for(let e=i+1;e<n;e++)r+=t[i][e]*o[e];o[i]=(e[i]-r)/t[i][i]}return o}static swapRows(){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],i=arguments[2];if(e===i)return null;for(let n=0;n<t[0].length;n++){const o=t[e][n];t[e][n]=t[i][n],t[i][n]=o}}else if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1],i=arguments[2];if(e===i)return null;const n=t[e];t[e]=t[i],t[i]=n}}getClass(){return le}get interfaces_(){return[]}}le.constructor_=function(){};class he{constructor(){he.constructor_.apply(this,arguments)}solve(t){const e=[[this._src0.x,this._src0.y,1],[this._src1.x,this._src1.y,1],[this._src2.x,this._src2.y,1]];return le.solve(e,t)}compute(){const t=[this._dest0.x,this._dest1.x,this._dest2.x],e=this.solve(t);if(null===e)return!1;this._m00=e[0],this._m01=e[1],this._m02=e[2];const i=[this._dest0.y,this._dest1.y,this._dest2.y],n=this.solve(i);return null!==n&&(this._m10=n[0],this._m11=n[1],this._m12=n[2],!0)}getTransformation(){return this.compute()?new ae(this._m00,this._m01,this._m02,this._m10,this._m11,this._m12):null}getClass(){return he}get interfaces_(){return[]}}he.constructor_=function(){this._src0=null,this._src1=null,this._src2=null,this._dest0=null,this._dest1=null,this._dest2=null,this._m00=null,this._m01=null,this._m02=null,this._m10=null,this._m11=null,this._m12=null;const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];this._src0=t,this._src1=e,this._src2=i,this._dest0=n,this._dest1=o,this._dest2=r};class ce{constructor(){ce.constructor_.apply(this,arguments)}static createFromBaseLines(t,e,i,n){const o=new p(t.x+n.x-i.x,t.y+n.y-i.y),r=oe.angleBetweenOriented(e,t,o),s=e.distance(t),a=n.distance(i);if(0===s)return new ae;const l=a/s,h=ae.translationInstance(-t.x,-t.y);return h.rotate(r),h.scale(l,l),h.translate(i.x,i.y),h}static createFromControlVectors(){if(2===arguments.length){if(arguments[0]instanceof p&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],i=e.x-t.x,n=e.y-t.y;return ae.translationInstance(i,n)}if(arguments[0]instanceof Array&&arguments[1]instanceof Array){const t=arguments[0],e=arguments[1];if(t.length!==e.length)throw new i("Src and Dest arrays are not the same length");if(t.length<=0)throw new i("Too few control points");if(t.length>3)throw new i("Too many control points");return 1===t.length?ce.createFromControlVectors(t[0],e[0]):2===t.length?ce.createFromControlVectors(t[0],t[1],e[0],e[1]):ce.createFromControlVectors(t[0],t[1],t[2],e[0],e[1],e[2])}}else{if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=new p(n.x-i.x,n.y-i.y),r=oe.angleBetweenOriented(e,t,o),s=e.distance(t),a=n.distance(i);if(0===s)return null;const l=a/s,h=ae.translationInstance(-t.x,-t.y);return h.rotate(r),h.scale(l,l),h.translate(i.x,i.y),h}if(6===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];return new he(t,e,i,n,o,r).getTransformation()}}}getClass(){return ce}get interfaces_(){return[]}}ce.constructor_=function(){};class ue{constructor(){ue.constructor_.apply(this,arguments)}static getCoordinates(t){const e=new _;return t.apply(new ue(e)),e}filter(t){(t instanceof Mt||t instanceof Tt)&&this._coords.add(t.getCoordinate())}getClass(){return ue}get interfaces_(){return[k]}}ue.constructor_=function(){this._coords=null;const t=arguments[0];this._coords=t};class pe{constructor(){pe.constructor_.apply(this,arguments)}static map(t,e){return new pe(e).map(t)}map(t){const e=new _;for(let i=0;i<t.getNumGeometries();i++){const n=this._mapOp.map(t.getGeometryN(i));n.isEmpty()||e.add(n)}return t.getFactory().createGeometryCollection(Yt.toGeometryArray(e))}getClass(){return pe}get interfaces_(){return[]}}pe.constructor_=function(){this._mapOp=null;const t=arguments[0];this._mapOp=t};class ge{constructor(){ge.constructor_.apply(this,arguments)}static combine(){if(1===arguments.length){const t=arguments[0];return new ge(t).combine()}if(2===arguments.length){const t=arguments[0],e=arguments[1];return new ge(ge.createList(t,e)).combine()}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return new ge(ge.createList(t,e,i)).combine()}}static extractFactory(t){return t.isEmpty()?null:t.iterator().next().getFactory()}static createList(){if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new _;return i.add(t),i.add(e),i}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=new _;return n.add(t),n.add(e),n.add(i),n}}extractElements(t,e){if(null===t)return null;for(let i=0;i<t.getNumGeometries();i++){const n=t.getGeometryN(i);this._skipEmpty&&n.isEmpty()||e.add(n)}}combine(){const t=new _;for(let e=this._inputGeoms.iterator();e.hasNext();){const i=e.next();this.extractElements(i,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection():null:this._geomFactory.buildGeometry(t)}getClass(){return ge}get interfaces_(){return[]}}ge.constructor_=function(){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null;const t=arguments[0];this._geomFactory=ge.extractFactory(t),this._inputGeoms=t};class de{constructor(){de.constructor_.apply(this,arguments)}static isOfType(t,e){return t.getGeometryType()===e||e===G.TYPENAME_LINESTRING&&t.getGeometryType()===G.TYPENAME_LINEARRING}static extract(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return de.extract(t,e,new _)}if(3===arguments.length){if(d(arguments[2],m)&&arguments[0]instanceof G&&"string"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2];return t.getGeometryType()===e?i.add(t):t instanceof dt&&t.apply(new de(e,i)),i}if(d(arguments[2],m)&&arguments[0]instanceof G&&arguments[1]instanceof Class){const t=arguments[0],e=arguments[1],i=arguments[2];return de.extract(t,de.toGeometryType(e),i)}}}filter(t){(null===this._geometryType||de.isOfType(t,this._geometryType))&&this._comps.add(t)}getClass(){return de}get interfaces_(){return[pt]}}de.constructor_=function(){this._geometryType=null,this._comps=null;const t=arguments[0],e=arguments[1];this._geometryType=t,this._comps=e};class fe{constructor(){fe.constructor_.apply(this,arguments)}map(t){}getClass(){return fe}get interfaces_(){return[]}}fe.constructor_=function(){};class ye{constructor(){ye.constructor_.apply(this,arguments)}static map(){if(arguments[0]instanceof G&&d(arguments[1],fe)){const t=arguments[0],e=arguments[1],i=new _;for(let n=0;n<t.getNumGeometries();n++){const o=e.map(t.getGeometryN(n));null!==o&&i.add(o)}return t.getFactory().buildGeometry(i)}if(d(arguments[0],f)&&d(arguments[1],fe)){const t=arguments[0],e=arguments[1],i=new _;for(let n=t.iterator();n.hasNext();){const t=n.next(),o=e.map(t);null!==o&&i.add(o)}return i}}getClass(){return ye}get interfaces_(){return[]}}ye.constructor_=function(){};class me{constructor(){me.constructor_.apply(this,arguments)}transformPoint(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))}transformPolygon(t,e){let i=!0;const n=this.transformLinearRing(t.getExteriorRing(),t);null!==n&&n instanceof Rt&&!n.isEmpty()||(i=!1);const o=new _;for(let e=0;e<t.getNumInteriorRing();e++){const n=this.transformLinearRing(t.getInteriorRingN(e),t);null===n||n.isEmpty()||(n instanceof Rt||(i=!1),o.add(n))}if(i)return this._factory.createPolygon(n,o.toArray([]));{const t=new _;return null!==n&&t.add(n),t.addAll(o),this._factory.buildGeometry(t)}}createCoordinateSequence(t){return this._factory.getCoordinateSequenceFactory().create(t)}getInputGeometry(){return this._inputGeom}transformMultiLineString(t,e){const i=new _;for(let e=0;e<t.getNumGeometries();e++){const n=this.transformLineString(t.getGeometryN(e),t);null!==n&&(n.isEmpty()||i.add(n))}return this._factory.buildGeometry(i)}transformCoordinates(t,e){return this.copy(t)}transformLineString(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))}transformMultiPoint(t,e){const i=new _;for(let e=0;e<t.getNumGeometries();e++){const n=this.transformPoint(t.getGeometryN(e),t);null!==n&&(n.isEmpty()||i.add(n))}return this._factory.buildGeometry(i)}transformMultiPolygon(t,e){const i=new _;for(let e=0;e<t.getNumGeometries();e++){const n=this.transformPolygon(t.getGeometryN(e),t);null!==n&&(n.isEmpty()||i.add(n))}return this._factory.buildGeometry(i)}copy(t){return t.copy()}transformGeometryCollection(t,e){const i=new _;for(let e=0;e<t.getNumGeometries();e++){const n=this.transform(t.getGeometryN(e));null!==n&&(this._pruneEmptyGeometry&&n.isEmpty()||i.add(n))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Yt.toGeometryArray(i)):this._factory.buildGeometry(i)}transform(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Tt)return this.transformPoint(t,null);if(t instanceof Dt)return this.transformMultiPoint(t,null);if(t instanceof Rt)return this.transformLinearRing(t,null);if(t instanceof Mt)return this.transformLineString(t,null);if(t instanceof ft)return this.transformMultiLineString(t,null);if(t instanceof Nt)return this.transformPolygon(t,null);if(t instanceof Ot)return this.transformMultiPolygon(t,null);if(t instanceof dt)return this.transformGeometryCollection(t,null);throw new i("Unknown Geometry subtype: "+t.getClass().getName())}transformLinearRing(t,e){const i=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===i)return this._factory.createLinearRing(null);const n=i.size();return n>0&&n<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)}getClass(){return me}get interfaces_(){return[]}}me.constructor_=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};class ve{constructor(){ve.constructor_.apply(this,arguments)}static getGeometry(t){return t.getFactory().buildGeometry(ve.getLines(t))}static getLines(){if(1===arguments.length){const t=arguments[0];return ve.getLines(t,new _)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return t instanceof Mt?e.add(t):t instanceof dt&&t.apply(new ve(e)),e}}filter(t){t instanceof Mt&&this._comps.add(t)}getClass(){return ve}get interfaces_(){return[pt]}}ve.constructor_=function(){this._comps=null;const t=arguments[0];this._comps=t};class _e{constructor(){_e.constructor_.apply(this,arguments)}static getGeometry(){if(1===arguments.length){const t=arguments[0];return t.getFactory().buildGeometry(_e.getLines(t))}if(2===arguments.length){const t=arguments[0],e=arguments[1];return t.getFactory().buildGeometry(_e.getLines(t,e))}}static getLines(){if(1===arguments.length){const t=arguments[0];return _e.getLines(t,!1)}if(2===arguments.length){if(d(arguments[0],f)&&d(arguments[1],f)){const t=arguments[0],e=arguments[1];for(let i=t.iterator();i.hasNext();){const t=i.next();_e.getLines(t,e)}return e}if(arguments[0]instanceof G&&"boolean"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=new _;return t.apply(new _e(i,e)),i}if(arguments[0]instanceof G&&d(arguments[1],f)){const t=arguments[0],e=arguments[1];return t instanceof Mt?e.add(t):t.apply(new _e(e)),e}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&d(arguments[0],f)&&d(arguments[1],f)){const t=arguments[0],e=arguments[1],i=arguments[2];for(let n=t.iterator();n.hasNext();){const t=n.next();_e.getLines(t,e,i)}return e}if("boolean"==typeof arguments[2]&&arguments[0]instanceof G&&d(arguments[1],f)){const t=arguments[0],e=arguments[1],i=arguments[2];return t.apply(new _e(e,i)),e}}}filter(t){if(this._isForcedToLineString&&t instanceof Rt){const e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Mt&&this._lines.add(t)}setForceToLineString(t){this._isForcedToLineString=t}getClass(){return _e}get interfaces_(){return[k]}}_e.constructor_=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){const t=arguments[0];this._lines=t}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._lines=t,this._isForcedToLineString=e}};const xe={reverseOrder:function(){return{compare:(t,e)=>e.compareTo(t)}},min:function(t){return xe.sort(t),t.get(0)},sort:function(t,e){const i=t.toArray();e?ct.sort(i,e):ct.sort(i);const n=t.iterator();for(let t=0,e=i.length;t<e;t++)n.next(),n.set(i[t])},singletonList:function(t){const e=new _;return e.add(t),e}};class Ce{constructor(){Ce.constructor_.apply(this,arguments)}static getPoints(){if(1===arguments.length){const t=arguments[0];return t instanceof Tt?xe.singletonList(t):Ce.getPoints(t,new _)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return t instanceof Tt?e.add(t):t instanceof dt&&t.apply(new Ce(e)),e}}filter(t){t instanceof Tt&&this._pts.add(t)}getClass(){return Ce}get interfaces_(){return[pt]}}Ce.constructor_=function(){this._pts=null;const t=arguments[0];this._pts=t};class Ie{constructor(){Ie.constructor_.apply(this,arguments)}static getPolygons(){if(1===arguments.length){const t=arguments[0];return Ie.getPolygons(t,new _)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return t instanceof Nt?e.add(t):t instanceof dt&&t.apply(new Ie(e)),e}}filter(t){t instanceof Nt&&this._comps.add(t)}getClass(){return Ie}get interfaces_(){return[pt]}}Ie.constructor_=function(){this._comps=null;const t=arguments[0];this._comps=t};class Ae{constructor(){Ae.constructor_.apply(this,arguments)}applyTo(t){for(let e=0;e<t.getNumGeometries()&&!this._isDone;e++){const i=t.getGeometryN(e);if(i instanceof dt)this.applyTo(i);else if(this.visit(i),this.isDone())return this._isDone=!0,null}}getClass(){return Ae}get interfaces_(){return[]}}Ae.constructor_=function(){this._isDone=!1};class be{constructor(){be.constructor_.apply(this,arguments)}createSupercircle(t){const e=1/t,i=this._dim.getMinSize()/2,n=this._dim.getCentre(),o=Math.pow(i,t),r=i,s=Math.pow(o/2,e),a=Math.trunc(this._nPts/8),l=new Array(8*a+1).fill(null),h=s/a;for(let i=0;i<=a;i++){let s=0,c=r;if(0!==i){s=h*i;const n=Math.pow(s,t);c=Math.pow(o-n,e)}l[i]=this.coordTrans(s,c,n),l[2*a-i]=this.coordTrans(c,s,n),l[2*a+i]=this.coordTrans(c,-s,n),l[4*a-i]=this.coordTrans(s,-c,n),l[4*a+i]=this.coordTrans(-s,-c,n),l[6*a-i]=this.coordTrans(-c,-s,n),l[6*a+i]=this.coordTrans(-c,s,n),l[8*a-i]=this.coordTrans(-s,c,n)}l[l.length-1]=new p(l[0]);const c=this._geomFact.createLinearRing(l),u=this._geomFact.createPolygon(c);return this.rotate(u)}setNumPoints(t){this._nPts=t}setBase(t){this._dim.setBase(t)}setRotation(t){this._rotationAngle=t}setWidth(t){this._dim.setWidth(t)}createEllipse(){const t=this._dim.getEnvelope(),e=t.getWidth()/2,i=t.getHeight()/2,n=t.getMinX()+e,o=t.getMinY()+i,r=new Array(this._nPts+1).fill(null);let s=0;for(let t=0;t<this._nPts;t++){const a=t*(2*Math.PI/this._nPts),l=e*Math.cos(a)+n,h=i*Math.sin(a)+o;r[s++]=this.coord(l,h)}r[s]=new p(r[0]);const a=this._geomFact.createLinearRing(r),l=this._geomFact.createPolygon(a);return this.rotate(l)}coordTrans(t,e,i){return this.coord(t+i.x,e+i.y)}createSquircle(){return this.createSupercircle(4)}setEnvelope(t){this._dim.setEnvelope(t)}setCentre(t){this._dim.setCentre(t)}createArc(t,e){const i=this._dim.getEnvelope(),n=i.getWidth()/2,o=i.getHeight()/2,r=i.getMinX()+n,s=i.getMinY()+o;let a=e;(a<=0||a>2*Math.PI)&&(a=2*Math.PI);const l=a/(this._nPts-1),h=new Array(this._nPts).fill(null);let c=0;for(let e=0;e<this._nPts;e++){const i=t+e*l,a=n*Math.cos(i)+r,u=o*Math.sin(i)+s;h[c++]=this.coord(a,u)}const u=this._geomFact.createLineString(h);return this.rotate(u)}rotate(t){if(0!==this._rotationAngle){const e=ae.rotationInstance(this._rotationAngle,this._dim.getCentre().x,this._dim.getCentre().y);t.apply(e)}return t}coord(t,e){const i=new p(t,e);return this._precModel.makePrecise(i),i}createArcPolygon(t,e){const i=this._dim.getEnvelope(),n=i.getWidth()/2,o=i.getHeight()/2,r=i.getMinX()+n,s=i.getMinY()+o;let a=e;(a<=0||a>2*Math.PI)&&(a=2*Math.PI);const l=a/(this._nPts-1),h=new Array(this._nPts+2).fill(null);let c=0;h[c++]=this.coord(r,s);for(let e=0;e<this._nPts;e++){const i=t+l*e,a=n*Math.cos(i)+r,u=o*Math.sin(i)+s;h[c++]=this.coord(a,u)}h[c++]=this.coord(r,s);const u=this._geomFact.createLinearRing(h),p=this._geomFact.createPolygon(u);return this.rotate(p)}createRectangle(){let t=null,e=0,i=Math.trunc(this._nPts/4);i<1&&(i=1);const n=this._dim.getEnvelope().getWidth()/i,o=this._dim.getEnvelope().getHeight()/i,r=new Array(4*i+1).fill(null),s=this._dim.getEnvelope();for(t=0;t<i;t++){const i=s.getMinX()+t*n,o=s.getMinY();r[e++]=this.coord(i,o)}for(t=0;t<i;t++){const i=s.getMaxX(),n=s.getMinY()+t*o;r[e++]=this.coord(i,n)}for(t=0;t<i;t++){const i=s.getMaxX()-t*n,o=s.getMaxY();r[e++]=this.coord(i,o)}for(t=0;t<i;t++){const i=s.getMinX(),n=s.getMaxY()-t*o;r[e++]=this.coord(i,n)}r[e++]=new p(r[0]);const a=this._geomFact.createLinearRing(r),l=this._geomFact.createPolygon(a);return this.rotate(l)}createCircle(){return this.createEllipse()}setHeight(t){this._dim.setHeight(t)}setSize(t){this._dim.setSize(t)}getClass(){return be}get interfaces_(){return[]}}class we{constructor(){we.constructor_.apply(this,arguments)}setBase(t){this.base=t}setWidth(t){this.width=t}getBase(){return this.base}getWidth(){return this.width}setEnvelope(t){this.width=t.getWidth(),this.height=t.getHeight(),this.base=new p(t.getMinX(),t.getMinY()),this.centre=new p(t.centre())}setCentre(t){this.centre=t}getMinSize(){return Math.min(this.width,this.height)}getEnvelope(){return null!==this.base?new I(this.base.x,this.base.x+this.width,this.base.y,this.base.y+this.height):null!==this.centre?new I(this.centre.x-this.width/2,this.centre.x+this.width/2,this.centre.y-this.height/2,this.centre.y+this.height/2):new I(0,this.width,0,this.height)}getCentre(){return null===this.centre&&(this.centre=new p(this.base.x+this.width/2,this.base.y+this.height/2)),this.centre}getHeight(){return this.height}setHeight(t){this.height=t}setSize(t){this.height=t,this.width=t}getClass(){return we}get interfaces_(){return[]}}we.constructor_=function(){this.base=null,this.centre=null,this.width=null,this.height=null},be.Dimensions=we,be.constructor_=function(){if(this._geomFact=null,this._precModel=null,this._dim=new we,this._nPts=100,this._rotationAngle=0,0===arguments.length)be.constructor_.call(this,new Yt);else if(1===arguments.length){const t=arguments[0];this._geomFact=t,this._precModel=t.getPrecisionModel()}};class Se extends be{constructor(){super(),Se.constructor_.apply(this,arguments)}setNumArms(t){this._numArms=t}setArmLengthRatio(t){this._armLengthRatio=t}createSineStar(){const t=this._dim.getEnvelope(),e=t.getWidth()/2;let i=this._armLengthRatio;i<0&&(i=0),i>1&&(i=1);const n=i*e,o=(1-i)*e,r=t.getMinX()+e,s=t.getMinY()+e,a=new Array(this._nPts+1).fill(null);let l=0;for(let t=0;t<this._nPts;t++){const e=t/this._nPts*this._numArms,i=e-Math.floor(e),h=2*Math.PI*i,c=o+n*((Math.cos(h)+1)/2),u=t*(2*Math.PI/this._nPts),p=c*Math.cos(u)+r,g=c*Math.sin(u)+s;a[l++]=this.coord(p,g)}a[l]=new p(a[0]);const h=this._geomFact.createLinearRing(a);return this._geomFact.createPolygon(h)}getClass(){return Se}get interfaces_(){return[]}}Se.constructor_=function(){if(this._numArms=8,this._armLengthRatio=.5,0===arguments.length)be.constructor_.call(this);else if(1===arguments.length){const t=arguments[0];be.constructor_.call(this,t)}};var Me=Object.freeze({__proto__:null,AffineTransformation:ae,AffineTransformationBuilder:he,AffineTransformationFactory:ce,ComponentCoordinateExtracter:ue,GeometryCollectionMapper:pe,GeometryCombiner:ge,GeometryEditor:Ft,GeometryExtracter:de,GeometryMapper:ye,GeometryTransformer:me,LineStringExtracter:ve,LinearComponentExtracter:_e,MapOp:fe,PointExtracter:Ce,PolygonExtracter:Ie,ShortCircuitedGeometryVisitor:Ae,SineStarFactory:Se}),Ee=Object.freeze({__proto__:null,Coordinate:p,CoordinateList:C,Envelope:I,LineSegment:ee,GeometryFactory:Yt,Geometry:G,Point:Tt,LineString:Mt,LinearRing:Rt,Polygon:Nt,GeometryCollection:dt,MultiPoint:Dt,MultiLineString:ft,MultiPolygon:Ot,Dimension:ut,IntersectionMatrix:ne,PrecisionModel:Ut,Location:ie,Triangle:re,util:Me});class Te{constructor(){Te.constructor_.apply(this,arguments)}getCoordinates(){return this._pt}getCoordinate(t){return this._pt[t]}setMinimum(){if(1===arguments.length){const t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;const i=t.distance(e);i<this._distance&&this.initialize(t,e,i)}}initialize(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=i,this._isNull=!1}}toString(){return Qt.toLineString(this._pt[0],this._pt[1])}getDistance(){return this._distance}setMaximum(){if(1===arguments.length){const t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){const t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;const i=t.distance(e);i>this._distance&&this.initialize(t,e,i)}}getClass(){return Te}get interfaces_(){return[]}}Te.constructor_=function(){this._pt=[new p,new p],this._distance=o.NaN,this._isNull=!0};class Pe{constructor(){Pe.constructor_.apply(this,arguments)}static computeDistance(){if(arguments[2]instanceof Te&&arguments[0]instanceof Mt&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],i=arguments[2],n=new ee,o=t.getCoordinates();for(let t=0;t<o.length-1;t++){n.setCoordinates(o[t],o[t+1]);const r=n.closestPoint(e);i.setMinimum(r,e)}}else if(arguments[2]instanceof Te&&arguments[0]instanceof Nt&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],i=arguments[2];Pe.computeDistance(t.getExteriorRing(),e,i);for(let n=0;n<t.getNumInteriorRing();n++)Pe.computeDistance(t.getInteriorRingN(n),e,i)}else if(arguments[2]instanceof Te&&arguments[0]instanceof G&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],i=arguments[2];if(t instanceof Mt)Pe.computeDistance(t,e,i);else if(t instanceof Nt)Pe.computeDistance(t,e,i);else if(t instanceof dt){const n=t;for(let t=0;t<n.getNumGeometries();t++){const o=n.getGeometryN(t);Pe.computeDistance(o,e,i)}}else i.setMinimum(t.getCoordinate(),e)}else if(arguments[2]instanceof Te&&arguments[0]instanceof ee&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],i=arguments[2],n=t.closestPoint(e);i.setMinimum(n,e)}}getClass(){return Pe}get interfaces_(){return[]}}Pe.constructor_=function(){};class Le{constructor(){Le.constructor_.apply(this,arguments)}static distance(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return new Le(t,e).distance()}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=new Le(t,e);return n.setDensifyFraction(i),n.distance()}}getCoordinates(){return this._ptDist.getCoordinates()}setDensifyFraction(t){if(t>1||t<=0)throw new i("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t}compute(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)}distance(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()}computeOrientedDistance(t,e,i){const n=new Ne(e);if(t.apply(n),i.setMaximum(n.getMaxPointDistance()),this._densifyFrac>0){const n=new De(e,this._densifyFrac);t.apply(n),i.setMaximum(n.getMaxPointDistance())}}orientedDistance(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()}getClass(){return Le}get interfaces_(){return[]}}class Ne{constructor(){Ne.constructor_.apply(this,arguments)}filter(t){this._minPtDist.initialize(),Pe.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}getMaxPointDistance(){return this._maxPtDist}getClass(){return Ne}get interfaces_(){return[B]}}Ne.constructor_=function(){this._maxPtDist=new Te,this._minPtDist=new Te,this._euclideanDist=new Pe,this._geom=null;const t=arguments[0];this._geom=t};class De{constructor(){De.constructor_.apply(this,arguments)}filter(t,e){if(0===e)return null;const i=t.getCoordinate(e-1),n=t.getCoordinate(e),o=(n.x-i.x)/this._numSubSegs,r=(n.y-i.y)/this._numSubSegs;for(let t=0;t<this._numSubSegs;t++){const e=i.x+t*o,n=i.y+t*r,s=new p(e,n);this._minPtDist.initialize(),Pe.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}}isDone(){return!1}isGeometryChanged(){return!1}getMaxPointDistance(){return this._maxPtDist}getClass(){return De}get interfaces_(){return[gt]}}De.constructor_=function(){this._maxPtDist=new Te,this._minPtDist=new Te,this._geom=null,this._numSubSegs=0;const t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))},Le.MaxPointDistanceFilter=Ne,Le.MaxDensifiedByFractionDistanceFilter=De,Le.constructor_=function(){this._g0=null,this._g1=null,this._ptDist=new Te,this._densifyFrac=0;const t=arguments[0],e=arguments[1];this._g0=t,this._g1=e};var Re=Object.freeze({__proto__:null,DiscreteHausdorffDistance:Le,DistanceToPoint:Pe,PointPairDistance:Te});class Oe{constructor(){Oe.constructor_.apply(this,arguments)}visitItem(t){}getClass(){return Oe}get interfaces_(){return[]}}Oe.constructor_=function(){};class Fe{constructor(){Fe.constructor_.apply(this,arguments)}locate(t){}getClass(){return Fe}get interfaces_(){return[]}}Fe.constructor_=function(){};class ke{constructor(){ke.constructor_.apply(this,arguments)}getMin(){return this._min}intersects(t,e){return!(this._min>e||this._max<t)}getMax(){return this._max}toString(){return Qt.toLineString(new p(this._min,0),new p(this._max,0))}getClass(){return ke}get interfaces_(){return[]}}class Ge{constructor(){Ge.constructor_.apply(this,arguments)}compare(t,e){const i=t,n=e,o=(i._min+i._max)/2,r=(n._min+n._max)/2;return o<r?-1:o>r?1:0}getClass(){return Ge}get interfaces_(){return[a]}}Ge.constructor_=function(){},ke.NodeComparator=Ge,ke.constructor_=function(){this._min=o.POSITIVE_INFINITY,this._max=o.NEGATIVE_INFINITY};class Be extends ke{constructor(){super(),Be.constructor_.apply(this,arguments)}query(t,e,i){if(!this.intersects(t,e))return null;i.visitItem(this._item)}getClass(){return Be}get interfaces_(){return[]}}Be.constructor_=function(){this._item=null;const t=arguments[0],e=arguments[1],i=arguments[2];this._min=t,this._max=e,this._item=i};class ze extends ke{constructor(){super(),ze.constructor_.apply(this,arguments)}buildExtent(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)}query(t,e,i){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,i),null!==this._node2&&this._node2.query(t,e,i)}getClass(){return ze}get interfaces_(){return[]}}ze.constructor_=function(){this._node1=null,this._node2=null;const t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)};class Ve{constructor(){Ve.constructor_.apply(this,arguments)}buildTree(){xe.sort(this._leaves,new ke.NodeComparator);let t=this._leaves,e=null,i=new _;for(;;){if(this.buildLevel(t,i),1===i.size())return i.get(0);e=t,t=i,i=e}}insert(t,e,i){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new Be(t,e,i))}query(t,e,i){this.init(),this._root.query(t,e,i)}buildRoot(){if(null!==this._root)return null;this._root=this.buildTree()}printNode(t){L.out.println(Qt.toLineString(new p(t._min,this._level),new p(t._max,this._level)))}init(){if(null!==this._root)return null;this.buildRoot()}buildLevel(t,e){this._level++,e.clear();for(let i=0;i<t.size();i+=2){const n=t.get(i);if(null===(i+1<t.size()?t.get(i):null))e.add(n);else{const n=new ze(t.get(i),t.get(i+1));e.add(n)}}}getClass(){return Ve}get interfaces_(){return[]}}Ve.constructor_=function(){this._leaves=new _,this._root=null,this._level=0};class je{constructor(){je.constructor_.apply(this,arguments)}visitItem(t){this._items.add(t)}getItems(){return this._items}getClass(){return je}get interfaces_(){return[Oe]}}je.constructor_=function(){this._items=new _};class He{constructor(){He.constructor_.apply(this,arguments)}static locatePointInRing(){if(arguments[0]instanceof p&&d(arguments[1],O)){const t=arguments[0],e=arguments[1],i=new He(t),n=new p,o=new p;for(let t=1;t<e.size();t++)if(e.getCoordinate(t,n),e.getCoordinate(t-1,o),i.countSegment(n,o),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof p&&arguments[1]instanceof Array){const t=arguments[0],e=arguments[1],i=new He(t);for(let t=1;t<e.length;t++){const n=e[t],o=e[t-1];if(i.countSegment(n,o),i.isOnSegment())return i.getLocation()}return i.getLocation()}}countSegment(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){let i=t.x,n=e.x;return i>n&&(i=e.x,n=t.x),this._p.x>=i&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){let i=P.index(t,e,this._p);if(i===P.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(i=-i),i===P.LEFT&&this._crossingCount++}}isPointInPolygon(){return this.getLocation()!==ie.EXTERIOR}getLocation(){return this._isPointOnSegment?ie.BOUNDARY:this._crossingCount%2==1?ie.INTERIOR:ie.EXTERIOR}isOnSegment(){return this._isPointOnSegment}getClass(){return He}get interfaces_(){return[]}}He.constructor_=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;const t=arguments[0];this._p=t};class Ue{constructor(){Ue.constructor_.apply(this,arguments)}locate(t){const e=new He(t),i=new We(e);return this._index.query(t.y,t.y,i),e.getLocation()}getClass(){return Ue}get interfaces_(){return[Fe]}}class We{constructor(){We.constructor_.apply(this,arguments)}visitItem(t){const e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))}getClass(){return We}get interfaces_(){return[Oe]}}We.constructor_=function(){this._counter=null;const t=arguments[0];this._counter=t};class Ye{constructor(){Ye.constructor_.apply(this,arguments)}init(t){for(let e=_e.getLines(t).iterator();e.hasNext();){const t=e.next().getCoordinates();this.addLine(t)}}addLine(t){for(let e=1;e<t.length;e++){const i=new ee(t[e-1],t[e]),n=Math.min(i.p0.y,i.p1.y),o=Math.max(i.p0.y,i.p1.y);this._index.insert(n,o,i)}}query(){if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new je;return this._index.query(t,e,i),i.getItems()}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._index.query(t,e,i)}}getClass(){return Ye}get interfaces_(){return[]}}Ye.constructor_=function(){this._index=new Ve;const t=arguments[0];this.init(t)},Ue.SegmentVisitor=We,Ue.IntervalIndexedGeometry=Ye,Ue.constructor_=function(){this._index=null;const t=arguments[0];if(!(d(t,Lt)||t instanceof Rt))throw new i("Argument must be Polygonal or LinearRing");this._index=new Ye(t)};class Xe{constructor(){Xe.constructor_.apply(this,arguments)}static isOnLine(){if(arguments[0]instanceof p&&d(arguments[1],O)){const t=arguments[0],e=arguments[1],i=new te,n=new p,o=new p,r=e.size();for(let s=1;s<r;s++)if(e.getCoordinate(s-1,n),e.getCoordinate(s,o),i.computeIntersection(t,n,o),i.hasIntersection())return!0;return!1}if(arguments[0]instanceof p&&arguments[1]instanceof Array){const t=arguments[0],e=arguments[1],i=new te;for(let n=1;n<e.length;n++){const o=e[n-1],r=e[n];if(i.computeIntersection(t,o,r),i.hasIntersection())return!0}return!1}}static locateInRing(t,e){return He.locatePointInRing(t,e)}static isInRing(t,e){return Xe.locateInRing(t,e)!==ie.EXTERIOR}getClass(){return Xe}get interfaces_(){return[]}}function Ze(){}Xe.constructor_=function(){},Ze.prototype.hasNext=function(){},Ze.prototype.next=function(){},Ze.prototype.remove=function(){};class qe{constructor(){qe.constructor_.apply(this,arguments)}static isAtomic(t){return!(t instanceof dt)}next(){if(this._atStart)return this._atStart=!1,qe.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new v;const t=this._parent.getGeometryN(this._index++);return t instanceof dt?(this._subcollectionIterator=new qe(t),this._subcollectionIterator.next()):t}remove(){throw new UnsupportedOperationException(this.getClass().getName())}hasNext(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}getClass(){return qe}get interfaces_(){return[Ze]}}qe.constructor_=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;const t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};class Ke{constructor(){Ke.constructor_.apply(this,arguments)}static locatePointInPolygon(t,e){if(e.isEmpty())return ie.EXTERIOR;const i=e.getExteriorRing(),n=Ke.locatePointInRing(t,i);if(n!==ie.INTERIOR)return n;for(let i=0;i<e.getNumInteriorRing();i++){const n=e.getInteriorRingN(i),o=Ke.locatePointInRing(t,n);if(o===ie.BOUNDARY)return ie.BOUNDARY;if(o===ie.INTERIOR)return ie.EXTERIOR}return ie.INTERIOR}static locatePointInRing(t,e){return e.getEnvelopeInternal().intersects(t)?Xe.locateInRing(t,e.getCoordinates()):ie.EXTERIOR}static containsPointInPolygon(t,e){return ie.EXTERIOR!==Ke.locatePointInPolygon(t,e)}static locateInGeometry(t,e){if(e instanceof Nt)return Ke.locatePointInPolygon(t,e);if(e instanceof dt){const i=new qe(e);for(;i.hasNext();){const n=i.next();if(n!==e){const e=Ke.locateInGeometry(t,n);if(e!==ie.EXTERIOR)return e}}}return ie.EXTERIOR}static locate(t,e){return e.isEmpty()?ie.EXTERIOR:Ke.locateInGeometry(t,e)}locate(t){return Ke.locate(t,this._geom)}getClass(){return Ke}get interfaces_(){return[Fe]}}Ke.constructor_=function(){this._geom=null;const t=arguments[0];this._geom=t};var Je=Object.freeze({__proto__:null,IndexedPointInAreaLocator:Ue,PointOnGeometryLocator:Fe,SimplePointInAreaLocator:Ke});class Qe{constructor(){Qe.constructor_.apply(this,arguments)}measure(t,e){}getClass(){return Qe}get interfaces_(){return[]}}Qe.constructor_=function(){};class $e{constructor(){$e.constructor_.apply(this,arguments)}measure(t,e){return t.intersection(e).getArea()/t.union(e).getArea()}getClass(){return $e}get interfaces_(){return[Qe]}}$e.constructor_=function(){};class ti{constructor(){ti.constructor_.apply(this,arguments)}static diagonalSize(t){if(t.isNull())return 0;const e=t.getWidth(),i=t.getHeight();return Math.sqrt(e*e+i*i)}measure(t,e){const i=Le.distance(t,e,ti.DENSIFY_FRACTION),n=new I(t.getEnvelopeInternal());return n.expandToInclude(e.getEnvelopeInternal()),1-i/ti.diagonalSize(n)}getClass(){return ti}get interfaces_(){return[Qe]}}ti.constructor_=function(){},ti.DENSIFY_FRACTION=.25;class ei{constructor(){ei.constructor_.apply(this,arguments)}static combine(t,e){return Math.min(t,e)}getClass(){return ei}get interfaces_(){return[]}}ei.constructor_=function(){};var ii=Object.freeze({__proto__:null,AreaSimilarityMeasure:$e,HausdorffSimilarityMeasure:ti,SimilarityMeasure:Qe,SimilarityMeasureCombiner:ei});class ni{constructor(){ni.constructor_.apply(this,arguments)}static area2(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)}static centroid3(t,e,i,n){return n.x=t.x+e.x+i.x,n.y=t.y+e.y+i.y,null}static getCentroid(t){return new ni(t).getCentroid()}setAreaBasePoint(t){this._areaBasePt=t}addPoint(t){this._ptCount+=1,this._ptCentSum.x+=t.x,this._ptCentSum.y+=t.y}addLineSegments(t){let e=0;for(let i=0;i<t.length-1;i++){const n=t[i].distance(t[i+1]);if(0===n)continue;e+=n;const o=(t[i].x+t[i+1].x)/2;this._lineCentSum.x+=n*o;const r=(t[i].y+t[i+1].y)/2;this._lineCentSum.y+=n*r}this._totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])}addHole(t){const e=P.isCCW(t);for(let i=0;i<t.length-1;i++)this.addTriangle(this._areaBasePt,t[i],t[i+1],e);this.addLineSegments(t)}getCentroid(){const t=new p;if(Math.abs(this._areasum2)>0)t.x=this._cg3.x/3/this._areasum2,t.y=this._cg3.y/3/this._areasum2;else if(this._totalLength>0)t.x=this._lineCentSum.x/this._totalLength,t.y=this._lineCentSum.y/this._totalLength;else{if(!(this._ptCount>0))return null;t.x=this._ptCentSum.x/this._ptCount,t.y=this._ptCentSum.y/this._ptCount}return t}addShell(t){t.length>0&&this.setAreaBasePoint(t[0]);const e=!P.isCCW(t);for(let i=0;i<t.length-1;i++)this.addTriangle(this._areaBasePt,t[i],t[i+1],e);this.addLineSegments(t)}addTriangle(t,e,i,n){const o=n?1:-1;ni.centroid3(t,e,i,this._triangleCent3);const r=ni.area2(t,e,i);this._cg3.x+=o*r*this._triangleCent3.x,this._cg3.y+=o*r*this._triangleCent3.y,this._areasum2+=o*r}add(){if(arguments[0]instanceof Nt){const t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(let e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof G){const t=arguments[0];if(t.isEmpty())return null;if(t instanceof Tt)this.addPoint(t.getCoordinate());else if(t instanceof Mt)this.addLineSegments(t.getCoordinates());else if(t instanceof Nt){const e=t;this.add(e)}else if(t instanceof dt){const e=t;for(let t=0;t<e.getNumGeometries();t++)this.add(e.getGeometryN(t))}}}getClass(){return ni}get interfaces_(){return[]}}function oi(t){this.message=t||""}function ri(){this.array_=[]}ni.constructor_=function(){this._areaBasePt=null,this._triangleCent3=new p,this._areasum2=0,this._cg3=new p,this._lineCentSum=new p,this._totalLength=0,this._ptCount=0,this._ptCentSum=new p;const t=arguments[0];this._areaBasePt=null,this.add(t)},oi.prototype=new Error,oi.prototype.name="EmptyStackException",ri.prototype=new m,ri.prototype.add=function(t){return this.array_.push(t),!0},ri.prototype.get=function(t){if(t<0||t>=this.size())throw new y;return this.array_[t]},ri.prototype.push=function(t){return this.array_.push(t),t},ri.prototype.pop=function(t){if(0===this.array_.length)throw new oi;return this.array_.pop()},ri.prototype.peek=function(){if(0===this.array_.length)throw new oi;return this.array_[this.array_.length-1]},ri.prototype.empty=function(){return 0===this.array_.length},ri.prototype.isEmpty=function(){return this.empty()},ri.prototype.search=function(t){return this.array_.indexOf(t)},ri.prototype.size=function(){return this.array_.length},ri.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t};class si{constructor(){si.constructor_.apply(this,arguments)}static filterCoordinates(t){const e=new si;for(let i=0;i<t.length;i++)e.filter(t[i]);return e.getCoordinates()}filter(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))}getCoordinates(){const t=new Array(this.list.size()).fill(null);return this.list.toArray(t)}getClass(){return si}get interfaces_(){return[B]}}si.constructor_=function(){this.treeSet=new lt,this.list=new _};class ai{constructor(){ai.constructor_.apply(this,arguments)}static extractCoordinates(t){const e=new si;return t.apply(e),e.getCoordinates()}preSort(t){let e=null;for(let i=1;i<t.length;i++)(t[i].y<t[0].y||t[i].y===t[0].y&&t[i].x<t[0].x)&&(e=t[0],t[0]=t[i],t[i]=e);return ct.sort(t,1,t.length,new li(t[0])),t}computeOctRing(t){const e=this.computeOctPts(t),i=new C;return i.add(e,!1),i.size()<3?null:(i.closeRing(),i.toCoordinateArray())}lineOrPolygon(t){if(3===(t=this.cleanRing(t)).length)return this._geomFactory.createLineString([t[0],t[1]]);const e=this._geomFactory.createLinearRing(t);return this._geomFactory.createPolygon(e)}cleanRing(t){u.equals(t[0],t[t.length-1]);const e=new _;let i=null;for(let n=0;n<=t.length-2;n++){const o=t[n],r=t[n+1];o.equals(r)||null!==i&&this.isBetween(i,o,r)||(e.add(o),i=o)}e.add(t[t.length-1]);const n=new Array(e.size()).fill(null);return e.toArray(n)}isBetween(t,e,i){if(0!==P.index(t,e,i))return!1;if(t.x!==i.x){if(t.x<=e.x&&e.x<=i.x)return!0;if(i.x<=e.x&&e.x<=t.x)return!0}if(t.y!==i.y){if(t.y<=e.y&&e.y<=i.y)return!0;if(i.y<=e.y&&e.y<=t.y)return!0}return!1}reduce(t){const e=this.computeOctRing(t);if(null===e)return t;const i=new lt;for(let t=0;t<e.length;t++)i.add(e[t]);for(let n=0;n<t.length;n++)Xe.isInRing(t[n],e)||i.add(t[n]);const n=W.toCoordinateArray(i);return n.length<3?this.padArray3(n):n}getConvexHull(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection();if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);let t=this._inputPts;this._inputPts.length>50&&(t=this.reduce(this._inputPts));const e=this.preSort(t),i=this.grahamScan(e),n=this.toCoordinateArray(i);return this.lineOrPolygon(n)}padArray3(t){const e=new Array(3).fill(null);for(let i=0;i<e.length;i++)i<t.length?e[i]=t[i]:e[i]=t[0];return e}computeOctPts(t){const e=new Array(8).fill(null);for(let i=0;i<e.length;i++)e[i]=t[0];for(let i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e}toCoordinateArray(t){const e=new Array(t.size()).fill(null);for(let i=0;i<t.size();i++){const n=t.get(i);e[i]=n}return e}grahamScan(t){let e=null;const i=new ri;i.push(t[0]),i.push(t[1]),i.push(t[2]);for(let n=3;n<t.length;n++){for(e=i.pop();!i.empty()&&P.index(i.peek(),e,t[n])>0;)e=i.pop();i.push(e),i.push(t[n])}return i.push(t[0]),i}getClass(){return ai}get interfaces_(){return[]}}class li{constructor(){li.constructor_.apply(this,arguments)}static polarCompare(t,e,i){const n=e.x-t.x,o=e.y-t.y,r=i.x-t.x,s=i.y-t.y,a=P.index(t,e,i);if(a===P.COUNTERCLOCKWISE)return 1;if(a===P.CLOCKWISE)return-1;const l=n*n+o*o,h=r*r+s*s;return l<h?-1:l>h?1:0}compare(t,e){const i=t,n=e;return li.polarCompare(this._origin,i,n)}getClass(){return li}get interfaces_(){return[a]}}li.constructor_=function(){this._origin=null;const t=arguments[0];this._origin=t},ai.RadialComparator=li,ai.constructor_=function(){if(this._geomFactory=null,this._inputPts=null,1===arguments.length){const t=arguments[0];ai.constructor_.call(this,ai.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._inputPts=si.filterCoordinates(t),this._geomFactory=e}};class hi{constructor(){hi.constructor_.apply(this,arguments)}static centre(t){return new p(hi.avg(t.getMinX(),t.getMaxX()),hi.avg(t.getMinY(),t.getMaxY()))}static avg(t,e){return(t+e)/2}addPolygon(t){if(t.isEmpty())return null;let e=null,i=null;const n=this.horizontalBisector(t);if(0===n.getLength())i=0,e=n.getCoordinate();else{const o=n.intersection(t),r=this.widestGeometry(o);i=r.getEnvelopeInternal().getWidth(),e=hi.centre(r.getEnvelopeInternal())}(null===this._interiorPoint||i>this._maxWidth)&&(this._interiorPoint=e,this._maxWidth=i)}getInteriorPoint(){return this._interiorPoint}widestGeometry(){if(arguments[0]instanceof dt){const t=arguments[0];if(t.isEmpty())return t;let e=t.getGeometryN(0);for(let i=1;i<t.getNumGeometries();i++)t.getGeometryN(i).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(i));return e}if(arguments[0]instanceof G){const t=arguments[0];return t instanceof dt?this.widestGeometry(t):t}}horizontalBisector(t){const e=t.getEnvelopeInternal(),i=ci.getBisectorY(t);return this._factory.createLineString([new p(e.getMinX(),i),new p(e.getMaxX(),i)])}add(t){if(t instanceof Nt)this.addPolygon(t);else if(t instanceof dt){const e=t;for(let t=0;t<e.getNumGeometries();t++)this.add(e.getGeometryN(t))}}getClass(){return hi}get interfaces_(){return[]}}class ci{constructor(){ci.constructor_.apply(this,arguments)}static getBisectorY(t){return new ci(t).getBisectorY()}updateInterval(t){t<=this._centreY?t>this._loY&&(this._loY=t):t>this._centreY&&t<this._hiY&&(this._hiY=t)}getBisectorY(){this.process(this._poly.getExteriorRing());for(let t=0;t<this._poly.getNumInteriorRing();t++)this.process(this._poly.getInteriorRingN(t));return hi.avg(this._hiY,this._loY)}process(t){const e=t.getCoordinateSequence();for(let t=0;t<e.size();t++){const i=e.getY(t);this.updateInterval(i)}}getClass(){return ci}get interfaces_(){return[]}}ci.constructor_=function(){this._poly=null,this._centreY=null,this._hiY=o.MAX_VALUE,this._loY=-o.MAX_VALUE;const t=arguments[0];this._poly=t,this._hiY=t.getEnvelopeInternal().getMaxY(),this._loY=t.getEnvelopeInternal().getMinY(),this._centreY=hi.avg(this._loY,this._hiY)},hi.SafeBisectorFinder=ci,hi.constructor_=function(){this._factory=null,this._interiorPoint=null,this._maxWidth=0;const t=arguments[0];this._factory=t.getFactory(),this.add(t)};class ui{constructor(){ui.constructor_.apply(this,arguments)}addEndpoints(){if(arguments[0]instanceof G){const t=arguments[0];if(t instanceof Mt)this.addEndpoints(t.getCoordinates());else if(t instanceof dt){const e=t;for(let t=0;t<e.getNumGeometries();t++)this.addEndpoints(e.getGeometryN(t))}}else if(arguments[0]instanceof Array){const t=arguments[0];this.add(t[0]),this.add(t[t.length-1])}}getInteriorPoint(){return this._interiorPoint}addInterior(){if(arguments[0]instanceof G){const t=arguments[0];if(t instanceof Mt)this.addInterior(t.getCoordinates());else if(t instanceof dt){const e=t;for(let t=0;t<e.getNumGeometries();t++)this.addInterior(e.getGeometryN(t))}}else if(arguments[0]instanceof Array){const t=arguments[0];for(let e=1;e<t.length-1;e++)this.add(t[e])}}add(t){const e=t.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new p(t),this._minDistance=e)}getClass(){return ui}get interfaces_(){return[]}}ui.constructor_=function(){this._centroid=null,this._minDistance=o.MAX_VALUE,this._interiorPoint=null;const t=arguments[0];t.isEmpty()?this._centroid=new p:this._centroid=ni.getCentroid(t),this.addInterior(t),null===this._interiorPoint&&this.addEndpoints(t)};class pi{constructor(){pi.constructor_.apply(this,arguments)}getInteriorPoint(){return this._interiorPoint}add(){if(arguments[0]instanceof G){const t=arguments[0];if(t instanceof Tt)this.add(t.getCoordinate());else if(t instanceof dt){const e=t;for(let t=0;t<e.getNumGeometries();t++)this.add(e.getGeometryN(t))}}else if(arguments[0]instanceof p){const t=arguments[0],e=t.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new p(t),this._minDistance=e)}}getClass(){return pi}get interfaces_(){return[]}}pi.constructor_=function(){this._centroid=null,this._minDistance=o.MAX_VALUE,this._interiorPoint=null;const t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.add(t)};class gi{constructor(){gi.constructor_.apply(this,arguments)}locateInPolygonRing(t,e){return e.getEnvelopeInternal().intersects(t)?Xe.locateInRing(t,e.getCoordinates()):ie.EXTERIOR}intersects(t,e){return this.locate(t,e)!==ie.EXTERIOR}updateLocationInfo(t){t===ie.INTERIOR&&(this._isIn=!0),t===ie.BOUNDARY&&this._numBoundaries++}computeLocation(t,e){if(e instanceof Tt&&this.updateLocationInfo(this.locateOnPoint(t,e)),e instanceof Mt)this.updateLocationInfo(this.locateOnLineString(t,e));else if(e instanceof Nt)this.updateLocationInfo(this.locateInPolygon(t,e));else if(e instanceof ft){const i=e;for(let e=0;e<i.getNumGeometries();e++){const n=i.getGeometryN(e);this.updateLocationInfo(this.locateOnLineString(t,n))}}else if(e instanceof Ot){const i=e;for(let e=0;e<i.getNumGeometries();e++){const n=i.getGeometryN(e);this.updateLocationInfo(this.locateInPolygon(t,n))}}else if(e instanceof dt){const i=new qe(e);for(;i.hasNext();){const n=i.next();n!==e&&this.computeLocation(t,n)}}}locateOnPoint(t,e){return e.getCoordinate().equals2D(t)?ie.INTERIOR:ie.EXTERIOR}locateOnLineString(t,e){if(!e.getEnvelopeInternal().intersects(t))return ie.EXTERIOR;const i=e.getCoordinateSequence();return e.isClosed()||!t.equals(i.getCoordinate(0))&&!t.equals(i.getCoordinate(i.size()-1))?Xe.isOnLine(t,i)?ie.INTERIOR:ie.EXTERIOR:ie.BOUNDARY}locateInPolygon(t,e){if(e.isEmpty())return ie.EXTERIOR;const i=e.getExteriorRing(),n=this.locateInPolygonRing(t,i);if(n===ie.EXTERIOR)return ie.EXTERIOR;if(n===ie.BOUNDARY)return ie.BOUNDARY;for(let i=0;i<e.getNumInteriorRing();i++){const n=e.getInteriorRingN(i),o=this.locateInPolygonRing(t,n);if(o===ie.INTERIOR)return ie.EXTERIOR;if(o===ie.BOUNDARY)return ie.BOUNDARY}return ie.INTERIOR}locate(t,e){return e.isEmpty()?ie.EXTERIOR:e instanceof Mt?this.locateOnLineString(t,e):e instanceof Nt?this.locateInPolygon(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?ie.BOUNDARY:this._numBoundaries>0||this._isIn?ie.INTERIOR:ie.EXTERIOR)}getClass(){return gi}get interfaces_(){return[]}}gi.constructor_=function(){if(this._boundaryRule=z.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){const t=arguments[0];if(null===t)throw new i("Rule must be non-null");this._boundaryRule=t}};class di{constructor(){di.constructor_.apply(this,arguments)}static pointWitMinAngleWithX(t,e){let i=o.MAX_VALUE,n=null;for(let o=0;o<t.length;o++){const r=t[o];if(r===e)continue;const s=r.x-e.x;let a=r.y-e.y;a<0&&(a=-a);const l=a/Math.sqrt(s*s+a*a);l<i&&(i=l,n=r)}return n}static lowestPoint(t){let e=t[0];for(let i=1;i<t.length;i++)t[i].y<e.y&&(e=t[i]);return e}static pointWithMinAngleWithSegment(t,e,i){let n=o.MAX_VALUE,r=null;for(let o=0;o<t.length;o++){const s=t[o];if(s===e)continue;if(s===i)continue;const a=oe.angleBetween(e,s,i);a<n&&(n=a,r=s)}return r}getRadius(){return this.compute(),this._radius}getDiameter(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}const t=this._extremalPts[0],e=this._extremalPts[1];return this._input.getFactory().createLineString([t,e])}getExtremalPoints(){return this.compute(),this._extremalPts}computeCirclePoints(){if(this._input.isEmpty())return this._extremalPts=new Array(0).fill(null),null;if(1===this._input.getNumPoints()){const t=this._input.getCoordinates();return this._extremalPts=[new p(t[0])],null}const t=this._input.convexHull().getCoordinates();let e=t;if(t[0].equals2D(t[t.length-1])&&(e=new Array(t.length-1).fill(null),W.copyDeep(t,0,e,0,t.length-1)),e.length<=2)return this._extremalPts=W.copyDeep(e),null;let i=di.lowestPoint(e),n=di.pointWitMinAngleWithX(e,i);for(let t=0;t<e.length;t++){const t=di.pointWithMinAngleWithSegment(e,i,n);if(oe.isObtuse(i,t,n))return this._extremalPts=[new p(i),new p(n)],null;if(oe.isObtuse(t,i,n))i=t;else{if(!oe.isObtuse(t,n,i))return this._extremalPts=[new p(i),new p(n),new p(t)],null;n=t}}u.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")}compute(){if(null!==this._extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))}getFarthestPoints(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}const t=this._extremalPts[0],e=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([t,e])}getCircle(){if(this.compute(),null===this._centre)return this._input.getFactory().createPolygon();const t=this._input.getFactory().createPoint(this._centre);return 0===this._radius?t:t.buffer(this._radius)}getCentre(){return this.compute(),this._centre}computeCentre(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new p((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=re.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}}getClass(){return di}get interfaces_(){return[]}}di.constructor_=function(){this._input=null,this._extremalPts=null,this._centre=null,this._radius=0;const t=arguments[0];this._input=t};class fi{constructor(){fi.constructor_.apply(this,arguments)}static nextIndex(t,e){return++e>=t.length&&(e=0),e}static computeC(t,e,i){return t*i.y-e*i.x}static getMinimumDiameter(t){return new fi(t).getDiameter()}static getMinimumRectangle(t){return new fi(t).getMinimumRectangle()}static computeSegmentForLine(t,e,i){let n=null,o=null;return Math.abs(e)>Math.abs(t)?(n=new p(0,i/e),o=new p(1,i/e-t/e)):(n=new p(i/t,0),o=new p(i/t-e/t,1)),new ee(n,o)}getWidthCoordinate(){return this.computeMinimumDiameter(),this._minWidthPt}getSupportingSegment(){return this.computeMinimumDiameter(),this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])}getDiameter(){if(this.computeMinimumDiameter(),null===this._minWidthPt)return this._inputGeom.getFactory().createLineString();const t=this._minBaseSeg.project(this._minWidthPt);return this._inputGeom.getFactory().createLineString([t,this._minWidthPt])}computeWidthConvex(t){this._convexHullPts=t instanceof Nt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=null,this._minBaseSeg=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)}computeConvexRingMinDiameter(t){this._minWidth=o.MAX_VALUE;let e=1;const i=new ee;for(let n=0;n<t.length-1;n++)i.p0=t[n],i.p1=t[n+1],e=this.findMaxPerpDistance(t,i,e)}computeMinimumDiameter(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);else{const t=new ai(this._inputGeom).getConvexHull();this.computeWidthConvex(t)}}getLength(){return this.computeMinimumDiameter(),this._minWidth}findMaxPerpDistance(t,e,i){let n=e.distancePerpendicular(t[i]),o=n,r=i,s=r;for(;o>=n;)n=o,r=s,s=fi.nextIndex(t,r),o=e.distancePerpendicular(t[s]);return n<this._minWidth&&(this._minPtIndex=r,this._minWidth=n,this._minWidthPt=t[this._minPtIndex],this._minBaseSeg=new ee(e)),r}getMinimumRectangle(){if(this.computeMinimumDiameter(),0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());const t=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,e=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y;let i=o.MAX_VALUE,n=-o.MAX_VALUE,r=o.MAX_VALUE,s=-o.MAX_VALUE;for(let o=0;o<this._convexHullPts.length;o++){const a=fi.computeC(t,e,this._convexHullPts[o]);a>n&&(n=a),a<i&&(i=a);const l=fi.computeC(-e,t,this._convexHullPts[o]);l>s&&(s=l),l<r&&(r=l)}const a=fi.computeSegmentForLine(-t,-e,s),l=fi.computeSegmentForLine(-t,-e,r),h=fi.computeSegmentForLine(-e,t,n),c=fi.computeSegmentForLine(-e,t,i),u=h.lineIntersection(a),p=c.lineIntersection(a),g=c.lineIntersection(l),d=h.lineIntersection(l),f=this._inputGeom.getFactory().createLinearRing([u,p,g,d,u]);return this._inputGeom.getFactory().createPolygon(f)}getClass(){return fi}get interfaces_(){return[]}}fi.constructor_=function(){if(this._inputGeom=null,this._isConvex=null,this._convexHullPts=null,this._minBaseSeg=new ee,this._minWidthPt=null,this._minPtIndex=null,this._minWidth=0,1===arguments.length){const t=arguments[0];fi.constructor_.call(this,t,!1)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._inputGeom=t,this._isConvex=e}};var yi=Object.freeze({__proto__:null,distance:Re,locate:Je,match:ii,Angle:oe,Area:Pt,Centroid:ni,ConvexHull:ai,Distance:R,InteriorPointArea:hi,InteriorPointLine:ui,InteriorPointPoint:pi,Length:vt,Orientation:P,PointLocation:Xe,PointLocator:gi,RobustLineIntersector:te,MinimumBoundingCircle:di,MinimumDiameter:fi});class mi{constructor(){mi.constructor_.apply(this,arguments)}static densifyPoints(t,e,i){const n=new ee,o=new C;for(let r=0;r<t.length-1;r++){n.p0=t[r],n.p1=t[r+1],o.add(n.p0,!1);const s=n.getLength(),a=Math.trunc(s/e)+1;if(a>1){const t=s/a;for(let e=1;e<a;e++){const r=e*t/s,a=n.pointAlong(r);i.makePrecise(a),o.add(a,!1)}}}return o.add(t[t.length-1],!1),o.toCoordinateArray()}static densify(t,e){const i=new mi(t);return i.setDistanceTolerance(e),i.getResultGeometry()}getResultGeometry(){return new vi(this._distanceTolerance).transform(this._inputGeom)}setDistanceTolerance(t){if(t<=0)throw new i("Tolerance must be positive");this._distanceTolerance=t}getClass(){return mi}get interfaces_(){return[]}}class vi extends me{constructor(){super(),vi.constructor_.apply(this,arguments)}transformMultiPolygon(t,e){const i=super.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)}transformPolygon(t,e){const i=super.transformPolygon.call(this,t,e);return e instanceof Ot?i:this.createValidArea(i)}transformCoordinates(t,e){const i=t.toCoordinateArray();let n=mi.densifyPoints(i,this.distanceTolerance,e.getPrecisionModel());return e instanceof Mt&&1===n.length&&(n=new Array(0).fill(null)),this._factory.getCoordinateSequenceFactory().create(n)}createValidArea(t){return t.buffer(0)}getClass(){return vi}get interfaces_(){return[]}}vi.constructor_=function(){this.distanceTolerance=null;const t=arguments[0];this.distanceTolerance=t},mi.DensifyTransformer=vi,mi.constructor_=function(){this._inputGeom=null,this._distanceTolerance=null;const t=arguments[0];this._inputGeom=t};var _i=Object.freeze({__proto__:null,Densifier:mi});class xi{constructor(){xi.constructor_.apply(this,arguments)}static isNorthern(t){return t===xi.NE||t===xi.NW}static isOpposite(t,e){return t!==e&&2==(t-e+4)%4}static commonHalfPlane(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;const i=t<e?t:e;return 0===i&&3===(t>e?t:e)?3:i}static isInHalfPlane(t,e){return e===xi.SE?t===xi.SE||t===xi.SW:t===e||t===e+1}static quadrant(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?xi.NE:xi.SE:e>=0?xi.NW:xi.SW}if(arguments[0]instanceof p&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1];if(e.x===t.x&&e.y===t.y)throw new i("Cannot compute the quadrant for two identical points "+t);return e.x>=t.x?e.y>=t.y?xi.NE:xi.SE:e.y>=t.y?xi.NW:xi.SW}}getClass(){return xi}get interfaces_(){return[]}}xi.constructor_=function(){},xi.NE=0,xi.NW=1,xi.SW=2,xi.SE=3;class Ci{constructor(){Ci.constructor_.apply(this,arguments)}static init(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t}static create(t,e){const i=new Ci(t),n=new Ci(e);return i.init(n),i}find(t){let e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null}dest(){return this._sym._orig}oNext(){return this._sym._next}insert(t){if(this.oNext()===this)return this.insertAfter(t),null;const e=this.compareTo(t);let i=this;do{const n=i.oNext();if(n.compareTo(t)!==e||n===this)return i.insertAfter(t),null;i=n}while(i!==this);u.shouldNeverReachHere()}insertAfter(t){u.equals(this._orig,t.orig());const e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)}degree(){let t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t}equals(){if(2===arguments.length&&arguments[1]instanceof p&&arguments[0]instanceof p){const t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}}deltaY(){return this._sym._orig.y-this._orig.y}sym(){return this._sym}prev(){return this._sym.next()._sym}compareAngularDirection(t){const e=this.deltaX(),i=this.deltaY(),n=t.deltaX(),o=t.deltaY();if(e===n&&i===o)return 0;const r=xi.quadrant(e,i),s=xi.quadrant(n,o);return r>s?1:r<s?-1:P.index(t._orig,t.dest(),this.dest())}prevNode(){let t=this;for(;2===t.degree();)if((t=t.prev())===this)return null;return t}compareTo(t){const e=t;return this.compareAngularDirection(e)}next(){return this._next}setSym(t){this._sym=t}orig(){return this._orig}toString(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"}setNext(t){this._next=t}init(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)}deltaX(){return this._sym._orig.x-this._orig.x}getClass(){return Ci}get interfaces_(){return[]}}Ci.constructor_=function(){this._orig=null,this._sym=null,this._next=null;const t=arguments[0];this._orig=t};class Ii extends Ci{constructor(){super(),Ii.constructor_.apply(this,arguments)}static setMarkBoth(t,e){t.setMark(e),t.sym().setMark(e)}static isMarked(t){return t.isMarked()}static setMark(t,e){t.setMark(e)}static markBoth(t){t.mark(),t.sym().mark()}static mark(t){t.mark()}mark(){this._isMarked=!0}setMark(t){this._isMarked=t}isMarked(){return this._isMarked}getClass(){return Ii}get interfaces_(){return[]}}Ii.constructor_=function(){this._isMarked=!1;const t=arguments[0];Ci.constructor_.call(this,t)};class Ai{constructor(){Ai.constructor_.apply(this,arguments)}static isValidEdge(t,e){return 0!==e.compareTo(t)}insert(t,e,i){const n=this.create(t,e);null!==i?i.insert(n):this._vertexMap.put(t,n);const o=this._vertexMap.get(e);return null!==o?o.insert(n.sym()):this._vertexMap.put(e,n.sym()),n}create(t,e){const i=this.createEdge(t),n=this.createEdge(e);return Ci.init(i,n),i}createEdge(t){return new Ci(t)}addEdge(t,e){if(!Ai.isValidEdge(t,e))return null;const i=this._vertexMap.get(t);let n=null;return null!==i&&(n=i.find(e)),null!==n?n:this.insert(t,e,i)}getVertexEdges(){return this._vertexMap.values()}findEdge(t,e){const i=this._vertexMap.get(t);return null===i?null:i.find(e)}getClass(){return Ai}get interfaces_(){return[]}}Ai.constructor_=function(){this._vertexMap=new Ht};class bi extends Ii{constructor(){super(),bi.constructor_.apply(this,arguments)}setStart(){this._isStart=!0}isStart(){return this._isStart}getClass(){return bi}get interfaces_(){return[]}}bi.constructor_=function(){this._isStart=!1;const t=arguments[0];Ii.constructor_.call(this,t)};class wi extends Ai{constructor(){super(),wi.constructor_.apply(this,arguments)}createEdge(t){return new bi(t)}getClass(){return wi}get interfaces_(){return[]}}wi.constructor_=function(){};class Si{constructor(){Si.constructor_.apply(this,arguments)}static dissolve(t){const e=new Si;return e.add(t),e.getResult()}addLine(t){this._lines.add(this._factory.createLineString(t.toCoordinateArray()))}updateRingStartEdge(t){return t.isStart()||(t=t.sym()).isStart()?null===this._ringStartEdge?(this._ringStartEdge=t,null):void(t.orig().compareTo(this._ringStartEdge.orig())<0&&(this._ringStartEdge=t)):null}getResult(){return null===this._result&&this.computeResult(),this._result}process(t){let e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()}buildRing(t){const e=new C;let i=t;for(e.add(i.orig().copy(),!1);2===i.sym().degree();){const n=i.next();if(n===t)break;e.add(n.orig().copy(),!1),i=n}e.add(i.dest().copy(),!1),this.addLine(e)}buildLine(t){const e=new C;let i=t;for(this._ringStartEdge=null,Ii.markBoth(i),e.add(i.orig().copy(),!1);2===i.sym().degree();){this.updateRingStartEdge(i);const n=i.next();if(n===t)return this.buildRing(this._ringStartEdge),null;e.add(n.orig().copy(),!1),i=n,Ii.markBoth(i)}e.add(i.dest().clone(),!1),this.stackEdges(i.sym()),this.addLine(e)}stackEdges(t){let e=t;do{Ii.isMarked(e)||this._nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)}computeResult(){for(let t=this._graph.getVertexEdges().iterator();t.hasNext();){const e=t.next();Ii.isMarked(e)||this.process(e)}this._result=this._factory.buildGeometry(this._lines)}buildLines(){for(;!this._nodeEdgeStack.empty();){const t=this._nodeEdgeStack.pop();Ii.isMarked(t)||this.buildLine(t)}}add(){if(arguments[0]instanceof G)arguments[0].apply(new class{get interfaces_(){return[k]}filter(t){t instanceof Mt&&this.add(t)}});else if(d(arguments[0],f))for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.add(e)}else if(arguments[0]instanceof Mt){const t=arguments[0];null===this._factory&&(this._factory=t.getFactory());const e=t.getCoordinateSequence();let i=!1;for(let t=1;t<e.size();t++){const n=this._graph.addEdge(e.getCoordinate(t-1),e.getCoordinate(t));null!==n&&(i||(n.setStart(),i=!0))}}}getClass(){return Si}get interfaces_(){return[]}}Si.constructor_=function(){this._result=null,this._factory=null,this._graph=null,this._lines=new _,this._nodeEdgeStack=new ri,this._ringStartEdge=null,this._graph=new wi};var Mi=Object.freeze({__proto__:null,LineDissolver:Si});class Ei{constructor(){Ei.constructor_.apply(this,arguments)}static opposite(t){return t===Ei.LEFT?Ei.RIGHT:t===Ei.RIGHT?Ei.LEFT:t}getClass(){return Ei}get interfaces_(){return[]}}Ei.constructor_=function(){},Ei.ON=0,Ei.LEFT=1,Ei.RIGHT=2;class Ti{constructor(){Ti.constructor_.apply(this,arguments)}computeIntersections(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)}getClass(){return Ti}get interfaces_(){return[]}}Ti.constructor_=function(){this.mce=null,this.chainIndex=null;const t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};class Pi{constructor(){Pi.constructor_.apply(this,arguments)}isDelete(){return this._eventType===Pi.DELETE}setDeleteEventIndex(t){this._deleteEventIndex=t}getObject(){return this._obj}compareTo(t){const e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0}getInsertEvent(){return this._insertEvent}isInsert(){return this._eventType===Pi.INSERT}isSameLabel(t){return null!==this._label&&this._label===t._label}getDeleteEventIndex(){return this._deleteEventIndex}getClass(){return Pi}get interfaces_(){return[r]}}Pi.constructor_=function(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){const t=arguments[0],e=arguments[1];this._eventType=Pi.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._eventType=Pi.INSERT,this._label=t,this._xValue=e,this._obj=i}},Pi.INSERT=1,Pi.DELETE=2;class Li{constructor(){Li.constructor_.apply(this,arguments)}getClass(){return Li}get interfaces_(){return[]}}Li.constructor_=function(){};class Ni{constructor(){Ni.constructor_.apply(this,arguments)}static isAdjacentSegments(t,e){return 1===Math.abs(t-e)}isTrivialIntersection(t,e,i,n){if(t===i&&1===this._li.getIntersectionNum()){if(Ni.isAdjacentSegments(e,n))return!0;if(t.isClosed()){const i=t.getNumPoints()-1;if(0===e&&n===i||0===n&&e===i)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}setIsDoneIfProperInt(t){this._isDoneWhenProperInt=t}hasProperInteriorIntersection(){return this._hasProperInterior}isBoundaryPointInternal(t,e){for(let i=e.iterator();i.hasNext();){const e=i.next().getCoordinate();if(t.isIntersection(e))return!0}return!1}hasProperIntersection(){return this._hasProper}hasIntersection(){return this._hasIntersection}isDone(){return this._isDone}isBoundaryPoint(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))}setBoundaryNodes(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e}addIntersections(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;const o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))}getClass(){return Ni}get interfaces_(){return[]}}Ni.constructor_=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;const t=arguments[0],e=arguments[1],i=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=i};class Di extends Li{constructor(){super(),Di.constructor_.apply(this,arguments)}prepareEvents(){xe.sort(this.events);for(let t=0;t<this.events.size();t++){const e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}}computeIntersections(){if(1===arguments.length){const t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(let e=0;e<this.events.size();e++){const i=this.events.get(e);if(i.isInsert()&&this.processOverlaps(e,i.getDeleteEventIndex(),i,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Ni&&d(arguments[0],m)&&d(arguments[1],m)){const t=arguments[0],e=arguments[1],i=arguments[2];this.addEdges(t,t),this.addEdges(e,e),this.computeIntersections(i)}else if("boolean"==typeof arguments[2]&&d(arguments[0],m)&&arguments[1]instanceof Ni){const t=arguments[0],e=arguments[1];arguments[2]?this.addEdges(t,null):this.addEdges(t),this.computeIntersections(e)}}addEdge(t,e){const i=t.getMonotoneChainEdge(),n=i.getStartIndexes();for(let t=0;t<n.length-1;t++){const n=new Ti(i,t),o=new Pi(e,i.getMinX(t),n);this.events.add(o),this.events.add(new Pi(i.getMaxX(t),o))}}processOverlaps(t,e,i,n){const o=i.getObject();for(let r=t;r<e;r++){const t=this.events.get(r);if(t.isInsert()){const e=t.getObject();i.isSameLabel(t)||(o.computeIntersections(e,n),this.nOverlaps++)}}}addEdges(){if(1===arguments.length)for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.addEdge(e,e)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];for(let i=t.iterator();i.hasNext();){const t=i.next();this.addEdge(t,e)}}}getClass(){return Di}get interfaces_(){return[]}}Di.constructor_=function(){this.events=new _,this.nOverlaps=null};class Ri{constructor(){Ri.constructor_.apply(this,arguments)}setAllLocations(t){for(let e=0;e<this.location.length;e++)this.location[e]=t}isNull(){for(let t=0;t<this.location.length;t++)if(this.location[t]!==ie.NONE)return!1;return!0}setAllLocationsIfNull(t){for(let e=0;e<this.location.length;e++)this.location[e]===ie.NONE&&(this.location[e]=t)}isLine(){return 1===this.location.length}merge(t){if(t.location.length>this.location.length){const t=new Array(3).fill(null);t[Ei.ON]=this.location[Ei.ON],t[Ei.LEFT]=ie.NONE,t[Ei.RIGHT]=ie.NONE,this.location=t}for(let e=0;e<this.location.length;e++)this.location[e]===ie.NONE&&e<t.location.length&&(this.location[e]=t.location[e])}getLocations(){return this.location}flip(){if(this.location.length<=1)return null;const t=this.location[Ei.LEFT];this.location[Ei.LEFT]=this.location[Ei.RIGHT],this.location[Ei.RIGHT]=t}toString(){const t=new w;return this.location.length>1&&t.append(ie.toLocationSymbol(this.location[Ei.LEFT])),t.append(ie.toLocationSymbol(this.location[Ei.ON])),this.location.length>1&&t.append(ie.toLocationSymbol(this.location[Ei.RIGHT])),t.toString()}setLocations(t,e,i){this.location[Ei.ON]=t,this.location[Ei.LEFT]=e,this.location[Ei.RIGHT]=i}get(t){return t<this.location.length?this.location[t]:ie.NONE}isArea(){return this.location.length>1}isAnyNull(){for(let t=0;t<this.location.length;t++)if(this.location[t]===ie.NONE)return!0;return!1}setLocation(){if(1===arguments.length){const t=arguments[0];this.setLocation(Ei.ON,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.location[t]=e}}init(t){this.location=new Array(t).fill(null),this.setAllLocations(ie.NONE)}isEqualOnSide(t,e){return this.location[e]===t.location[e]}allPositionsEqual(t){for(let e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}getClass(){return Ri}get interfaces_(){return[]}}Ri.constructor_=function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){const t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){const t=arguments[0];this.init(1),this.location[Ei.ON]=t}else if(arguments[0]instanceof Ri){const t=arguments[0];if(this.init(t.location.length),null!==t)for(let e=0;e<this.location.length;e++)this.location[e]=t.location[e]}}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this.init(3),this.location[Ei.ON]=t,this.location[Ei.LEFT]=e,this.location[Ei.RIGHT]=i}};class Oi{constructor(){Oi.constructor_.apply(this,arguments)}static toLineLabel(t){const e=new Oi(ie.NONE);for(let i=0;i<2;i++)e.setLocation(i,t.getLocation(i));return e}getGeometryCount(){let t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}setAllLocations(t,e){this.elt[t].setAllLocations(e)}isNull(t){return this.elt[t].isNull()}setAllLocationsIfNull(){if(1===arguments.length){const t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.elt[t].setAllLocationsIfNull(e)}}isLine(t){return this.elt[t].isLine()}merge(t){for(let e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ri(t.elt[e]):this.elt[e].merge(t.elt[e])}flip(){this.elt[0].flip(),this.elt[1].flip()}getLocation(){if(1===arguments.length){const t=arguments[0];return this.elt[t].get(Ei.ON)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.elt[t].get(e)}}toString(){const t=new w;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()}isArea(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){const t=arguments[0];return this.elt[t].isArea()}}isAnyNull(t){return this.elt[t].isAnyNull()}setLocation(){if(2===arguments.length){const t=arguments[0],e=arguments[1];this.elt[t].setLocation(Ei.ON,e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this.elt[t].setLocation(e,i)}}isEqualOnSide(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}allPositionsEqual(t,e){return this.elt[t].allPositionsEqual(e)}toLine(t){this.elt[t].isArea()&&(this.elt[t]=new Ri(this.elt[t].location[0]))}getClass(){return Oi}get interfaces_(){return[]}}Oi.constructor_=function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){const t=arguments[0];this.elt[0]=new Ri(t),this.elt[1]=new Ri(t)}else if(arguments[0]instanceof Oi){const t=arguments[0];this.elt[0]=new Ri(t.elt[0]),this.elt[1]=new Ri(t.elt[1])}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.elt[0]=new Ri(ie.NONE),this.elt[1]=new Ri(ie.NONE),this.elt[t].setLocation(e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this.elt[0]=new Ri(t,e,i),this.elt[1]=new Ri(t,e,i)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.elt[0]=new Ri(ie.NONE,ie.NONE,ie.NONE),this.elt[1]=new Ri(ie.NONE,ie.NONE,ie.NONE),this.elt[t].setLocations(e,i,n)}};class Fi{constructor(){Fi.constructor_.apply(this,arguments)}getSegmentIndex(){return this.segmentIndex}getCoordinate(){return this.coord}print(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)}compareTo(t){const e=t;return this.compare(e.segmentIndex,e.dist)}isEndPoint(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t}toString(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}getDistance(){return this.dist}compare(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0}getClass(){return Fi}get interfaces_(){return[r]}}Fi.constructor_=function(){this.coord=null,this.segmentIndex=null,this.dist=null;const t=arguments[0],e=arguments[1],i=arguments[2];this.coord=new p(t),this.segmentIndex=e,this.dist=i};class ki{constructor(){ki.constructor_.apply(this,arguments)}print(t){t.println("Intersections:");for(let e=this.iterator();e.hasNext();)e.next().print(t)}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(t){this.addEndpoints();const e=this.iterator();let i=e.next();for(;e.hasNext();){const n=e.next(),o=this.createSplitEdge(i,n);t.add(o),i=n}}addEndpoints(){const t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)}createSplitEdge(t,e){let i=e.segmentIndex-t.segmentIndex+2;const n=this.edge.pts[e.segmentIndex],o=e.dist>0||!e.coord.equals2D(n);o||i--;const r=new Array(i).fill(null);let s=0;r[s++]=new p(t.coord);for(let i=t.segmentIndex+1;i<=e.segmentIndex;i++)r[s++]=this.edge.pts[i];return o&&(r[s]=e.coord),new ji(r,new Oi(this.edge._label))}add(t,e,i){const n=new Fi(t,e,i),o=this._nodeMap.get(n);return null!==o?o:(this._nodeMap.put(n,n),n)}isIntersection(t){for(let e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1}getClass(){return ki}get interfaces_(){return[]}}ki.constructor_=function(){this._nodeMap=new rt,this.edge=null;const t=arguments[0];this.edge=t};class Gi{constructor(){Gi.constructor_.apply(this,arguments)}static toIntArray(t){const e=new Array(t.size()).fill(null);for(let i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e}getChainStartIndices(t){let e=0;const i=new _;i.add(new S(e));do{const n=this.findChainEnd(t,e);i.add(new S(n)),e=n}while(e<t.length-1);return Gi.toIntArray(i)}findChainEnd(t,e){const i=xi.quadrant(t[e],t[e+1]);let n=e+1;for(;n<t.length&&xi.quadrant(t[n-1],t[n])===i;)n++;return n-1}getClass(){return Gi}get interfaces_(){return[]}}Gi.constructor_=function(){};class Bi{constructor(){Bi.constructor_.apply(this,arguments)}getCoordinates(){return this.pts}getMaxX(t){const e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e>i?e:i}getMinX(t){const e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e<i?e:i}computeIntersectsForChain(){if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[i],e.startIndex[i+1],n)}else if(6===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];if(e-t==1&&o-n==1)return r.addIntersections(this.e,t,i.e,n),null;if(!this.overlaps(t,e,i,n,o))return null;const s=Math.trunc((t+e)/2),a=Math.trunc((n+o)/2);t<s&&(n<a&&this.computeIntersectsForChain(t,s,i,n,a,r),a<o&&this.computeIntersectsForChain(t,s,i,a,o,r)),s<e&&(n<a&&this.computeIntersectsForChain(s,e,i,n,a,r),a<o&&this.computeIntersectsForChain(s,e,i,a,o,r))}}overlaps(t,e,i,n,o){return I.intersects(this.pts[t],this.pts[e],i.pts[n],i.pts[o])}getStartIndexes(){return this.startIndex}computeIntersects(t,e){for(let i=0;i<this.startIndex.length-1;i++)for(let n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(i,t,n,e)}getClass(){return Bi}get interfaces_(){return[]}}Bi.constructor_=function(){this.e=null,this.pts=null,this.startIndex=null;const t=arguments[0];this.e=t,this.pts=t.getCoordinates();const e=new Gi;this.startIndex=e.getChainStartIndices(this.pts)};class zi{constructor(){zi.constructor_.apply(this,arguments)}static depthAtLocation(t){return t===ie.EXTERIOR?0:t===ie.INTERIOR?1:zi.NULL_VALUE}getDepth(t,e){return this._depth[t][e]}setDepth(t,e,i){this._depth[t][e]=i}isNull(){if(0===arguments.length){for(let t=0;t<2;t++)for(let e=0;e<3;e++)if(this._depth[t][e]!==zi.NULL_VALUE)return!1;return!0}if(1===arguments.length){const t=arguments[0];return this._depth[t][1]===zi.NULL_VALUE}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this._depth[t][e]===zi.NULL_VALUE}}normalize(){for(let t=0;t<2;t++)if(!this.isNull(t)){let e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(let i=1;i<3;i++){let n=0;this._depth[t][i]>e&&(n=1),this._depth[t][i]=n}}}getDelta(t){return this._depth[t][Ei.RIGHT]-this._depth[t][Ei.LEFT]}getLocation(t,e){return this._depth[t][e]<=0?ie.EXTERIOR:ie.INTERIOR}toString(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}add(){if(1===arguments.length){const t=arguments[0];for(let e=0;e<2;e++)for(let i=1;i<3;i++){const n=t.getLocation(e,i);n!==ie.EXTERIOR&&n!==ie.INTERIOR||(this.isNull(e,i)?this._depth[e][i]=zi.depthAtLocation(n):this._depth[e][i]+=zi.depthAtLocation(n))}}else if(3===arguments.length){const t=arguments[0],e=arguments[1];arguments[2]===ie.INTERIOR&&this._depth[t][e]++}}getClass(){return zi}get interfaces_(){return[]}}zi.constructor_=function(){this._depth=Array(2).fill().map(()=>Array(3));for(let t=0;t<2;t++)for(let e=0;e<3;e++)this._depth[t][e]=zi.NULL_VALUE},zi.NULL_VALUE=-1;class Vi{constructor(){Vi.constructor_.apply(this,arguments)}setVisited(t){this._isVisited=t}setInResult(t){this._isInResult=t}isCovered(){return this._isCovered}isCoveredSet(){return this._isCoveredSet}setLabel(t){this._label=t}getLabel(){return this._label}setCovered(t){this._isCovered=t,this._isCoveredSet=!0}updateIM(t){u.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)}isInResult(){return this._isInResult}isVisited(){return this._isVisited}getClass(){return Vi}get interfaces_(){return[]}}Vi.constructor_=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this._label=t}};class ji extends Vi{constructor(){super(),ji.constructor_.apply(this,arguments)}static updateIM(){if(!(2===arguments.length&&arguments[1]instanceof ne&&arguments[0]instanceof Oi))return super.updateIM.apply(this,arguments);{const t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Ei.ON),t.getLocation(1,Ei.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Ei.LEFT),t.getLocation(1,Ei.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Ei.RIGHT),t.getLocation(1,Ei.RIGHT),2))}}getDepth(){return this._depth}getCollapsedEdge(){const t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new ji(t,Oi.toLineLabel(this._label))}isIsolated(){return this._isIsolated}getCoordinates(){return this.pts}setIsolated(t){this._isIsolated=t}setName(t){this._name=t}equals(t){if(!(t instanceof ji))return!1;const e=t;if(this.pts.length!==e.pts.length)return!1;let i=!0,n=!0,o=this.pts.length;for(let t=0;t<this.pts.length;t++)if(this.pts[t].equals2D(e.pts[t])||(i=!1),this.pts[t].equals2D(e.pts[--o])||(n=!1),!i&&!n)return!1;return!0}getCoordinate(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){const t=arguments[0];return this.pts[t]}}print(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(let e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)}computeIM(t){ji.updateIM(this._label,t)}isCollapsed(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}isClosed(){return this.pts[0].equals(this.pts[this.pts.length-1])}getMaximumSegmentIndex(){return this.pts.length-1}getDepthDelta(){return this._depthDelta}getNumPoints(){return this.pts.length}printReverse(t){t.print("edge "+this._name+": ");for(let e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")}getMonotoneChainEdge(){return null===this._mce&&(this._mce=new Bi(this)),this._mce}getEnvelope(){if(null===this._env){this._env=new I;for(let t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env}addIntersection(t,e,i,n){const o=new p(t.getIntersection(n));let r=e,s=t.getEdgeDistance(i,n);const a=r+1;if(a<this.pts.length){const t=this.pts[a];o.equals2D(t)&&(r=a,s=0)}this.eiList.add(o,r,s)}toString(){const t=new wt;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(let e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()}isPointwiseEqual(t){if(this.pts.length!==t.pts.length)return!1;for(let e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}setDepthDelta(t){this._depthDelta=t}getEdgeIntersectionList(){return this.eiList}addIntersections(t,e,i){for(let n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)}getClass(){return ji}get interfaces_(){return[]}}ji.constructor_=function(){if(this.pts=null,this._env=null,this.eiList=new ki(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new zi,this._depthDelta=0,1===arguments.length){const t=arguments[0];ji.constructor_.call(this,t,null)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.pts=t,this._label=e}};class Hi extends Vi{constructor(){super(),Hi.constructor_.apply(this,arguments)}isIncidentEdgeInResult(){for(let t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1}isIsolated(){return 1===this._label.getGeometryCount()}getCoordinate(){return this._coord}print(t){t.println("node "+this._coord+" lbl: "+this._label)}computeIM(t){}computeMergedLocation(t,e){let i=ie.NONE;if(i=this._label.getLocation(e),!t.isNull(e)){const n=t.getLocation(e);i!==ie.BOUNDARY&&(i=n)}return i}setLabel(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return super.setLabel.apply(this,arguments);{const t=arguments[0],e=arguments[1];null===this._label?this._label=new Oi(t,e):this._label.setLocation(t,e)}}getEdges(){return this._edges}mergeLabel(){if(arguments[0]instanceof Hi){const t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Oi){const t=arguments[0];for(let e=0;e<2;e++){const i=this.computeMergedLocation(t,e);this._label.getLocation(e)===ie.NONE&&this._label.setLocation(e,i)}}}add(t){this._edges.insert(t),t.setNode(this)}setLabelBoundary(t){if(null===this._label)return null;let e=ie.NONE;null!==this._label&&(e=this._label.getLocation(t));let i=null;switch(e){case ie.BOUNDARY:i=ie.INTERIOR;break;case ie.INTERIOR:default:i=ie.BOUNDARY}this._label.setLocation(t,i)}getClass(){return Hi}get interfaces_(){return[]}}Hi.constructor_=function(){this._coord=null,this._edges=null;const t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new Oi(0,ie.NONE)};class Ui{constructor(){Ui.constructor_.apply(this,arguments)}find(t){return this.nodeMap.get(t)}addNode(){if(arguments[0]instanceof p){const t=arguments[0];let e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Hi){const t=arguments[0],e=this.nodeMap.get(t.getCoordinate());return null===e?(this.nodeMap.put(t.getCoordinate(),t),t):(e.mergeLabel(t),e)}}print(t){for(let e=this.iterator();e.hasNext();)e.next().print(t)}iterator(){return this.nodeMap.values().iterator()}values(){return this.nodeMap.values()}getBoundaryNodes(t){const e=new _;for(let i=this.iterator();i.hasNext();){const n=i.next();n.getLabel().getLocation(t)===ie.BOUNDARY&&e.add(n)}return e}add(t){const e=t.getCoordinate();this.addNode(e).add(t)}getClass(){return Ui}get interfaces_(){return[]}}Ui.constructor_=function(){this.nodeMap=new rt,this.nodeFact=null;const t=arguments[0];this.nodeFact=t};class Wi{constructor(){Wi.constructor_.apply(this,arguments)}compareDirection(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:P.index(t._p0,t._p1,this._p1)}getDy(){return this._dy}getCoordinate(){return this._p0}setNode(t){this._node=t}print(t){const e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),n=i.lastIndexOf("."),o=i.substring(n+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)}compareTo(t){const e=t;return this.compareDirection(e)}getDirectedCoordinate(){return this._p1}getDx(){return this._dx}getLabel(){return this._label}getEdge(){return this._edge}getQuadrant(){return this._quadrant}getNode(){return this._node}toString(){const t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),i=e.lastIndexOf(".");return"  "+e.substring(i+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label}computeLabel(t){}init(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=xi.quadrant(this._dx,this._dy),u.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}getClass(){return Wi}get interfaces_(){return[r]}}Wi.constructor_=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){const t=arguments[0];this._edge=t}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];Wi.constructor_.call(this,t,e,i,null)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];Wi.constructor_.call(this,t),this.init(e,i),this._label=n}};class Yi extends h{constructor(){if(1===arguments.length){const t=arguments[0];super(t),h.call(this,t)}else{if(2!==arguments.length)throw Error();{const t=arguments[0],e=arguments[1];super(Yi.msgWithCoord(t,e)),this.name="TopologyException",this.pt=new p(e)}}}getCoordinate(){return this.pt}get interfaces_(){return[]}getClass(){return Yi}static msgWithCoord(t,e){return null!==e?t+" [ "+e+" ]":t}}class Xi extends Wi{constructor(){super(),Xi.constructor_.apply(this,arguments)}static depthFactor(t,e){return t===ie.EXTERIOR&&e===ie.INTERIOR?1:t===ie.INTERIOR&&e===ie.EXTERIOR?-1:0}getNextMin(){return this._nextMin}getDepth(t){return this._depth[t]}setVisited(t){this._isVisited=t}computeDirectedLabel(){this._label=new Oi(this._edge.getLabel()),this._isForward||this._label.flip()}getNext(){return this._next}setDepth(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Yi("assigned depths do not match",this.getCoordinate());this._depth[t]=e}isInteriorAreaEdge(){let t=!0;for(let e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Ei.LEFT)===ie.INTERIOR&&this._label.getLocation(e,Ei.RIGHT)===ie.INTERIOR||(t=!1);return t}setNextMin(t){this._nextMin=t}print(t){super.print.call(this,t),t.print(" "+this._depth[Ei.LEFT]+"/"+this._depth[Ei.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")}setMinEdgeRing(t){this._minEdgeRing=t}isLineEdge(){const t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,ie.EXTERIOR),i=!this._label.isArea(1)||this._label.allPositionsEqual(1,ie.EXTERIOR);return t&&e&&i}setEdgeRing(t){this._edgeRing=t}getMinEdgeRing(){return this._minEdgeRing}getDepthDelta(){let t=this._edge.getDepthDelta();return this._isForward||(t=-t),t}setInResult(t){this._isInResult=t}getSym(){return this._sym}isForward(){return this._isForward}getEdge(){return this._edge}printEdge(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)}setSym(t){this._sym=t}setVisitedEdge(t){this.setVisited(t),this._sym.setVisited(t)}setEdgeDepths(t,e){let i=this.getEdge().getDepthDelta();this._isForward||(i=-i);let n=1;t===Ei.LEFT&&(n=-1);const o=Ei.opposite(t),r=e+i*n;this.setDepth(t,e),this.setDepth(o,r)}getEdgeRing(){return this._edgeRing}isInResult(){return this._isInResult}setNext(t){this._next=t}isVisited(){return this._isVisited}getClass(){return Xi}get interfaces_(){return[]}}Xi.constructor_=function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];const t=arguments[0],e=arguments[1];if(Wi.constructor_.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{const e=t.getNumPoints()-1;this.init(t.getCoordinate(e),t.getCoordinate(e-1))}this.computeDirectedLabel()};class Zi{constructor(){Zi.constructor_.apply(this,arguments)}createNode(t){return new Hi(t,null)}getClass(){return Zi}get interfaces_(){return[]}}Zi.constructor_=function(){};class qi{constructor(){qi.constructor_.apply(this,arguments)}static linkResultDirectedEdges(t){for(let e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}printEdges(t){t.println("Edges:");for(let e=0;e<this._edges.size();e++){t.println("edge "+e+":");const i=this._edges.get(e);i.print(t),i.eiList.print(t)}}find(t){return this._nodes.find(t)}addNode(){if(arguments[0]instanceof Hi){const t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof p){const t=arguments[0];return this._nodes.addNode(t)}}getNodeIterator(){return this._nodes.iterator()}linkResultDirectedEdges(){for(let t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}debugPrintln(t){L.out.println(t)}isBoundaryNode(t,e){const i=this._nodes.find(e);if(null===i)return!1;const n=i.getLabel();return null!==n&&n.getLocation(t)===ie.BOUNDARY}linkAllDirectedEdges(){for(let t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()}matchInSameDirection(t,e,i,n){return!!t.equals(i)&&P.index(t,e,n)===P.COLLINEAR&&xi.quadrant(t,e)===xi.quadrant(i,n)}getEdgeEnds(){return this._edgeEndList}debugPrint(t){L.out.print(t)}getEdgeIterator(){return this._edges.iterator()}findEdgeInSameDirection(t,e){for(let i=0;i<this._edges.size();i++){const n=this._edges.get(i),o=n.getCoordinates();if(this.matchInSameDirection(t,e,o[0],o[1]))return n;if(this.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return n}return null}insertEdge(t){this._edges.add(t)}findEdgeEnd(t){for(let e=this.getEdgeEnds().iterator();e.hasNext();){const i=e.next();if(i.getEdge()===t)return i}return null}addEdges(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this._edges.add(t);const i=new Xi(t,!0),n=new Xi(t,!1);i.setSym(n),n.setSym(i),this.add(i),this.add(n)}}add(t){this._nodes.add(t),this._edgeEndList.add(t)}getNodes(){return this._nodes.values()}findEdge(t,e){for(let i=0;i<this._edges.size();i++){const n=this._edges.get(i),o=n.getCoordinates();if(t.equals(o[0])&&e.equals(o[1]))return n}return null}getClass(){return qi}get interfaces_(){return[]}}qi.constructor_=function(){if(this._edges=new _,this._nodes=null,this._edgeEndList=new _,0===arguments.length)this._nodes=new Ui(new Zi);else if(1===arguments.length){const t=arguments[0];this._nodes=new Ui(t)}};class Ki extends qi{constructor(){super(),Ki.constructor_.apply(this,arguments)}static determineBoundary(t,e){return t.isInBoundary(e)?ie.BOUNDARY:ie.INTERIOR}insertBoundaryPoint(t,e){const i=this._nodes.addNode(e).getLabel();let n=1,o=ie.NONE;(o=i.getLocation(t,Ei.ON))===ie.BOUNDARY&&n++;const r=Ki.determineBoundary(this._boundaryNodeRule,n);i.setLocation(t,r)}computeSelfNodes(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=new Ni(t,!0,!1);n.setIsDoneIfProperInt(i);const o=this.createEdgeSetIntersector(),r=this._parentGeom instanceof Rt||this._parentGeom instanceof Nt||this._parentGeom instanceof Ot,s=e||!r;return o.computeIntersections(this._edges,n,s),this.addSelfIntersectionNodes(this._argIndex),n}}computeSplitEdges(t){for(let e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)}computeEdgeIntersections(t,e,i){const n=new Ni(e,i,!0);return n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,n),n}getGeometry(){return this._parentGeom}getBoundaryNodeRule(){return this._boundaryNodeRule}hasTooFewPoints(){return this._hasTooFewPoints}addPoint(){if(arguments[0]instanceof Tt){const t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,ie.INTERIOR)}else if(arguments[0]instanceof p){const t=arguments[0];this.insertPoint(this._argIndex,t,ie.INTERIOR)}}addPolygon(t){this.addPolygonRing(t.getExteriorRing(),ie.EXTERIOR,ie.INTERIOR);for(let e=0;e<t.getNumInteriorRing();e++){const i=t.getInteriorRingN(e);this.addPolygonRing(i,ie.INTERIOR,ie.EXTERIOR)}}addEdge(t){this.insertEdge(t);const e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],ie.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],ie.BOUNDARY)}addLineString(t){const e=W.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;const i=new ji(e,new Oi(this._argIndex,ie.INTERIOR));this._lineEdgeMap.put(t,i),this.insertEdge(i),u.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])}getInvalidPoint(){return this._invalidPoint}getBoundaryPoints(){const t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null);let i=0;for(let n=t.iterator();n.hasNext();){const t=n.next();e[i++]=t.getCoordinate().copy()}return e}getBoundaryNodes(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes}addSelfIntersectionNode(t,e,i){if(this.isBoundaryNode(t,e))return null;i===ie.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,i)}addPolygonRing(t,e,i){if(t.isEmpty())return null;const n=W.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;let o=e,r=i;P.isCCW(n)&&(o=i,r=e);const s=new ji(n,new Oi(this._argIndex,ie.BOUNDARY,o,r));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,n[0],ie.BOUNDARY)}insertPoint(t,e,i){const n=this._nodes.addNode(e),o=n.getLabel();null===o?n._label=new Oi(t,i):o.setLocation(t,i)}createEdgeSetIntersector(){return new Di}addSelfIntersectionNodes(t){for(let e=this._edges.iterator();e.hasNext();){const i=e.next(),n=i.getLabel().getLocation(t);for(let e=i.eiList.iterator();e.hasNext();){const i=e.next();this.addSelfIntersectionNode(t,i.coord,n)}}}add(){if(!(1===arguments.length&&arguments[0]instanceof G))return super.add.apply(this,arguments);{const t=arguments[0];if(t.isEmpty())return null;if(t instanceof Ot&&(this._useBoundaryDeterminationRule=!1),t instanceof Nt)this.addPolygon(t);else if(t instanceof Mt)this.addLineString(t);else if(t instanceof Tt)this.addPoint(t);else if(t instanceof Dt)this.addCollection(t);else if(t instanceof ft)this.addCollection(t);else if(t instanceof Ot)this.addCollection(t);else{if(!(t instanceof dt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}}}addCollection(t){for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);this.add(i)}}locate(t){return d(this._parentGeom,Lt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Ue(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)}findEdge(){if(1===arguments.length&&arguments[0]instanceof Mt){const t=arguments[0];return this._lineEdgeMap.get(t)}return super.findEdge.apply(this,arguments)}getClass(){return Ki}get interfaces_(){return[]}}Ki.constructor_=function(){if(this._parentGeom=null,this._lineEdgeMap=new Ht,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new gi,2===arguments.length){const t=arguments[0],e=arguments[1];Ki.constructor_.call(this,t,e,z.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._argIndex=t,this._parentGeom=e,this._boundaryNodeRule=i,null!==e&&this.add(e)}};var Ji=Object.freeze({__proto__:null,GeometryGraph:Ki});class Qi{constructor(){Qi.constructor_.apply(this,arguments)}visit(t){}getClass(){return Qi}get interfaces_(){return[]}}Qi.constructor_=function(){};class $i{constructor(){$i.constructor_.apply(this,arguments)}isRepeated(){return this._count>1}getRight(){return this._right}getCoordinate(){return this._p}setLeft(t){this._left=t}getX(){return this._p.x}getData(){return this._data}getCount(){return this._count}getLeft(){return this._left}getY(){return this._p.y}increment(){this._count=this._count+1}setRight(t){this._right=t}getClass(){return $i}get interfaces_(){return[]}}$i.constructor_=function(){if(this._p=null,this._data=null,this._left=null,this._right=null,this._count=null,2===arguments.length){const t=arguments[0],e=arguments[1];this._p=new p(t),this._left=null,this._right=null,this._count=1,this._data=e}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._p=new p(t,e),this._left=null,this._right=null,this._count=1,this._data=i}};class tn{constructor(){tn.constructor_.apply(this,arguments)}static toCoordinates(){if(1===arguments.length){const t=arguments[0];return tn.toCoordinates(t,!1)}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new C;for(let n=t.iterator();n.hasNext();){const t=n.next(),o=e?t.getCount():1;for(let e=0;e<o;e++)i.add(t.getCoordinate(),!0)}return i.toCoordinateArray()}}insert(){if(1===arguments.length){const t=arguments[0];return this.insert(t,null)}if(2===arguments.length){const t=arguments[0],e=arguments[1];if(null===this._root)return this._root=new $i(t,e),this._root;if(this._tolerance>0){const e=this.findBestMatchNode(t);if(null!==e)return e.increment(),e}return this.insertExact(t,e)}}query(){if(1===arguments.length){const t=arguments[0],e=new _;return this.query(t,e),e}if(2===arguments.length)if(arguments[0]instanceof I&&d(arguments[1],m)){const t=arguments[0],e=arguments[1];this.queryNode(this._root,t,!0,new class{get interfaces_(){return[Qi]}visit(t){e.add(t)}})}else if(arguments[0]instanceof I&&d(arguments[1],Qi)){const t=arguments[0],e=arguments[1];this.queryNode(this._root,t,!0,e)}}queryNode(t,e,i,n){if(null===t)return null;let o=null,r=null,s=null;i?(o=e.getMinX(),r=e.getMaxX(),s=t.getX()):(o=e.getMinY(),r=e.getMaxY(),s=t.getY());const a=s<=r;o<s&&this.queryNode(t.getLeft(),e,!i,n),e.contains(t.getCoordinate())&&n.visit(t),a&&this.queryNode(t.getRight(),e,!i,n)}findBestMatchNode(t){const e=new en(t,this._tolerance);return this.query(e.queryEnvelope(),e),e.getNode()}isEmpty(){return null===this._root}insertExact(t,e){let i=this._root,n=this._root,o=!0,r=!0;for(;null!==i;){if(null!==i&&t.distance(i.getCoordinate())<=this._tolerance)return i.increment(),i;r=o?t.x<i.getX():t.y<i.getY(),n=i,i=r?i.getLeft():i.getRight(),o=!o}this._numberOfNodes=this._numberOfNodes+1;const s=new $i(t,e);return r?n.setLeft(s):n.setRight(s),s}getClass(){return tn}get interfaces_(){return[]}}class en{constructor(){en.constructor_.apply(this,arguments)}visit(t){const e=this._p.distance(t.getCoordinate());if(!(e<=this._tolerance))return null;let i=!1;(null===this._matchNode||e<this._matchDist||null!==this._matchNode&&e===this._matchDist&&t.getCoordinate().compareTo(this._matchNode.getCoordinate())<1)&&(i=!0),i&&(this._matchNode=t,this._matchDist=e)}queryEnvelope(){const t=new I(this._p);return t.expandBy(this._tolerance),t}getNode(){return this._matchNode}getClass(){return en}get interfaces_(){return[Qi]}}en.constructor_=function(){this._tolerance=null,this._matchNode=null,this._matchDist=0,this._p=null;const t=arguments[0],e=arguments[1];this._p=t,this._tolerance=e},tn.BestMatchVisitor=en,tn.constructor_=function(){if(this._root=null,this._numberOfNodes=null,this._tolerance=null,0===arguments.length)tn.constructor_.call(this,0);else if(1===arguments.length){const t=arguments[0];this._tolerance=t}};var nn=Object.freeze({__proto__:null,KdTree:tn});class on{constructor(){on.constructor_.apply(this,arguments)}static getSubnodeIndex(t,e,i){let n=-1;return t.getMinX()>=e&&(t.getMinY()>=i&&(n=3),t.getMaxY()<=i&&(n=1)),t.getMaxX()<=e&&(t.getMinY()>=i&&(n=2),t.getMaxY()<=i&&(n=0)),n}hasChildren(){for(let t=0;t<4;t++)if(null!==this._subnode[t])return!0;return!1}isPrunable(){return!(this.hasChildren()||this.hasItems())}addAllItems(t){t.addAll(this._items);for(let e=0;e<4;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t}getNodeCount(){let t=0;for(let e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+1}size(){let t=0;for(let e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()}addAllItemsFromOverlapping(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this._items);for(let i=0;i<4;i++)null!==this._subnode[i]&&this._subnode[i].addAllItemsFromOverlapping(t,e)}visitItems(t,e){for(let t=this._items.iterator();t.hasNext();)e.visitItem(t.next())}hasItems(){return!this._items.isEmpty()}remove(t,e){if(!this.isSearchMatch(t))return!1;let i=!1;for(let n=0;n<4;n++)if(null!==this._subnode[n]&&(i=this._subnode[n].remove(t,e))){this._subnode[n].isPrunable()&&(this._subnode[n]=null);break}return i||this._items.remove(e)}visit(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(let i=0;i<4;i++)null!==this._subnode[i]&&this._subnode[i].visit(t,e)}getItems(){return this._items}depth(){let t=0;for(let e=0;e<4;e++)if(null!==this._subnode[e]){const i=this._subnode[e].depth();i>t&&(t=i)}return t+1}isEmpty(){let t=!0;if(this._items.isEmpty()){for(let e=0;e<4;e++)if(null!==this._subnode[e]&&!this._subnode[e].isEmpty()){t=!1;break}}else t=!1;return t}add(t){this._items.add(t)}getClass(){return on}get interfaces_(){return[l]}}function rn(){}on.constructor_=function(){this._items=new _,this._subnode=new Array(4).fill(null)},rn.exponent=function(t){return function(t,e){let i,n,o,r;if(r||(i=e<0||1/e<0,isFinite(e)||(r={d:32752,c:0,b:0,a:0},i&&(r.d+=32768),n=Math.pow(2,11)-1,o=0)),!r){for(n=1023,o=Math.abs(e);o>=2;)n++,o/=2;for(;o<1&&n>0;)n--,o*=2;n<=0&&(o/=2)}return n}(0,t)-1023},rn.powerOf2=function(t){return Math.pow(2,t)};class sn{constructor(){sn.constructor_.apply(this,arguments)}static computeQuadLevel(t){const e=t.getWidth(),i=t.getHeight(),n=e>i?e:i;return rn.exponent(n)+1}getLevel(){return this._level}computeKey(){if(1===arguments.length){const t=arguments[0];for(this._level=sn.computeQuadLevel(t),this._env=new I,this.computeKey(this._level,t);!this._env.contains(t);)this._level+=1,this.computeKey(this._level,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1],i=rn.powerOf2(t);this._pt.x=Math.floor(e.getMinX()/i)*i,this._pt.y=Math.floor(e.getMinY()/i)*i,this._env.init(this._pt.x,this._pt.x+i,this._pt.y,this._pt.y+i)}}getEnvelope(){return this._env}getCentre(){return new p((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)}getPoint(){return this._pt}getClass(){return sn}get interfaces_(){return[]}}sn.constructor_=function(){this._pt=new p,this._level=0,this._env=null;const t=arguments[0];this.computeKey(t)};class an extends on{constructor(){super(),an.constructor_.apply(this,arguments)}static createNode(t){const e=new sn(t);return new an(e.getEnvelope(),e.getLevel())}static createExpanded(t,e){const i=new I(e);null!==t&&i.expandToInclude(t._env);const n=an.createNode(i);return null!==t&&n.insertNode(t),n}find(t){const e=on.getSubnodeIndex(t,this._centrex,this._centrey);return-1===e?this:null!==this._subnode[e]?this._subnode[e].find(t):this}isSearchMatch(t){return null!==t&&this._env.intersects(t)}getSubnode(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]}getEnvelope(){return this._env}getNode(t){const e=on.getSubnodeIndex(t,this._centrex,this._centrey);return-1!==e?this.getSubnode(e).getNode(t):this}createSubnode(t){let e=0,i=0,n=0,o=0;switch(t){case 0:e=this._env.getMinX(),i=this._centrex,n=this._env.getMinY(),o=this._centrey;break;case 1:e=this._centrex,i=this._env.getMaxX(),n=this._env.getMinY(),o=this._centrey;break;case 2:e=this._env.getMinX(),i=this._centrex,n=this._centrey,o=this._env.getMaxY();break;case 3:e=this._centrex,i=this._env.getMaxX(),n=this._centrey,o=this._env.getMaxY()}const r=new I(e,i,n,o);return new an(r,this._level-1)}insertNode(t){u.isTrue(null===this._env||this._env.contains(t._env));const e=on.getSubnodeIndex(t._env,this._centrex,this._centrey);if(t._level===this._level-1)this._subnode[e]=t;else{const i=this.createSubnode(e);i.insertNode(t),this._subnode[e]=i}}getClass(){return an}get interfaces_(){return[]}}an.constructor_=function(){this._env=null,this._centrex=null,this._centrey=null,this._level=null;const t=arguments[0],e=arguments[1];this._env=t,this._level=e,this._centrex=(t.getMinX()+t.getMaxX())/2,this._centrey=(t.getMinY()+t.getMaxY())/2};class ln{constructor(){ln.constructor_.apply(this,arguments)}static isZeroWidth(t,e){const i=e-t;if(0===i)return!0;const n=i/Math.max(Math.abs(t),Math.abs(e));return rn.exponent(n)<=ln.MIN_BINARY_EXPONENT}getClass(){return ln}get interfaces_(){return[]}}ln.constructor_=function(){},ln.MIN_BINARY_EXPONENT=-50;class hn extends on{constructor(){super(),hn.constructor_.apply(this,arguments)}insert(t,e){const i=on.getSubnodeIndex(t,hn.origin.x,hn.origin.y);if(-1===i)return this.add(e),null;const n=this._subnode[i];if(null===n||!n.getEnvelope().contains(t)){const e=an.createExpanded(n,t);this._subnode[i]=e}this.insertContained(this._subnode[i],t,e)}isSearchMatch(t){return!0}insertContained(t,e,i){u.isTrue(t.getEnvelope().contains(e));const n=ln.isZeroWidth(e.getMinX(),e.getMaxX()),o=ln.isZeroWidth(e.getMinY(),e.getMaxY());(n||o?t.find(e):t.getNode(e)).add(i)}getClass(){return hn}get interfaces_(){return[]}}hn.constructor_=function(){},hn.origin=new p(0,0);class cn{constructor(){cn.constructor_.apply(this,arguments)}insert(t,e){}remove(t,e){}query(){}getClass(){return cn}get interfaces_(){return[]}}cn.constructor_=function(){};class un{constructor(){un.constructor_.apply(this,arguments)}static ensureExtent(t,e){let i=t.getMinX(),n=t.getMaxX(),o=t.getMinY(),r=t.getMaxY();return i!==n&&o!==r?t:(i===n&&(n=(i-=e/2)+e/2),o===r&&(r=(o-=e/2)+e/2),new I(i,n,o,r))}size(){return null!==this._root?this._root.size():0}insert(t,e){this.collectStats(t);const i=un.ensureExtent(t,this._minExtent);this._root.insert(i,e)}query(){if(1===arguments.length){const t=arguments[0],e=new je;return this.query(t,e),e.getItems()}if(2===arguments.length){const t=arguments[0],e=arguments[1];this._root.visit(t,e)}}queryAll(){const t=new _;return this._root.addAllItems(t),t}remove(t,e){const i=un.ensureExtent(t,this._minExtent);return this._root.remove(i,e)}collectStats(t){const e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e);const i=t.getHeight();i<this._minExtent&&i>0&&(this._minExtent=i)}depth(){return null!==this._root?this._root.depth():0}isEmpty(){return null===this._root||this._root.isEmpty()}getClass(){return un}get interfaces_(){return[cn,l]}}un.constructor_=function(){this._root=null,this._minExtent=1,this._root=new hn},un.serialVersionUID=-0x678b60c967a25400;var pn=Object.freeze({__proto__:null,Quadtree:un});class gn{constructor(){gn.constructor_.apply(this,arguments)}getBounds(){}getClass(){return gn}get interfaces_(){return[]}}gn.constructor_=function(){};class dn{constructor(){dn.constructor_.apply(this,arguments)}getItem(){return this._item}getBounds(){return this._bounds}getClass(){return dn}get interfaces_(){return[gn,l]}}dn.constructor_=function(){this._bounds=null,this._item=null;const t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};class fn{constructor(){fn.constructor_.apply(this,arguments)}poll(){if(this.isEmpty())return null;const t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t}size(){return this._size}reorder(t){let e=null;const i=this._items.get(t);for(;2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(i)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,i)}clear(){this._size=0,this._items.clear()}peek(){return this.isEmpty()?null:this._items.get(1)}isEmpty(){return 0===this._size}add(t){this._items.add(null),this._size+=1;let e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)}getClass(){return fn}get interfaces_(){return[]}}fn.constructor_=function(){this._size=null,this._items=null,this._size=0,this._items=new _,this._items.add(null)};class yn{constructor(){yn.constructor_.apply(this,arguments)}getLevel(){return this._level}size(){return this._childBoundables.size()}getChildBoundables(){return this._childBoundables}addChildBoundable(t){u.isTrue(null===this._bounds),this._childBoundables.add(t)}isEmpty(){return this._childBoundables.isEmpty()}getBounds(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}getClass(){return yn}get interfaces_(){return[gn,l]}}yn.constructor_=function(){if(this._childBoundables=new _,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this._level=t}},yn.serialVersionUID=0x5a1e55ec41369800;class mn{constructor(){mn.constructor_.apply(this,arguments)}static area(t){return t.getBounds().getArea()}static isComposite(t){return t instanceof yn}expandToQueue(t,e){const n=mn.isComposite(this._boundable1),o=mn.isComposite(this._boundable2);if(n&&o)return mn.area(this._boundable1)>mn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(o)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new i("neither boundable is composite")}isLeaves(){return!(mn.isComposite(this._boundable1)||mn.isComposite(this._boundable2))}compareTo(t){const e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0}expand(t,e,i,n){for(let o=t.getChildBoundables().iterator();o.hasNext();){const t=o.next(),r=new mn(t,e,this._itemDistance);r.getDistance()<n&&i.add(r)}}getBoundable(t){return 0===t?this._boundable1:this._boundable2}getDistance(){return this._distance}distance(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}getClass(){return mn}get interfaces_(){return[r]}}mn.constructor_=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;const t=arguments[0],e=arguments[1],i=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=i,this._distance=this.distance()};class vn{constructor(){vn.constructor_.apply(this,arguments)}static compareDoubles(t,e){return t>e?1:t<e?-1:0}queryInternal(){if(d(arguments[2],Oe)&&arguments[0]instanceof Object&&arguments[1]instanceof yn){const t=arguments[0],e=arguments[1],i=arguments[2],n=e.getChildBoundables();for(let e=0;e<n.size();e++){const o=n.get(e);this.getIntersectsOp().intersects(o.getBounds(),t)&&(o instanceof yn?this.queryInternal(t,o,i):o instanceof dn?i.visitItem(o.getItem()):u.shouldNeverReachHere())}}else if(d(arguments[2],m)&&arguments[0]instanceof Object&&arguments[1]instanceof yn){const t=arguments[0],e=arguments[1],i=arguments[2],n=e.getChildBoundables();for(let e=0;e<n.size();e++){const o=n.get(e);this.getIntersectsOp().intersects(o.getBounds(),t)&&(o instanceof yn?this.queryInternal(t,o,i):o instanceof dn?i.add(o.getItem()):u.shouldNeverReachHere())}}}getNodeCapacity(){return this._nodeCapacity}lastNode(t){return t.get(t.size()-1)}size(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){let t=0;for(let e=arguments[0].getChildBoundables().iterator();e.hasNext();){const i=e.next();i instanceof yn?t+=this.size(i):i instanceof dn&&(t+=1)}return t}}removeItem(t,e){let i=null;for(let n=t.getChildBoundables().iterator();n.hasNext();){const t=n.next();t instanceof dn&&t.getItem()===e&&(i=t)}return null!==i&&(t.getChildBoundables().remove(i),!0)}itemsTree(){if(0===arguments.length){this.build();const t=this.itemsTree(this._root);return null===t?new _:t}if(1===arguments.length){const t=arguments[0],e=new _;for(let i=t.getChildBoundables().iterator();i.hasNext();){const t=i.next();if(t instanceof yn){const i=this.itemsTree(t);null!==i&&e.add(i)}else t instanceof dn?e.add(t.getItem()):u.shouldNeverReachHere()}return e.size()<=0?null:e}}insert(t,e){u.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new dn(t,e))}boundablesAtLevel(){if(1===arguments.length){const t=arguments[0],e=new _;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];if(u.isTrue(t>-2),e.getLevel()===t)return i.add(e),null;for(let n=e.getChildBoundables().iterator();n.hasNext();){const e=n.next();e instanceof yn?this.boundablesAtLevel(t,e,i):(u.isTrue(e instanceof dn),-1===t&&i.add(e))}return null}}query(){if(1===arguments.length){const t=arguments[0];this.build();const e=new _;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e}if(2===arguments.length){const t=arguments[0],e=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e)}}build(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}getRoot(){return this.build(),this._root}remove(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];let n=this.removeItem(e,i);if(n)return!0;let o=null;for(let r=e.getChildBoundables().iterator();r.hasNext();){const e=r.next();if(this.getIntersectsOp().intersects(e.getBounds(),t)&&e instanceof yn&&(n=this.remove(t,e,i))){o=e;break}}return null!==o&&o.getChildBoundables().isEmpty()&&e.getChildBoundables().remove(o),n}}createHigherLevels(t,e){u.isTrue(!t.isEmpty());const i=this.createParentBoundables(t,e+1);return 1===i.size()?i.get(0):this.createHigherLevels(i,e+1)}depth(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){let t=0;for(let e=arguments[0].getChildBoundables().iterator();e.hasNext();){const i=e.next();if(i instanceof yn){const e=this.depth(i);e>t&&(t=e)}}return t+1}}createParentBoundables(t,e){u.isTrue(!t.isEmpty());const i=new _;i.add(this.createNode(e));const n=new _(t);xe.sort(n,this.getComparator());for(let t=n.iterator();t.hasNext();){const n=t.next();this.lastNode(i).getChildBoundables().size()===this.getNodeCapacity()&&i.add(this.createNode(e)),this.lastNode(i).addChildBoundable(n)}return i}isEmpty(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}getClass(){return vn}get interfaces_(){return[l]}}vn.IntersectsOp=function(){},vn.constructor_=function(){if(this._root=null,this._built=!1,this._itemBoundables=new _,this._nodeCapacity=null,0===arguments.length)vn.constructor_.call(this,vn.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){const t=arguments[0];u.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}},vn.serialVersionUID=-0x35ef64c82d4c5400,vn.DEFAULT_NODE_CAPACITY=10;class _n{constructor(){_n.constructor_.apply(this,arguments)}distance(t,e){}getClass(){return _n}get interfaces_(){return[]}}_n.constructor_=function(){};class xn extends vn{constructor(){super(),xn.constructor_.apply(this,arguments)}static centreX(t){return xn.avg(t.getMinX(),t.getMaxX())}static avg(t,e){return(t+e)/2}static getItems(t){const e=new Array(t.size()).fill(null);let i=0;for(;!t.isEmpty();){const n=t.poll();e[i]=n.getBoundable(0).getItem(),i++}return e}static centreY(t){return xn.avg(t.getMinY(),t.getMaxY())}createParentBoundablesFromVerticalSlices(t,e){u.isTrue(t.length>0);const i=new _;for(let n=0;n<t.length;n++)i.addAll(this.createParentBoundablesFromVerticalSlice(t[n],e));return i}createNode(t){return new Cn(t)}size(){return 0===arguments.length?super.size.call(this):super.size.apply(this,arguments)}insert(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof I))return super.insert.apply(this,arguments);{const t=arguments[0],e=arguments[1];if(t.isNull())return null;super.insert.call(this,t,e)}}getIntersectsOp(){return xn.intersectsOp}verticalSlices(t,e){const i=Math.trunc(Math.ceil(t.size()/e)),n=new Array(e).fill(null),o=t.iterator();for(let t=0;t<e;t++){n[t]=new _;let e=0;for(;o.hasNext()&&e<i;){const i=o.next();n[t].add(i),e++}}return n}query(){if(1===arguments.length){const t=arguments[0];return super.query.call(this,t)}if(2===arguments.length){const t=arguments[0],e=arguments[1];super.query.call(this,t,e)}}getComparator(){return xn.yComparator}createParentBoundablesFromVerticalSlice(t,e){return super.createParentBoundables.call(this,t,e)}remove(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof I){const t=arguments[0],e=arguments[1];return super.remove.call(this,t,e)}return super.remove.apply(this,arguments)}depth(){return 0===arguments.length?super.depth.call(this):super.depth.apply(this,arguments)}createParentBoundables(t,e){u.isTrue(!t.isEmpty());const i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),n=new _(t);xe.sort(n,xn.xComparator);const o=this.verticalSlices(n,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,e)}nearestNeighbour(){if(1===arguments.length){if(d(arguments[0],_n)){const t=arguments[0],e=new mn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof mn){const t=arguments[0];return this.nearestNeighbour(t,o.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof xn&&d(arguments[1],_n)){const t=arguments[0],e=arguments[1],i=new mn(this.getRoot(),t.getRoot(),e);return this.nearestNeighbour(i)}if(arguments[0]instanceof mn&&"number"==typeof arguments[1]){const t=arguments[0];let e=arguments[1],i=null;const n=new fn;for(n.add(t);!n.isEmpty()&&e>0;){const t=n.poll(),o=t.getDistance();if(o>=e)break;t.isLeaves()?(e=o,i=t):t.expandToQueue(n,e)}return[i.getBoundable(0).getItem(),i.getBoundable(1).getItem()]}if(arguments[0]instanceof mn&&Number.isInteger(arguments[1])){const t=arguments[0],e=arguments[1];return this.nearestNeighbour(t,o.POSITIVE_INFINITY,e)}}else if(3===arguments.length){if(d(arguments[2],_n)&&arguments[0]instanceof I&&arguments[1]instanceof Object){const t=arguments[0],e=arguments[1],i=arguments[2],n=new dn(t,e),o=new mn(this.getRoot(),n,i);return this.nearestNeighbour(o)[0]}if(Number.isInteger(arguments[2])&&arguments[0]instanceof mn&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2];let n=e;const o=new fn;o.add(t);const r=new fn;for(;!o.isEmpty()&&n>=0;){const t=o.poll(),e=t.getDistance();if(e>=n)break;t.isLeaves()?r.size()<i?r.add(t):(r.peek().getDistance()>e&&(r.poll(),r.add(t)),n=r.peek().getDistance()):t.expandToQueue(o,n)}return xn.getItems(r)}}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=new dn(t,e),r=new mn(this.getRoot(),o,i);return this.nearestNeighbour(r,n)}}getClass(){return xn}get interfaces_(){return[cn,l]}}class Cn extends yn{constructor(){super(),Cn.constructor_.apply(this,arguments)}computeBounds(){let t=null;for(let e=this.getChildBoundables().iterator();e.hasNext();){const i=e.next();null===t?t=new I(i.getBounds()):t.expandToInclude(i.getBounds())}return t}getClass(){return Cn}get interfaces_(){return[]}}Cn.constructor_=function(){const t=arguments[0];yn.constructor_.call(this,t)},xn.STRtreeNode=Cn,xn.constructor_=function(){if(0===arguments.length)xn.constructor_.call(this,xn.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){const t=arguments[0];vn.constructor_.call(this,t)}},xn.serialVersionUID=0x39920f7d5f261e0,xn.xComparator=new class{get interfaces_(){return[a]}compare(t,e){return vn.compareDoubles(xn.centreX(t.getBounds()),xn.centreX(e.getBounds()))}},xn.yComparator=new class{get interfaces_(){return[a]}compare(t,e){return vn.compareDoubles(xn.centreY(t.getBounds()),xn.centreY(e.getBounds()))}},xn.intersectsOp=new class{get interfaces_(){return[IntersectsOp]}intersects(t,e){return t.intersects(e)}},xn.DEFAULT_NODE_CAPACITY=10;var In=Object.freeze({__proto__:null,STRtree:xn}),An=Object.freeze({__proto__:null,kdtree:nn,quadtree:pn,strtree:In});const bn=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];class wn{constructor(t){this.geometryFactory=t||new Yt}read(t){let e;const i=(e="string"==typeof t?JSON.parse(t):t).type;if(!Sn[i])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==bn.indexOf(i)?Sn[i].call(this,e.coordinates):"GeometryCollection"===i?Sn[i].call(this,e.geometries):Sn[i].call(this,e)}write(t){const e=t.getGeometryType();if(!Mn[e])throw new Error("Geometry is not supported");return Mn[e].call(this,t)}}const Sn={Feature:function(t){const e={};for(const i in t)e[i]=t[i];if(t.geometry){const i=t.geometry.type;if(!Sn[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Sn.bbox.call(this,t.bbox)),e},FeatureCollection:function(t){const e={};if(t.features){e.features=[];for(let i=0;i<t.features.length;++i)e.features.push(this.read(t.features[i]))}return t.bbox&&(e.bbox=this.parse.bbox.call(this,t.bbox)),e},coordinates:function(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];e.push(new p(n[0],n[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new p(t[0],t[1]),new p(t[2],t[1]),new p(t[2],t[3]),new p(t[0],t[3]),new p(t[0],t[1])])},Point:function(t){const e=new p(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){const e=[];for(let i=0;i<t.length;++i)e.push(Sn.Point.call(this,t[i]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){const e=Sn.coordinates.call(this,t);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){const e=[];for(let i=0;i<t.length;++i)e.push(Sn.LineString.call(this,t[i]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){const e=Sn.coordinates.call(this,t[0]),i=this.geometryFactory.createLinearRing(e),n=[];for(let e=1;e<t.length;++e){const i=t[e],o=Sn.coordinates.call(this,i),r=this.geometryFactory.createLinearRing(o);n.push(r)}return this.geometryFactory.createPolygon(i,n)},MultiPolygon:function(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];e.push(Sn.Polygon.call(this,n))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},Mn={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Mn.coordinate.call(this,t.getCoordinate())}},MultiPoint:function(t){const e=[];for(let i=0;i<t._geometries.length;++i){const n=t._geometries[i],o=Mn.Point.call(this,n);e.push(o.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){const e=[],i=t.getCoordinates();for(let t=0;t<i.length;++t){const n=i[t];e.push(Mn.coordinate.call(this,n))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){const e=[];for(let i=0;i<t._geometries.length;++i){const n=t._geometries[i],o=Mn.LineString.call(this,n);e.push(o.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){const e=[],i=Mn.LineString.call(this,t._shell);e.push(i.coordinates);for(let i=0;i<t._holes.length;++i){const n=t._holes[i],o=Mn.LineString.call(this,n);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){const e=[];for(let i=0;i<t._geometries.length;++i){const n=t._geometries[i],o=Mn.Polygon.call(this,n);e.push(o.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){const e=[];for(let i=0;i<t._geometries.length;++i){const n=t._geometries[i],o=n.getGeometryType();e.push(Mn[o].call(this,n))}return{type:"GeometryCollection",geometries:e}}};function En(t){return[t.x,t.y]}var Tn=Object.freeze({__proto__:null,GeoJSONReader:class{constructor(t){this.parser=new wn(t||new Yt)}read(t){return this.parser.read(t)}},GeoJSONWriter:class{constructor(){this.parser=new wn(this.geometryFactory)}write(t){return this.parser.write(t)}},OL3Parser:class{constructor(t,e){this.geometryFactory=t||new Yt,this.ol=e||"undefined"!=typeof ol&&ol}inject(t,e,i,n,o,r,s,a){this.ol={geom:{Point:t,LineString:e,LinearRing:i,Polygon:n,MultiPoint:o,MultiLineString:r,MultiPolygon:s,GeometryCollection:a}}}read(t){const e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0}convertFromPoint(t){const e=t.getCoordinates();return this.geometryFactory.createPoint(new p(e[0],e[1]))}convertFromLineString(t){return this.geometryFactory.createLineString(t.getCoordinates().map((function(t){return new p(t[0],t[1])})))}convertFromLinearRing(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map((function(t){return new p(t[0],t[1])})))}convertFromPolygon(t){const e=t.getLinearRings();let i=null;const n=[];for(let t=0;t<e.length;t++){const o=this.convertFromLinearRing(e[t]);0===t?i=o:n.push(o)}return this.geometryFactory.createPolygon(i,n)}convertFromMultiPoint(t){const e=t.getPoints().map((function(t){return this.convertFromPoint(t)}),this);return this.geometryFactory.createMultiPoint(e)}convertFromMultiLineString(t){const e=t.getLineStrings().map((function(t){return this.convertFromLineString(t)}),this);return this.geometryFactory.createMultiLineString(e)}convertFromMultiPolygon(t){const e=t.getPolygons().map((function(t){return this.convertFromPolygon(t)}),this);return this.geometryFactory.createMultiPolygon(e)}convertFromCollection(t){const e=t.getGeometries().map((function(t){return this.read(t)}),this);return this.geometryFactory.createGeometryCollection(e)}write(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0}convertToPoint(t){return new this.ol.geom.Point([t.x,t.y])}convertToLineString(t){const e=t._points._coordinates.map(En);return new this.ol.geom.LineString(e)}convertToLinearRing(t){const e=t._points._coordinates.map(En);return new this.ol.geom.LinearRing(e)}convertToPolygon(t){const e=[t._shell._points._coordinates.map(En)];for(let i=0;i<t._holes.length;i++)e.push(t._holes[i]._points._coordinates.map(En));return new this.ol.geom.Polygon(e)}convertToMultiPoint(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(En))}convertToMultiLineString(t){const e=[];for(let i=0;i<t._geometries.length;i++)e.push(this.convertToLineString(t._geometries[i]).getCoordinates());return new this.ol.geom.MultiLineString(e)}convertToMultiPolygon(t){const e=[];for(let i=0;i<t._geometries.length;i++)e.push(this.convertToPolygon(t._geometries[i]).getCoordinates());return new this.ol.geom.MultiPolygon(e)}convertToCollection(t){const e=[];for(let i=0;i<t._geometries.length;i++){const n=t._geometries[i];e.push(this.write(n))}return new this.ol.geom.GeometryCollection(e)}},WKTReader:class{constructor(t){this.parser=new qt(t||new Yt)}read(t){return this.parser.read(t)}},WKTWriter:Qt});class Pn{constructor(){Pn.constructor_.apply(this,arguments)}static relativeSign(t,e){return t<e?-1:t>e?1:0}static compare(t,e,i){if(e.equals2D(i))return 0;const n=Pn.relativeSign(e.x,i.x),o=Pn.relativeSign(e.y,i.y);switch(t){case 0:return Pn.compareValue(n,o);case 1:return Pn.compareValue(o,n);case 2:return Pn.compareValue(o,-n);case 3:return Pn.compareValue(-n,o);case 4:return Pn.compareValue(-n,-o);case 5:return Pn.compareValue(-o,-n);case 6:return Pn.compareValue(-o,n);case 7:return Pn.compareValue(n,-o)}return u.shouldNeverReachHere("invalid octant value"),0}static compareValue(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}getClass(){return Pn}get interfaces_(){return[]}}Pn.constructor_=function(){};class Ln{constructor(){Ln.constructor_.apply(this,arguments)}getCoordinate(){return this.coord}print(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)}compareTo(t){const e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Pn.compare(this._segmentOctant,this.coord,e.coord)}isEndPoint(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t}isInterior(){return this._isInterior}getClass(){return Ln}get interfaces_(){return[r]}}Ln.constructor_=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._segString=t,this.coord=new p(e),this.segmentIndex=i,this._segmentOctant=n,this._isInterior=!e.equals2D(t.getCoordinate(i))};class Nn{constructor(){Nn.constructor_.apply(this,arguments)}getSplitCoordinates(){const t=new C;this.addEndpoints();const e=this.iterator();let i=e.next();for(;e.hasNext();){const n=e.next();this.addEdgeCoordinates(i,n,t),i=n}return t.toCoordinateArray()}addCollapsedNodes(){const t=new _;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(let e=t.iterator();e.hasNext();){const t=e.next().intValue();this.add(this._edge.getCoordinate(t),t)}}print(t){t.println("Intersections:");for(let e=this.iterator();e.hasNext();)e.next().print(t)}findCollapsesFromExistingVertices(t){for(let e=0;e<this._edge.size()-2;e++){const i=this._edge.getCoordinate(e),n=(this._edge.getCoordinate(e+1),this._edge.getCoordinate(e+2));i.equals2D(n)&&t.add(new S(e+1))}}addEdgeCoordinates(t,e,i){e.segmentIndex,t.segmentIndex;const n=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(n);i.add(new p(t.coord),!1);for(let n=t.segmentIndex+1;n<=e.segmentIndex;n++)i.add(this._edge.getCoordinate(n));o&&i.add(new p(e.coord))}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(t){this.addEndpoints(),this.addCollapsedNodes();const e=this.iterator();let i=e.next();for(;e.hasNext();){const n=e.next(),o=this.createSplitEdge(i,n);t.add(o),i=n}}findCollapseIndex(t,e,i){if(!t.coord.equals2D(e.coord))return!1;let n=e.segmentIndex-t.segmentIndex;return e.isInterior()||n--,1===n&&(i[0]=t.segmentIndex+1,!0)}findCollapsesFromInsertedNodes(t){const e=new Array(1).fill(null),i=this.iterator();let n=i.next();for(;i.hasNext();){const o=i.next();this.findCollapseIndex(n,o,e)&&t.add(new S(e[0])),n=o}}getEdge(){return this._edge}addEndpoints(){const t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)}createSplitEdge(t,e){let i=e.segmentIndex-t.segmentIndex+2;const n=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(n);o||i--;const r=new Array(i).fill(null);let s=0;r[s++]=new p(t.coord);for(let i=t.segmentIndex+1;i<=e.segmentIndex;i++)r[s++]=this._edge.getCoordinate(i);return o&&(r[s]=new p(e.coord)),new Fn(r,this._edge.getData())}add(t,e){const i=new Ln(this._edge,t,e,this._edge.getSegmentOctant(e)),n=this._nodeMap.get(i);return null!==n?(u.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(i,i),i)}checkSplitEdgesCorrectness(t){const e=this._edge.getCoordinates(),i=t.get(0).getCoordinate(0);if(!i.equals2D(e[0]))throw new h("bad split edge start point at "+i);const n=t.get(t.size()-1).getCoordinates(),o=n[n.length-1];if(!o.equals2D(e[e.length-1]))throw new h("bad split edge end point at "+o)}getClass(){return Nn}get interfaces_(){return[]}}Nn.constructor_=function(){this._nodeMap=new rt,this._edge=null;const t=arguments[0];this._edge=t};class Dn{constructor(){Dn.constructor_.apply(this,arguments)}static octant(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the octant for point ( "+t+", "+e+" )");const n=Math.abs(t),o=Math.abs(e);return t>=0?e>=0?n>=o?0:1:n>=o?7:6:e>=0?n>=o?3:2:n>=o?4:5}if(arguments[0]instanceof p&&arguments[1]instanceof p){const t=arguments[0],e=arguments[1],n=e.x-t.x,o=e.y-t.y;if(0===n&&0===o)throw new i("Cannot compute the octant for two identical points "+t);return Dn.octant(n,o)}}getClass(){return Dn}get interfaces_(){return[]}}Dn.constructor_=function(){};class Rn{constructor(){Rn.constructor_.apply(this,arguments)}getCoordinates(){}size(){}getCoordinate(t){}isClosed(){}setData(t){}getData(){}getClass(){return Rn}get interfaces_(){return[]}}Rn.constructor_=function(){};class On{constructor(){On.constructor_.apply(this,arguments)}addIntersection(t,e){}getClass(){return On}get interfaces_(){return[Rn]}}On.constructor_=function(){};class Fn{constructor(){Fn.constructor_.apply(this,arguments)}static getNodedSubstrings(){if(1===arguments.length){const t=arguments[0],e=new _;return Fn.getNodedSubstrings(t,e),e}if(2===arguments.length){const t=arguments[0],e=arguments[1];for(let i=t.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(e)}}getCoordinates(){return this._pts}size(){return this._pts.length}getCoordinate(t){return this._pts[t]}isClosed(){return this._pts[0].equals(this._pts[this._pts.length-1])}getSegmentOctant(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))}setData(t){this._data=t}safeOctant(t,e){return t.equals2D(e)?0:Dn.octant(t,e)}getData(){return this._data}addIntersection(){if(2===arguments.length){const t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[3],n=new p(t.getIntersection(i));this.addIntersection(n,e)}}toString(){return Qt.toLineString(new Vt(this._pts))}getNodeList(){return this._nodeList}addIntersectionNode(t,e){let i=e;const n=i+1;if(n<this._pts.length){const e=this._pts[n];t.equals2D(e)&&(i=n)}return this._nodeList.add(t,i)}addIntersections(t,e,i){for(let n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)}getClass(){return Fn}get interfaces_(){return[On]}}Fn.constructor_=function(){this._nodeList=new Nn(this),this._pts=null,this._data=null;const t=arguments[0],e=arguments[1];this._pts=t,this._data=e};class kn{constructor(){kn.constructor_.apply(this,arguments)}overlap(){if(2===arguments.length);else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];t.getLineSegment(e,this._overlapSeg1),i.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}getClass(){return kn}get interfaces_(){return[]}}kn.constructor_=function(){this._overlapSeg1=new ee,this._overlapSeg2=new ee};class Gn{constructor(){Gn.constructor_.apply(this,arguments)}getLineSegment(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]}computeSelect(t,e,i,n){const o=this._pts[e],r=this._pts[i];if(i-e==1)return n.select(this,e),null;if(!t.intersects(o,r))return null;const s=Math.trunc((e+i)/2);e<s&&this.computeSelect(t,e,s,n),s<i&&this.computeSelect(t,s,i,n)}getCoordinates(){const t=new Array(this._end-this._start+1).fill(null);let e=0;for(let i=this._start;i<=this._end;i++)t[e++]=this._pts[i];return t}computeOverlaps(){if(2===arguments.length){const t=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,t,t._start,t._end,e)}else if(6===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];if(e-t==1&&o-n==1)return r.overlap(this,t,i,n),null;if(!this.overlaps(t,e,i,n,o))return null;const s=Math.trunc((t+e)/2),a=Math.trunc((n+o)/2);t<s&&(n<a&&this.computeOverlaps(t,s,i,n,a,r),a<o&&this.computeOverlaps(t,s,i,a,o,r)),s<e&&(n<a&&this.computeOverlaps(s,e,i,n,a,r),a<o&&this.computeOverlaps(s,e,i,a,o,r))}}setId(t){this._id=t}select(t,e){this.computeSelect(t,this._start,this._end,e)}getEnvelope(){if(null===this._env){const t=this._pts[this._start],e=this._pts[this._end];this._env=new I(t,e)}return this._env}overlaps(t,e,i,n,o){return I.intersects(this._pts[t],this._pts[e],i._pts[n],i._pts[o])}getEndIndex(){return this._end}getStartIndex(){return this._start}getContext(){return this._context}getId(){return this._id}getClass(){return Gn}get interfaces_(){return[]}}Gn.constructor_=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._pts=t,this._start=e,this._end=i,this._context=n};class Bn{constructor(){Bn.constructor_.apply(this,arguments)}static getChainStartIndices(t){let e=0;const i=new _;i.add(new S(e));do{const n=Bn.findChainEnd(t,e);i.add(new S(n)),e=n}while(e<t.length-1);return Bn.toIntArray(i)}static findChainEnd(t,e){let i=e;for(;i<t.length-1&&t[i].equals2D(t[i+1]);)i++;if(i>=t.length-1)return t.length-1;const n=xi.quadrant(t[i],t[i+1]);let o=e+1;for(;o<t.length&&(t[o-1].equals2D(t[o])||xi.quadrant(t[o-1],t[o])===n);)o++;return o-1}static getChains(){if(1===arguments.length){const t=arguments[0];return Bn.getChains(t,null)}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=new _,n=Bn.getChainStartIndices(t);for(let o=0;o<n.length-1;o++){const r=new Gn(t,n[o],n[o+1],e);i.add(r)}return i}}static toIntArray(t){const e=new Array(t.size()).fill(null);for(let i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e}getClass(){return Bn}get interfaces_(){return[]}}Bn.constructor_=function(){};class zn{constructor(){zn.constructor_.apply(this,arguments)}computeNodes(t){}getNodedSubstrings(){}getClass(){return zn}get interfaces_(){return[]}}zn.constructor_=function(){};class Vn{constructor(){Vn.constructor_.apply(this,arguments)}setSegmentIntersector(t){this._segInt=t}getClass(){return Vn}get interfaces_(){return[zn]}}Vn.constructor_=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this.setSegmentIntersector(t)}};class jn extends Vn{constructor(){super(),jn.constructor_.apply(this,arguments)}getMonotoneChains(){return this._monoChains}getNodedSubstrings(){return Fn.getNodedSubstrings(this._nodedSegStrings)}getIndex(){return this._index}add(t){for(let e=Bn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){const t=e.next();t.setId(this._idCounter++),this._index.insert(t.getEnvelope(),t),this._monoChains.add(t)}}computeNodes(t){this._nodedSegStrings=t;for(let e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()}intersectChains(){const t=new Hn(this._segInt);for(let e=this._monoChains.iterator();e.hasNext();){const i=e.next();for(let e=this._index.query(i.getEnvelope()).iterator();e.hasNext();){const n=e.next();if(n.getId()>i.getId()&&(i.computeOverlaps(n,t),this._nOverlaps++),this._segInt.isDone())return null}}}getClass(){return jn}get interfaces_(){return[]}}class Hn extends kn{constructor(){super(),Hn.constructor_.apply(this,arguments)}overlap(){if(4!==arguments.length)return super.overlap.apply(this,arguments);{const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=t.getContext(),r=i.getContext();this._si.processIntersections(o,e,r,n)}}getClass(){return Hn}get interfaces_(){return[]}}Hn.constructor_=function(){this._si=null;const t=arguments[0];this._si=t},jn.SegmentOverlapAction=Hn,jn.constructor_=function(){if(this._monoChains=new _,this._index=new xn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){const t=arguments[0];Vn.constructor_.call(this,t)}};class Un{constructor(){Un.constructor_.apply(this,arguments)}rescale(){if(d(arguments[0],f))for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){const t=arguments[0];let e=null,i=null;2===t.length&&(e=new p(t[0]),i=new p(t[1]));for(let e=0;e<t.length;e++)t[e].x=t[e].x/this._scaleFactor+this._offsetX,t[e].y=t[e].y/this._scaleFactor+this._offsetY;2===t.length&&t[0].equals2D(t[1])&&L.out.println(t)}}scale(){if(d(arguments[0],f)){const t=arguments[0],e=new _(t.size());for(let i=t.iterator();i.hasNext();){const t=i.next();e.add(new Fn(this.scale(t.getCoordinates()),t.getData()))}return e}if(arguments[0]instanceof Array){const t=arguments[0],e=new Array(t.length).fill(null);for(let i=0;i<t.length;i++)e[i]=new p(Math.round((t[i].x-this._offsetX)*this._scaleFactor),Math.round((t[i].y-this._offsetY)*this._scaleFactor),t[i].z);return W.removeRepeatedPoints(e)}}isIntegerPrecision(){return 1===this._scaleFactor}getNodedSubstrings(){const t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t}computeNodes(t){let e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)}getClass(){return Un}get interfaces_(){return[zn]}}Un.constructor_=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){const t=arguments[0],e=arguments[1];Un.constructor_.call(this,t,e,0,0)}else if(4===arguments.length){const t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._isScaled=!this.isIntegerPrecision()}};var Wn=Object.freeze({__proto__:null,MCIndexNoder:jn,ScaledNoder:Un,SegmentString:Rn});class Yn{constructor(){Yn.constructor_.apply(this,arguments)}static isSimple(){if(1===arguments.length){const t=arguments[0];return new Yn(t).isSimple()}if(2===arguments.length){const t=arguments[0],e=arguments[1];return new Yn(t,e).isSimple()}}isSimpleMultiPoint(t){if(t.isEmpty())return!0;const e=new lt;for(let i=0;i<t.getNumGeometries();i++){const n=t.getGeometryN(i).getCoordinate();if(e.contains(n))return this._nonSimpleLocation=n,!1;e.add(n)}return!0}isSimplePolygonal(t){for(let e=_e.getLines(t).iterator();e.hasNext();){const t=e.next();if(!this.isSimpleLinearGeometry(t))return!1}return!0}hasClosedEndpointIntersection(t){const e=new rt;for(let i=t.getEdgeIterator();i.hasNext();){const t=i.next(),n=(t.getMaximumSegmentIndex(),t.isClosed()),o=t.getCoordinate(0);this.addEndpoint(e,o,n);const r=t.getCoordinate(t.getNumPoints()-1);this.addEndpoint(e,r,n)}for(let t=e.values().iterator();t.hasNext();){const e=t.next();if(e.isClosed&&2!==e.degree)return this._nonSimpleLocation=e.getCoordinate(),!0}return!1}getNonSimpleLocation(){return this._nonSimpleLocation}isSimpleLinearGeometry(t){if(t.isEmpty())return!0;const e=new Ki(0,t),i=new te,n=e.computeSelfNodes(i,!0);return!(n.hasIntersection()&&(n.hasProperIntersection()?(this._nonSimpleLocation=n.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this._isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))}hasNonEndpointIntersection(t){for(let e=t.getEdgeIterator();e.hasNext();){const t=e.next(),i=t.getMaximumSegmentIndex();for(let e=t.getEdgeIntersectionList().iterator();e.hasNext();){const t=e.next();if(!t.isEndPoint(i))return this._nonSimpleLocation=t.getCoordinate(),!0}}return!1}addEndpoint(t,e,i){let n=t.get(e);null===n&&(n=new Xn(e),t.put(e,n)),n.addEndpoint(i)}computeSimple(t){return this._nonSimpleLocation=null,!!t.isEmpty()||(t instanceof Mt||t instanceof ft?this.isSimpleLinearGeometry(t):t instanceof Dt?this.isSimpleMultiPoint(t):d(t,Lt)?this.isSimplePolygonal(t):!(t instanceof dt)||this.isSimpleGeometryCollection(t))}isSimple(){return this._nonSimpleLocation=null,this.computeSimple(this._inputGeom)}isSimpleGeometryCollection(t){for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);if(!this.computeSimple(i))return!1}return!0}getClass(){return Yn}get interfaces_(){return[]}}class Xn{constructor(){Xn.constructor_.apply(this,arguments)}addEndpoint(t){this.degree++,this.isClosed|=t}getCoordinate(){return this.pt}getClass(){return Xn}get interfaces_(){return[]}}Xn.constructor_=function(){this.pt=null,this.isClosed=null,this.degree=null;const t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0},Yn.EndpointInfo=Xn,Yn.constructor_=function(){if(this._inputGeom=null,this._isClosedEndpointsInInterior=!0,this._nonSimpleLocation=null,1===arguments.length){const t=arguments[0];this._inputGeom=t}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._inputGeom=t,this._isClosedEndpointsInInterior=!e.isInBoundary(2)}};class Zn{constructor(){Zn.constructor_.apply(this,arguments)}static bufferDistanceError(t){const e=Math.PI/2/t;return 1-Math.cos(e/2)}getEndCapStyle(){return this._endCapStyle}isSingleSided(){return this._isSingleSided}setQuadrantSegments(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Zn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Zn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Zn.JOIN_ROUND&&(this._quadrantSegments=Zn.DEFAULT_QUADRANT_SEGMENTS)}getJoinStyle(){return this._joinStyle}setJoinStyle(t){this._joinStyle=t}setSimplifyFactor(t){this._simplifyFactor=t<0?0:t}getSimplifyFactor(){return this._simplifyFactor}getQuadrantSegments(){return this._quadrantSegments}setEndCapStyle(t){this._endCapStyle=t}getMitreLimit(){return this._mitreLimit}setMitreLimit(t){this._mitreLimit=t}setSingleSided(t){this._isSingleSided=t}getClass(){return Zn}get interfaces_(){return[]}}Zn.constructor_=function(){if(this._quadrantSegments=Zn.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=Zn.CAP_ROUND,this._joinStyle=Zn.JOIN_ROUND,this._mitreLimit=Zn.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=Zn.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.setQuadrantSegments(t),this.setEndCapStyle(e)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.setQuadrantSegments(t),this.setEndCapStyle(e),this.setJoinStyle(i),this.setMitreLimit(n)}},Zn.CAP_ROUND=1,Zn.CAP_FLAT=2,Zn.CAP_SQUARE=3,Zn.JOIN_ROUND=1,Zn.JOIN_MITRE=2,Zn.JOIN_BEVEL=3,Zn.DEFAULT_QUADRANT_SEGMENTS=8,Zn.DEFAULT_MITRE_LIMIT=5,Zn.DEFAULT_SIMPLIFY_FACTOR=.01;class qn{constructor(){qn.constructor_.apply(this,arguments)}getCoordinate(){return this._minCoord}getRightmostSide(t,e){let i=this.getRightmostSideOfSegment(t,e);return i<0&&(i=this.getRightmostSideOfSegment(t,e-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),i}findRightmostEdgeAtVertex(){const t=this._minDe.getEdge().getCoordinates();u.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");const e=t[this._minIndex-1],i=t[this._minIndex+1],n=P.index(this._minCoord,i,e);let o=!1;(e.y<this._minCoord.y&&i.y<this._minCoord.y&&n===P.COUNTERCLOCKWISE||e.y>this._minCoord.y&&i.y>this._minCoord.y&&n===P.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)}getRightmostSideOfSegment(t,e){const i=t.getEdge().getCoordinates();if(e<0||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;let n=Ei.LEFT;return i[e].y<i[e+1].y&&(n=Ei.RIGHT),n}getEdge(){return this._orientedDe}checkForRightmostCoordinate(t){const e=t.getEdge().getCoordinates();for(let i=0;i<e.length-1;i++)(null===this._minCoord||e[i].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=i,this._minCoord=e[i])}findRightmostEdgeAtNode(){const t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}findEdge(t){for(let e=t.iterator();e.hasNext();){const t=e.next();t.isForward()&&this.checkForRightmostCoordinate(t)}u.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ei.LEFT&&(this._orientedDe=this._minDe.getSym())}getClass(){return qn}get interfaces_(){return[]}}function Kn(){this.array_=[]}qn.constructor_=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null},Kn.prototype.addLast=function(t){this.array_.push(t)},Kn.prototype.removeFirst=function(){return this.array_.shift()},Kn.prototype.isEmpty=function(){return 0===this.array_.length};class Jn{constructor(){Jn.constructor_.apply(this,arguments)}clearVisitedEdges(){for(let t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)}getRightmostCoordinate(){return this._rightMostCoord}computeNodeDepth(t){let e=null;for(let i=t.getEdges().iterator();i.hasNext();){const t=i.next();if(t.isVisited()||t.getSym().isVisited()){e=t;break}}if(null===e)throw new Yi("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(let e=t.getEdges().iterator();e.hasNext();){const t=e.next();t.setVisited(!0),this.copySymDepths(t)}}computeDepth(t){this.clearVisitedEdges();const e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Ei.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)}create(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}findResultEdges(){for(let t=this._dirEdgeList.iterator();t.hasNext();){const e=t.next();e.getDepth(Ei.RIGHT)>=1&&e.getDepth(Ei.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}computeDepths(t){const e=new Q,i=new Kn,n=t.getNode();for(i.addLast(n),e.add(n),t.setVisited(!0);!i.isEmpty();){const t=i.removeFirst();e.add(t),this.computeNodeDepth(t);for(let n=t.getEdges().iterator();n.hasNext();){const t=n.next().getSym();if(t.isVisited())continue;const o=t.getNode();e.contains(o)||(i.addLast(o),e.add(o))}}}compareTo(t){const e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}getEnvelope(){if(null===this._env){const t=new I;for(let e=this._dirEdgeList.iterator();e.hasNext();){const i=e.next().getEdge().getCoordinates();for(let e=0;e<i.length-1;e++)t.expandToInclude(i[e])}this._env=t}return this._env}addReachable(t){const e=new ri;for(e.add(t);!e.empty();){const t=e.pop();this.add(t,e)}}copySymDepths(t){const e=t.getSym();e.setDepth(Ei.LEFT,t.getDepth(Ei.RIGHT)),e.setDepth(Ei.RIGHT,t.getDepth(Ei.LEFT))}add(t,e){t.setVisited(!0),this._nodes.add(t);for(let i=t.getEdges().iterator();i.hasNext();){const t=i.next();this._dirEdgeList.add(t);const n=t.getSym().getNode();n.isVisited()||e.push(n)}}getNodes(){return this._nodes}getDirectedEdges(){return this._dirEdgeList}getClass(){return Jn}get interfaces_(){return[r]}}Jn.constructor_=function(){this._finder=null,this._dirEdgeList=new _,this._nodes=new _,this._rightMostCoord=null,this._env=null,this._finder=new qn};class Qn{constructor(){Qn.constructor_.apply(this,arguments)}computeRing(){if(null!==this._ring)return null;const t=new Array(this._pts.size()).fill(null);for(let e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=P.isCCW(this._ring.getCoordinates())}isIsolated(){return 1===this._label.getGeometryCount()}computePoints(t){this._startDe=t;let e=t,i=!0;do{if(null===e)throw new Yi("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Yi("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);const t=e.getLabel();u.isTrue(t.isArea()),this.mergeLabel(t),this.addPoints(e.getEdge(),e.isForward(),i),i=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}getLinearRing(){return this._ring}getCoordinate(t){return this._pts.get(t)}computeMaxNodeDegree(){this._maxNodeDegree=0;let t=this._startDe;do{const e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2}addPoints(t,e,i){const n=t.getCoordinates();if(e){let t=1;i&&(t=0);for(let e=t;e<n.length;e++)this._pts.add(n[e])}else{let t=n.length-2;i&&(t=n.length-1);for(let e=t;e>=0;e--)this._pts.add(n[e])}}isHole(){return this._isHole}setInResult(){let t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)}containsPoint(t){const e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Xe.isInRing(t,e.getCoordinates()))return!1;for(let e=this._holes.iterator();e.hasNext();)if(e.next().containsPoint(t))return!1;return!0}addHole(t){this._holes.add(t)}isShell(){return null===this._shell}getLabel(){return this._label}getEdges(){return this._edges}getMaxNodeDegree(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}getShell(){return this._shell}mergeLabel(){if(1===arguments.length){const t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t.getLocation(e,Ei.RIGHT);if(i===ie.NONE)return null;if(this._label.getLocation(e)===ie.NONE)return this._label.setLocation(e,i),null}}setShell(t){this._shell=t,null!==t&&t.addHole(this)}toPolygon(t){const e=new Array(this._holes.size()).fill(null);for(let t=0;t<this._holes.size();t++)e[t]=this._holes.get(t).getLinearRing();return t.createPolygon(this.getLinearRing(),e)}getClass(){return Qn}get interfaces_(){return[]}}Qn.constructor_=function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new _,this._pts=new _,this._label=new Oi(ie.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new _,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}};class $n extends Qn{constructor(){super(),$n.constructor_.apply(this,arguments)}setEdgeRing(t,e){t.setMinEdgeRing(e)}getNext(t){return t.getNextMin()}getClass(){return $n}get interfaces_(){return[]}}$n.constructor_=function(){const t=arguments[0],e=arguments[1];Qn.constructor_.call(this,t,e)};class to extends Qn{constructor(){super(),to.constructor_.apply(this,arguments)}buildMinimalRings(){const t=new _;let e=this._startDe;do{if(null===e.getMinEdgeRing()){const i=new $n(e,this._geometryFactory);t.add(i)}e=e.getNext()}while(e!==this._startDe);return t}setEdgeRing(t,e){t.setEdgeRing(e)}linkDirectedEdgesForMinimalEdgeRings(){let t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)}getNext(t){return t.getNext()}getClass(){return to}get interfaces_(){return[]}}to.constructor_=function(){const t=arguments[0],e=arguments[1];Qn.constructor_.call(this,t,e)};class eo{constructor(){eo.constructor_.apply(this,arguments)}sortShellsAndHoles(t,e,i){for(let n=t.iterator();n.hasNext();){const t=n.next();t.isHole()?i.add(t):e.add(t)}}computePolygons(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next().toPolygon(this._geometryFactory);e.add(t)}return e}placeFreeHoles(t,e){for(let i=e.iterator();i.hasNext();){const e=i.next();if(null===e.getShell()){const i=this.findEdgeRingContaining(e,t);if(null===i)throw new Yi("unable to assign hole to a shell",e.getCoordinate(0));e.setShell(i)}}}buildMinimalEdgeRings(t,e,i){const n=new _;for(let o=t.iterator();o.hasNext();){const t=o.next();if(t.getMaxNodeDegree()>2){t.linkDirectedEdgesForMinimalEdgeRings();const n=t.buildMinimalRings(),o=this.findShell(n);null!==o?(this.placePolygonHoles(o,n),e.add(o)):i.addAll(n)}else n.add(t)}return n}containsPoint(t){for(let e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1}buildMaximalEdgeRings(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next();if(t.isInResult()&&t.getLabel().isArea()&&null===t.getEdgeRing()){const i=new to(t,this._geometryFactory);e.add(i),i.setInResult()}}return e}placePolygonHoles(t,e){for(let i=e.iterator();i.hasNext();){const e=i.next();e.isHole()&&e.setShell(t)}}getPolygons(){return this.computePolygons(this._shellList)}findEdgeRingContaining(t,e){const i=t.getLinearRing(),n=i.getEnvelopeInternal(),o=i.getCoordinateN(0);let r=null,s=null;for(let t=e.iterator();t.hasNext();){const e=t.next(),i=e.getLinearRing(),a=i.getEnvelopeInternal();null!==r&&(s=r.getLinearRing().getEnvelopeInternal());let l=!1;a.contains(n)&&Xe.isInRing(o,i.getCoordinates())&&(l=!0),l&&(null===r||s.contains(a))&&(r=e)}return r}findShell(t){let e=0,i=null;for(let n=t.iterator();n.hasNext();){const t=n.next();t.isHole()||(i=t,e++)}return u.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),i}add(){if(1===arguments.length){const t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){const t=arguments[0],e=arguments[1];qi.linkResultDirectedEdges(e);const i=this.buildMaximalEdgeRings(t),n=new _,o=this.buildMinimalEdgeRings(i,this._shellList,n);this.sortShellsAndHoles(o,this._shellList,n),this.placeFreeHoles(this._shellList,n)}}getClass(){return eo}get interfaces_(){return[]}}eo.constructor_=function(){this._geometryFactory=null,this._shellList=new _;const t=arguments[0];this._geometryFactory=t};class io{constructor(){io.constructor_.apply(this,arguments)}static simplify(t,e){return new io(t).simplify(e)}isDeletable(t,e,i,n){const o=this._inputLine[t],r=this._inputLine[e],s=this._inputLine[i];return!!this.isConcave(o,r,s)&&!!this.isShallow(o,r,s,n)&&this.isShallowSampled(o,r,t,i,n)}deleteShallowConcavities(){let t=1;this._inputLine.length;let e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e),n=!1;for(;i<this._inputLine.length;){let o=!1;this.isDeletable(t,e,i,this._distanceTol)&&(this._isDeleted[e]=io.DELETE,o=!0,n=!0),t=o?i:e,e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e)}return n}isShallowConcavity(t,e,i,n){return P.index(t,e,i)===this._angleOrientation&&R.pointToSegment(e,t,i)<n}isShallowSampled(t,e,i,n,o){let r=Math.trunc((n-i)/io.NUM_PTS_TO_CHECK);r<=0&&(r=1);for(let s=i;s<n;s+=r)if(!this.isShallow(t,e,this._inputLine[s],o))return!1;return!0}isConcave(t,e,i){return P.index(t,e,i)===this._angleOrientation}simplify(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=P.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);let e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()}findNextNonDeletedIndex(t){let e=t+1;for(;e<this._inputLine.length&&this._isDeleted[e]===io.DELETE;)e++;return e}isShallow(t,e,i,n){return R.pointToSegment(e,t,i)<n}collapseLine(){const t=new C;for(let e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==io.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()}getClass(){return io}get interfaces_(){return[]}}io.constructor_=function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=P.COUNTERCLOCKWISE;const t=arguments[0];this._inputLine=t},io.INIT=0,io.DELETE=1,io.KEEP=1,io.NUM_PTS_TO_CHECK=10;class no{constructor(){no.constructor_.apply(this,arguments)}getCoordinates(){return this._ptList.toArray(no.COORDINATE_ARRAY_TYPE)}setPrecisionModel(t){this._precisionModel=t}addPt(t){const e=new p(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)}reverse(){}addPts(t,e){if(e)for(let e=0;e<t.length;e++)this.addPt(t[e]);else for(let e=t.length-1;e>=0;e--)this.addPt(t[e])}isRedundant(t){if(this._ptList.size()<1)return!1;const e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance}toString(){return(new Yt).createLineString(this.getCoordinates()).toString()}closeRing(){if(this._ptList.size()<1)return null;const t=new p(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(this._ptList.size()>=2&&this._ptList.get(this._ptList.size()-2),t.equals(e))return null;this._ptList.add(t)}setMinimumVertexDistance(t){this._minimimVertexDistance=t}getClass(){return no}get interfaces_(){return[]}}no.constructor_=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new _},no.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);class oo{constructor(){oo.constructor_.apply(this,arguments)}addNextSegment(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;const i=P.index(this._s0,this._s1,this._s2),n=i===P.CLOCKWISE&&this._side===Ei.LEFT||i===P.COUNTERCLOCKWISE&&this._side===Ei.RIGHT;0===i?this.addCollinear(e):n?this.addOutsideTurn(i,e):this.addInsideTurn(i,e)}addLineEndCap(t,e){const i=new ee(t,e),n=new ee;this.computeOffsetSegment(i,Ei.LEFT,this._distance,n);const o=new ee;this.computeOffsetSegment(i,Ei.RIGHT,this._distance,o);const r=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,r);switch(this._bufParams.getEndCapStyle()){case Zn.CAP_ROUND:this._segList.addPt(n.p1),this.addDirectedFillet(e,a+Math.PI/2,a-Math.PI/2,P.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case Zn.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(o.p1);break;case Zn.CAP_SQUARE:const t=new p;t.x=Math.abs(this._distance)*Math.cos(a),t.y=Math.abs(this._distance)*Math.sin(a);const i=new p(n.p1.x+t.x,n.p1.y+t.y),r=new p(o.p1.x+t.x,o.p1.y+t.y);this._segList.addPt(i),this._segList.addPt(r)}}getCoordinates(){return this._segList.getCoordinates()}addMitreJoin(t,e,i,n){let o=!0,r=null;try{r=N.intersection(e.p0,e.p1,i.p0,i.p1),(n<=0?1:r.distance(t)/Math.abs(n))>this._bufParams.getMitreLimit()&&(o=!1)}catch(t){if(!(t instanceof b))throw t;r=new p(0,0),o=!1}o?this._segList.addPt(r):this.addLimitedMitreJoin(e,i,n,this._bufParams.getMitreLimit())}addOutsideTurn(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*oo.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Zn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Zn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))}createSquare(t){this._segList.addPt(new p(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new p(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new p(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new p(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()}addSegments(t,e){this._segList.addPts(t,e)}addFirstSegment(){this._segList.addPt(this._offset1.p0)}addCornerFillet(t,e,i,n,o){const r=e.x-t.x,s=e.y-t.y;let a=Math.atan2(s,r);const l=i.x-t.x,h=i.y-t.y,c=Math.atan2(h,l);n===P.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,a,c,n,o),this._segList.addPt(i)}addLastSegment(){this._segList.addPt(this._offset1.p1)}initSideSegments(t,e,i){this._s1=t,this._s2=e,this._side=i,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)}addLimitedMitreJoin(t,e,i,n){const o=this._seg0.p1,r=oe.angle(o,this._seg0.p0),s=(oe.angle(o,this._seg1.p1),oe.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2),a=oe.normalize(r+s),l=oe.normalize(a+Math.PI),h=n*i,c=i-h*Math.abs(Math.sin(s)),u=o.x+h*Math.cos(l),g=o.y+h*Math.sin(l),d=new p(u,g),f=new ee(o,d),y=f.pointAlongOffset(1,c),m=f.pointAlongOffset(1,-c);this._side===Ei.LEFT?(this._segList.addPt(y),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(y))}addDirectedFillet(t,e,i,n,o){const r=n===P.CLOCKWISE?-1:1,s=Math.abs(e-i),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;let l=null,h=null;l=0,h=s/a;let c=0;const u=new p;for(;c<s;){const i=e+r*c;u.x=t.x+o*Math.cos(i),u.y=t.y+o*Math.sin(i),this._segList.addPt(u),c+=h}}computeOffsetSegment(t,e,i,n){const o=e===Ei.LEFT?1:-1,r=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(r*r+s*s),l=o*i*r/a,h=o*i*s/a;n.p0.x=t.p0.x-h,n.p0.y=t.p0.y+l,n.p1.x=t.p1.x-h,n.p1.y=t.p1.y+l}addInsideTurn(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*oo.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){const t=new p((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(t);const e=new p((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(e)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}createCircle(t){const e=new p(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}addBevelJoin(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)}init(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new no,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*oo.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}addCollinear(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Zn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Zn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,P.CLOCKWISE,this._distance))}closeRing(){this._segList.closeRing()}hasNarrowConcaveAngle(){return this._hasNarrowConcaveAngle}getClass(){return oo}get interfaces_(){return[]}}oo.constructor_=function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new ee,this._seg1=new ee,this._offset0=new ee,this._offset1=new ee,this._side=0,this._hasNarrowConcaveAngle=!1;const t=arguments[0],e=arguments[1],i=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new te,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Zn.JOIN_ROUND&&(this._closingSegLengthFactor=oo.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},oo.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,oo.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,oo.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,oo.MAX_CLOSING_SEG_LEN_FACTOR=80;class ro{constructor(){ro.constructor_.apply(this,arguments)}static copyCoordinates(t){const e=new Array(t.length).fill(null);for(let i=0;i<e.length;i++)e[i]=new p(t[i]);return e}getOffsetCurve(t,e){if(this._distance=e,0===e)return null;const i=e<0,n=Math.abs(e),o=this.getSegGen(n);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,i,o);const r=o.getCoordinates();return i&&W.reverse(r),r}computeSingleSidedBufferCurve(t,e,i){const n=this.simplifyTolerance(this._distance);if(e){i.addSegments(t,!0);const e=io.simplify(t,-n),o=e.length-1;i.initSideSegments(e[o],e[o-1],Ei.LEFT),i.addFirstSegment();for(let t=o-2;t>=0;t--)i.addNextSegment(e[t],!0)}else{i.addSegments(t,!1);const e=io.simplify(t,n),o=e.length-1;i.initSideSegments(e[0],e[1],Ei.LEFT),i.addFirstSegment();for(let t=2;t<=o;t++)i.addNextSegment(e[t],!0)}i.addLastSegment(),i.closeRing()}computeRingBufferCurve(t,e,i){let n=this.simplifyTolerance(this._distance);e===Ei.RIGHT&&(n=-n);const o=io.simplify(t,n),r=o.length-1;i.initSideSegments(o[r-1],o[0],e);for(let t=1;t<=r;t++){const e=1!==t;i.addNextSegment(o[t],e)}i.closeRing()}computeLineBufferCurve(t,e){const i=this.simplifyTolerance(this._distance),n=io.simplify(t,i),o=n.length-1;e.initSideSegments(n[0],n[1],Ei.LEFT);for(let t=2;t<=o;t++)e.addNextSegment(n[t],!0);e.addLastSegment(),e.addLineEndCap(n[o-1],n[o]);const r=io.simplify(t,-i),s=r.length-1;e.initSideSegments(r[s],r[s-1],Ei.LEFT);for(let t=s-2;t>=0;t--)e.addNextSegment(r[t],!0);e.addLastSegment(),e.addLineEndCap(r[1],r[0]),e.closeRing()}computePointCurve(t,e){switch(this._bufParams.getEndCapStyle()){case Zn.CAP_ROUND:e.createCircle(t);break;case Zn.CAP_SQUARE:e.createSquare(t)}}getLineCurve(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;const i=Math.abs(e),n=this.getSegGen(i);if(t.length<=1)this.computePointCurve(t[0],n);else if(this._bufParams.isSingleSided()){const i=e<0;this.computeSingleSidedBufferCurve(t,i,n)}else this.computeLineBufferCurve(t,n);return n.getCoordinates()}getBufferParameters(){return this._bufParams}simplifyTolerance(t){return t*this._bufParams.getSimplifyFactor()}getRingCurve(t,e,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return ro.copyCoordinates(t);const n=this.getSegGen(i);return this.computeRingBufferCurve(t,e,n),n.getCoordinates()}computeOffsetCurve(t,e,i){const n=this.simplifyTolerance(this._distance);if(e){const e=io.simplify(t,-n),o=e.length-1;i.initSideSegments(e[o],e[o-1],Ei.LEFT),i.addFirstSegment();for(let t=o-2;t>=0;t--)i.addNextSegment(e[t],!0)}else{const e=io.simplify(t,n),o=e.length-1;i.initSideSegments(e[0],e[1],Ei.LEFT),i.addFirstSegment();for(let t=2;t<=o;t++)i.addNextSegment(e[t],!0)}i.addLastSegment()}getSegGen(t){return new oo(this._precisionModel,this._bufParams,t)}getClass(){return ro}get interfaces_(){return[]}}ro.constructor_=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;const t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};class so{constructor(){so.constructor_.apply(this,arguments)}findStabbedSegments(){if(1===arguments.length){const t=arguments[0],e=new _;for(let i=this._subgraphs.iterator();i.hasNext();){const n=i.next(),o=n.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||this.findStabbedSegments(t,n.getDirectedEdges(),e)}return e}if(3===arguments.length)if(d(arguments[2],m)&&arguments[0]instanceof p&&arguments[1]instanceof Xi){const t=arguments[0],e=arguments[1],i=arguments[2],n=e.getEdge().getCoordinates();for(let o=0;o<n.length-1;o++){if(this._seg.p0=n[o],this._seg.p1=n[o+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),Math.max(this._seg.p0.x,this._seg.p1.x)<t.x)continue;if(this._seg.isHorizontal())continue;if(t.y<this._seg.p0.y||t.y>this._seg.p1.y)continue;if(P.index(this._seg.p0,this._seg.p1,t)===P.RIGHT)continue;let r=e.getDepth(Ei.LEFT);this._seg.p0.equals(n[o])||(r=e.getDepth(Ei.RIGHT));const s=new ao(this._seg,r);i.add(s)}}else if(d(arguments[2],m)&&arguments[0]instanceof p&&d(arguments[1],m)){const t=arguments[0],e=arguments[1],i=arguments[2];for(let n=e.iterator();n.hasNext();){const e=n.next();e.isForward()&&this.findStabbedSegments(t,e,i)}}}getDepth(t){const e=this.findStabbedSegments(t);return 0===e.size()?0:xe.min(e)._leftDepth}getClass(){return so}get interfaces_(){return[]}}class ao{constructor(){ao.constructor_.apply(this,arguments)}compareTo(t){const e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;let i=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==i||0!=(i=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?i:this._upwardSeg.compareTo(e._upwardSeg)}compareX(t,e){const i=t.p0.compareTo(e.p0);return 0!==i?i:t.p1.compareTo(e.p1)}toString(){return this._upwardSeg.toString()}getClass(){return ao}get interfaces_(){return[r]}}ao.constructor_=function(){this._upwardSeg=null,this._leftDepth=null;const t=arguments[0],e=arguments[1];this._upwardSeg=new ee(t),this._leftDepth=e},so.DepthSegment=ao,so.constructor_=function(){this._subgraphs=null,this._seg=new ee;const t=arguments[0];this._subgraphs=t};class lo{constructor(){lo.constructor_.apply(this,arguments)}addPoint(t){if(this._distance<=0)return null;const e=t.getCoordinates(),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,ie.EXTERIOR,ie.INTERIOR)}addPolygon(t){let e=this._distance,i=Ei.LEFT;this._distance<0&&(e=-this._distance,i=Ei.RIGHT);const n=t.getExteriorRing(),o=W.removeRepeatedPoints(n.getCoordinates());if(this._distance<0&&this.isErodedCompletely(n,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,e,i,ie.EXTERIOR,ie.INTERIOR);for(let n=0;n<t.getNumInteriorRing();n++){const o=t.getInteriorRingN(n),r=W.removeRepeatedPoints(o.getCoordinates());this._distance>0&&this.isErodedCompletely(o,-this._distance)||this.addPolygonRing(r,e,Ei.opposite(i),ie.INTERIOR,ie.EXTERIOR)}}isTriangleErodedCompletely(t,e){const i=new re(t[0],t[1],t[2]),n=i.inCentre();return R.pointToSegment(n,i.p0,i.p1)<Math.abs(e)}addLineString(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;const e=W.removeRepeatedPoints(t.getCoordinates()),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,ie.EXTERIOR,ie.INTERIOR)}addCurve(t,e,i){if(null===t||t.length<2)return null;const n=new Fn(t,new Oi(0,ie.BOUNDARY,e,i));this._curveList.add(n)}getCurves(){return this.add(this._inputGeom),this._curveList}addPolygonRing(t,e,i,n,o){if(0===e&&t.length<Rt.MINIMUM_VALID_SIZE)return null;let r=n,s=o;t.length>=Rt.MINIMUM_VALID_SIZE&&P.isCCW(t)&&(r=o,s=n,i=Ei.opposite(i));const a=this._curveBuilder.getRingCurve(t,i,e);this.addCurve(a,r,s)}add(t){if(t.isEmpty())return null;if(t instanceof Nt)this.addPolygon(t);else if(t instanceof Mt)this.addLineString(t);else if(t instanceof Tt)this.addPoint(t);else if(t instanceof Dt)this.addCollection(t);else if(t instanceof ft)this.addCollection(t);else if(t instanceof Ot)this.addCollection(t);else{if(!(t instanceof dt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}}isErodedCompletely(t,e){const i=t.getCoordinates();if(i.length<4)return e<0;if(4===i.length)return this.isTriangleErodedCompletely(i,e);const n=t.getEnvelopeInternal(),o=Math.min(n.getHeight(),n.getWidth());return e<0&&2*Math.abs(e)>o}addCollection(t){for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);this.add(i)}}getClass(){return lo}get interfaces_(){return[]}}lo.constructor_=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new _;const t=arguments[0],e=arguments[1],i=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=i};class ho{constructor(){ho.constructor_.apply(this,arguments)}getNextCW(t){this.getEdges();const e=this._edgeList.indexOf(t);let i=e-1;return 0===e&&(i=this._edgeList.size()-1),this._edgeList.get(i)}propagateSideLabels(t){let e=ie.NONE;for(let i=this.iterator();i.hasNext();){const n=i.next().getLabel();n.isArea(t)&&n.getLocation(t,Ei.LEFT)!==ie.NONE&&(e=n.getLocation(t,Ei.LEFT))}if(e===ie.NONE)return null;let i=e;for(let e=this.iterator();e.hasNext();){const n=e.next(),o=n.getLabel();if(o.getLocation(t,Ei.ON)===ie.NONE&&o.setLocation(t,Ei.ON,i),o.isArea(t)){const e=o.getLocation(t,Ei.LEFT),r=o.getLocation(t,Ei.RIGHT);if(r!==ie.NONE){if(r!==i)throw new Yi("side location conflict",n.getCoordinate());e===ie.NONE&&u.shouldNeverReachHere("found single null side (at "+n.getCoordinate()+")"),i=e}else u.isTrue(o.getLocation(t,Ei.LEFT)===ie.NONE,"found single null side"),o.setLocation(t,Ei.RIGHT,i),o.setLocation(t,Ei.LEFT,i)}}}getCoordinate(){const t=this.iterator();return t.hasNext()?t.next().getCoordinate():null}print(t){L.out.println("EdgeEndStar:   "+this.getCoordinate());for(let e=this.iterator();e.hasNext();)e.next().print(t)}isAreaLabelsConsistent(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}checkAreaLabelsConsistent(t){const e=this.getEdges();if(e.size()<=0)return!0;const i=e.size()-1,n=e.get(i).getLabel().getLocation(t,Ei.LEFT);u.isTrue(n!==ie.NONE,"Found unlabelled area edge");let o=n;for(let e=this.iterator();e.hasNext();){const i=e.next().getLabel();u.isTrue(i.isArea(t),"Found non-area edge");const n=i.getLocation(t,Ei.LEFT),r=i.getLocation(t,Ei.RIGHT);if(n===r)return!1;if(r!==o)return!1;o=n}return!0}findIndex(t){this.iterator();for(let e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1}iterator(){return this.getEdges().iterator()}getEdges(){return null===this._edgeList&&(this._edgeList=new _(this._edgeMap.values())),this._edgeList}getLocation(t,e,i){return this._ptInAreaLocation[t]===ie.NONE&&(this._ptInAreaLocation[t]=Ke.locate(e,i[t].getGeometry())),this._ptInAreaLocation[t]}toString(){const t=new w;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(let e=this.iterator();e.hasNext();){const i=e.next();t.append(i),t.append("\n")}return t.toString()}computeEdgeEndLabels(t){for(let e=this.iterator();e.hasNext();)e.next().computeLabel(t)}computeLabelling(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);const e=[!1,!1];for(let t=this.iterator();t.hasNext();){const i=t.next().getLabel();for(let t=0;t<2;t++)i.isLine(t)&&i.getLocation(t)===ie.BOUNDARY&&(e[t]=!0)}for(let i=this.iterator();i.hasNext();){const n=i.next(),o=n.getLabel();for(let i=0;i<2;i++)if(o.isAnyNull(i)){let r=ie.NONE;if(e[i])r=ie.EXTERIOR;else{const e=n.getCoordinate();r=this.getLocation(i,e,t)}o.setAllLocationsIfNull(i,r)}}}getDegree(){return this._edgeMap.size()}insertEdgeEnd(t,e){this._edgeMap.put(t,e),this._edgeList=null}getClass(){return ho}get interfaces_(){return[]}}ho.constructor_=function(){this._edgeMap=new rt,this._edgeList=null,this._ptInAreaLocation=[ie.NONE,ie.NONE]};class co extends ho{constructor(){super(),co.constructor_.apply(this,arguments)}linkResultDirectedEdges(){this.getResultAreaEdges();let t=null,e=null,i=this._SCANNING_FOR_INCOMING;for(let n=0;n<this._resultAreaEdgeList.size();n++){const o=this._resultAreaEdgeList.get(n),r=o.getSym();if(o.getLabel().isArea())switch(null===t&&o.isInResult()&&(t=o),i){case this._SCANNING_FOR_INCOMING:if(!r.isInResult())continue;e=r,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!o.isInResult())continue;e.setNext(o),i=this._SCANNING_FOR_INCOMING}}if(i===this._LINKING_TO_OUTGOING){if(null===t)throw new Yi("no outgoing dirEdge found",this.getCoordinate());u.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}}insert(t){const e=t;this.insertEdgeEnd(e,e)}getRightmostEdge(){const t=this.getEdges(),e=t.size();if(e<1)return null;const i=t.get(0);if(1===e)return i;const n=t.get(e-1),o=i.getQuadrant(),r=n.getQuadrant();return xi.isNorthern(o)&&xi.isNorthern(r)?i:xi.isNorthern(o)||xi.isNorthern(r)?0!==i.getDy()?i:0!==n.getDy()?n:(u.shouldNeverReachHere("found two horizontal edges incident on node"),null):n}print(t){L.out.println("DirectedEdgeStar: "+this.getCoordinate());for(let e=this.iterator();e.hasNext();){const i=e.next();t.print("out "),i.print(t),t.println(),t.print("in "),i.getSym().print(t),t.println()}}getResultAreaEdges(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new _;for(let t=this.iterator();t.hasNext();){const e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList}updateLabelling(t){for(let e=this.iterator();e.hasNext();){const i=e.next().getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}}linkAllDirectedEdges(){this.getEdges();let t=null,e=null;for(let i=this._edgeList.size()-1;i>=0;i--){const n=this._edgeList.get(i),o=n.getSym();null===e&&(e=o),null!==t&&o.setNext(t),t=n}e.setNext(t)}computeDepths(){if(1===arguments.length){const t=arguments[0],e=this.findIndex(t),i=t.getDepth(Ei.LEFT),n=t.getDepth(Ei.RIGHT),o=this.computeDepths(e+1,this._edgeList.size(),i);if(this.computeDepths(0,e,o)!==n)throw new Yi("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){const t=arguments[0],e=arguments[1];let i=arguments[2];for(let n=t;n<e;n++){const t=this._edgeList.get(n);t.setEdgeDepths(Ei.RIGHT,i),i=t.getDepth(Ei.LEFT)}return i}}mergeSymLabels(){for(let t=this.iterator();t.hasNext();){const e=t.next();e.getLabel().merge(e.getSym().getLabel())}}linkMinimalDirectedEdges(t){let e=null,i=null,n=this._SCANNING_FOR_INCOMING;for(let o=this._resultAreaEdgeList.size()-1;o>=0;o--){const r=this._resultAreaEdgeList.get(o),s=r.getSym();switch(null===e&&r.getEdgeRing()===t&&(e=r),n){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;i=s,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(r.getEdgeRing()!==t)continue;i.setNextMin(r),n=this._SCANNING_FOR_INCOMING}}n===this._LINKING_TO_OUTGOING&&(u.isTrue(null!==e,"found null for first outgoing dirEdge"),u.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),i.setNextMin(e))}getOutgoingDegree(){if(0===arguments.length){let t=0;for(let e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){const t=arguments[0];let e=0;for(let i=this.iterator();i.hasNext();)i.next().getEdgeRing()===t&&e++;return e}}getLabel(){return this._label}findCoveredLineEdges(){let t=ie.NONE;for(let e=this.iterator();e.hasNext();){const i=e.next(),n=i.getSym();if(!i.isLineEdge()){if(i.isInResult()){t=ie.INTERIOR;break}if(n.isInResult()){t=ie.EXTERIOR;break}}}if(t===ie.NONE)return null;let e=t;for(let t=this.iterator();t.hasNext();){const i=t.next(),n=i.getSym();i.isLineEdge()?i.getEdge().setCovered(e===ie.INTERIOR):(i.isInResult()&&(e=ie.EXTERIOR),n.isInResult()&&(e=ie.INTERIOR))}}computeLabelling(t){super.computeLabelling.call(this,t),this._label=new Oi(ie.NONE);for(let t=this.iterator();t.hasNext();){const e=t.next().getEdge().getLabel();for(let t=0;t<2;t++){const i=e.getLocation(t);i!==ie.INTERIOR&&i!==ie.BOUNDARY||this._label.setLocation(t,ie.INTERIOR)}}}getClass(){return co}get interfaces_(){return[]}}co.constructor_=function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2};class uo extends Zi{constructor(){super(),uo.constructor_.apply(this,arguments)}createNode(t){return new Hi(t,new co)}getClass(){return uo}get interfaces_(){return[]}}uo.constructor_=function(){};class po{constructor(){po.constructor_.apply(this,arguments)}static orientation(t){return 1===W.increasingDirection(t)}static compareOriented(t,e,i,n){const o=e?1:-1,r=n?1:-1,s=e?t.length:-1,a=n?i.length:-1;let l=e?0:t.length-1,h=n?0:i.length-1;for(;;){const e=t[l].compareTo(i[h]);if(0!==e)return e;const n=(l+=o)===s,c=(h+=r)===a;if(n&&!c)return-1;if(!n&&c)return 1;if(n&&c)return 0}}compareTo(t){const e=t;return po.compareOriented(this._pts,this._orientation,e._pts,e._orientation)}getClass(){return po}get interfaces_(){return[r]}}po.constructor_=function(){this._pts=null,this._orientation=null;const t=arguments[0];this._pts=t,this._orientation=po.orientation(t)};class go{constructor(){go.constructor_.apply(this,arguments)}print(t){t.print("MULTILINESTRING ( ");for(let e=0;e<this._edges.size();e++){const i=this._edges.get(e);e>0&&t.print(","),t.print("(");const n=i.getCoordinates();for(let e=0;e<n.length;e++)e>0&&t.print(","),t.print(n[e].x+" "+n[e].y);t.println(")")}t.print(")  ")}addAll(t){for(let e=t.iterator();e.hasNext();)this.add(e.next())}findEdgeIndex(t){for(let e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}iterator(){return this._edges.iterator()}getEdges(){return this._edges}get(t){return this._edges.get(t)}findEqualEdge(t){const e=new po(t.getCoordinates());return this._ocaMap.get(e)}add(t){this._edges.add(t);const e=new po(t.getCoordinates());this._ocaMap.put(e,t)}getClass(){return go}get interfaces_(){return[]}}go.constructor_=function(){this._edges=new _,this._ocaMap=new rt};class fo{constructor(){fo.constructor_.apply(this,arguments)}processIntersections(t,e,i,n){}isDone(){}getClass(){return fo}get interfaces_(){return[]}}fo.constructor_=function(){};class yo{constructor(){yo.constructor_.apply(this,arguments)}static isAdjacentSegments(t,e){return 1===Math.abs(t-e)}isTrivialIntersection(t,e,i,n){if(t===i&&1===this._li.getIntersectionNum()){if(yo.isAdjacentSegments(e,n))return!0;if(t.isClosed()){const i=t.size()-1;if(0===e&&n===i||0===n&&e===i)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}hasProperInteriorIntersection(){return this._hasProperInterior}getLineIntersector(){return this._li}hasProperIntersection(){return this._hasProper}processIntersections(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;const o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}hasIntersection(){return this._hasIntersection}isDone(){return!1}hasInteriorIntersection(){return this._hasInterior}getClass(){return yo}get interfaces_(){return[fo]}}yo.constructor_=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;const t=arguments[0];this._li=t};class mo{constructor(){mo.constructor_.apply(this,arguments)}static depthDelta(t){const e=t.getLocation(0,Ei.LEFT),i=t.getLocation(0,Ei.RIGHT);return e===ie.INTERIOR&&i===ie.EXTERIOR?1:e===ie.EXTERIOR&&i===ie.INTERIOR?-1:0}static convertSegStrings(t){const e=new Yt,i=new _;for(;t.hasNext();){const n=t.next(),o=e.createLineString(n.getCoordinates());i.add(o)}return e.buildGeometry(i)}setWorkingPrecisionModel(t){this._workingPrecisionModel=t}insertUniqueEdge(t){const e=this._edgeList.findEqualEdge(t);if(null!==e){const i=e.getLabel();let n=t.getLabel();e.isPointwiseEqual(t)||(n=new Oi(t.getLabel())).flip(),i.merge(n);const o=mo.depthDelta(n),r=e.getDepthDelta()+o;e.setDepthDelta(r)}else this._edgeList.add(t),t.setDepthDelta(mo.depthDelta(t.getLabel()))}buildSubgraphs(t,e){const i=new _;for(let n=t.iterator();n.hasNext();){const t=n.next(),o=t.getRightmostCoordinate(),r=new so(i).getDepth(o);t.computeDepth(r),t.findResultEdges(),i.add(t),e.add(t.getDirectedEdges(),t.getNodes())}}createSubgraphs(t){const e=new _;for(let i=t.getNodes().iterator();i.hasNext();){const t=i.next();if(!t.isVisited()){const i=new Jn;i.create(t),e.add(i)}}return xe.sort(e,xe.reverseOrder()),e}createEmptyResultGeometry(){return this._geomFact.createPolygon()}getNoder(t){if(null!==this._workingNoder)return this._workingNoder;const e=new jn,i=new te;return i.setPrecisionModel(t),e.setSegmentIntersector(new yo(i)),e}buffer(t,e){let i=this._workingPrecisionModel;null===i&&(i=t.getPrecisionModel()),this._geomFact=t.getFactory();const n=new ro(i,this._bufParams),o=new lo(t,e,n).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,i),this._graph=new qi(new uo),this._graph.addEdges(this._edgeList.getEdges());const r=this.createSubgraphs(this._graph),s=new eo(this._geomFact);this.buildSubgraphs(r,s);const a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)}computeNodedEdges(t,e){const i=this.getNoder(e);i.computeNodes(t);for(let t=i.getNodedSubstrings().iterator();t.hasNext();){const e=t.next(),i=e.getCoordinates();if(2===i.length&&i[0].equals2D(i[1]))continue;const n=e.getData(),o=new ji(e.getCoordinates(),new Oi(n));this.insertUniqueEdge(o)}}setNoder(t){this._workingNoder=t}getClass(){return mo}get interfaces_(){return[]}}mo.constructor_=function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new go;const t=arguments[0];this._bufParams=t};class vo{constructor(){vo.constructor_.apply(this,arguments)}checkEndPtVertexIntersections(){if(0===arguments.length)for(let t=this._segStrings.iterator();t.hasNext();){const e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length){const t=arguments[0];for(let e=arguments[1].iterator();e.hasNext();){const i=e.next().getCoordinates();for(let e=1;e<i.length-1;e++)if(i[e].equals(t))throw new h("found endpt/interior pt intersection at index "+e+" :pt "+t)}}}checkInteriorIntersections(){if(0===arguments.length)for(let t=this._segStrings.iterator();t.hasNext();){const e=t.next();for(let t=this._segStrings.iterator();t.hasNext();){const i=t.next();this.checkInteriorIntersections(e,i)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t.getCoordinates(),n=e.getCoordinates();for(let o=0;o<i.length-1;o++)for(let i=0;i<n.length-1;i++)this.checkInteriorIntersections(t,o,e,i)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];if(t===i&&e===n)return null;const o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];if(this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,o,r)||this.hasInteriorIntersection(this._li,s,a)))throw new h("found non-noded intersection at "+o+"-"+r+" and "+s+"-"+a)}}checkValid(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}checkCollapses(){if(0===arguments.length)for(let t=this._segStrings.iterator();t.hasNext();){const e=t.next();this.checkCollapses(e)}else if(1===arguments.length){const t=arguments[0].getCoordinates();for(let e=0;e<t.length-2;e++)this.checkCollapse(t[e],t[e+1],t[e+2])}}hasInteriorIntersection(t,e,i){for(let n=0;n<t.getIntersectionNum();n++){const o=t.getIntersection(n);if(!o.equals(e)&&!o.equals(i))return!0}return!1}checkCollapse(t,e,i){if(t.equals(i))throw new h("found non-noded collapse at "+vo.fact.createLineString([t,e,i]))}getClass(){return vo}get interfaces_(){return[]}}vo.constructor_=function(){this._li=new te,this._segStrings=null;const t=arguments[0];this._segStrings=t},vo.fact=new Yt;class _o{constructor(){_o.constructor_.apply(this,arguments)}intersectsScaled(t,e){const i=Math.min(t.x,e.x),n=Math.max(t.x,e.x),o=Math.min(t.y,e.y),r=Math.max(t.y,e.y),s=this._maxx<i||this._minx>n||this._maxy<o||this._miny>r;if(s)return!1;const a=this.intersectsToleranceSquare(t,e);return u.isTrue(!(s&&a),"Found bad envelope test"),a}initCorners(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new p(this._maxx,this._maxy),this._corner[1]=new p(this._minx,this._maxy),this._corner[2]=new p(this._minx,this._miny),this._corner[3]=new p(this._maxx,this._miny)}intersects(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}scale(t){return Math.round(t*this._scaleFactor)}getCoordinate(){return this._originalPt}copyScaled(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)}getSafeEnvelope(){if(null===this._safeEnv){const t=_o.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new I(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv}intersectsPixelClosure(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))}intersectsToleranceSquare(t,e){let i=!1,n=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||i&&n||t.equals(this._pt)||e.equals(this._pt)))))}addSnappedNode(t,e){const i=t.getCoordinate(e),n=t.getCoordinate(e+1);return!!this.intersects(i,n)&&(t.addIntersection(this.getCoordinate(),e),!0)}getClass(){return _o}get interfaces_(){return[]}}_o.constructor_=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;const t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new i("Scale factor must be non-zero");1!==e&&(this._pt=new p(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new p,this._p1Scaled=new p),this.initCorners(this._pt)},_o.SAFE_ENV_EXPANSION_FACTOR=.75;class xo{constructor(){xo.constructor_.apply(this,arguments)}select(){if(1===arguments.length);else if(2===arguments.length){const t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}getClass(){return xo}get interfaces_(){return[]}}xo.constructor_=function(){this.selectedSegment=new ee};class Co{constructor(){Co.constructor_.apply(this,arguments)}snap(){if(1===arguments.length){const t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=t.getSafeEnvelope(),o=new Io(t,e,i);return this._index.query(n,new class{get interfaces_(){return[Oe]}visitItem(t){t.select(n,o)}}),o.isNodeAdded()}}getClass(){return Co}get interfaces_(){return[]}}class Io extends xo{constructor(){super(),Io.constructor_.apply(this,arguments)}isNodeAdded(){return this._isNodeAdded}select(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof Gn))return super.select.apply(this,arguments);{const t=arguments[0],e=arguments[1],i=t.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,e)}}getClass(){return Io}get interfaces_(){return[]}}Io.constructor_=function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;const t=arguments[0],e=arguments[1],i=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=i},Co.HotPixelSnapAction=Io,Co.constructor_=function(){this._index=null;const t=arguments[0];this._index=t};class Ao{constructor(){Ao.constructor_.apply(this,arguments)}processIntersections(t,e,i,n){if(t===i&&e===n)return null;const o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];if(this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(let t=0;t<this._li.getIntersectionNum();t++)this._interiorIntersections.add(this._li.getIntersection(t));t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1)}}isDone(){return!1}getInteriorIntersections(){return this._interiorIntersections}getClass(){return Ao}get interfaces_(){return[fo]}}Ao.constructor_=function(){this._li=null,this._interiorIntersections=null;const t=arguments[0];this._li=t,this._interiorIntersections=new _};class bo{constructor(){bo.constructor_.apply(this,arguments)}checkCorrectness(t){const e=Fn.getNodedSubstrings(t),i=new vo(e);try{i.checkValid()}catch(t){if(!(t instanceof A))throw t;t.printStackTrace()}}getNodedSubstrings(){return Fn.getNodedSubstrings(this._nodedSegStrings)}snapRound(t,e){const i=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(i),this.computeVertexSnaps(t)}findInteriorIntersections(t,e){const i=new Ao(e);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(t),i.getInteriorIntersections()}computeVertexSnaps(){if(d(arguments[0],f))for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Fn){const t=arguments[0],e=t.getCoordinates();for(let i=0;i<e.length;i++){const n=new _o(e[i],this._scaleFactor,this._li);this._pointSnapper.snap(n,t,i)&&t.addIntersection(e[i],i)}}}computeNodes(t){this._nodedSegStrings=t,this._noder=new jn,this._pointSnapper=new Co(this._noder.getIndex()),this.snapRound(t,this._li)}computeIntersectionSnaps(t){for(let e=t.iterator();e.hasNext();){const t=e.next(),i=new _o(t,this._scaleFactor,this._li);this._pointSnapper.snap(i)}}getClass(){return bo}get interfaces_(){return[zn]}}bo.constructor_=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;const t=arguments[0];this._pm=t,this._li=new te,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};class wo{constructor(){wo.constructor_.apply(this,arguments)}static bufferOp(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return new wo(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof G&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2],n=new wo(t);return n.setQuadrantSegments(i),n.getResultGeometry(e)}if(arguments[2]instanceof Zn&&arguments[0]instanceof G&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1],i=arguments[2];return new wo(t,i).getResultGeometry(e)}}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=new wo(t);return o.setQuadrantSegments(i),o.setEndCapStyle(n),o.getResultGeometry(e)}}static precisionScaleFactor(t,e,i){const n=t.getEnvelopeInternal(),o=D.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(e>0?e:0),r=i-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,r)}bufferFixedPrecision(t){const e=new Un(new bo(new Ut(1)),t.getScale()),i=new mo(this._bufParams);i.setWorkingPrecisionModel(t),i.setNoder(e),this._resultGeometry=i.buffer(this._argGeom,this._distance)}bufferReducedPrecision(){if(0===arguments.length){for(let t=wo.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof Yi))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){const t=arguments[0],e=wo.precisionScaleFactor(this._argGeom,this._distance,t),i=new Ut(e);this.bufferFixedPrecision(i)}}computeGeometry(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;const t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ut.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()}setQuadrantSegments(t){this._bufParams.setQuadrantSegments(t)}bufferOriginalPrecision(){try{const t=new mo(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof h))throw t;this._saveException=t}}getResultGeometry(t){return this._distance=t,this.computeGeometry(),this._resultGeometry}setEndCapStyle(t){this._bufParams.setEndCapStyle(t)}getClass(){return wo}get interfaces_(){return[]}}wo.constructor_=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Zn,this._resultGeometry=null,this._saveException=null,1===arguments.length){const t=arguments[0];this._argGeom=t}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._argGeom=t,this._bufParams=e}},wo.CAP_ROUND=Zn.CAP_ROUND,wo.CAP_BUTT=Zn.CAP_FLAT,wo.CAP_FLAT=Zn.CAP_FLAT,wo.CAP_SQUARE=Zn.CAP_SQUARE,wo.MAX_PRECISION_DIGITS=12;var So=Object.freeze({__proto__:null,BufferOp:wo,BufferParameters:Zn});class Mo{constructor(){Mo.constructor_.apply(this,arguments)}isInsideArea(){return this._segIndex===Mo.INSIDE_AREA}getCoordinate(){return this._pt}getGeometryComponent(){return this._component}getSegmentIndex(){return this._segIndex}getClass(){return Mo}get interfaces_(){return[]}}Mo.constructor_=function(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){const t=arguments[0],e=arguments[1];Mo.constructor_.call(this,t,Mo.INSIDE_AREA,e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._component=t,this._segIndex=e,this._pt=i}},Mo.INSIDE_AREA=-1;class Eo{constructor(){Eo.constructor_.apply(this,arguments)}static getLocations(t){const e=new _;return t.apply(new Eo(e)),e}filter(t){(t instanceof Tt||t instanceof Mt||t instanceof Nt)&&this._locations.add(new Mo(t,0,t.getCoordinate()))}getClass(){return Eo}get interfaces_(){return[pt]}}Eo.constructor_=function(){this._locations=null;const t=arguments[0];this._locations=t};class To{constructor(){To.constructor_.apply(this,arguments)}static distance(t,e){return new To(t,e).distance()}static isWithinDistance(t,e,i){return!(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>i)&&new To(t,e,i).distance()<=i}static nearestPoints(t,e){return new To(t,e).nearestPoints()}computeContainmentDistance(){if(0===arguments.length){const t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1],i=this._geom[t];if(i.getDimension()<2)return null;const n=1-t,o=Ie.getPolygons(i);if(o.size()>0){const i=Eo.getLocations(this._geom[n]);if(this.computeContainmentDistance(i,o,e),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[n]=e[0],this._minDistanceLocation[t]=e[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&d(arguments[0],m)&&d(arguments[1],m)){const t=arguments[0],e=arguments[1],i=arguments[2];for(let n=0;n<t.size();n++){const o=t.get(n);for(let t=0;t<e.size();t++)if(this.computeContainmentDistance(o,e.get(t),i),this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Mo&&arguments[1]instanceof Nt){const t=arguments[0],e=arguments[1],i=arguments[2],n=t.getCoordinate();if(ie.EXTERIOR!==this._ptLocator.locate(n,e))return this._minDistance=0,i[0]=t,i[1]=new Mo(e,n),null}}computeMinDistanceLinesPoints(t,e,i){for(let n=0;n<t.size();n++){const o=t.get(n);for(let t=0;t<e.size();t++){const n=e.get(t);if(this.computeMinDistance(o,n,i),this._minDistance<=this._terminateDistance)return null}}}computeFacetDistance(){const t=new Array(2).fill(null),e=_e.getLines(this._geom[0]),i=_e.getLines(this._geom[1]),n=Ce.getPoints(this._geom[0]),o=Ce.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,n,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(n,o,t),void this.updateMinDistance(t,!1))))}nearestLocations(){return this.computeMinDistance(),this._minDistanceLocation}updateMinDistance(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])}nearestPoints(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]}computeMinDistance(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Mt&&arguments[1]instanceof Tt){const t=arguments[0],e=arguments[1],i=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;const n=t.getCoordinates(),o=e.getCoordinate();for(let r=0;r<n.length-1;r++){const s=R.pointToSegment(o,n[r],n[r+1]);if(s<this._minDistance){this._minDistance=s;const a=new ee(n[r],n[r+1]).closestPoint(o);i[0]=new Mo(t,r,a),i[1]=new Mo(e,0,o)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Mt&&arguments[1]instanceof Mt){const t=arguments[0],e=arguments[1],i=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;const n=t.getCoordinates(),o=e.getCoordinates();for(let r=0;r<n.length-1;r++)for(let s=0;s<o.length-1;s++){const a=R.segmentToSegment(n[r],n[r+1],o[s],o[s+1]);if(a<this._minDistance){this._minDistance=a;const l=new ee(n[r],n[r+1]),h=new ee(o[s],o[s+1]),c=l.closestPoints(h);i[0]=new Mo(t,r,c[0]),i[1]=new Mo(e,s,c[1])}if(this._minDistance<=this._terminateDistance)return null}}}computeMinDistancePoints(t,e,i){for(let n=0;n<t.size();n++){const o=t.get(n);for(let t=0;t<e.size();t++){const n=e.get(t),r=o.getCoordinate().distance(n.getCoordinate());if(r<this._minDistance&&(this._minDistance=r,i[0]=new Mo(o,0,o.getCoordinate()),i[1]=new Mo(n,0,n.getCoordinate())),this._minDistance<=this._terminateDistance)return null}}}distance(){if(null===this._geom[0]||null===this._geom[1])throw new i("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)}computeMinDistanceLines(t,e,i){for(let n=0;n<t.size();n++){const o=t.get(n);for(let t=0;t<e.size();t++){const n=e.get(t);if(this.computeMinDistance(o,n,i),this._minDistance<=this._terminateDistance)return null}}}getClass(){return To}get interfaces_(){return[]}}To.constructor_=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new gi,this._minDistanceLocation=null,this._minDistance=o.MAX_VALUE,2===arguments.length){const t=arguments[0],e=arguments[1];To.constructor_.call(this,t,e,0)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=i}};var Po=Object.freeze({__proto__:null,DistanceOp:To});class Lo{constructor(){Lo.constructor_.apply(this,arguments)}getCoordinates(){if(null===this._coordinates){let t=0,e=0;const i=new C;for(let n=this._directedEdges.iterator();n.hasNext();){const o=n.next();o.getEdgeDirection()?t++:e++,i.add(o.getEdge().getLine().getCoordinates(),!1,o.getEdgeDirection())}this._coordinates=i.toCoordinateArray(),e>t&&W.reverse(this._coordinates)}return this._coordinates}toLineString(){return this._factory.createLineString(this.getCoordinates())}add(t){this._directedEdges.add(t)}getClass(){return Lo}get interfaces_(){return[]}}Lo.constructor_=function(){this._factory=null,this._directedEdges=new _,this._coordinates=null;const t=arguments[0];this._factory=t};class No{constructor(){No.constructor_.apply(this,arguments)}static getComponentWithVisitedState(t,e){for(;t.hasNext();){const i=t.next();if(i.isVisited()===e)return i}return null}static setVisited(t,e){for(;t.hasNext();)t.next().setVisited(e)}static setMarked(t,e){for(;t.hasNext();)t.next().setMarked(e)}setVisited(t){this._isVisited=t}isMarked(){return this._isMarked}setData(t){this._data=t}getData(){return this._data}setMarked(t){this._isMarked=t}getContext(){return this._data}isVisited(){return this._isVisited}setContext(t){this._data=t}getClass(){return No}get interfaces_(){return[]}}No.constructor_=function(){this._isMarked=!1,this._isVisited=!1,this._data=null};class Do extends No{constructor(){super(),Do.constructor_.apply(this,arguments)}static toEdges(t){const e=new _;for(let i=t.iterator();i.hasNext();)e.add(i.next()._parentEdge);return e}isRemoved(){return null===this._parentEdge}compareDirection(t){return this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:P.index(t._p0,t._p1,this._p1)}getCoordinate(){return this._from.getCoordinate()}print(t){const e=this.getClass().getName(),i=e.lastIndexOf("."),n=e.substring(i+1);t.print("  "+n+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+this._angle)}getDirectionPt(){return this._p1}getAngle(){return this._angle}compareTo(t){const e=t;return this.compareDirection(e)}getFromNode(){return this._from}getSym(){return this._sym}setEdge(t){this._parentEdge=t}remove(){this._sym=null,this._parentEdge=null}getEdge(){return this._parentEdge}getQuadrant(){return this._quadrant}setSym(t){this._sym=t}getToNode(){return this._to}getEdgeDirection(){return this._edgeDirection}getClass(){return Do}get interfaces_(){return[r]}}Do.constructor_=function(){if(this._parentEdge=null,this._from=null,this._to=null,this._p0=null,this._p1=null,this._sym=null,this._edgeDirection=null,this._quadrant=null,this._angle=null,0===arguments.length);else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._from=t,this._to=e,this._edgeDirection=n,this._p0=t.getCoordinate(),this._p1=i;const o=this._p1.x-this._p0.x,r=this._p1.y-this._p0.y;this._quadrant=xi.quadrant(o,r),this._angle=Math.atan2(r,o)}};class Ro extends Do{constructor(){super(),Ro.constructor_.apply(this,arguments)}getNext(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(u.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))}getClass(){return Ro}get interfaces_(){return[]}}Ro.constructor_=function(){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];Do.constructor_.call(this,t,e,i,n)};class Oo extends No{constructor(){super(),Oo.constructor_.apply(this,arguments)}isRemoved(){return null===this._dirEdge}setDirectedEdges(t,e){this._dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)}getDirEdge(){if(Number.isInteger(arguments[0])){const t=arguments[0];return this._dirEdge[t]}if(arguments[0]instanceof ko){const t=arguments[0];return this._dirEdge[0].getFromNode()===t?this._dirEdge[0]:this._dirEdge[1].getFromNode()===t?this._dirEdge[1]:null}}remove(){this._dirEdge=null}getOppositeNode(t){return this._dirEdge[0].getFromNode()===t?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===t?this._dirEdge[1].getToNode():null}getClass(){return Oo}get interfaces_(){return[]}}Oo.constructor_=function(){if(this._dirEdge=null,0===arguments.length);else if(2===arguments.length){const t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}};class Fo{constructor(){Fo.constructor_.apply(this,arguments)}getNextEdge(t){const e=this.getIndex(t);return this._outEdges.get(this.getIndex(e+1))}getCoordinate(){const t=this.iterator();return t.hasNext()?t.next().getCoordinate():null}iterator(){return this.sortEdges(),this._outEdges.iterator()}sortEdges(){this._sorted||(xe.sort(this._outEdges),this._sorted=!0)}remove(t){this._outEdges.remove(t)}getEdges(){return this.sortEdges(),this._outEdges}getNextCWEdge(t){const e=this.getIndex(t);return this._outEdges.get(this.getIndex(e-1))}getIndex(){if(arguments[0]instanceof Oo){const t=arguments[0];this.sortEdges();for(let e=0;e<this._outEdges.size();e++)if(this._outEdges.get(e).getEdge()===t)return e;return-1}if(arguments[0]instanceof Do){const t=arguments[0];this.sortEdges();for(let e=0;e<this._outEdges.size();e++)if(this._outEdges.get(e)===t)return e;return-1}if(Number.isInteger(arguments[0])){let t=arguments[0]%this._outEdges.size();return t<0&&(t+=this._outEdges.size()),t}}add(t){this._outEdges.add(t),this._sorted=!1}getDegree(){return this._outEdges.size()}getClass(){return Fo}get interfaces_(){return[]}}Fo.constructor_=function(){this._outEdges=new _,this._sorted=!1};class ko extends No{constructor(){super(),ko.constructor_.apply(this,arguments)}static getEdgesBetween(t,e){const i=new Q(Do.toEdges(t.getOutEdges().getEdges())),n=Do.toEdges(e.getOutEdges().getEdges());return i.retainAll(n),i}isRemoved(){return null===this._pt}addOutEdge(t){this._deStar.add(t)}getCoordinate(){return this._pt}getOutEdges(){return this._deStar}remove(){if(0===arguments.length)this._pt=null;else if(1===arguments.length){const t=arguments[0];this._deStar.remove(t)}}getIndex(t){return this._deStar.getIndex(t)}getDegree(){return this._deStar.getDegree()}getClass(){return ko}get interfaces_(){return[]}}ko.constructor_=function(){if(this._pt=null,this._deStar=null,1===arguments.length){const t=arguments[0];ko.constructor_.call(this,t,new Fo)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._pt=t,this._deStar=e}};class Go extends Oo{constructor(){super(),Go.constructor_.apply(this,arguments)}getLine(){return this._line}getClass(){return Go}get interfaces_(){return[]}}Go.constructor_=function(){this._line=null;const t=arguments[0];this._line=t};class Bo{constructor(){Bo.constructor_.apply(this,arguments)}find(t){return this._nodeMap.get(t)}iterator(){return this._nodeMap.values().iterator()}remove(t){return this._nodeMap.remove(t)}values(){return this._nodeMap.values()}add(t){return this._nodeMap.put(t.getCoordinate(),t),t}getClass(){return Bo}get interfaces_(){return[]}}Bo.constructor_=function(){this._nodeMap=new rt};class zo{constructor(){zo.constructor_.apply(this,arguments)}findNodesOfDegree(t){const e=new _;for(let i=this.nodeIterator();i.hasNext();){const n=i.next();n.getDegree()===t&&e.add(n)}return e}dirEdgeIterator(){return this._dirEdges.iterator()}edgeIterator(){return this._edges.iterator()}remove(){if(arguments[0]instanceof Oo){const t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this._edges.remove(t),t.remove()}else if(arguments[0]instanceof Do){const t=arguments[0],e=t.getSym();null!==e&&e.setSym(null),t.getFromNode().remove(t),t.remove(),this._dirEdges.remove(t)}else if(arguments[0]instanceof ko){const t=arguments[0];for(let e=t.getOutEdges().getEdges().iterator();e.hasNext();){const t=e.next(),i=t.getSym();null!==i&&this.remove(i),this._dirEdges.remove(t);const n=t.getEdge();null!==n&&this._edges.remove(n)}this._nodeMap.remove(t.getCoordinate()),t.remove()}}findNode(t){return this._nodeMap.find(t)}getEdges(){return this._edges}nodeIterator(){return this._nodeMap.iterator()}contains(){if(arguments[0]instanceof Oo){const t=arguments[0];return this._edges.contains(t)}if(arguments[0]instanceof Do){const t=arguments[0];return this._dirEdges.contains(t)}}add(){if(arguments[0]instanceof ko){const t=arguments[0];this._nodeMap.add(t)}else if(arguments[0]instanceof Oo){const t=arguments[0];this._edges.add(t),this.add(t.getDirEdge(0)),this.add(t.getDirEdge(1))}else if(arguments[0]instanceof Do){const t=arguments[0];this._dirEdges.add(t)}}getNodes(){return this._nodeMap.values()}getClass(){return zo}get interfaces_(){return[]}}zo.constructor_=function(){this._edges=new Q,this._dirEdges=new Q,this._nodeMap=new Bo};class Vo extends zo{constructor(){super(),Vo.constructor_.apply(this,arguments)}addEdge(t){if(t.isEmpty())return null;const e=W.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;const i=e[0],n=e[e.length-1],o=this.getNode(i),r=this.getNode(n),s=new Ro(o,r,e[1],!0),a=new Ro(r,o,e[e.length-2],!1),l=new Go(t);l.setDirectedEdges(s,a),this.add(l)}getNode(t){let e=this.findNode(t);return null===e&&(e=new ko(t),this.add(e)),e}getClass(){return Vo}get interfaces_(){return[]}}Vo.constructor_=function(){};class jo{constructor(){jo.constructor_.apply(this,arguments)}buildEdgeStringsForUnprocessedNodes(){for(let t=this._graph.getNodes().iterator();t.hasNext();){const e=t.next();e.isMarked()||(u.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}}buildEdgeStringsForNonDegree2Nodes(){for(let t=this._graph.getNodes().iterator();t.hasNext();){const e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}}buildEdgeStringsForObviousStartNodes(){this.buildEdgeStringsForNonDegree2Nodes()}getMergedLineStrings(){return this.merge(),this._mergedLineStrings}buildEdgeStringsStartingAt(t){for(let e=t.getOutEdges().iterator();e.hasNext();){const t=e.next();t.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(t))}}merge(){if(null!==this._mergedLineStrings)return null;No.setMarked(this._graph.nodeIterator(),!1),No.setMarked(this._graph.edgeIterator(),!1),this._edgeStrings=new _,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this._mergedLineStrings=new _;for(let t=this._edgeStrings.iterator();t.hasNext();){const e=t.next();this._mergedLineStrings.add(e.toLineString())}}addLineString(t){null===this._factory&&(this._factory=t.getFactory()),this._graph.addEdge(t)}buildEdgeStringStartingWith(t){const e=new Lo(this._factory);let i=t;do{e.add(i),i.getEdge().setMarked(!0),i=i.getNext()}while(null!==i&&i!==t);return e}add(){if(arguments[0]instanceof G){const t=arguments[0];for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);i instanceof Mt&&this.addLineString(i)}}else if(d(arguments[0],f)){const t=arguments[0];this._mergedLineStrings=null;for(let e=t.iterator();e.hasNext();){const t=e.next();this.add(t)}}}buildEdgeStringsForIsolatedLoops(){this.buildEdgeStringsForUnprocessedNodes()}getClass(){return jo}get interfaces_(){return[]}}jo.constructor_=function(){this._graph=new Vo,this._mergedLineStrings=null,this._factory=null,this._edgeStrings=null};class Ho{constructor(){Ho.constructor_.apply(this,arguments)}dirEdgeIterator(){return this._dirEdges.iterator()}edgeIterator(){return this._edges.iterator()}getParent(){return this._parentGraph}nodeIterator(){return this._nodeMap.iterator()}contains(t){return this._edges.contains(t)}add(t){if(this._edges.contains(t))return null;this._edges.add(t),this._dirEdges.add(t.getDirEdge(0)),this._dirEdges.add(t.getDirEdge(1)),this._nodeMap.add(t.getDirEdge(0).getFromNode()),this._nodeMap.add(t.getDirEdge(1).getFromNode())}getClass(){return Ho}get interfaces_(){return[]}}Ho.constructor_=function(){this._parentGraph=null,this._edges=new Q,this._dirEdges=new _,this._nodeMap=new Bo;const t=arguments[0];this._parentGraph=t};class Uo{constructor(){Uo.constructor_.apply(this,arguments)}addReachable(t,e){const i=new ri;for(i.add(t);!i.empty();){const t=i.pop();this.addEdges(t,i,e)}}findSubgraph(t){const e=new Ho(this._graph);return this.addReachable(t,e),e}getConnectedSubgraphs(){const t=new _;No.setVisited(this._graph.nodeIterator(),!1);for(let e=this._graph.edgeIterator();e.hasNext();){const i=e.next().getDirEdge(0).getFromNode();i.isVisited()||t.add(this.findSubgraph(i))}return t}addEdges(t,e,i){t.setVisited(!0);for(let n=t.getOutEdges().iterator();n.hasNext();){const t=n.next();i.add(t.getEdge());const o=t.getToNode();o.isVisited()||e.push(o)}}getClass(){return Uo}get interfaces_(){return[]}}Uo.constructor_=function(){this._graph=null;const t=arguments[0];this._graph=t};class Wo{constructor(){Wo.constructor_.apply(this,arguments)}static findUnvisitedBestOrientedDE(t){let e=null,i=null;for(let n=t.getOutEdges().iterator();n.hasNext();){const t=n.next();t.getEdge().isVisited()||(i=t,t.getEdgeDirection()&&(e=t))}return null!==e?e:i}static findLowestDegreeNode(t){let e=S.MAX_VALUE,i=null;for(let n=t.nodeIterator();n.hasNext();){const t=n.next();(null===i||t.getDegree()<e)&&(e=t.getDegree(),i=t)}return i}static isSequenced(t){if(!(t instanceof ft))return!0;const e=t,i=new lt;let n=null;const o=new _;for(let t=0;t<e.getNumGeometries();t++){const r=e.getGeometryN(t),s=r.getCoordinateN(0),a=r.getCoordinateN(r.getNumPoints()-1);if(i.contains(s))return!1;if(i.contains(a))return!1;null!==n&&(s.equals(n)||(i.addAll(o),o.clear())),o.add(s),o.add(a),n=a}return!0}static reverse(t){const e=t.getCoordinates(),i=new Array(e.length).fill(null),n=e.length;for(let t=0;t<n;t++)i[n-1-t]=new p(e[t]);return t.getFactory().createLineString(i)}static sequence(t){const e=new Wo;return e.add(t),e.getSequencedLineStrings()}addLine(t){null===this._factory&&(this._factory=t.getFactory()),this._graph.addEdge(t),this._lineCount++}hasSequence(t){let e=0;for(let i=t.nodeIterator();i.hasNext();)i.next().getDegree()%2==1&&e++;return e<=2}computeSequence(){if(this._isRun)return null;this._isRun=!0;const t=this.findSequences();if(null===t)return null;this._sequencedGeometry=this.buildSequencedGeometry(t),this._isSequenceable=!0;const e=this._sequencedGeometry.getNumGeometries();u.isTrue(this._lineCount===e,"Lines were missing from result"),u.isTrue(this._sequencedGeometry instanceof Mt||this._sequencedGeometry instanceof ft,"Result is not lineal")}findSequences(){const t=new _;for(let e=new Uo(this._graph).getConnectedSubgraphs().iterator();e.hasNext();){const i=e.next();if(!this.hasSequence(i))return null;{const e=this.findSequence(i);t.add(e)}}return t}addReverseSubpath(t,e,i){const n=t.getToNode();let o=null;for(;;){e.add(t.getSym()),t.getEdge().setVisited(!0),o=t.getFromNode();const i=Wo.findUnvisitedBestOrientedDE(o);if(null===i)break;t=i.getSym()}i&&u.isTrue(o===n,"path not contiguous")}findSequence(t){No.setVisited(t.edgeIterator(),!1);const e=Wo.findLowestDegreeNode(t).getOutEdges().iterator().next().getSym(),i=new Kn,n=i.listIterator();for(this.addReverseSubpath(e,n,!1);n.hasPrevious();){const t=n.previous(),e=Wo.findUnvisitedBestOrientedDE(t.getFromNode());null!==e&&this.addReverseSubpath(e.getSym(),n,!0)}return this.orient(i)}reverse(t){const e=new Kn;for(let i=t.iterator();i.hasNext();){const t=i.next();e.addFirst(t.getSym())}return e}orient(t){const e=t.get(0),i=t.get(t.size()-1),n=e.getFromNode(),o=i.getToNode();let r=!1;if(1===n.getDegree()||1===o.getDegree()){let t=!1;1===i.getToNode().getDegree()&&!1===i.getEdgeDirection()&&(t=!0,r=!0),1===e.getFromNode().getDegree()&&!0===e.getEdgeDirection()&&(t=!0,r=!1),t||1===e.getFromNode().getDegree()&&(r=!0)}return r?this.reverse(t):t}buildSequencedGeometry(t){const e=new _;for(let i=t.iterator();i.hasNext();)for(let t=i.next().iterator();t.hasNext();){const i=t.next(),n=i.getEdge().getLine();let o=n;i.getEdgeDirection()||n.isClosed()||(o=Wo.reverse(n)),e.add(o)}return 0===e.size()?this._factory.createMultiLineString(new Array(0).fill(null)):this._factory.buildGeometry(e)}getSequencedLineStrings(){return this.computeSequence(),this._sequencedGeometry}isSequenceable(){return this.computeSequence(),this._isSequenceable}add(){if(d(arguments[0],f))for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.add(e)}else arguments[0]instanceof G&&arguments[0].apply(new class{get interfaces_(){return[k]}filter(t){t instanceof Mt&&this.addLine(t)}})}getClass(){return Wo}get interfaces_(){return[]}}Wo.constructor_=function(){this._graph=new Vo,this._factory=new Yt,this._lineCount=0,this._isRun=!1,this._sequencedGeometry=null,this._isSequenceable=!1};var Yo=Object.freeze({__proto__:null,LineMerger:jo,LineSequencer:Wo});class Xo{constructor(){Xo.constructor_.apply(this,arguments)}static isClosed(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])}snapVertices(t,e){const i=this._isClosed?t.size()-1:t.size();for(let n=0;n<i;n++){const i=t.get(n),o=this.findSnapForVertex(i,e);null!==o&&(t.set(n,new p(o)),0===n&&this._isClosed&&t.set(t.size()-1,new p(o)))}}findSnapForVertex(t,e){for(let i=0;i<e.length;i++){if(t.equals2D(e[i]))return null;if(t.distance(e[i])<this._snapTolerance)return e[i]}return null}snapTo(t){const e=new C(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()}snapSegments(t,e){if(0===e.length)return null;let i=e.length;e[0].equals2D(e[e.length-1])&&(i=e.length-1);for(let n=0;n<i;n++){const i=e[n],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new p(i),!1)}}findSegmentIndexToSnap(t,e){let i=o.MAX_VALUE,n=-1;for(let o=0;o<e.size()-1;o++){if(this._seg.p0=e.get(o),this._seg.p1=e.get(o+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}const r=this._seg.distance(t);r<this._snapTolerance&&r<i&&(i=r,n=o)}return n}setAllowSnappingToSourceVertices(t){this._allowSnappingToSourceVertices=t}getClass(){return Xo}get interfaces_(){return[]}}Xo.constructor_=function(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new ee,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Mt&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];Xo.constructor_.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){const t=arguments[0],e=arguments[1];this._srcPts=t,this._isClosed=Xo.isClosed(t),this._snapTolerance=e}};class Zo{constructor(){Zo.constructor_.apply(this,arguments)}static snap(t,e,i){const n=new Array(2).fill(null),o=new Zo(t);n[0]=o.snapTo(e,i);const r=new Zo(e);return n[1]=r.snapTo(n[0],i),n}static computeOverlaySnapTolerance(){if(1===arguments.length){const t=arguments[0];let e=Zo.computeSizeBasedSnapTolerance(t);const i=t.getPrecisionModel();if(i.getType()===Ut.FIXED){const t=1/i.getScale()*2/1.415;t>e&&(e=t)}return e}if(2===arguments.length){const t=arguments[0],e=arguments[1];return Math.min(Zo.computeOverlaySnapTolerance(t),Zo.computeOverlaySnapTolerance(e))}}static computeSizeBasedSnapTolerance(t){const e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Zo.SNAP_PRECISION_FACTOR}static snapToSelf(t,e,i){return new Zo(t).snapToSelf(e,i)}snapTo(t,e){const i=this.extractTargetCoordinates(t);return new qo(e,i).transform(this._srcGeom)}snapToSelf(t,e){const i=this.extractTargetCoordinates(this._srcGeom),n=new qo(t,i,!0).transform(this._srcGeom);let o=n;return e&&d(o,Lt)&&(o=n.buffer(0)),o}computeSnapTolerance(t){return this.computeMinimumSegmentLength(t)/10}extractTargetCoordinates(t){const e=new lt,i=t.getCoordinates();for(let t=0;t<i.length;t++)e.add(i[t]);return e.toArray(new Array(0).fill(null))}computeMinimumSegmentLength(t){let e=o.MAX_VALUE;for(let i=0;i<t.length-1;i++){const n=t[i].distance(t[i+1]);n<e&&(e=n)}return e}getClass(){return Zo}get interfaces_(){return[]}}Zo.constructor_=function(){this._srcGeom=null;const t=arguments[0];this._srcGeom=t},Zo.SNAP_PRECISION_FACTOR=1e-9;class qo extends me{constructor(){super(),qo.constructor_.apply(this,arguments)}snapLine(t,e){const i=new Xo(t,this._snapTolerance);return i.setAllowSnappingToSourceVertices(this._isSelfSnap),i.snapTo(e)}transformCoordinates(t,e){const i=t.toCoordinateArray(),n=this.snapLine(i,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(n)}getClass(){return qo}get interfaces_(){return[]}}qo.constructor_=function(){if(this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){const t=arguments[0],e=arguments[1];this._snapTolerance=t,this._snapPts=e}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._snapTolerance=t,this._snapPts=e,this._isSelfSnap=i}};var Ko=Object.freeze({__proto__:null,GeometrySnapper:Zo,LineStringSnapper:Xo});class Jo{constructor(){Jo.constructor_.apply(this,arguments)}getCoordinates(){return this._pts}size(){return this._pts.length}getCoordinate(t){return this._pts[t]}isClosed(){return this._pts[0].equals(this._pts[this._pts.length-1])}getSegmentOctant(t){return t===this._pts.length-1?-1:Dn.octant(this.getCoordinate(t),this.getCoordinate(t+1))}setData(t){this._data=t}getData(){return this._data}toString(){return Qt.toLineString(new Vt(this._pts))}getClass(){return Jo}get interfaces_(){return[Rn]}}Jo.constructor_=function(){this._pts=null,this._data=null;const t=arguments[0],e=arguments[1];this._pts=t,this._data=e};class Qo{constructor(){Qo.constructor_.apply(this,arguments)}static createAllIntersectionsFinder(t){const e=new Qo(t);return e.setFindAllIntersections(!0),e}static createAnyIntersectionFinder(t){return new Qo(t)}static createIntersectionCounter(t){const e=new Qo(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e}getInteriorIntersection(){return this._interiorIntersection}setCheckEndSegmentsOnly(t){this._isCheckEndSegmentsOnly=t}getIntersectionSegments(){return this._intSegments}count(){return this._intersectionCount}getIntersections(){return this._intersections}setFindAllIntersections(t){this._findAllIntersections=t}setKeepIntersections(t){this._keepIntersections=t}processIntersections(t,e,i,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===i&&e===n)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(i,n))return null;const o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=r,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)}isEndSegment(t,e){return 0===e||e>=t.size()-2}hasIntersection(){return null!==this._interiorIntersection}isDone(){return!this._findAllIntersections&&null!==this._interiorIntersection}getClass(){return Qo}get interfaces_(){return[fo]}}Qo.constructor_=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new _,this._intersectionCount=0,this._keepIntersections=!0;const t=arguments[0];this._li=t,this._interiorIntersection=null};class $o{constructor(){$o.constructor_.apply(this,arguments)}static computeIntersections(t){const e=new $o(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()}execute(){if(null!==this._segInt)return null;this.checkInteriorIntersections()}getIntersections(){return this._segInt.getIntersections()}isValid(){return this.execute(),this._isValid}setFindAllIntersections(t){this._findAllIntersections=t}checkInteriorIntersections(){this._isValid=!0,this._segInt=new Qo(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);const t=new jn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null}checkValid(){if(this.execute(),!this._isValid)throw new Yi(this.getErrorMessage(),this._segInt.getInteriorIntersection())}getErrorMessage(){if(this._isValid)return"no intersections found";const t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Qt.toLineString(t[0],t[1])+" and "+Qt.toLineString(t[2],t[3])}getClass(){return $o}get interfaces_(){return[]}}$o.constructor_=function(){this._li=new te,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;const t=arguments[0];this._segStrings=t};class tr{constructor(){tr.constructor_.apply(this,arguments)}static toSegmentStrings(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next();e.add(new Jo(t.getCoordinates(),t))}return e}static checkValid(t){new tr(t).checkValid()}checkValid(){this._nv.checkValid()}getClass(){return tr}get interfaces_(){return[]}}tr.constructor_=function(){this._nv=null;const t=arguments[0];this._nv=new $o(tr.toSegmentStrings(t))};class er{constructor(){er.constructor_.apply(this,arguments)}collectLines(t){for(let e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){const i=e.next();this.collectLineEdge(i,t,this._lineEdgesList),this.collectBoundaryTouchEdge(i,t,this._lineEdgesList)}}labelIsolatedLine(t,e){const i=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,i)}build(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList}collectLineEdge(t,e,i){const n=t.getLabel(),o=t.getEdge();t.isLineEdge()&&(t.isVisited()||!cr.isResultOfOp(n,e)||o.isCovered()||(i.add(o),t.setVisitedEdge(!0)))}findCoveredLineEdges(){for(let t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(let t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){const e=t.next(),i=e.getEdge();if(e.isLineEdge()&&!i.isCoveredSet()){const t=this._op.isCoveredByA(e.getCoordinate());i.setCovered(t)}}}labelIsolatedLines(t){for(let e=t.iterator();e.hasNext();){const t=e.next(),i=t.getLabel();t.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(t,0):this.labelIsolatedLine(t,1))}}buildLines(t){for(let t=this._lineEdgesList.iterator();t.hasNext();){const e=t.next(),i=(e.getLabel(),this._geometryFactory.createLineString(e.getCoordinates()));this._resultLineList.add(i),e.setInResult(!0)}}collectBoundaryTouchEdge(t,e,i){const n=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(u.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(cr.isResultOfOp(n,e)&&e===cr.INTERSECTION&&(i.add(t.getEdge()),t.setVisitedEdge(!0))))}getClass(){return er}get interfaces_(){return[]}}er.constructor_=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new _,this._resultLineList=new _;const t=arguments[0],e=arguments[1],i=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=i};class ir{constructor(){ir.constructor_.apply(this,arguments)}filterCoveredNodeToPoint(t){const e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){const t=this._geometryFactory.createPoint(e);this._resultPointList.add(t)}}extractNonCoveredResultNodes(t){for(let e=this._op.getGraph().getNodes().iterator();e.hasNext();){const i=e.next();if(!(i.isInResult()||i.isIncidentEdgeInResult()||0!==i.getEdges().getDegree()&&t!==cr.INTERSECTION)){const e=i.getLabel();cr.isResultOfOp(e,t)&&this.filterCoveredNodeToPoint(i)}}}build(t){return this.extractNonCoveredResultNodes(t),this._resultPointList}getClass(){return ir}get interfaces_(){return[]}}ir.constructor_=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new _;const t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};class nr{constructor(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=new n,this._commonSignExp=null}getCommon(){return o.longBitsToDouble(this._commonBits)}add(t){const e=o.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=nr.signExpBits(this._commonBits),this._isFirst=!1,null):nr.signExpBits(e)!==this._commonSignExp?(this._commonBits.high=0,this._commonBits.low=0,null):(this._commonMantissaBitsCount=nr.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=nr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))}toString(){if(1===arguments.length){const t=arguments[0],e=o.longBitsToDouble(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n.toBinaryString(t),r=i.substring(i.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}}getClass(){return nr}get interfaces_(){return[]}static getBit(t,e){const i=1<<e%32;return e<32?0!=(t.low&i)?1:0:0!=(t.high&i)?1:0}static signExpBits(t){return t.high>>>20}static zeroLowerBits(t,e){let i="low";if(e>32&&(t.low=0,e%=32,i="high"),e>0){const n=e<32?~((1<<e)-1):0;t[i]&=n}return t}static numCommonMostSigMantissaBits(t,e){let i=0;for(let n=52;n>=0;n--){if(nr.getBit(t,n)!==nr.getBit(e,n))return i;i++}return 52}}class or{constructor(){or.constructor_.apply(this,arguments)}addCommonBits(t){const e=new sr(this._commonCoord);t.apply(e),t.geometryChanged()}removeCommonBits(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;const e=new p(this._commonCoord);e.x=-e.x,e.y=-e.y;const i=new sr(e);return t.apply(i),t.geometryChanged(),t}getCommonCoordinate(){return this._commonCoord}add(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()}getClass(){return or}get interfaces_(){return[]}}class rr{constructor(){rr.constructor_.apply(this,arguments)}filter(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)}getCommonCoordinate(){return new p(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())}getClass(){return rr}get interfaces_(){return[B]}}rr.constructor_=function(){this._commonBitsX=new nr,this._commonBitsY=new nr};class sr{constructor(){sr.constructor_.apply(this,arguments)}filter(t,e){const i=t.getOrdinate(e,0)+this.trans.x,n=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,i),t.setOrdinate(e,1,n)}isDone(){return!1}isGeometryChanged(){return!0}getClass(){return sr}get interfaces_(){return[gt]}}sr.constructor_=function(){this.trans=null;const t=arguments[0];this.trans=t},or.CommonCoordinateFilter=rr,or.Translater=sr,or.constructor_=function(){this._commonCoord=null,this._ccFilter=new rr};class ar{constructor(){ar.constructor_.apply(this,arguments)}static overlayOp(t,e,i){return new ar(t,e).getResultGeometry(i)}static union(t,e){return ar.overlayOp(t,e,cr.UNION)}static intersection(t,e){return ar.overlayOp(t,e,cr.INTERSECTION)}static symDifference(t,e){return ar.overlayOp(t,e,cr.SYMDIFFERENCE)}static difference(t,e){return ar.overlayOp(t,e,cr.DIFFERENCE)}selfSnap(t){return new Zo(t).snapTo(t,this._snapTolerance)}removeCommonBits(t){this._cbr=new or,this._cbr.add(t[0]),this._cbr.add(t[1]);const e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e}prepareResult(t){return this._cbr.addCommonBits(t),t}getResultGeometry(t){const e=this.snap(this._geom),i=cr.overlayOp(e[0],e[1],t);return this.prepareResult(i)}checkValid(t){t.isValid()||L.out.println("Snapped geometry is invalid")}computeSnapTolerance(){this._snapTolerance=Zo.computeOverlaySnapTolerance(this._geom[0],this._geom[1])}snap(t){const e=this.removeCommonBits(t);return Zo.snap(e[0],e[1],this._snapTolerance)}getClass(){return ar}get interfaces_(){return[]}}ar.constructor_=function(){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null;const t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};class lr{constructor(){lr.constructor_.apply(this,arguments)}static overlayOp(t,e,i){return new lr(t,e).getResultGeometry(i)}static union(t,e){return lr.overlayOp(t,e,cr.UNION)}static intersection(t,e){return lr.overlayOp(t,e,cr.INTERSECTION)}static symDifference(t,e){return lr.overlayOp(t,e,cr.SYMDIFFERENCE)}static difference(t,e){return lr.overlayOp(t,e,cr.DIFFERENCE)}getResultGeometry(t){let e=null,i=!1,n=null;try{e=cr.overlayOp(this._geom[0],this._geom[1],t),i=!0}catch(t){if(!(t instanceof h))throw t;n=t}if(!i)try{e=ar.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof h?n:t}return e}getClass(){return lr}get interfaces_(){return[]}}lr.constructor_=function(){this._geom=new Array(2).fill(null);const t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e};class hr{constructor(){hr.constructor_.apply(this,arguments)}getArgGeometry(t){return this._arg[t].getGeometry()}setComputationPrecision(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)}getClass(){return hr}get interfaces_(){return[]}}hr.constructor_=function(){if(this._li=new te,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){const t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ki(0,t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];hr.constructor_.call(this,t,e,z.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];t.getPrecisionModel().compareTo(e.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ki(0,t,i),this._arg[1]=new Ki(1,e,i)}};class cr extends hr{constructor(){super(),cr.constructor_.apply(this,arguments)}static overlayOp(t,e,i){return new cr(t,e).getResultGeometry(i)}static union(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return cr.createEmptyResult(cr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}if(t.isGeometryCollection()||e.isGeometryCollection())throw new i("This method does not support GeometryCollection arguments");return lr.overlayOp(t,e,cr.UNION)}static intersection(t,e){if(t.isEmpty()||e.isEmpty())return cr.createEmptyResult(cr.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){const i=e;return pe.map(t,new class{get interfaces_(){return[fe]}map(t){return cr.intersection(t,i)}})}return lr.overlayOp(t,e,cr.INTERSECTION)}static symDifference(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return cr.createEmptyResult(cr.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}if(t.isGeometryCollection()||e.isGeometryCollection())throw new i("This method does not support GeometryCollection arguments");return lr.overlayOp(t,e,cr.SYMDIFFERENCE)}static resultDimension(t,e,i){const n=e.getDimension(),o=i.getDimension();let r=-1;switch(t){case cr.INTERSECTION:r=Math.min(n,o);break;case cr.UNION:r=Math.max(n,o);break;case cr.DIFFERENCE:r=n;break;case cr.SYMDIFFERENCE:r=Math.max(n,o)}return r}static createEmptyResult(t,e,i,n){let o=null;switch(cr.resultDimension(t,e,i)){case-1:o=n.createGeometryCollection();break;case 0:o=n.createPoint();break;case 1:o=n.createLineString();break;case 2:o=n.createPolygon()}return o}static difference(t,e){if(t.isEmpty())return cr.createEmptyResult(cr.DIFFERENCE,t,e,t.getFactory());if(e.isEmpty())return t.copy();if(t.isGeometryCollection()||e.isGeometryCollection())throw new i("This method does not support GeometryCollection arguments");return lr.overlayOp(t,e,cr.DIFFERENCE)}static isResultOfOp(){if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t.getLocation(0),n=t.getLocation(1);return cr.isResultOfOp(i,n,e)}if(3===arguments.length){let t=arguments[0],e=arguments[1];const i=arguments[2];switch(t===ie.BOUNDARY&&(t=ie.INTERIOR),e===ie.BOUNDARY&&(e=ie.INTERIOR),i){case cr.INTERSECTION:return t===ie.INTERIOR&&e===ie.INTERIOR;case cr.UNION:return t===ie.INTERIOR||e===ie.INTERIOR;case cr.DIFFERENCE:return t===ie.INTERIOR&&e!==ie.INTERIOR;case cr.SYMDIFFERENCE:return t===ie.INTERIOR&&e!==ie.INTERIOR||t!==ie.INTERIOR&&e===ie.INTERIOR}return!1}}insertUniqueEdge(t){const e=this._edgeList.findEqualEdge(t);if(null!==e){const i=e.getLabel();let n=t.getLabel();e.isPointwiseEqual(t)||(n=new Oi(t.getLabel())).flip();const o=e.getDepth();o.isNull()&&o.add(i),o.add(n),i.merge(n)}else this._edgeList.add(t)}getGraph(){return this._graph}cancelDuplicateResultEdges(){for(let t=this._graph.getEdgeEnds().iterator();t.hasNext();){const e=t.next(),i=e.getSym();e.isInResult()&&i.isInResult()&&(e.setInResult(!1),i.setInResult(!1))}}isCoveredByLA(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)}computeGeometry(t,e,i,n){const o=new _;return o.addAll(t),o.addAll(e),o.addAll(i),o.isEmpty()?cr.createEmptyResult(n,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)}mergeSymLabels(){for(let t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()}isCovered(t,e){for(let i=e.iterator();i.hasNext();){const e=i.next();if(this._ptLocator.locate(t,e)!==ie.EXTERIOR)return!0}return!1}replaceCollapsedEdges(){const t=new _;for(let e=this._edgeList.iterator();e.hasNext();){const i=e.next();i.isCollapsed()&&(e.remove(),t.add(i.getCollapsedEdge()))}this._edgeList.addAll(t)}updateNodeLabelling(){for(let t=this._graph.getNodes().iterator();t.hasNext();){const e=t.next(),i=e.getEdges().getLabel();e.getLabel().merge(i)}}getResultGeometry(t){return this.computeOverlay(t),this._resultGeom}insertUniqueEdges(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this.insertUniqueEdge(t)}}computeOverlay(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);const e=new _;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),tr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();const i=new eo(this._geomFact);i.add(this._graph),this._resultPolyList=i.getPolygons();const n=new er(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(t);const o=new ir(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)}labelIncompleteNode(t,e){const i=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,i)}copyPoints(t){for(let e=this._arg[t].getNodeIterator();e.hasNext();){const i=e.next();this._graph.addNode(i.getCoordinate()).setLabel(t,i.getLabel().getLocation(t))}}findResultAreaEdges(t){for(let e=this._graph.getEdgeEnds().iterator();e.hasNext();){const i=e.next(),n=i.getLabel();n.isArea()&&!i.isInteriorAreaEdge()&&cr.isResultOfOp(n.getLocation(0,Ei.RIGHT),n.getLocation(1,Ei.RIGHT),t)&&i.setInResult(!0)}}computeLabelsFromDepths(){for(let t=this._edgeList.iterator();t.hasNext();){const e=t.next(),i=e.getLabel(),n=e.getDepth();if(!n.isNull()){n.normalize();for(let t=0;t<2;t++)i.isNull(t)||!i.isArea()||n.isNull(t)||(0===n.getDelta(t)?i.toLine(t):(u.isTrue(!n.isNull(t,Ei.LEFT),"depth of LEFT side has not been initialized"),i.setLocation(t,Ei.LEFT,n.getLocation(t,Ei.LEFT)),u.isTrue(!n.isNull(t,Ei.RIGHT),"depth of RIGHT side has not been initialized"),i.setLocation(t,Ei.RIGHT,n.getLocation(t,Ei.RIGHT))))}}}computeLabelling(){for(let t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()}labelIncompleteNodes(){for(let t=this._graph.getNodes().iterator();t.hasNext();){const e=t.next(),i=e.getLabel();e.isIsolated()&&(i.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(i)}}isCoveredByA(t){return!!this.isCovered(t,this._resultPolyList)}getClass(){return cr}get interfaces_(){return[]}}cr.constructor_=function(){this._ptLocator=new gi,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new go,this._resultPolyList=new _,this._resultLineList=new _,this._resultPointList=new _;const t=arguments[0],e=arguments[1];hr.constructor_.call(this,t,e),this._graph=new qi(new uo),this._geomFact=t.getFactory()},cr.INTERSECTION=1,cr.UNION=2,cr.DIFFERENCE=3,cr.SYMDIFFERENCE=4;var ur=Object.freeze({__proto__:null,snap:Ko,OverlayOp:cr});class pr extends Do{constructor(){super(),pr.constructor_.apply(this,arguments)}getNext(){return this._next}isInRing(){return null!==this._edgeRing}setRing(t){this._edgeRing=t}setLabel(t){this._label=t}getLabel(){return this._label}setNext(t){this._next=t}getRing(){return this._edgeRing}getClass(){return pr}get interfaces_(){return[]}}pr.constructor_=function(){this._edgeRing=null,this._next=null,this._label=-1;const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];Do.constructor_.call(this,t,e,i,n)};class gr extends Oo{constructor(){super(),gr.constructor_.apply(this,arguments)}getLine(){return this._line}getClass(){return gr}get interfaces_(){return[]}}gr.constructor_=function(){this._line=null;const t=arguments[0];this._line=t};class dr{constructor(){dr.constructor_.apply(this,arguments)}static findDifferentPoint(t,e){for(let i=0;i<t.length;i++)if(!t[i].equals(e))return t[i];return null}visitInteriorRing(t,e){const i=t.getCoordinates(),n=i[0],o=dr.findDifferentPoint(i,n),r=e.findEdgeInSameDirection(n,o),s=e.findEdgeEnd(r);let a=null;s.getLabel().getLocation(0,Ei.RIGHT)===ie.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,Ei.RIGHT)===ie.INTERIOR&&(a=s.getSym()),u.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)}visitShellInteriors(t,e){if(t instanceof Nt){const i=t;this.visitInteriorRing(i.getExteriorRing(),e)}if(t instanceof Ot){const i=t;for(let t=0;t<i.getNumGeometries();t++){const n=i.getGeometryN(t);this.visitInteriorRing(n.getExteriorRing(),e)}}}getCoordinate(){return this._disconnectedRingcoord}setInteriorEdgesInResult(t){for(let e=t.getEdgeEnds().iterator();e.hasNext();){const t=e.next();t.getLabel().getLocation(0,Ei.RIGHT)===ie.INTERIOR&&t.setInResult(!0)}}visitLinkedDirectedEdges(t){const e=t;let i=t;do{u.isTrue(null!==i,"found null Directed Edge"),i.setVisited(!0),i=i.getNext()}while(i!==e)}buildEdgeRings(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next();if(t.isInResult()&&null===t.getEdgeRing()){const i=new to(t,this._geometryFactory);i.linkDirectedEdgesForMinimalEdgeRings();const n=i.buildMinimalRings();e.addAll(n)}}return e}hasUnvisitedShellEdge(t){for(let e=0;e<t.size();e++){const i=t.get(e);if(i.isHole())continue;const n=i.getEdges();let o=n.get(0);if(o.getLabel().getLocation(0,Ei.RIGHT)===ie.INTERIOR)for(let t=0;t<n.size();t++)if(!(o=n.get(t)).isVisited())return this._disconnectedRingcoord=o.getCoordinate(),!0}return!1}isInteriorsConnected(){const t=new _;this._geomGraph.computeSplitEdges(t);const e=new qi(new uo);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();const i=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this._geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(i)}getClass(){return dr}get interfaces_(){return[]}}dr.constructor_=function(){this._geometryFactory=new Yt,this._geomGraph=null,this._disconnectedRingcoord=null;const t=arguments[0];this._geomGraph=t};class fr{constructor(){fr.constructor_.apply(this,arguments)}createEdgeEndForNext(t,e,i,n){const o=i.segmentIndex+1;if(o>=t.getNumPoints()&&null===n)return null;let r=t.getCoordinate(o);null!==n&&n.segmentIndex===i.segmentIndex&&(r=n.coord);const s=new Wi(t,i.coord,r,new Oi(t.getLabel()));e.add(s)}createEdgeEndForPrev(t,e,i,n){let o=i.segmentIndex;if(0===i.dist){if(0===o)return null;o--}let r=t.getCoordinate(o);null!==n&&n.segmentIndex>=o&&(r=n.coord);const s=new Oi(t.getLabel());s.flip();const a=new Wi(t,i.coord,r,s);e.add(a)}computeEdgeEnds(){if(1===arguments.length){const t=arguments[0],e=new _;for(let i=t;i.hasNext();){const t=i.next();this.computeEdgeEnds(t,e)}return e}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t.getEdgeIntersectionList();i.addEndpoints();const n=i.iterator();let o=null,r=null;if(!n.hasNext())return null;let s=n.next();do{o=r,r=s,s=null,n.hasNext()&&(s=n.next()),null!==r&&(this.createEdgeEndForPrev(t,e,r,o),this.createEdgeEndForNext(t,e,r,s))}while(null!==r)}}getClass(){return fr}get interfaces_(){return[]}}fr.constructor_=function(){};class yr extends Wi{constructor(){super(),yr.constructor_.apply(this,arguments)}insert(t){this._edgeEnds.add(t)}print(t){t.println("EdgeEndBundle--\x3e Label: "+this._label);for(let e=this.iterator();e.hasNext();)e.next().print(t),t.println()}iterator(){return this._edgeEnds.iterator()}getEdgeEnds(){return this._edgeEnds}computeLabelOn(t,e){let i=0,n=!1;for(let e=this.iterator();e.hasNext();){const o=e.next().getLabel().getLocation(t);o===ie.BOUNDARY&&i++,o===ie.INTERIOR&&(n=!0)}let o=ie.NONE;n&&(o=ie.INTERIOR),i>0&&(o=Ki.determineBoundary(e,i)),this._label.setLocation(t,o)}computeLabelSide(t,e){for(let i=this.iterator();i.hasNext();){const n=i.next();if(n.getLabel().isArea()){const i=n.getLabel().getLocation(t,e);if(i===ie.INTERIOR)return this._label.setLocation(t,e,ie.INTERIOR),null;i===ie.EXTERIOR&&this._label.setLocation(t,e,ie.EXTERIOR)}}}getLabel(){return this._label}computeLabelSides(t){this.computeLabelSide(t,Ei.LEFT),this.computeLabelSide(t,Ei.RIGHT)}updateIM(t){ji.updateIM(this._label,t)}computeLabel(t){let e=!1;for(let t=this.iterator();t.hasNext();)t.next().getLabel().isArea()&&(e=!0);this._label=e?new Oi(ie.NONE,ie.NONE,ie.NONE):new Oi(ie.NONE);for(let i=0;i<2;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)}getClass(){return yr}get interfaces_(){return[]}}yr.constructor_=function(){if(this._edgeEnds=new _,1===arguments.length){const t=arguments[0];yr.constructor_.call(this,null,t)}else if(2===arguments.length){const t=arguments[1];Wi.constructor_.call(this,t.getEdge(),t.getCoordinate(),t.getDirectedCoordinate(),new Oi(t.getLabel())),this.insert(t)}};class mr extends ho{constructor(){super(),mr.constructor_.apply(this,arguments)}updateIM(t){for(let e=this.iterator();e.hasNext();)e.next().updateIM(t)}insert(t){let e=this._edgeMap.get(t);null===e?(e=new yr(t),this.insertEdgeEnd(t,e)):e.insert(t)}getClass(){return mr}get interfaces_(){return[]}}mr.constructor_=function(){};class vr extends Hi{constructor(){super(),vr.constructor_.apply(this,arguments)}updateIMFromEdges(t){this._edges.updateIM(t)}computeIM(t){t.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)}getClass(){return vr}get interfaces_(){return[]}}vr.constructor_=function(){const t=arguments[0],e=arguments[1];Hi.constructor_.call(this,t,e)};class _r extends Zi{constructor(){super(),_r.constructor_.apply(this,arguments)}createNode(t){return new vr(t,new mr)}getClass(){return _r}get interfaces_(){return[]}}_r.constructor_=function(){};class xr{constructor(){xr.constructor_.apply(this,arguments)}insertEdgeEnds(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this._nodes.add(t)}}getNodeIterator(){return this._nodes.iterator()}copyNodesAndLabels(t,e){for(let i=t.getNodeIterator();i.hasNext();){const t=i.next();this._nodes.addNode(t.getCoordinate()).setLabel(e,t.getLabel().getLocation(e))}}build(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);const e=(new fr).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)}computeIntersectionNodes(t,e){for(let i=t.getEdgeIterator();i.hasNext();){const t=i.next(),n=t.getLabel().getLocation(e);for(let i=t.getEdgeIntersectionList().iterator();i.hasNext();){const t=i.next(),o=this._nodes.addNode(t.coord);n===ie.BOUNDARY?o.setLabelBoundary(e):o.getLabel().isNull(e)&&o.setLabel(e,ie.INTERIOR)}}}getClass(){return xr}get interfaces_(){return[]}}xr.constructor_=function(){this._nodes=new Ui(new _r)};class Cr{constructor(){Cr.constructor_.apply(this,arguments)}isNodeEdgeAreaLabelsConsistent(){for(let t=this._nodeGraph.getNodeIterator();t.hasNext();){const e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=e.getCoordinate().copy(),!1}return!0}getInvalidPoint(){return this._invalidPoint}hasDuplicateRings(){for(let t=this._nodeGraph.getNodeIterator();t.hasNext();)for(let e=t.next().getEdges().iterator();e.hasNext();){const t=e.next();if(t.getEdgeEnds().size()>1)return this._invalidPoint=t.getEdge().getCoordinate(0),!0}return!1}isNodeConsistentArea(){const t=this._geomGraph.computeSelfNodes(this._li,!0,!0);return t.hasProperIntersection()?(this._invalidPoint=t.getProperIntersectionPoint(),!1):(this._nodeGraph.build(this._geomGraph),this.isNodeEdgeAreaLabelsConsistent())}getClass(){return Cr}get interfaces_(){return[]}}Cr.constructor_=function(){this._li=new te,this._geomGraph=null,this._nodeGraph=new xr,this._invalidPoint=null;const t=arguments[0];this._geomGraph=t};class Ir{constructor(){Ir.constructor_.apply(this,arguments)}buildIndex(){this._index=new xn;for(let t=0;t<this._rings.size();t++){const e=this._rings.get(t),i=e.getEnvelopeInternal();this._index.insert(i,e)}}getNestedPoint(){return this._nestedPt}isNonNested(){this.buildIndex();for(let t=0;t<this._rings.size();t++){const e=this._rings.get(t),i=e.getCoordinates(),n=this._index.query(e.getEnvelopeInternal());for(let t=0;t<n.size();t++){const o=n.get(t),r=o.getCoordinates();if(e===o)continue;if(!e.getEnvelopeInternal().intersects(o.getEnvelopeInternal()))continue;const s=br.findPtNotNode(i,o,this._graph);if(null!==s&&Xe.isInRing(s,r))return this._nestedPt=s,!1}}return!0}add(t){this._rings.add(t),this._totalEnv.expandToInclude(t.getEnvelopeInternal())}getClass(){return Ir}get interfaces_(){return[]}}Ir.constructor_=function(){this._graph=null,this._rings=new _,this._totalEnv=new I,this._index=null,this._nestedPt=null;const t=arguments[0];this._graph=t};class Ar{constructor(){Ar.constructor_.apply(this,arguments)}getErrorType(){return this._errorType}getMessage(){return Ar.errMsg[this._errorType]}getCoordinate(){return this._pt}toString(){let t="";return null!==this._pt&&(t=" at or near point "+this._pt),this.getMessage()+t}getClass(){return Ar}get interfaces_(){return[]}}Ar.constructor_=function(){if(this._errorType=null,this._pt=null,1===arguments.length){const t=arguments[0];Ar.constructor_.call(this,t,null)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._errorType=t,null!==e&&(this._pt=e.copy())}},Ar.ERROR=0,Ar.REPEATED_POINT=1,Ar.HOLE_OUTSIDE_SHELL=2,Ar.NESTED_HOLES=3,Ar.DISCONNECTED_INTERIOR=4,Ar.SELF_INTERSECTION=5,Ar.RING_SELF_INTERSECTION=6,Ar.NESTED_SHELLS=7,Ar.DUPLICATE_RINGS=8,Ar.TOO_FEW_POINTS=9,Ar.INVALID_COORDINATE=10,Ar.RING_NOT_CLOSED=11,Ar.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"];class br{constructor(){br.constructor_.apply(this,arguments)}static findPtNotNode(t,e,i){const n=i.findEdge(e).getEdgeIntersectionList();for(let e=0;e<t.length;e++){const i=t[e];if(!n.isIntersection(i))return i}return null}static isValid(){if(arguments[0]instanceof G){const t=arguments[0];return new br(t).isValid()}if(arguments[0]instanceof p){const t=arguments[0];return!(o.isNaN(t.x)||o.isInfinite(t.x)||o.isNaN(t.y)||o.isInfinite(t.y))}}checkInvalidCoordinates(){if(arguments[0]instanceof Array){const t=arguments[0];for(let e=0;e<t.length;e++)if(!br.isValid(t[e]))return this._validErr=new Ar(Ar.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Nt){const t=arguments[0];if(this.checkInvalidCoordinates(t.getExteriorRing().getCoordinates()),null!==this._validErr)return null;for(let e=0;e<t.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(t.getInteriorRingN(e).getCoordinates()),null!==this._validErr)return null}}checkHolesNotNested(t,e){const i=new Ir(e);for(let e=0;e<t.getNumInteriorRing();e++){const n=t.getInteriorRingN(e);i.add(n)}i.isNonNested()||(this._validErr=new Ar(Ar.NESTED_HOLES,i.getNestedPoint()))}checkConsistentArea(t){const e=new Cr(t);if(!e.isNodeConsistentArea())return this._validErr=new Ar(Ar.SELF_INTERSECTION,e.getInvalidPoint()),null;e.hasDuplicateRings()&&(this._validErr=new Ar(Ar.DUPLICATE_RINGS,e.getInvalidPoint()))}isValid(){return this.checkValid(this._parentGeometry),null===this._validErr}checkShellInsideHole(t,e,i){const n=t.getCoordinates(),o=e.getCoordinates(),r=br.findPtNotNode(n,e,i);if(null!==r&&!Xe.isInRing(r,o))return r;const s=br.findPtNotNode(o,t,i);return null!==s?Xe.isInRing(s,n)?s:null:(u.shouldNeverReachHere("points in shell and hole appear to be equal"),null)}checkNoSelfIntersectingRings(t){for(let e=t.getEdgeIterator();e.hasNext();){const t=e.next();if(this.checkNoSelfIntersectingRing(t.getEdgeIntersectionList()),null!==this._validErr)return null}}checkConnectedInteriors(t){const e=new dr(t);e.isInteriorsConnected()||(this._validErr=new Ar(Ar.DISCONNECTED_INTERIOR,e.getCoordinate()))}checkNoSelfIntersectingRing(t){const e=new lt;let i=!0;for(let n=t.iterator();n.hasNext();){const t=n.next();if(i)i=!1;else{if(e.contains(t.coord))return this._validErr=new Ar(Ar.RING_SELF_INTERSECTION,t.coord),null;e.add(t.coord)}}}checkHolesInShell(t,e){const i=t.getExteriorRing(),n=new Ue(i);for(let o=0;o<t.getNumInteriorRing();o++){const r=t.getInteriorRingN(o),s=br.findPtNotNode(r.getCoordinates(),i,e);if(null===s)return null;if(ie.EXTERIOR===n.locate(s))return this._validErr=new Ar(Ar.HOLE_OUTSIDE_SHELL,s),null}}checkTooFewPoints(t){if(t.hasTooFewPoints())return this._validErr=new Ar(Ar.TOO_FEW_POINTS,t.getInvalidPoint()),null}getValidationError(){return this.checkValid(this._parentGeometry),this._validErr}checkValid(){if(arguments[0]instanceof Tt){const t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Dt){const t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Rt){const t=arguments[0];if(this.checkInvalidCoordinates(t.getCoordinates()),null!==this._validErr)return null;if(this.checkClosedRing(t),null!==this._validErr)return null;const e=new Ki(0,t);if(this.checkTooFewPoints(e),null!==this._validErr)return null;const i=new te;e.computeSelfNodes(i,!0,!0),this.checkNoSelfIntersectingRings(e)}else if(arguments[0]instanceof Mt){const t=arguments[0];if(this.checkInvalidCoordinates(t.getCoordinates()),null!==this._validErr)return null;const e=new Ki(0,t);this.checkTooFewPoints(e)}else if(arguments[0]instanceof Nt){const t=arguments[0];if(this.checkInvalidCoordinates(t),null!==this._validErr)return null;if(this.checkClosedRings(t),null!==this._validErr)return null;const e=new Ki(0,t);if(this.checkTooFewPoints(e),null!==this._validErr)return null;if(this.checkConsistentArea(e),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(e),null!==this._validErr))return null;if(this.checkHolesInShell(t,e),null!==this._validErr)return null;if(this.checkHolesNotNested(t,e),null!==this._validErr)return null;this.checkConnectedInteriors(e)}else if(arguments[0]instanceof Ot){const t=arguments[0];for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);if(this.checkInvalidCoordinates(i),null!==this._validErr)return null;if(this.checkClosedRings(i),null!==this._validErr)return null}const e=new Ki(0,t);if(this.checkTooFewPoints(e),null!==this._validErr)return null;if(this.checkConsistentArea(e),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(e),null!==this._validErr))return null;for(let i=0;i<t.getNumGeometries();i++){const n=t.getGeometryN(i);if(this.checkHolesInShell(n,e),null!==this._validErr)return null}for(let i=0;i<t.getNumGeometries();i++){const n=t.getGeometryN(i);if(this.checkHolesNotNested(n,e),null!==this._validErr)return null}if(this.checkShellsNotNested(t,e),null!==this._validErr)return null;this.checkConnectedInteriors(e)}else if(arguments[0]instanceof dt){const t=arguments[0];for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);if(this.checkValid(i),null!==this._validErr)return null}}else if(arguments[0]instanceof G){const t=arguments[0];if(this._validErr=null,t.isEmpty())return null;if(t instanceof Tt)this.checkValid(t);else if(t instanceof Dt)this.checkValid(t);else if(t instanceof Rt)this.checkValid(t);else if(t instanceof Mt)this.checkValid(t);else if(t instanceof Nt)this.checkValid(t);else if(t instanceof Ot)this.checkValid(t);else{if(!(t instanceof dt))throw new UnsupportedOperationException(t.getClass().getName());this.checkValid(t)}}}setSelfTouchingRingFormingHoleValid(t){this._isSelfTouchingRingFormingHoleValid=t}checkShellNotNested(t,e,i){const n=t.getCoordinates(),o=e.getExteriorRing(),r=o.getCoordinates(),s=br.findPtNotNode(n,o,i);if(null===s)return null;if(!Xe.isInRing(s,r))return null;if(e.getNumInteriorRing()<=0)return this._validErr=new Ar(Ar.NESTED_SHELLS,s),null;let a=null;for(let n=0;n<e.getNumInteriorRing();n++){const o=e.getInteriorRingN(n);if(null===(a=this.checkShellInsideHole(t,o,i)))return null}this._validErr=new Ar(Ar.NESTED_SHELLS,a)}checkClosedRings(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this._validErr)return null;for(let e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this._validErr)return null}checkClosedRing(t){if(!t.isClosed()){let e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this._validErr=new Ar(Ar.RING_NOT_CLOSED,e)}}checkShellsNotNested(t,e){for(let i=0;i<t.getNumGeometries();i++){const n=t.getGeometryN(i).getExteriorRing();for(let o=0;o<t.getNumGeometries();o++){if(i===o)continue;const r=t.getGeometryN(o);if(this.checkShellNotNested(n,r,e),null!==this._validErr)return null}}}getClass(){return br}get interfaces_(){return[]}}br.constructor_=function(){this._parentGeometry=null,this._isSelfTouchingRingFormingHoleValid=!1,this._validErr=null;const t=arguments[0];this._parentGeometry=t};class wr{constructor(){wr.constructor_.apply(this,arguments)}static findDirEdgesInRing(t){let e=t;const i=new _;do{i.add(e),e=e.getNext(),u.isTrue(null!==e,"found null DE in ring"),u.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return i}static addEdge(t,e,i){if(e)for(let e=0;e<t.length;e++)i.add(t[e],!1);else for(let e=t.length-1;e>=0;e--)i.add(t[e],!1)}static findEdgeRingContaining(t,e){const i=t.getRing(),n=i.getEnvelopeInternal();let o=i.getCoordinateN(0),r=null,s=null;for(let t=e.iterator();t.hasNext();){const e=t.next(),a=e.getRing(),l=a.getEnvelopeInternal();if(l.equals(n))continue;if(!l.contains(n))continue;o=W.ptNotInList(i.getCoordinates(),a.getCoordinates());let h=!1;Xe.isInRing(o,a.getCoordinates())&&(h=!0),h&&(null===r||s.contains(l))&&(s=(r=e).getRing().getEnvelopeInternal())}return r}isIncluded(){return this._isIncluded}getCoordinates(){if(null===this._ringPts){const t=new C;for(let e=this._deList.iterator();e.hasNext();){const i=e.next(),n=i.getEdge();wr.addEdge(n.getLine().getCoordinates(),i.getEdgeDirection(),t)}this._ringPts=t.toCoordinateArray()}return this._ringPts}isIncludedSet(){return this._isIncludedSet}isValid(){return this.getCoordinates(),!(this._ringPts.length<=3)&&(this.getRing(),br.isValid(this._ring))}build(t){let e=t;do{this.add(e),e.setRing(this),e=e.getNext(),u.isTrue(null!==e,"found null DE in ring"),u.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)}isOuterHole(){return!!this._isHole&&!this.hasShell()}getPolygon(){let t=null;if(null!==this._holes){t=new Array(this._holes.size()).fill(null);for(let e=0;e<this._holes.size();e++)t[e]=this._holes.get(e)}return this._factory.createPolygon(this._ring,t)}isHole(){return this._isHole}isProcessed(){return this._isProcessed}addHole(){if(arguments[0]instanceof Rt){const t=arguments[0];null===this._holes&&(this._holes=new _),this._holes.add(t)}else if(arguments[0]instanceof wr){const t=arguments[0];t.setShell(this);const e=t.getRing();null===this._holes&&(this._holes=new _),this._holes.add(e)}}setIncluded(t){this._isIncluded=t,this._isIncludedSet=!0}getOuterHole(){if(this.isHole())return null;for(let t=0;t<this._deList.size();t++){const e=this._deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null}computeHole(){const t=this.getRing();this._isHole=P.isCCW(t.getCoordinates())}hasShell(){return null!==this._shell}isOuterShell(){return null!==this.getOuterHole()}getLineString(){return this.getCoordinates(),this._factory.createLineString(this._ringPts)}toString(){return Qt.toLineString(new Vt(this.getCoordinates()))}getShell(){return this.isHole()?this._shell:this}add(t){this._deList.add(t)}getRing(){if(null!==this._ring)return this._ring;this.getCoordinates(),this._ringPts.length<3&&L.out.println(this._ringPts);try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(t){if(!(t instanceof A))throw t;L.out.println(this._ringPts)}return this._ring}updateIncluded(){if(this.isHole())return null;for(let t=0;t<this._deList.size();t++){const e=this._deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}}setShell(t){this._shell=t}setProcessed(t){this._isProcessed=t}getClass(){return wr}get interfaces_(){return[]}}class Sr{constructor(){Sr.constructor_.apply(this,arguments)}compare(t,e){const i=e;return t.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())}getClass(){return Sr}get interfaces_(){return[a]}}Sr.constructor_=function(){},wr.EnvelopeComparator=Sr,wr.constructor_=function(){this._factory=null,this._deList=new _,this._lowestEdge=null,this._ring=null,this._ringPts=null,this._holes=null,this._shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;const t=arguments[0];this._factory=t};class Mr extends zo{constructor(){super(),Mr.constructor_.apply(this,arguments)}static findLabeledEdgeRings(t){const e=new _;let i=1;for(let n=t.iterator();n.hasNext();){const t=n.next();if(t.isMarked())continue;if(t.getLabel()>=0)continue;e.add(t);const o=wr.findDirEdgesInRing(t);Mr.label(o,i),i++}return e}static getDegreeNonDeleted(t){let e=0;for(let i=t.getOutEdges().getEdges().iterator();i.hasNext();)i.next().isMarked()||e++;return e}static deleteAllEdges(t){for(let e=t.getOutEdges().getEdges().iterator();e.hasNext();){const t=e.next();t.setMarked(!0);const i=t.getSym();null!==i&&i.setMarked(!0)}}static label(t,e){for(let i=t.iterator();i.hasNext();)i.next().setLabel(e)}static computeNextCWEdges(t){let e=null,i=null;for(let n=t.getOutEdges().getEdges().iterator();n.hasNext();){const t=n.next();t.isMarked()||(null===e&&(e=t),null!==i&&i.getSym().setNext(t),i=t)}null!==i&&i.getSym().setNext(e)}static computeNextCCWEdges(t,e){let i=null,n=null;const o=t.getOutEdges().getEdges();for(let t=o.size()-1;t>=0;t--){const r=o.get(t),s=r.getSym();let a=null;r.getLabel()===e&&(a=r);let l=null;s.getLabel()===e&&(l=s),null===a&&null===l||(null!==l&&(n=l),null!==a&&(null!==n&&(n.setNext(a),n=null),null===i&&(i=a)))}null!==n&&(u.isTrue(null!==i),n.setNext(i))}static getDegree(t,e){let i=0;for(let n=t.getOutEdges().getEdges().iterator();n.hasNext();)n.next().getLabel()===e&&i++;return i}static findIntersectionNodes(t,e){let i=t,n=null;do{const o=i.getFromNode();Mr.getDegree(o,e)>1&&(null===n&&(n=new _),n.add(o)),i=i.getNext(),u.isTrue(null!==i,"found null DE in ring"),u.isTrue(i===t||!i.isInRing(),"found DE already in ring")}while(i!==t);return n}findEdgeRing(t){const e=new wr(this._factory);return e.build(t),e}computeDepthParity(){if(0===arguments.length)for(;;)return null}computeNextCWEdges(){for(let t=this.nodeIterator();t.hasNext();){const e=t.next();Mr.computeNextCWEdges(e)}}addEdge(t){if(t.isEmpty())return null;const e=W.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;const i=e[0],n=e[e.length-1],o=this.getNode(i),r=this.getNode(n),s=new pr(o,r,e[1],!0),a=new pr(r,o,e[e.length-2],!1),l=new gr(t);l.setDirectedEdges(s,a),this.add(l)}deleteCutEdges(){this.computeNextCWEdges(),Mr.findLabeledEdgeRings(this._dirEdges);const t=new _;for(let e=this._dirEdges.iterator();e.hasNext();){const i=e.next();if(i.isMarked())continue;const n=i.getSym();if(i.getLabel()===n.getLabel()){i.setMarked(!0),n.setMarked(!0);const e=i.getEdge();t.add(e.getLine())}}return t}getEdgeRings(){this.computeNextCWEdges(),Mr.label(this._dirEdges,-1);const t=Mr.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(t);const e=new _;for(let t=this._dirEdges.iterator();t.hasNext();){const i=t.next();if(i.isMarked())continue;if(i.isInRing())continue;const n=this.findEdgeRing(i);e.add(n)}return e}getNode(t){let e=this.findNode(t);return null===e&&(e=new ko(t),this.add(e)),e}convertMaximalToMinimalEdgeRings(t){for(let e=t.iterator();e.hasNext();){const t=e.next(),i=t.getLabel(),n=Mr.findIntersectionNodes(t,i);if(null!==n)for(let t=n.iterator();t.hasNext();){const e=t.next();Mr.computeNextCCWEdges(e,i)}}}deleteDangles(){const t=this.findNodesOfDegree(1),e=new Q,i=new ri;for(let e=t.iterator();e.hasNext();)i.push(e.next());for(;!i.isEmpty();){const t=i.pop();Mr.deleteAllEdges(t);for(let n=t.getOutEdges().getEdges().iterator();n.hasNext();){const t=n.next();t.setMarked(!0);const o=t.getSym();null!==o&&o.setMarked(!0);const r=t.getEdge();e.add(r.getLine());const s=t.getToNode();1===Mr.getDegreeNonDeleted(s)&&i.push(s)}}return e}getClass(){return Mr}get interfaces_(){return[]}}Mr.constructor_=function(){this._factory=null;const t=arguments[0];this._factory=t};class Er{constructor(){Er.constructor_.apply(this,arguments)}static findOuterShells(t){for(let e=t.iterator();e.hasNext();){const t=e.next(),i=t.getOuterHole();null===i||i.isProcessed()||(t.setIncluded(!0),i.setProcessed(!0))}}static extractPolygons(t,e){const i=new _;for(let n=t.iterator();n.hasNext();){const t=n.next();(e||t.isIncluded())&&i.add(t.getPolygon())}return i}static assignHolesToShells(t,e){for(let i=t.iterator();i.hasNext();){const t=i.next();Er.assignHoleToShell(t,e)}}static assignHoleToShell(t,e){const i=wr.findEdgeRingContaining(t,e);null!==i&&i.addHole(t)}static findDisjointShells(t){Er.findOuterShells(t);let e=null;do{e=!1;for(let i=t.iterator();i.hasNext();){const t=i.next();t.isIncludedSet()||(t.updateIncluded(),t.isIncludedSet()||(e=!0))}}while(e)}getGeometry(){return null===this._geomFactory&&(this._geomFactory=new Yt),this.polygonize(),this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):this._geomFactory.createGeometryCollection(Yt.toGeometryArray(this._polyList))}getInvalidRingLines(){return this.polygonize(),this._invalidRingLines}findValidRings(t,e,i){for(let n=t.iterator();n.hasNext();){const t=n.next();t.isValid()?e.add(t):i.add(t.getLineString())}}polygonize(){if(null!==this._polyList)return null;if(this._polyList=new _,null===this._graph)return null;this._dangles=this._graph.deleteDangles(),this._cutEdges=this._graph.deleteCutEdges();const t=this._graph.getEdgeRings();let e=new _;this._invalidRingLines=new _,this._isCheckingRingsValid?this.findValidRings(t,e,this._invalidRingLines):e=t,this.findShellsAndHoles(e),Er.assignHolesToShells(this._holeList,this._shellList),xe.sort(this._shellList,new wr.EnvelopeComparator);let i=!0;this._extractOnlyPolygonal&&(Er.findDisjointShells(this._shellList),i=!1),this._polyList=Er.extractPolygons(this._shellList,i)}getDangles(){return this.polygonize(),this._dangles}getCutEdges(){return this.polygonize(),this._cutEdges}getPolygons(){return this.polygonize(),this._polyList}add(){if(d(arguments[0],f))for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.add(e)}else if(arguments[0]instanceof Mt){const t=arguments[0];this._geomFactory=t.getFactory(),null===this._graph&&(this._graph=new Mr(this._geomFactory)),this._graph.addEdge(t)}else arguments[0]instanceof G&&arguments[0].apply(this._lineStringAdder)}setCheckRingsValid(t){this._isCheckingRingsValid=t}findShellsAndHoles(t){this._holeList=new _,this._shellList=new _;for(let e=t.iterator();e.hasNext();){const t=e.next();t.computeHole(),t.isHole()?this._holeList.add(t):this._shellList.add(t)}}getClass(){return Er}get interfaces_(){return[]}}class Tr{constructor(){Tr.constructor_.apply(this,arguments)}filter(t){t instanceof Mt&&this.p.add(t)}getClass(){return Tr}get interfaces_(){return[k]}}Tr.constructor_=function(){this.p=null;const t=arguments[0];this.p=t},Er.LineStringAdder=Tr,Er.constructor_=function(){if(this._lineStringAdder=new Tr(this),this._graph=null,this._dangles=new _,this._cutEdges=new _,this._invalidRingLines=new _,this._holeList=null,this._shellList=null,this._polyList=null,this._isCheckingRingsValid=!0,this._extractOnlyPolygonal=null,this._geomFactory=null,0===arguments.length)Er.constructor_.call(this,!1);else if(1===arguments.length){const t=arguments[0];this._extractOnlyPolygonal=t}};var Pr=Object.freeze({__proto__:null,Polygonizer:Er});class Lr{constructor(){Lr.constructor_.apply(this,arguments)}insertEdgeEnds(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this._nodes.add(t)}}computeProperIntersectionIM(t,e){const i=this._arg[0].getGeometry().getDimension(),n=this._arg[1].getGeometry().getDimension(),o=t.hasProperIntersection(),r=t.hasProperInteriorIntersection();2===i&&2===n?o&&e.setAtLeast("212101212"):2===i&&1===n?(o&&e.setAtLeast("FFF0FFFF2"),r&&e.setAtLeast("1FFFFF1FF")):1===i&&2===n?(o&&e.setAtLeast("F0FFFFFF2"),r&&e.setAtLeast("1F1FFFFFF")):1===i&&1===n&&r&&e.setAtLeast("0FFFFFFFF")}labelIsolatedEdges(t,e){for(let i=this._arg[t].getEdgeIterator();i.hasNext();){const t=i.next();t.isIsolated()&&(this.labelIsolatedEdge(t,e,this._arg[e].getGeometry()),this._isolatedEdges.add(t))}}labelIsolatedEdge(t,e,i){if(i.getDimension()>0){const n=this._ptLocator.locate(t.getCoordinate(),i);t.getLabel().setAllLocations(e,n)}else t.getLabel().setAllLocations(e,ie.EXTERIOR)}computeIM(){const t=new ne;if(t.set(ie.EXTERIOR,ie.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);const e=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);const i=new fr,n=i.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(n);const o=i.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(o),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t}labelNodeEdges(){for(let t=this._nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg)}copyNodesAndLabels(t){for(let e=this._arg[t].getNodeIterator();e.hasNext();){const i=e.next();this._nodes.addNode(i.getCoordinate()).setLabel(t,i.getLabel().getLocation(t))}}labelIntersectionNodes(t){for(let e=this._arg[t].getEdgeIterator();e.hasNext();){const i=e.next(),n=i.getLabel().getLocation(t);for(let e=i.getEdgeIntersectionList().iterator();e.hasNext();){const i=e.next(),o=this._nodes.find(i.coord);o.getLabel().isNull(t)&&(n===ie.BOUNDARY?o.setLabelBoundary(t):o.setLabel(t,ie.INTERIOR))}}}labelIsolatedNode(t,e){const i=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setAllLocations(e,i)}computeIntersectionNodes(t){for(let e=this._arg[t].getEdgeIterator();e.hasNext();){const i=e.next(),n=i.getLabel().getLocation(t);for(let e=i.getEdgeIntersectionList().iterator();e.hasNext();){const i=e.next(),o=this._nodes.addNode(i.coord);n===ie.BOUNDARY?o.setLabelBoundary(t):o.getLabel().isNull(t)&&o.setLabel(t,ie.INTERIOR)}}}labelIsolatedNodes(){for(let t=this._nodes.iterator();t.hasNext();){const e=t.next(),i=e.getLabel();u.isTrue(i.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(i.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}}updateIM(t){for(let e=this._isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(let e=this._nodes.iterator();e.hasNext();){const i=e.next();i.updateIM(t),i.updateIMFromEdges(t)}}computeDisjointIM(t){const e=this._arg[0].getGeometry();e.isEmpty()||(t.set(ie.INTERIOR,ie.EXTERIOR,e.getDimension()),t.set(ie.BOUNDARY,ie.EXTERIOR,e.getBoundaryDimension()));const i=this._arg[1].getGeometry();i.isEmpty()||(t.set(ie.EXTERIOR,ie.INTERIOR,i.getDimension()),t.set(ie.EXTERIOR,ie.BOUNDARY,i.getBoundaryDimension()))}getClass(){return Lr}get interfaces_(){return[]}}Lr.constructor_=function(){this._li=new te,this._ptLocator=new gi,this._arg=null,this._nodes=new Ui(new _r),this._im=null,this._isolatedEdges=new _,this._invalidPoint=null;const t=arguments[0];this._arg=t};class Nr{constructor(){Nr.constructor_.apply(this,arguments)}static contains(t,e){return new Nr(t).contains(e)}isContainedInBoundary(t){if(t instanceof Nt)return!1;if(t instanceof Tt)return this.isPointContainedInBoundary(t);if(t instanceof Mt)return this.isLineStringContainedInBoundary(t);for(let e=0;e<t.getNumGeometries();e++){const i=t.getGeometryN(e);if(!this.isContainedInBoundary(i))return!1}return!0}isLineSegmentContainedInBoundary(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()))return!0;return!1}isLineStringContainedInBoundary(t){const e=t.getCoordinateSequence(),i=new p,n=new p;for(let t=0;t<e.size()-1;t++)if(e.getCoordinate(t,i),e.getCoordinate(t+1,n),!this.isLineSegmentContainedInBoundary(i,n))return!1;return!0}isPointContainedInBoundary(){if(arguments[0]instanceof Tt){const t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof p){const t=arguments[0];return t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX()||t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()}}contains(t){return!!this._rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)}getClass(){return Nr}get interfaces_(){return[]}}Nr.constructor_=function(){this._rectEnv=null;const t=arguments[0];this._rectEnv=t.getEnvelopeInternal()};class Dr{constructor(){Dr.constructor_.apply(this,arguments)}intersects(t,e){const i=new I(t,e);if(!this._rectEnv.intersects(i))return!1;if(this._rectEnv.intersects(t))return!0;if(this._rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){const i=t;t=e,e=i}let n=!1;return e.y>t.y&&(n=!0),n?this._li.computeIntersection(t,e,this._diagDown0,this._diagDown1):this._li.computeIntersection(t,e,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()}getClass(){return Dr}get interfaces_(){return[]}}Dr.constructor_=function(){this._li=new te,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;const t=arguments[0];this._rectEnv=t,this._diagUp0=new p(t.getMinX(),t.getMinY()),this._diagUp1=new p(t.getMaxX(),t.getMaxY()),this._diagDown0=new p(t.getMinX(),t.getMaxY()),this._diagDown1=new p(t.getMaxX(),t.getMinY())};class Rr{constructor(){Rr.constructor_.apply(this,arguments)}static intersects(t,e){return new Rr(t).intersects(e)}intersects(t){if(!this._rectEnv.intersects(t.getEnvelopeInternal()))return!1;const e=new Or(this._rectEnv);if(e.applyTo(t),e.intersects())return!0;const i=new Fr(this._rectangle);if(i.applyTo(t),i.containsPoint())return!0;const n=new kr(this._rectangle);return n.applyTo(t),!!n.intersects()}getClass(){return Rr}get interfaces_(){return[]}}Rr.constructor_=function(){this._rectangle=null,this._rectEnv=null;const t=arguments[0];this._rectangle=t,this._rectEnv=t.getEnvelopeInternal()};class Or extends Ae{constructor(){super(),Or.constructor_.apply(this,arguments)}isDone(){return!0===this._intersects}visit(t){const e=t.getEnvelopeInternal();return this._rectEnv.intersects(e)?this._rectEnv.contains(e)||e.getMinX()>=this._rectEnv.getMinX()&&e.getMaxX()<=this._rectEnv.getMaxX()||e.getMinY()>=this._rectEnv.getMinY()&&e.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null}intersects(){return this._intersects}getClass(){return Or}get interfaces_(){return[]}}Or.constructor_=function(){this._rectEnv=null,this._intersects=!1;const t=arguments[0];this._rectEnv=t};class Fr extends Ae{constructor(){super(),Fr.constructor_.apply(this,arguments)}isDone(){return!0===this._containsPoint}visit(t){if(!(t instanceof Nt))return null;const e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;const i=new p;for(let n=0;n<4;n++)if(this._rectSeq.getCoordinate(n,i),e.contains(i)&&Ke.containsPointInPolygon(i,t))return this._containsPoint=!0,null}containsPoint(){return this._containsPoint}getClass(){return Fr}get interfaces_(){return[]}}Fr.constructor_=function(){this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;const t=arguments[0];this._rectSeq=t.getExteriorRing().getCoordinateSequence(),this._rectEnv=t.getEnvelopeInternal()};class kr extends Ae{constructor(){super(),kr.constructor_.apply(this,arguments)}intersects(){return this._hasIntersection}isDone(){return!0===this._hasIntersection}visit(t){const e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;const i=_e.getLines(t);this.checkIntersectionWithLineStrings(i)}checkIntersectionWithLineStrings(t){for(let e=t.iterator();e.hasNext();){const t=e.next();if(this.checkIntersectionWithSegments(t),this._hasIntersection)return null}}checkIntersectionWithSegments(t){const e=t.getCoordinateSequence();for(let t=1;t<e.size();t++)if(e.getCoordinate(t-1,this._p0),e.getCoordinate(t,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null}getClass(){return kr}get interfaces_(){return[]}}kr.constructor_=function(){this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new p,this._p1=new p;const t=arguments[0];this._rectEnv=t.getEnvelopeInternal(),this._rectIntersector=new Dr(this._rectEnv)};class Gr extends hr{constructor(){super(),Gr.constructor_.apply(this,arguments)}static covers(t,e){return!(2===e.getDimension()&&t.getDimension()<2)&&!(1===e.getDimension()&&t.getDimension()<1&&e.getLength()>0)&&!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||new Gr(t,e).getIntersectionMatrix().isCovers())}static intersects(t,e){if(!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal()))return!1;if(t.isRectangle())return Rr.intersects(t,e);if(e.isRectangle())return Rr.intersects(e,t);if(t.isGeometryCollection()||e.isGeometryCollection()){for(let i=0;i<t.getNumGeometries();i++)for(let n=0;n<e.getNumGeometries();n++)if(t.getGeometryN(i).intersects(e.getGeometryN(n)))return!0;return!1}return new Gr(t,e).getIntersectionMatrix().isIntersects()}static touches(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Gr(t,e).getIntersectionMatrix().isTouches(t.getDimension(),e.getDimension())}static equalsTopo(t,e){return!!t.getEnvelopeInternal().equals(e.getEnvelopeInternal())&&Gr.relate(t,e).isEquals(t.getDimension(),e.getDimension())}static relate(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return new Gr(t,e).getIntersectionMatrix()}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return new Gr(t,e,i).getIntersectionMatrix()}}static overlaps(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Gr(t,e).getIntersectionMatrix().isOverlaps(t.getDimension(),e.getDimension())}static crosses(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Gr(t,e).getIntersectionMatrix().isCrosses(t.getDimension(),e.getDimension())}static contains(t,e){return!(2===e.getDimension()&&t.getDimension()<2)&&!(1===e.getDimension()&&t.getDimension()<1&&e.getLength()>0)&&!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Nr.contains(t,e):new Gr(t,e).getIntersectionMatrix().isContains())}getIntersectionMatrix(){return this._relate.computeIM()}getClass(){return Gr}get interfaces_(){return[]}}Gr.constructor_=function(){if(this._relate=null,2===arguments.length){const t=arguments[0],e=arguments[1];hr.constructor_.call(this,t,e),this._relate=new Lr(this._arg)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];hr.constructor_.call(this,t,e,i),this._relate=new Lr(this._arg)}};var Br=Object.freeze({__proto__:null,RelateOp:Gr});class zr{constructor(){zr.constructor_.apply(this,arguments)}static union(t,e){return new zr(t,e).union()}union(){const t=new gi,e=new lt;for(let i=0;i<this._pointGeom.getNumGeometries();i++){const n=this._pointGeom.getGeometryN(i).getCoordinate();t.locate(n,this._otherGeom)===ie.EXTERIOR&&e.add(n)}if(0===e.size())return this._otherGeom;let i=null;const n=W.toCoordinateArray(e);return i=1===n.length?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n),ge.combine(i,this._otherGeom)}getClass(){return zr}get interfaces_(){return[]}}zr.constructor_=function(){this._pointGeom=null,this._otherGeom=null,this._geomFact=null;const t=arguments[0],e=arguments[1];this._pointGeom=t,this._otherGeom=e,this._geomFact=e.getFactory()};class Vr{constructor(){Vr.constructor_.apply(this,arguments)}static restrictToPolygons(t){if(d(t,Lt))return t;const e=Ie.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Yt.toPolygonArray(e))}static getGeometry(t,e){return e>=t.size()?null:t.get(e)}static union(t){return new Vr(t).union()}reduceToGeometries(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next();let n=null;d(t,m)?n=this.unionTree(t):t instanceof G&&(n=t),e.add(n)}return e}extractByEnvelope(t,e,i){const n=new _;for(let o=0;o<e.getNumGeometries();o++){const r=e.getGeometryN(o);r.getEnvelopeInternal().intersects(t)?n.add(r):i.add(r)}return this._geomFactory.buildGeometry(n)}unionOptimized(t,e){const i=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!i.intersects(n))return ge.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);const o=i.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,o)}union(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();const t=new xn(Vr.STRTREE_NODE_CAPACITY);for(let e=this._inputPolys.iterator();e.hasNext();){const i=e.next();t.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;const e=t.itemsTree();return this.unionTree(e)}binaryUnion(){if(1===arguments.length){const t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];if(i-e<=1){const i=Vr.getGeometry(t,e);return this.unionSafe(i,null)}if(i-e==2)return this.unionSafe(Vr.getGeometry(t,e),Vr.getGeometry(t,e+1));{const n=Math.trunc((i+e)/2),o=this.binaryUnion(t,e,n),r=this.binaryUnion(t,n,i);return this.unionSafe(o,r)}}}repeatedUnion(t){let e=null;for(let i=t.iterator();i.hasNext();){const t=i.next();e=null===e?t.copy():e.union(t)}return e}unionSafe(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)}unionActual(t,e){return Vr.restrictToPolygons(t.union(e))}unionTree(t){const e=this.reduceToGeometries(t);return this.binaryUnion(e)}unionUsingEnvelopeIntersection(t,e,i){const n=new _,o=this.extractByEnvelope(i,t,n),r=this.extractByEnvelope(i,e,n),s=this.unionActual(o,r);return n.add(s),ge.combine(n)}bufferUnion(){if(1===arguments.length){const t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return t.getFactory().createGeometryCollection([t,e]).buffer(0)}}getClass(){return Vr}get interfaces_(){return[]}}Vr.constructor_=function(){this._inputPolys=null,this._geomFactory=null;const t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new _)},Vr.STRTREE_NODE_CAPACITY=4;class jr{constructor(){jr.constructor_.apply(this,arguments)}static union(){if(1===arguments.length){if(d(arguments[0],f)){const t=arguments[0];return new jr(t).union()}if(arguments[0]instanceof G){const t=arguments[0];return new jr(t).union()}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];return new jr(t,e).union()}}unionNoOpt(t){const e=this._geomFact.createPoint();return lr.overlayOp(t,e,cr.UNION)}unionWithNull(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)}extract(){if(d(arguments[0],f))for(let t=arguments[0].iterator();t.hasNext();){const e=t.next();this.extract(e)}else if(arguments[0]instanceof G){const t=arguments[0];null===this._geomFact&&(this._geomFact=t.getFactory()),de.extract(t,G.TYPENAME_POLYGON,this._polygons),de.extract(t,G.TYPENAME_LINESTRING,this._lines),de.extract(t,G.TYPENAME_POINT,this._points)}}union(){if(null===this._geomFact)return null;let t=null;if(this._points.size()>0){const e=this._geomFact.buildGeometry(this._points);t=this.unionNoOpt(e)}let e=null;if(this._lines.size()>0){const t=this._geomFact.buildGeometry(this._lines);e=this.unionNoOpt(t)}let i=null;this._polygons.size()>0&&(i=Vr.union(this._polygons));const n=this.unionWithNull(e,i);let o=null;return null===(o=null===t?n:null===n?t:zr.union(t,n))?this._geomFact.createGeometryCollection():o}getClass(){return jr}get interfaces_(){return[]}}jr.constructor_=function(){if(this._polygons=new _,this._lines=new _,this._points=new _,this._geomFact=null,1===arguments.length){if(d(arguments[0],f)){const t=arguments[0];this.extract(t)}else if(arguments[0]instanceof G){const t=arguments[0];this.extract(t)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._geomFact=e,this.extract(t)}};var Hr=Object.freeze({__proto__:null,UnaryUnionOp:jr}),Ur=Object.freeze({__proto__:null,IsValidOp:br,ConsistentAreaTester:Cr}),Wr=Object.freeze({__proto__:null,BoundaryOp:yt,IsSimpleOp:Yn,buffer:So,distance:Po,linemerge:Yo,overlay:ur,polygonize:Pr,relate:Br,union:Hr,valid:Ur});class Yr extends Ft.CoordinateOperation{constructor(){super(),Yr.constructor_.apply(this,arguments)}edit(){if(2===arguments.length&&arguments[1]instanceof G&&arguments[0]instanceof Array){const t=arguments[0],e=arguments[1];if(0===t.length)return null;const i=new Array(t.length).fill(null);for(let e=0;e<t.length;e++){const n=new p(t[e]);this._targetPM.makePrecise(n),i[e]=n}const n=new C(i,!1).toCoordinateArray();let o=0;e instanceof Mt&&(o=2),e instanceof Rt&&(o=4);let r=i;return this._removeCollapsed&&(r=null),n.length<o?r:n}return super.edit.apply(this,arguments)}getClass(){return Yr}get interfaces_(){return[]}}Yr.constructor_=function(){this._targetPM=null,this._removeCollapsed=!0;const t=arguments[0],e=arguments[1];this._targetPM=t,this._removeCollapsed=e};class Xr{constructor(){Xr.constructor_.apply(this,arguments)}static reduce(t,e){return new Xr(e).reduce(t)}static reducePointwise(t,e){const i=new Xr(e);return i.setPointwise(!0),i.reduce(t)}fixPolygonalTopology(t){let e=t;this._changePrecisionModel||(e=this.changePM(t,this._targetPM));const i=wo.bufferOp(e,0);let n=i;return this._changePrecisionModel||(n=t.getFactory().createGeometry(i)),n}reducePointwise(t){let e=null;if(this._changePrecisionModel){const i=this.createFactory(t.getFactory(),this._targetPM);e=new Ft(i)}else e=new Ft;let i=this._removeCollapsed;return t.getDimension()>=2&&(i=!0),e.edit(t,new Yr(this._targetPM,i))}changePM(t,e){return this.createEditor(t.getFactory(),e).edit(t,new Ft.NoOpGeometryOperation)}setRemoveCollapsedComponents(t){this._removeCollapsed=t}createFactory(t,e){return new Yt(e,t.getSRID(),t.getCoordinateSequenceFactory())}setChangePrecisionModel(t){this._changePrecisionModel=t}reduce(t){const e=this.reducePointwise(t);return this._isPointwise?e:d(e,Lt)?br.isValid(e)?e:this.fixPolygonalTopology(e):e}setPointwise(t){this._isPointwise=t}createEditor(t,e){if(t.getPrecisionModel()===e)return new Ft;const i=this.createFactory(t,e);return new Ft(i)}getClass(){return Xr}get interfaces_(){return[]}}Xr.constructor_=function(){this._targetPM=null,this._removeCollapsed=!0,this._changePrecisionModel=!1,this._isPointwise=!1;const t=arguments[0];this._targetPM=t};var Zr=Object.freeze({__proto__:null,GeometryPrecisionReducer:Xr});class qr{constructor(){qr.constructor_.apply(this,arguments)}static simplify(t,e){const i=new qr(t);return i.setDistanceTolerance(e),i.simplify()}simplifySection(t,e){if(t+1===e)return null;this._seg.p0=this._pts[t],this._seg.p1=this._pts[e];let i=-1,n=t;for(let o=t+1;o<e;o++){const t=this._seg.distance(this._pts[o]);t>i&&(i=t,n=o)}if(i<=this._distanceTolerance)for(let i=t+1;i<e;i++)this._usePt[i]=!1;else this.simplifySection(t,n),this.simplifySection(n,e)}setDistanceTolerance(t){this._distanceTolerance=t}simplify(){this._usePt=new Array(this._pts.length).fill(null);for(let t=0;t<this._pts.length;t++)this._usePt[t]=!0;this.simplifySection(0,this._pts.length-1);const t=new C;for(let e=0;e<this._pts.length;e++)this._usePt[e]&&t.add(new p(this._pts[e]));return t.toCoordinateArray()}getClass(){return qr}get interfaces_(){return[]}}qr.constructor_=function(){this._pts=null,this._usePt=null,this._distanceTolerance=null,this._seg=new ee;const t=arguments[0];this._pts=t};class Kr{constructor(){Kr.constructor_.apply(this,arguments)}static simplify(t,e){const i=new Kr(t);return i.setDistanceTolerance(e),i.getResultGeometry()}setEnsureValid(t){this._isEnsureValidTopology=t}getResultGeometry(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new Jr(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)}setDistanceTolerance(t){if(t<0)throw new i("Tolerance must be non-negative");this._distanceTolerance=t}getClass(){return Kr}get interfaces_(){return[]}}class Jr extends me{constructor(){super(),Jr.constructor_.apply(this,arguments)}transformPolygon(t,e){if(t.isEmpty())return null;const i=super.transformPolygon.call(this,t,e);return e instanceof Ot?i:this.createValidArea(i)}createValidArea(t){return this._isEnsureValidTopology?t.buffer(0):t}transformCoordinates(t,e){const i=t.toCoordinateArray();let n=null;return n=0===i.length?new Array(0).fill(null):qr.simplify(i,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(n)}transformMultiPolygon(t,e){const i=super.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)}transformLinearRing(t,e){const i=e instanceof Nt,n=super.transformLinearRing.call(this,t,e);return!i||n instanceof Rt?n:null}getClass(){return Jr}get interfaces_(){return[]}}Jr.constructor_=function(){this._isEnsureValidTopology=!0,this._distanceTolerance=null;const t=arguments[0],e=arguments[1];this._isEnsureValidTopology=t,this._distanceTolerance=e},Kr.DPTransformer=Jr,Kr.constructor_=function(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;const t=arguments[0];this._inputGeom=t};class Qr extends ee{constructor(){super(),Qr.constructor_.apply(this,arguments)}getIndex(){return this._index}getParent(){return this._parent}getClass(){return Qr}get interfaces_(){return[]}}Qr.constructor_=function(){if(this._parent=null,this._index=null,2===arguments.length){const t=arguments[0],e=arguments[1];Qr.constructor_.call(this,t,e,null,-1)}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];ee.constructor_.call(this,t,e),this._parent=i,this._index=n}};class $r{constructor(){$r.constructor_.apply(this,arguments)}static extractCoordinates(t){const e=new Array(t.size()+1).fill(null);let i=null;for(let n=0;n<t.size();n++)i=t.get(n),e[n]=i.p0;return e[e.length-1]=i.p1,e}addToResult(t){this._resultSegs.add(t)}asLineString(){return this._parentLine.getFactory().createLineString($r.extractCoordinates(this._resultSegs))}getResultSize(){const t=this._resultSegs.size();return 0===t?0:t+1}getParent(){return this._parentLine}getSegment(t){return this._segs[t]}getParentCoordinates(){return this._parentLine.getCoordinates()}getMinimumSize(){return this._minimumSize}asLinearRing(){return this._parentLine.getFactory().createLinearRing($r.extractCoordinates(this._resultSegs))}getSegments(){return this._segs}init(){const t=this._parentLine.getCoordinates();this._segs=new Array(t.length-1).fill(null);for(let e=0;e<t.length-1;e++){const i=new Qr(t[e],t[e+1],this._parentLine,e);this._segs[e]=i}}getResultCoordinates(){return $r.extractCoordinates(this._resultSegs)}getClass(){return $r}get interfaces_(){return[]}}$r.constructor_=function(){if(this._parentLine=null,this._segs=null,this._resultSegs=new _,this._minimumSize=null,1===arguments.length){const t=arguments[0];$r.constructor_.call(this,t,2)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._parentLine=t,this._minimumSize=e,this.init()}};class ts{constructor(){ts.constructor_.apply(this,arguments)}remove(t){this._index.remove(new I(t.p0,t.p1),t)}add(){if(arguments[0]instanceof $r){const t=arguments[0].getSegments();for(let e=0;e<t.length;e++){const i=t[e];this.add(i)}}else if(arguments[0]instanceof ee){const t=arguments[0];this._index.insert(new I(t.p0,t.p1),t)}}query(t){const e=new I(t.p0,t.p1),i=new es(t);return this._index.query(e,i),i.getItems()}getClass(){return ts}get interfaces_(){return[]}}ts.constructor_=function(){this._index=new un};class es{constructor(){es.constructor_.apply(this,arguments)}visitItem(t){const e=t;I.intersects(e.p0,e.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(t)}getItems(){return this._items}getClass(){return es}get interfaces_(){return[Oe]}}es.constructor_=function(){this._querySeg=null,this._items=new _;const t=arguments[0];this._querySeg=t};class is{constructor(){is.constructor_.apply(this,arguments)}static isInLineSection(t,e,i){if(i.getParent()!==t.getParent())return!1;const n=i.getIndex();return n>=e[0]&&n<e[1]}flatten(t,e){const i=this._linePts[t],n=this._linePts[e],o=new ee(i,n);return this.remove(this._line,t,e),this._outputIndex.add(o),o}hasBadIntersection(t,e,i){return!!this.hasBadOutputIntersection(i)||!!this.hasBadInputIntersection(t,e,i)}setDistanceTolerance(t){this._distanceTolerance=t}simplifySection(t,e,i){i+=1;const n=new Array(2).fill(null);if(t+1===e){const e=this._line.getSegment(t);return this._line.addToResult(e),null}let o=!0;this._line.getResultSize()<this._line.getMinimumSize()&&i+1<this._line.getMinimumSize()&&(o=!1);const r=new Array(1).fill(null),s=this.findFurthestPoint(this._linePts,t,e,r);r[0]>this._distanceTolerance&&(o=!1);const a=new ee;if(a.p0=this._linePts[t],a.p1=this._linePts[e],n[0]=t,n[1]=e,this.hasBadIntersection(this._line,n,a)&&(o=!1),o){const i=this.flatten(t,e);return this._line.addToResult(i),null}this.simplifySection(t,s,i),this.simplifySection(s,e,i)}hasBadOutputIntersection(t){for(let e=this._outputIndex.query(t).iterator();e.hasNext();){const i=e.next();if(this.hasInteriorIntersection(i,t))return!0}return!1}findFurthestPoint(t,e,i,n){const o=new ee;o.p0=t[e],o.p1=t[i];let r=-1,s=e;for(let n=e+1;n<i;n++){const e=t[n],i=o.distance(e);i>r&&(r=i,s=n)}return n[0]=r,s}simplify(t){this._line=t,this._linePts=t.getParentCoordinates(),this.simplifySection(0,this._linePts.length-1,0)}remove(t,e,i){for(let n=e;n<i;n++){const e=t.getSegment(n);this._inputIndex.remove(e)}}hasInteriorIntersection(t,e){return this._li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this._li.isInteriorIntersection()}hasBadInputIntersection(t,e,i){for(let n=this._inputIndex.query(i).iterator();n.hasNext();){const o=n.next();if(this.hasInteriorIntersection(o,i)){if(is.isInLineSection(t,e,o))continue;return!0}}return!1}getClass(){return is}get interfaces_(){return[]}}is.constructor_=function(){this._li=new te,this._inputIndex=new ts,this._outputIndex=new ts,this._line=null,this._linePts=null,this._distanceTolerance=0;const t=arguments[0],e=arguments[1];this._inputIndex=t,this._outputIndex=e};class ns{constructor(){ns.constructor_.apply(this,arguments)}setDistanceTolerance(t){this._distanceTolerance=t}simplify(t){for(let e=t.iterator();e.hasNext();)this._inputIndex.add(e.next());for(let e=t.iterator();e.hasNext();){const t=new is(this._inputIndex,this._outputIndex);t.setDistanceTolerance(this._distanceTolerance),t.simplify(e.next())}}getClass(){return ns}get interfaces_(){return[]}}ns.constructor_=function(){this._inputIndex=new ts,this._outputIndex=new ts,this._distanceTolerance=0};class os{constructor(){os.constructor_.apply(this,arguments)}static simplify(t,e){const i=new os(t);return i.setDistanceTolerance(e),i.getResultGeometry()}getResultGeometry(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(this._linestringMap=new Ht,this._inputGeom.apply(new ss(this)),this._lineSimplifier.simplify(this._linestringMap.values()),new rs(this._linestringMap).transform(this._inputGeom))}setDistanceTolerance(t){if(t<0)throw new i("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(t)}getClass(){return os}get interfaces_(){return[]}}class rs extends me{constructor(){super(),rs.constructor_.apply(this,arguments)}transformCoordinates(t,e){if(0===t.size())return null;if(e instanceof Mt){const t=this._linestringMap.get(e);return this.createCoordinateSequence(t.getResultCoordinates())}return super.transformCoordinates.call(this,t,e)}getClass(){return rs}get interfaces_(){return[]}}rs.constructor_=function(){this._linestringMap=null;const t=arguments[0];this._linestringMap=t};class ss{constructor(){ss.constructor_.apply(this,arguments)}filter(t){if(t instanceof Mt){const e=t;if(e.isEmpty())return null;const i=e.isClosed()?4:2,n=new $r(e,i);this.tps._linestringMap.put(e,n)}}getClass(){return ss}get interfaces_(){return[k]}}ss.constructor_=function(){this.tps=null;const t=arguments[0];this.tps=t},os.LineStringTransformer=rs,os.LineStringMapBuilderFilter=ss,os.constructor_=function(){this._inputGeom=null,this._lineSimplifier=new ns,this._linestringMap=null;const t=arguments[0];this._inputGeom=t};class as{constructor(){as.constructor_.apply(this,arguments)}static simplify(t,e){return new as(t,e).simplify()}simplifyVertex(t){let e=t,i=e.getArea(),n=null;for(;null!==e;){const t=e.getArea();t<i&&(i=t,n=e),e=e._next}return null!==n&&i<this._tolerance&&n.remove(),t.isLive()?i:-1}simplify(){const t=ls.buildLine(this._pts);let e=this._tolerance;do{e=this.simplifyVertex(t)}while(e<this._tolerance);const i=t.getCoordinates();return i.length<2?[i[0],new p(i[0])]:i}getClass(){return as}get interfaces_(){return[]}}class ls{constructor(){ls.constructor_.apply(this,arguments)}static buildLine(t){let e=null,i=null;for(let n=0;n<t.length;n++){const o=new ls(t[n]);null===e&&(e=o),o.setPrev(i),null!==i&&(i.setNext(o),i.updateArea()),i=o}return e}getCoordinates(){const t=new C;let e=this;do{t.add(e._pt,!1),e=e._next}while(null!==e);return t.toCoordinateArray()}getArea(){return this._area}updateArea(){if(null===this._prev||null===this._next)return this._area=ls.MAX_AREA,null;this._area=Math.abs(re.area(this._prev._pt,this._pt,this._next._pt))}remove(){const t=this._prev,e=this._next;let i=null;return null!==this._prev&&(this._prev.setNext(e),this._prev.updateArea(),i=this._prev),null!==this._next&&(this._next.setPrev(t),this._next.updateArea(),null===i&&(i=this._next)),this._isLive=!1,i}isLive(){return this._isLive}setPrev(t){this._prev=t}setNext(t){this._next=t}getClass(){return ls}get interfaces_(){return[]}}ls.constructor_=function(){this._pt=null,this._prev=null,this._next=null,this._area=ls.MAX_AREA,this._isLive=!0;const t=arguments[0];this._pt=t},ls.MAX_AREA=o.MAX_VALUE,as.VWVertex=ls,as.constructor_=function(){this._pts=null,this._tolerance=null;const t=arguments[0],e=arguments[1];this._pts=t,this._tolerance=e*e};class hs{constructor(){hs.constructor_.apply(this,arguments)}static simplify(t,e){const i=new hs(t);return i.setDistanceTolerance(e),i.getResultGeometry()}setEnsureValid(t){this._isEnsureValidTopology=t}getResultGeometry(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new cs(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)}setDistanceTolerance(t){if(t<0)throw new i("Tolerance must be non-negative");this._distanceTolerance=t}getClass(){return hs}get interfaces_(){return[]}}class cs extends me{constructor(){super(),cs.constructor_.apply(this,arguments)}transformPolygon(t,e){if(t.isEmpty())return null;const i=super.transformPolygon.call(this,t,e);return e instanceof Ot?i:this.createValidArea(i)}createValidArea(t){return this._isEnsureValidTopology?t.buffer(0):t}transformCoordinates(t,e){const i=t.toCoordinateArray();let n=null;return n=0===i.length?new Array(0).fill(null):as.simplify(i,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(n)}transformMultiPolygon(t,e){const i=super.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)}transformLinearRing(t,e){const i=e instanceof Nt,n=super.transformLinearRing.call(this,t,e);return!i||n instanceof Rt?n:null}getClass(){return cs}get interfaces_(){return[]}}cs.constructor_=function(){this._isEnsureValidTopology=!0,this._distanceTolerance=null;const t=arguments[0],e=arguments[1];this._isEnsureValidTopology=t,this._distanceTolerance=e},hs.VWTransformer=cs,hs.constructor_=function(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;const t=arguments[0];this._inputGeom=t};var us=Object.freeze({__proto__:null,DouglasPeuckerSimplifier:Kr,TopologyPreservingSimplifier:os,VWSimplifier:hs});class ps{constructor(){ps.constructor_.apply(this,arguments)}static pointAlongReverse(t,e){const i=new p;return i.x=t.p1.x-e*(t.p1.x-t.p0.x),i.y=t.p1.y-e*(t.p1.y-t.p0.y),i}splitAt(){if(1===arguments.length){const t=arguments[0],e=this._minimumLen/this._segLen;if(t.distance(this._seg.p0)<this._minimumLen)return this._splitPt=this._seg.pointAlong(e),null;if(t.distance(this._seg.p1)<this._minimumLen)return this._splitPt=ps.pointAlongReverse(this._seg,e),null;this._splitPt=t}else if(2===arguments.length){const t=arguments[0],e=arguments[1],i=this.getConstrainedLength(t)/this._segLen;e.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(i):this._splitPt=ps.pointAlongReverse(this._seg,i)}}setMinimumLength(t){this._minimumLen=t}getConstrainedLength(t){return t<this._minimumLen?this._minimumLen:t}getSplitPoint(){return this._splitPt}getClass(){return ps}get interfaces_(){return[]}}ps.constructor_=function(){this._seg=null,this._segLen=null,this._splitPt=null,this._minimumLen=0;const t=arguments[0];this._seg=t,this._segLen=t.getLength()};class gs{constructor(){gs.constructor_.apply(this,arguments)}findSplitPoint(t,e){}getClass(){return gs}get interfaces_(){return[]}}gs.constructor_=function(){};class ds{constructor(){ds.constructor_.apply(this,arguments)}static projectedSplitPoint(t,e){return t.getLineSegment().project(e)}findSplitPoint(t,e){const i=t.getLineSegment(),n=i.getLength()/2,o=new ps(i),r=ds.projectedSplitPoint(t,e);let s=2*r.distance(e)*.8;return s>n&&(s=n),o.setMinimumLength(s),o.splitAt(r),o.getSplitPoint()}getClass(){return ds}get interfaces_(){return[gs]}}ds.constructor_=function(){};class fs{constructor(){fs.constructor_.apply(this,arguments)}static triArea(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)}static isInCircleDDNormalized(t,e,i,n){const o=E.valueOf(t.x).selfSubtract(n.x),r=E.valueOf(t.y).selfSubtract(n.y),s=E.valueOf(e.x).selfSubtract(n.x),a=E.valueOf(e.y).selfSubtract(n.y),l=E.valueOf(i.x).selfSubtract(n.x),h=E.valueOf(i.y).selfSubtract(n.y),c=o.multiply(a).selfSubtract(s.multiply(r)),u=s.multiply(h).selfSubtract(l.multiply(a)),p=l.multiply(r).selfSubtract(o.multiply(h)),g=o.multiply(o).selfAdd(r.multiply(r)),d=s.multiply(s).selfAdd(a.multiply(a)),f=l.multiply(l).selfAdd(h.multiply(h));return g.selfMultiply(u).selfAdd(d.selfMultiply(p)).selfAdd(f.selfMultiply(c)).doubleValue()>0}static checkRobustInCircle(t,e,i,n){const o=fs.isInCircleNonRobust(t,e,i,n),r=fs.isInCircleDDSlow(t,e,i,n),s=fs.isInCircleCC(t,e,i,n),a=re.circumcentre(t,e,i);L.out.println("p radius diff a = "+Math.abs(n.distance(a)-t.distance(a))/t.distance(a)),o===r&&o===s||(L.out.println("inCircle robustness failure (double result = "+o+", DD result = "+r+", CC result = "+s+")"),L.out.println(Qt.toLineString(new Vt([t,e,i,n]))),L.out.println("Circumcentre = "+Qt.toPoint(a)+" radius = "+t.distance(a)),L.out.println("p radius diff a = "+Math.abs(n.distance(a)/t.distance(a)-1)),L.out.println("p radius diff b = "+Math.abs(n.distance(a)/e.distance(a)-1)),L.out.println("p radius diff c = "+Math.abs(n.distance(a)/i.distance(a)-1)),L.out.println())}static isInCircleDDFast(t,e,i,n){const o=E.sqr(t.x).selfAdd(E.sqr(t.y)).selfMultiply(fs.triAreaDDFast(e,i,n)),r=E.sqr(e.x).selfAdd(E.sqr(e.y)).selfMultiply(fs.triAreaDDFast(t,i,n)),s=E.sqr(i.x).selfAdd(E.sqr(i.y)).selfMultiply(fs.triAreaDDFast(t,e,n)),a=E.sqr(n.x).selfAdd(E.sqr(n.y)).selfMultiply(fs.triAreaDDFast(t,e,i));return o.selfSubtract(r).selfAdd(s).selfSubtract(a).doubleValue()>0}static isInCircleCC(t,e,i,n){const o=re.circumcentre(t,e,i),r=t.distance(o);return n.distance(o)-r<=0}static isInCircleNormalized(t,e,i,n){const o=t.x-n.x,r=t.y-n.y,s=e.x-n.x,a=e.y-n.y,l=i.x-n.x,h=i.y-n.y;return(o*o+r*r)*(s*h-l*a)+(s*s+a*a)*(l*r-o*h)+(l*l+h*h)*(o*a-s*r)>0}static isInCircleDDSlow(t,e,i,n){const o=E.valueOf(n.x),r=E.valueOf(n.y),s=E.valueOf(t.x),a=E.valueOf(t.y),l=E.valueOf(e.x),h=E.valueOf(e.y),c=E.valueOf(i.x),u=E.valueOf(i.y),p=s.multiply(s).add(a.multiply(a)).multiply(fs.triAreaDDSlow(l,h,c,u,o,r)),g=l.multiply(l).add(h.multiply(h)).multiply(fs.triAreaDDSlow(s,a,c,u,o,r)),d=c.multiply(c).add(u.multiply(u)).multiply(fs.triAreaDDSlow(s,a,l,h,o,r)),f=o.multiply(o).add(r.multiply(r)).multiply(fs.triAreaDDSlow(s,a,l,h,c,u));return p.subtract(g).add(d).subtract(f).doubleValue()>0}static isInCircleNonRobust(t,e,i,n){return(t.x*t.x+t.y*t.y)*fs.triArea(e,i,n)-(e.x*e.x+e.y*e.y)*fs.triArea(t,i,n)+(i.x*i.x+i.y*i.y)*fs.triArea(t,e,n)-(n.x*n.x+n.y*n.y)*fs.triArea(t,e,i)>0}static isInCircleRobust(t,e,i,n){return fs.isInCircleNormalized(t,e,i,n)}static triAreaDDSlow(t,e,i,n,o,r){return i.subtract(t).multiply(r.subtract(e)).subtract(n.subtract(e).multiply(o.subtract(t)))}static triAreaDDFast(t,e,i){const n=E.valueOf(e.x).selfSubtract(t.x).selfMultiply(E.valueOf(i.y).selfSubtract(t.y)),o=E.valueOf(e.y).selfSubtract(t.y).selfMultiply(E.valueOf(i.x).selfSubtract(t.x));return n.selfSubtract(o)}getClass(){return fs}get interfaces_(){return[]}}fs.constructor_=function(){};class ys{constructor(){ys.constructor_.apply(this,arguments)}static interpolateZ(){if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=e.distance(i),o=t.distance(e),r=i.z-e.z;return e.z+r*(o/n)}if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=e.x,r=e.y,s=i.x-o,a=n.x-o,l=i.y-r,h=n.y-r,c=s*h-a*l,u=t.x-o,p=t.y-r,g=(h*u-a*p)/c,d=(-l*u+s*p)/c;return e.z+g*(i.z-e.z)+d*(n.z-e.z)}}circleCenter(t,e){const i=new ys(this.getX(),this.getY()),n=this.bisector(i,t),o=this.bisector(t,e),r=new N(n,o);let s=null;try{s=new ys(r.getX(),r.getY())}catch(n){if(!(n instanceof b))throw n;L.err.println("a: "+i+"  b: "+t+"  c: "+e),L.err.println(n)}return s}dot(t){return this._p.x*t.getX()+this._p.y*t.getY()}magn(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)}getZ(){return this._p.z}bisector(t,e){const i=e.getX()-t.getX(),n=e.getY()-t.getY(),o=new N(t.getX()+i/2,t.getY()+n/2,1),r=new N(t.getX()-n+i/2,t.getY()+i+n/2,1);return new N(o,r)}equals(){if(1===arguments.length){const t=arguments[0];return this._p.x===t.getX()&&this._p.y===t.getY()}if(2===arguments.length){const t=arguments[0],e=arguments[1];return this._p.distance(t.getCoordinate())<e}}getCoordinate(){return this._p}isInCircle(t,e,i){return fs.isInCircleRobust(t._p,e._p,i._p,this._p)}interpolateZValue(t,e,i){const n=t.getX(),o=t.getY(),r=e.getX()-n,s=i.getX()-n,a=e.getY()-o,l=i.getY()-o,h=r*l-s*a,c=this.getX()-n,u=this.getY()-o,p=(l*c-s*u)/h,g=(-a*c+r*u)/h;return t.getZ()+p*(e.getZ()-t.getZ())+g*(i.getZ()-t.getZ())}midPoint(t){const e=(this._p.x+t.getX())/2,i=(this._p.y+t.getY())/2,n=(this._p.z+t.getZ())/2;return new ys(e,i,n)}rightOf(t){return this.isCCW(t.dest(),t.orig())}isCCW(t,e){return(t._p.x-this._p.x)*(e._p.y-this._p.y)-(t._p.y-this._p.y)*(e._p.x-this._p.x)>0}getX(){return this._p.x}crossProduct(t){return this._p.x*t.getY()-this._p.y*t.getX()}setZ(t){this._p.z=t}times(t){return new ys(t*this._p.x,t*this._p.y)}cross(){return new ys(this._p.y,-this._p.x)}leftOf(t){return this.isCCW(t.orig(),t.dest())}toString(){return"POINT ("+this._p.x+" "+this._p.y+")"}sub(t){return new ys(this._p.x-t.getX(),this._p.y-t.getY())}getY(){return this._p.y}classify(t,e){const i=e.sub(t),n=this.sub(t),o=i.crossProduct(n);return o>0?ys.LEFT:o<0?ys.RIGHT:i.getX()*n.getX()<0||i.getY()*n.getY()<0?ys.BEHIND:i.magn()<n.magn()?ys.BEYOND:t.equals(this)?ys.ORIGIN:e.equals(this)?ys.DESTINATION:ys.BETWEEN}sum(t){return new ys(this._p.x+t.getX(),this._p.y+t.getY())}distance(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))}circumRadiusRatio(t,e){const i=this.circleCenter(t,e),n=this.distance(i,t);let o=this.distance(this,t),r=this.distance(t,e);return r<o&&(o=r),(r=this.distance(e,this))<o&&(o=r),n/o}getClass(){return ys}get interfaces_(){return[]}}ys.constructor_=function(){if(this._p=null,1===arguments.length){const t=arguments[0];this._p=new p(t)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];this._p=new p(t,e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._p=new p(t,e,i)}},ys.LEFT=0,ys.RIGHT=1,ys.BEYOND=2,ys.BEHIND=3,ys.BETWEEN=4,ys.ORIGIN=5,ys.DESTINATION=6;class ms extends ys{constructor(){super(),ms.constructor_.apply(this,arguments)}getConstraint(){return this._constraint}setOnConstraint(t){this._isOnConstraint=t}merge(t){t._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=t._constraint)}isOnConstraint(){return this._isOnConstraint}setConstraint(t){this._isOnConstraint=!0,this._constraint=t}getClass(){return ms}get interfaces_(){return[]}}ms.constructor_=function(){this._isOnConstraint=null,this._constraint=null;const t=arguments[0];ys.constructor_.call(this,t)};class vs{constructor(){vs.constructor_.apply(this,arguments)}static makeEdge(t,e){const i=new vs,n=new vs,o=new vs,r=new vs;i._rot=n,n._rot=o,o._rot=r,r._rot=i,i.setNext(i),n.setNext(r),o.setNext(o),r.setNext(n);const s=i;return s.setOrig(t),s.setDest(e),s}static swap(t){const e=t.oPrev(),i=t.sym().oPrev();vs.splice(t,e),vs.splice(t.sym(),i),vs.splice(t,e.lNext()),vs.splice(t.sym(),i.lNext()),t.setOrig(e.dest()),t.setDest(i.dest())}static splice(t,e){const i=t.oNext().rot(),n=e.oNext().rot(),o=e.oNext(),r=t.oNext(),s=n.oNext(),a=i.oNext();t.setNext(o),e.setNext(r),i.setNext(s),n.setNext(a)}static connect(t,e){const i=vs.makeEdge(t.dest(),e.orig());return vs.splice(i,t.lNext()),vs.splice(i.sym(),e),i}equalsNonOriented(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())}toLineSegment(){return new ee(this._vertex.getCoordinate(),this.dest().getCoordinate())}dest(){return this.sym().orig()}oNext(){return this._next}equalsOriented(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))}dNext(){return this.sym().oNext().sym()}lPrev(){return this._next.sym()}rPrev(){return this.sym().oNext()}rot(){return this._rot}oPrev(){return this._rot._next._rot}sym(){return this._rot._rot}setOrig(t){this._vertex=t}lNext(){return this.invRot().oNext().rot()}getLength(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())}invRot(){return this._rot.sym()}setDest(t){this.sym().setOrig(t)}setData(t){this._data=t}getData(){return this._data}delete(){this._rot=null}orig(){return this._vertex}rNext(){return this._rot._next.invRot()}toString(){const t=this._vertex.getCoordinate(),e=this.dest().getCoordinate();return Qt.toLineString(t,e)}isLive(){return null!==this._rot}getPrimary(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()}dPrev(){return this.invRot().oNext().invRot()}setNext(t){this._next=t}getClass(){return vs}get interfaces_(){return[]}}vs.constructor_=function(){this._rot=null,this._vertex=null,this._next=null,this._data=null};class _s{constructor(){_s.constructor_.apply(this,arguments)}insertSite(t){let e=this._subdiv.locate(t);if(this._subdiv.isVertexOfEdge(e,t))return e;this._subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this._subdiv.delete(e.oNext()));let i=this._subdiv.makeEdge(e.orig(),t);vs.splice(i,e);const n=i;do{e=(i=this._subdiv.connect(e,i.sym())).oPrev()}while(e.lNext()!==n);for(;;){const o=e.oPrev();if(o.dest().rightOf(e)&&t.isInCircle(e.orig(),o.dest(),e.dest()))vs.swap(e),e=e.oPrev();else{if(e.oNext()===n)return i;e=e.oNext().lPrev()}}}insertSites(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this.insertSite(t)}}getClass(){return _s}get interfaces_(){return[]}}_s.constructor_=function(){this._subdiv=null,this._isUsingTolerance=!1;const t=arguments[0];this._subdiv=t,this._isUsingTolerance=t.getTolerance()>0};class xs{constructor(){xs.constructor_.apply(this,arguments)}locate(t){}getClass(){return xs}get interfaces_(){return[]}}xs.constructor_=function(){};class Cs{constructor(){Cs.constructor_.apply(this,arguments)}init(){this._lastEdge=this.findEdge()}locate(t){this._lastEdge.isLive()||this.init();const e=this._subdiv.locateFromEdge(t,this._lastEdge);return this._lastEdge=e,e}findEdge(){return this._subdiv.getEdges().iterator().next()}getClass(){return Cs}get interfaces_(){return[xs]}}Cs.constructor_=function(){this._subdiv=null,this._lastEdge=null;const t=arguments[0];this._subdiv=t,this.init()};class Is extends h{constructor(){super(),Is.constructor_.apply(this,arguments)}static msgWithSpatial(t,e){return null!==e?t+" [ "+e+" ]":t}getSegment(){return this._seg}getClass(){return Is}get interfaces_(){return[]}}Is.constructor_=function(){if(this._seg=null,1===arguments.length){if("string"==typeof arguments[0]){const t=arguments[0];h.constructor_.call(this,t)}else if(arguments[0]instanceof ee){const t=arguments[0];h.constructor_.call(this,"Locate failed to converge (at edge: "+t+").  Possible causes include invalid Subdivision topology or very close sites"),this._seg=new ee(t)}}else if(2===arguments.length){const t=arguments[0],e=arguments[1];h.constructor_.call(this,Is.msgWithSpatial(t,e)),this._seg=new ee(e)}};class As{constructor(){As.constructor_.apply(this,arguments)}visit(t){}getClass(){return As}get interfaces_(){return[]}}As.constructor_=function(){};class bs{constructor(){bs.constructor_.apply(this,arguments)}static getTriangleEdges(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new i("Edges do not form a triangle")}getTriangleVertices(t){const e=new Ms;return this.visitTriangles(e,t),e.getTriangleVertices()}isFrameVertex(t){return!!t.equals(this._frameVertex[0])||!!t.equals(this._frameVertex[1])||!!t.equals(this._frameVertex[2])}isVertexOfEdge(t,e){return!(!e.equals(t.orig(),this._tolerance)&&!e.equals(t.dest(),this._tolerance))}connect(t,e){const i=vs.connect(t,e);return this._quadEdges.add(i),i}getVoronoiCellPolygon(t,e){const i=new _,n=t;do{const e=t.rot().orig().getCoordinate();i.add(e),t=t.oPrev()}while(t!==n);const o=new C;o.addAll(i,!1),o.closeRing(),o.size()<4&&(L.out.println(o),o.add(o.get(o.size()-1),!0));const r=o.toCoordinateArray(),s=e.createPolygon(e.createLinearRing(r)),a=n.orig();return s.setUserData(a.getCoordinate()),s}setLocator(t){this._locator=t}initSubdiv(){const t=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),e=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);vs.splice(t.sym(),e);const i=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);return vs.splice(e.sym(),i),vs.splice(i.sym(),t),t}isFrameBorderEdge(t){const e=new Array(3).fill(null);bs.getTriangleEdges(t,e);const i=new Array(3).fill(null);bs.getTriangleEdges(t.sym(),i);const n=t.lNext().dest();if(this.isFrameVertex(n))return!0;const o=t.sym().lNext().dest();return!!this.isFrameVertex(o)}makeEdge(t,e){const i=vs.makeEdge(t,e);return this._quadEdges.add(i),i}visitTriangles(t,e){this._visitedKey++;const i=new ri;i.push(this._startingEdge);const n=new Q;for(;!i.empty();){const o=i.pop();if(!n.contains(o)){const r=this.fetchTriangleToVisit(o,i,e,n);null!==r&&t.visit(r)}}}isFrameEdge(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))}isOnEdge(t,e){return this._seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this._seg.distance(e)<this._edgeCoincidenceTolerance}getEnvelope(){return new I(this._frameEnv)}createFrame(t){const e=t.getWidth(),i=t.getHeight();let n=0;n=e>i?10*e:10*i,this._frameVertex[0]=new ys((t.getMaxX()+t.getMinX())/2,t.getMaxY()+n),this._frameVertex[1]=new ys(t.getMinX()-n,t.getMinY()-n),this._frameVertex[2]=new ys(t.getMaxX()+n,t.getMinY()-n),this._frameEnv=new I(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate()),this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())}getTriangleCoordinates(t){const e=new Es;return this.visitTriangles(e,t),e.getTriangles()}getVertices(t){const e=new Q;for(let i=this._quadEdges.iterator();i.hasNext();){const n=i.next(),o=n.orig();!t&&this.isFrameVertex(o)||e.add(o);const r=n.dest();!t&&this.isFrameVertex(r)||e.add(r)}return e}fetchTriangleToVisit(t,e,i,n){let o=t,r=0,s=!1;do{this._triEdges[r]=o,this.isFrameEdge(o)&&(s=!0);const t=o.sym();n.contains(t)||e.push(t),n.add(o),r++,o=o.lNext()}while(o!==t);return s&&!i?null:this._triEdges}getEdges(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){const t=arguments[0],e=this.getPrimaryEdges(!1),i=new Array(e.size()).fill(null);let n=0;for(let o=e.iterator();o.hasNext();){const e=o.next();i[n++]=t.createLineString([e.orig().getCoordinate(),e.dest().getCoordinate()])}return t.createMultiLineString(i)}}getVertexUniqueEdges(t){const e=new _,i=new Q;for(let n=this._quadEdges.iterator();n.hasNext();){const o=n.next(),r=o.orig();i.contains(r)||(i.add(r),!t&&this.isFrameVertex(r)||e.add(o));const s=o.sym(),a=s.orig();i.contains(a)||(i.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e}getTriangleEdges(t){const e=new Ss;return this.visitTriangles(e,t),e.getTriangleEdges()}getPrimaryEdges(t){this._visitedKey++;const e=new _,i=new ri;i.push(this._startingEdge);const n=new Q;for(;!i.empty();){const o=i.pop();if(!n.contains(o)){const r=o.getPrimary();!t&&this.isFrameEdge(r)||e.add(r),i.push(o.oNext()),i.push(o.sym().oNext()),n.add(o),n.add(o.sym())}}return e}delete(t){vs.splice(t,t.oPrev()),vs.splice(t.sym(),t.sym().oPrev());const e=t.sym(),i=t.rot(),n=t.rot().sym();this._quadEdges.remove(t),this._quadEdges.remove(e),this._quadEdges.remove(i),this._quadEdges.remove(n),t.delete(),e.delete(),i.delete(),n.delete()}locateFromEdge(t,e){let i=0;const n=this._quadEdges.size();let o=e;for(;;){if(++i>n)throw new Is(o.toLineSegment());if(t.equals(o.orig())||t.equals(o.dest()))break;if(t.rightOf(o))o=o.sym();else if(t.rightOf(o.oNext())){if(t.rightOf(o.dPrev()))break;o=o.dPrev()}else o=o.oNext()}return o}getTolerance(){return this._tolerance}getVoronoiCellPolygons(t){this.visitTriangles(new ws,!0);const e=new _;for(let i=this.getVertexUniqueEdges(!1).iterator();i.hasNext();){const n=i.next();e.add(this.getVoronoiCellPolygon(n,t))}return e}getVoronoiDiagram(t){const e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Yt.toGeometryArray(e))}getTriangles(t){const e=this.getTriangleCoordinates(!1),i=new Array(e.size()).fill(null);let n=0;for(let o=e.iterator();o.hasNext();){const e=o.next();i[n++]=t.createPolygon(t.createLinearRing(e))}return t.createGeometryCollection(i)}insertSite(t){let e=this.locate(t);if(t.equals(e.orig(),this._tolerance)||t.equals(e.dest(),this._tolerance))return e;let i=this.makeEdge(e.orig(),t);vs.splice(i,e);const n=i;do{e=(i=this.connect(e,i.sym())).oPrev()}while(e.lNext()!==n);return n}locate(){if(1===arguments.length){if(arguments[0]instanceof ys){const t=arguments[0];return this._locator.locate(t)}if(arguments[0]instanceof p){const t=arguments[0];return this._locator.locate(new ys(t))}}else if(2===arguments.length){const t=arguments[0],e=arguments[1],i=this._locator.locate(new ys(t));if(null===i)return null;let n=i;i.dest().getCoordinate().equals2D(t)&&(n=i.sym());let o=n;do{if(o.dest().getCoordinate().equals2D(e))return o;o=o.oNext()}while(o!==n);return null}}getClass(){return bs}get interfaces_(){return[]}}class ws{constructor(){ws.constructor_.apply(this,arguments)}visit(t){const e=t[0].orig().getCoordinate(),i=t[1].orig().getCoordinate(),n=t[2].orig().getCoordinate(),o=re.circumcentre(e,i,n),r=new ys(o);for(let e=0;e<3;e++)t[e].rot().setOrig(r)}getClass(){return ws}get interfaces_(){return[As]}}ws.constructor_=function(){};class Ss{constructor(){Ss.constructor_.apply(this,arguments)}getTriangleEdges(){return this._triList}visit(t){this._triList.add(t)}getClass(){return Ss}get interfaces_(){return[As]}}Ss.constructor_=function(){this._triList=new _};class Ms{constructor(){Ms.constructor_.apply(this,arguments)}visit(t){this._triList.add([t[0].orig(),t[1].orig(),t[2].orig()])}getTriangleVertices(){return this._triList}getClass(){return Ms}get interfaces_(){return[As]}}Ms.constructor_=function(){this._triList=new _};class Es{constructor(){Es.constructor_.apply(this,arguments)}checkTriangleSize(t){let e="";t.length>=2?e=Qt.toLineString(t[0],t[1]):t.length>=1&&(e=Qt.toPoint(t[0]))}visit(t){this._coordList.clear();for(let e=0;e<3;e++){const i=t[e].orig();this._coordList.add(i.getCoordinate())}if(this._coordList.size()>0){this._coordList.closeRing();const t=this._coordList.toCoordinateArray();if(4!==t.length)return null;this._triCoords.add(t)}}getTriangles(){return this._triCoords}getClass(){return Es}get interfaces_(){return[As]}}Es.constructor_=function(){this._coordList=new C,this._triCoords=new _},bs.TriangleCircumcentreVisitor=ws,bs.TriangleEdgesListVisitor=Ss,bs.TriangleVertexListVisitor=Ms,bs.TriangleCoordinatesVisitor=Es,bs.constructor_=function(){this._visitedKey=0,this._quadEdges=new _,this._startingEdge=null,this._tolerance=null,this._edgeCoincidenceTolerance=null,this._frameVertex=new Array(3).fill(null),this._frameEnv=null,this._locator=null,this._seg=new ee,this._triEdges=new Array(3).fill(null);const t=arguments[0],e=arguments[1];this._tolerance=e,this._edgeCoincidenceTolerance=e/bs.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this._startingEdge=this.initSubdiv(),this._locator=new Cs(this)},bs.EDGE_COINCIDENCE_TOL_FACTOR=1e3;class Ts{constructor(){Ts.constructor_.apply(this,arguments)}getLineSegment(){return this._ls}getEndZ(){return this._ls.getCoordinate(1).z}getStartZ(){return this._ls.getCoordinate(0).z}intersection(t){return this._ls.intersection(t.getLineSegment())}getStart(){return this._ls.getCoordinate(0)}getEnd(){return this._ls.getCoordinate(1)}getEndY(){return this._ls.getCoordinate(1).y}getStartX(){return this._ls.getCoordinate(0).x}equalsTopo(t){return this._ls.equalsTopo(t.getLineSegment())}getStartY(){return this._ls.getCoordinate(0).y}setData(t){this._data=t}getData(){return this._data}getEndX(){return this._ls.getCoordinate(1).x}toString(){return this._ls.toString()}getClass(){return Ts}get interfaces_(){return[]}}Ts.constructor_=function(){if(this._ls=null,this._data=null,2===arguments.length){const t=arguments[0],e=arguments[1];this._ls=new ee(t,e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._ls=new ee(t,e),this._data=i}else if(6===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5];Ts.constructor_.call(this,new p(t,e,i),new p(n,o,r))}else if(7===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],r=arguments[5],s=arguments[6];Ts.constructor_.call(this,new p(t,e,i),new p(n,o,r),s)}};class Ps{constructor(){Ps.constructor_.apply(this,arguments)}static computeVertexEnvelope(t){const e=new I;for(let i=t.iterator();i.hasNext();){const t=i.next();e.expandToInclude(t.getCoordinate())}return e}getInitialVertices(){return this._initialVertices}getKDT(){return this._kdt}enforceConstraints(){this.addConstraintVertices();let t=0,e=0;do{e=this.enforceGabriel(this._segments),t++}while(e>0&&t<Ps.MAX_SPLIT_ITER)}insertSites(t){for(let e=t.iterator();e.hasNext();){const t=e.next();this.insertSite(t)}}getVertexFactory(){return this._vertexFactory}getPointArray(){const t=new Array(this._initialVertices.size()+this._segVertices.size()).fill(null);let e=0;for(let i=this._initialVertices.iterator();i.hasNext();){const n=i.next();t[e++]=n.getCoordinate()}for(let i=this._segVertices.iterator();i.hasNext();){const n=i.next();t[e++]=n.getCoordinate()}return t}setConstraints(t,e){this._segments=t,this._segVertices=e}computeConvexHull(){const t=new Yt,e=this.getPointArray(),i=new ai(e,t);this._convexHull=i.getConvexHull()}addConstraintVertices(){this.computeConvexHull(),this.insertSites(this._segVertices)}findNonGabrielPoint(t){const e=t.getStart(),i=t.getEnd(),n=new p((e.x+i.x)/2,(e.y+i.y)/2),r=e.distance(n),s=new I(n);s.expandBy(r);const a=this._kdt.query(s);let l=null,h=o.MAX_VALUE;for(let t=a.iterator();t.hasNext();){const o=t.next().getCoordinate();if(o.equals2D(e)||o.equals2D(i))continue;const s=n.distance(o);if(s<r){const t=s;(null===l||t<h)&&(l=o,h=t)}}return l}getConstraintSegments(){return this._segments}setSplitPointFinder(t){this._splitFinder=t}getConvexHull(){return this._convexHull}getTolerance(){return this._tolerance}enforceGabriel(t){const e=new _;let i=0;const n=new _;for(let o=t.iterator();o.hasNext();){const t=o.next(),r=this.findNonGabrielPoint(t);if(null===r)continue;this._splitPt=this._splitFinder.findSplitPoint(t,r);const s=this.createVertex(this._splitPt,t);this.insertSite(s).getCoordinate().equals2D(this._splitPt);const a=new Ts(t.getStartX(),t.getStartY(),t.getStartZ(),s.getX(),s.getY(),s.getZ(),t.getData()),l=new Ts(s.getX(),s.getY(),s.getZ(),t.getEndX(),t.getEndY(),t.getEndZ(),t.getData());e.add(a),e.add(l),n.add(t),i+=1}return t.removeAll(n),t.addAll(e),i}createVertex(){if(1===arguments.length){const t=arguments[0];let e=null;return e=null!==this._vertexFactory?this._vertexFactory.createVertex(t,null):new ms(t)}if(2===arguments.length){const t=arguments[0],e=arguments[1];let i=null;return(i=null!==this._vertexFactory?this._vertexFactory.createVertex(t,e):new ms(t)).setOnConstraint(!0),i}}getSubdivision(){return this._subdiv}computeBoundingBox(){const t=Ps.computeVertexEnvelope(this._initialVertices),e=Ps.computeVertexEnvelope(this._segVertices),i=new I(t);i.expandToInclude(e);const n=.2*i.getWidth(),o=.2*i.getHeight(),r=Math.max(n,o);this._computeAreaEnv=new I(i),this._computeAreaEnv.expandBy(r)}setVertexFactory(t){this._vertexFactory=t}formInitialDelaunay(){this.computeBoundingBox(),this._subdiv=new bs(this._computeAreaEnv,this._tolerance),this._subdiv.setLocator(new Cs(this._subdiv)),this._incDel=new _s(this._subdiv),this.insertSites(this._initialVertices)}insertSite(){if(arguments[0]instanceof ms){const t=arguments[0],e=this._kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){const i=e.getData();return i.merge(t),i}return this._incDel.insertSite(t),t}if(arguments[0]instanceof p){const t=arguments[0];this.insertSite(this.createVertex(t))}}getClass(){return Ps}get interfaces_(){return[]}}Ps.constructor_=function(){this._initialVertices=null,this._segVertices=null,this._segments=new _,this._subdiv=null,this._incDel=null,this._convexHull=null,this._splitFinder=new ds,this._kdt=null,this._vertexFactory=null,this._computeAreaEnv=null,this._splitPt=null,this._tolerance=null;const t=arguments[0],e=arguments[1];this._initialVertices=new _(t),this._tolerance=e,this._kdt=new tn(e)},Ps.MAX_SPLIT_ITER=99;class Ls{constructor(){Ls.constructor_.apply(this,arguments)}static extractUniqueCoordinates(t){if(null===t)return new C;const e=t.getCoordinates();return Ls.unique(e)}static envelope(t){const e=new I;for(let i=t.iterator();i.hasNext();){const t=i.next();e.expandToInclude(t)}return e}static unique(t){const e=W.copyDeep(t);return ct.sort(e),new C(e,!1)}static toVertices(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next();e.add(new ys(t))}return e}create(){if(null!==this._subdiv)return null;const t=Ls.envelope(this._siteCoords),e=Ls.toVertices(this._siteCoords);this._subdiv=new bs(t,this._tolerance),new _s(this._subdiv).insertSites(e)}setTolerance(t){this._tolerance=t}setSites(){if(arguments[0]instanceof G){const t=arguments[0];this._siteCoords=Ls.extractUniqueCoordinates(t)}else if(d(arguments[0],f)){const t=arguments[0];this._siteCoords=Ls.unique(W.toCoordinateArray(t))}}getEdges(t){return this.create(),this._subdiv.getEdges(t)}getSubdivision(){return this.create(),this._subdiv}getTriangles(t){return this.create(),this._subdiv.getTriangles(t)}getClass(){return Ls}get interfaces_(){return[]}}Ls.constructor_=function(){this._siteCoords=null,this._tolerance=0,this._subdiv=null};class Ns{constructor(){Ns.constructor_.apply(this,arguments)}static createConstraintSegments(){if(1===arguments.length){const t=arguments[0],e=_e.getLines(t),i=new _;for(let t=e.iterator();t.hasNext();){const e=t.next();Ns.createConstraintSegments(e,i)}return i}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t.getCoordinates();for(let t=1;t<i.length;t++)e.add(new Ts(i[t-1],i[t]))}}createSiteVertices(t){const e=new _;for(let i=t.iterator();i.hasNext();){const t=i.next();this._constraintVertexMap.containsKey(t)||e.add(new ms(t))}return e}create(){if(null!==this._subdiv)return null;const t=Ls.envelope(this._siteCoords);let e=new _;null!==this._constraintLines&&(t.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),e=Ns.createConstraintSegments(this._constraintLines));const i=this.createSiteVertices(this._siteCoords),n=new Ps(i,this._tolerance);n.setConstraints(e,new _(this._constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this._subdiv=n.getSubdivision()}setTolerance(t){this._tolerance=t}setConstraints(t){this._constraintLines=t}setSites(t){this._siteCoords=Ls.extractUniqueCoordinates(t)}getEdges(t){return this.create(),this._subdiv.getEdges(t)}getSubdivision(){return this.create(),this._subdiv}getTriangles(t){return this.create(),this._subdiv.getTriangles(t)}createVertices(t){const e=t.getCoordinates();for(let t=0;t<e.length;t++){const i=new ms(e[t]);this._constraintVertexMap.put(e[t],i)}}getClass(){return Ns}get interfaces_(){return[]}}Ns.constructor_=function(){this._siteCoords=null,this._constraintLines=null,this._tolerance=0,this._subdiv=null,this._constraintVertexMap=new rt};class Ds{constructor(){Ds.constructor_.apply(this,arguments)}static clipGeometryCollection(t,e){const i=t.getFactory().toGeometry(e),n=new _;for(let o=0;o<t.getNumGeometries();o++){const r=t.getGeometryN(o);let s=null;e.contains(r.getEnvelopeInternal())?s=r:e.intersects(r.getEnvelopeInternal())&&(s=i.intersection(r)).setUserData(r.getUserData()),null===s||s.isEmpty()||n.add(s)}return t.getFactory().createGeometryCollection(Yt.toGeometryArray(n))}create(){if(null!==this._subdiv)return null;const t=Ls.envelope(this._siteCoords);this._diagramEnv=t;const e=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(e),null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);const i=Ls.toVertices(this._siteCoords);this._subdiv=new bs(t,this._tolerance),new _s(this._subdiv).insertSites(i)}getDiagram(t){this.create();const e=this._subdiv.getVoronoiDiagram(t);return Ds.clipGeometryCollection(e,this._diagramEnv)}setTolerance(t){this._tolerance=t}setSites(){if(arguments[0]instanceof G){const t=arguments[0];this._siteCoords=Ls.extractUniqueCoordinates(t)}else if(d(arguments[0],f)){const t=arguments[0];this._siteCoords=Ls.unique(W.toCoordinateArray(t))}}setClipEnvelope(t){this._clipEnv=t}getSubdivision(){return this.create(),this._subdiv}getClass(){return Ds}get interfaces_(){return[]}}Ds.constructor_=function(){this._siteCoords=null,this._tolerance=0,this._subdiv=null,this._clipEnv=null,this._diagramEnv=null};var Rs=Object.freeze({__proto__:null,Vertex:ys}),Os=Object.freeze({__proto__:null,ConformingDelaunayTriangulationBuilder:Ns,DelaunayTriangulationBuilder:Ls,VoronoiDiagramBuilder:Ds,quadedge:Rs});class Fs{constructor(){Fs.constructor_.apply(this,arguments)}static getEndLocation(t){const e=new Fs;return e.setToEnd(t),e}static pointAlongSegmentByFraction(t,e,i){if(i<=0)return t;if(i>=1)return e;const n=(e.x-t.x)*i+t.x,o=(e.y-t.y)*i+t.y,r=(e.z-t.z)*i+t.z;return new p(n,o,r)}static compareLocationValues(t,e,i,n,o,r){return t<n?-1:t>n?1:e<o?-1:e>o?1:i<r?-1:i>r?1:0}getSegmentIndex(){return this._segmentIndex}getComponentIndex(){return this._componentIndex}isEndpoint(t){const e=t.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex>=e||this._segmentIndex===e&&this._segmentFraction>=1}isValid(t){if(this._componentIndex<0||this._componentIndex>=t.getNumGeometries())return!1;const e=t.getGeometryN(this._componentIndex);return!(this._segmentIndex<0||this._segmentIndex>e.getNumPoints()||this._segmentIndex===e.getNumPoints()&&0!==this._segmentFraction||this._segmentFraction<0||this._segmentFraction>1)}normalize(){this._segmentFraction<0&&(this._segmentFraction=0),this._segmentFraction>1&&(this._segmentFraction=1),this._componentIndex<0&&(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0),this._segmentIndex<0&&(this._segmentIndex=0,this._segmentFraction=0),1===this._segmentFraction&&(this._segmentFraction=0,this._segmentIndex+=1)}toLowest(t){const e=t.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex<e?this:new Fs(this._componentIndex,e,1,!1)}getCoordinate(t){const e=t.getGeometryN(this._componentIndex),i=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1)return i;const n=e.getCoordinateN(this._segmentIndex+1);return Fs.pointAlongSegmentByFraction(i,n,this._segmentFraction)}getSegmentFraction(){return this._segmentFraction}getSegment(t){const e=t.getGeometryN(this._componentIndex),i=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1){const t=e.getCoordinateN(e.getNumPoints()-2);return new ee(t,i)}const n=e.getCoordinateN(this._segmentIndex+1);return new ee(i,n)}clamp(t){if(this._componentIndex>=t.getNumGeometries())return this.setToEnd(t),null;if(this._segmentIndex>=t.getNumPoints()){const e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1}}setToEnd(t){this._componentIndex=t.getNumGeometries()-1;const e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1}compareTo(t){const e=t;return this._componentIndex<e._componentIndex?-1:this._componentIndex>e._componentIndex?1:this._segmentIndex<e._segmentIndex?-1:this._segmentIndex>e._segmentIndex?1:this._segmentFraction<e._segmentFraction?-1:this._segmentFraction>e._segmentFraction?1:0}copy(){return new Fs(this._componentIndex,this._segmentIndex,this._segmentFraction)}toString(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"}isOnSameSegment(t){return this._componentIndex===t._componentIndex&&(this._segmentIndex===t._segmentIndex||t._segmentIndex-this._segmentIndex==1&&0===t._segmentFraction||this._segmentIndex-t._segmentIndex==1&&0===this._segmentFraction)}snapToVertex(t,e){if(this._segmentFraction<=0||this._segmentFraction>=1)return null;const i=this.getSegmentLength(t),n=this._segmentFraction*i,o=i-n;n<=o&&n<e?this._segmentFraction=0:o<=n&&o<e&&(this._segmentFraction=1)}compareLocationValues(t,e,i){return this._componentIndex<t?-1:this._componentIndex>t?1:this._segmentIndex<e?-1:this._segmentIndex>e?1:this._segmentFraction<i?-1:this._segmentFraction>i?1:0}getSegmentLength(t){const e=t.getGeometryN(this._componentIndex);let i=this._segmentIndex;this._segmentIndex>=e.getNumPoints()-1&&(i=e.getNumPoints()-2);const n=e.getCoordinateN(i),o=e.getCoordinateN(i+1);return n.distance(o)}isVertex(){return this._segmentFraction<=0||this._segmentFraction>=1}getClass(){return Fs}get interfaces_(){return[r]}}Fs.constructor_=function(){if(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this._componentIndex=t._componentIndex,this._segmentIndex=t._segmentIndex,this._segmentFraction=t._segmentFraction}else if(2===arguments.length){const t=arguments[0],e=arguments[1];Fs.constructor_.call(this,0,t,e)}else if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];this._componentIndex=t,this._segmentIndex=e,this._segmentFraction=i,this.normalize()}else if(4===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._componentIndex=t,this._segmentIndex=e,this._segmentFraction=i,n&&this.normalize()}};class ks{constructor(){ks.constructor_.apply(this,arguments)}static segmentEndVertexIndex(t){return t.getSegmentFraction()>0?t.getSegmentIndex()+1:t.getSegmentIndex()}getComponentIndex(){return this._componentIndex}getLine(){return this._currentLine}getVertexIndex(){return this._vertexIndex}getSegmentEnd(){return this._vertexIndex<this.getLine().getNumPoints()-1?this._currentLine.getCoordinateN(this._vertexIndex+1):null}next(){if(!this.hasNext())return null;this._vertexIndex++,this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)}loadCurrentLine(){if(this._componentIndex>=this._numLines)return this._currentLine=null,null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)}getSegmentStart(){return this._currentLine.getCoordinateN(this._vertexIndex)}isEndOfLine(){return!(this._componentIndex>=this._numLines||this._vertexIndex<this._currentLine.getNumPoints()-1)}hasNext(){return!(this._componentIndex>=this._numLines||this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints())}getClass(){return ks}get interfaces_(){return[]}}ks.constructor_=function(){if(this._linearGeom=null,this._numLines=null,this._currentLine=null,this._componentIndex=0,this._vertexIndex=0,1===arguments.length){const t=arguments[0];ks.constructor_.call(this,t,0,0)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];ks.constructor_.call(this,t,e.getComponentIndex(),ks.segmentEndVertexIndex(e))}else if(3===arguments.length){const t=arguments[0],e=arguments[1],n=arguments[2];if(!d(t,st))throw new i("Lineal geometry is required");this._linearGeom=t,this._numLines=t.getNumGeometries(),this._componentIndex=e,this._vertexIndex=n,this.loadCurrentLine()}};class Gs{constructor(){Gs.constructor_.apply(this,arguments)}static indexOf(t,e){return new Gs(t).indexOf(e)}static indexOfAfter(t,e,i){return new Gs(t).indexOfAfter(e,i)}indexOf(t){return this.indexOfFromStart(t,null)}indexOfFromStart(t,e){let i=o.MAX_VALUE,n=0,r=0,s=-1;const a=new ee;for(let o=new ks(this._linearGeom);o.hasNext();o.next())if(!o.isEndOfLine()){a.p0=o.getSegmentStart(),a.p1=o.getSegmentEnd();const l=a.distance(t),h=a.segmentFraction(t),c=o.getComponentIndex(),u=o.getVertexIndex();l<i&&(null===e||e.compareLocationValues(c,u,h)<0)&&(n=c,r=u,s=h,i=l)}return i===o.MAX_VALUE?new Fs(e):new Fs(n,r,s)}indexOfAfter(t,e){if(null===e)return this.indexOf(t);const i=Fs.getEndLocation(this._linearGeom);if(i.compareTo(e)<=0)return i;const n=this.indexOfFromStart(t,e);return u.isTrue(n.compareTo(e)>=0,"computed location is before specified minimum location"),n}getClass(){return Gs}get interfaces_(){return[]}}Gs.constructor_=function(){this._linearGeom=null;const t=arguments[0];this._linearGeom=t};class Bs{constructor(){Bs.constructor_.apply(this,arguments)}static indicesOf(t,e){return new Bs(t).indicesOf(e)}indicesOf(t){const e=t.getGeometryN(0).getCoordinateN(0),i=t.getGeometryN(t.getNumGeometries()-1),n=i.getCoordinateN(i.getNumPoints()-1),o=new Gs(this._linearGeom),r=new Array(2).fill(null);return r[0]=o.indexOf(e),0===t.getLength()?r[1]=r[0].copy():r[1]=o.indexOfAfter(n,r[0]),r}getClass(){return Bs}get interfaces_(){return[]}}Bs.constructor_=function(){this._linearGeom=null;const t=arguments[0];this._linearGeom=t};class zs{constructor(){zs.constructor_.apply(this,arguments)}getGeometry(){return this.endLine(),this._geomFact.buildGeometry(this._lines)}getLastCoordinate(){return this._lastPt}endLine(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&this._coordList.size()<2)return this._coordList=null,null;const t=this._coordList.toCoordinateArray();let e=t;this._fixInvalidLines&&(e=this.validCoordinateSequence(t)),this._coordList=null;let n=null;try{n=this._geomFact.createLineString(e)}catch(t){if(!(t instanceof i))throw t;if(!this._ignoreInvalidLines)throw t}null!==n&&this._lines.add(n)}setFixInvalidLines(t){this._fixInvalidLines=t}add(){if(1===arguments.length){const t=arguments[0];this.add(t,!0)}else if(2===arguments.length){const t=arguments[0],e=arguments[1];null===this._coordList&&(this._coordList=new C),this._coordList.add(t,e),this._lastPt=t}}setIgnoreInvalidLines(t){this._ignoreInvalidLines=t}validCoordinateSequence(t){return t.length>=2?t:[t[0],t[0]]}getClass(){return zs}get interfaces_(){return[]}}zs.constructor_=function(){this._geomFact=null,this._lines=new _,this._coordList=null,this._ignoreInvalidLines=!1,this._fixInvalidLines=!1,this._lastPt=null;const t=arguments[0];this._geomFact=t};class Vs{constructor(){Vs.constructor_.apply(this,arguments)}static extract(t,e,i){return new Vs(t).extract(e,i)}computeLinear(t,e){const i=new zs(this._line.getFactory());i.setFixInvalidLines(!0),t.isVertex()||i.add(t.getCoordinate(this._line));for(let n=new ks(this._line,t);n.hasNext()&&!(e.compareLocationValues(n.getComponentIndex(),n.getVertexIndex(),0)<0);n.next()){const t=n.getSegmentStart();i.add(t),n.isEndOfLine()&&i.endLine()}return e.isVertex()||i.add(e.getCoordinate(this._line)),i.getGeometry()}computeLine(t,e){const i=this._line.getCoordinates(),n=new C;let o=t.getSegmentIndex();t.getSegmentFraction()>0&&(o+=1);let r=e.getSegmentIndex();1===e.getSegmentFraction()&&(r+=1),r>=i.length&&(r=i.length-1),t.isVertex()||n.add(t.getCoordinate(this._line));for(let t=o;t<=r;t++)n.add(i[t]);e.isVertex()||n.add(e.getCoordinate(this._line)),n.size()<=0&&n.add(t.getCoordinate(this._line));let s=n.toCoordinateArray();return s.length<=1&&(s=[s[0],s[0]]),this._line.getFactory().createLineString(s)}extract(t,e){return e.compareTo(t)<0?this.reverse(this.computeLinear(e,t)):this.computeLinear(t,e)}reverse(t){return t instanceof Mt||t instanceof ft?t.reverse():(u.shouldNeverReachHere("non-linear geometry encountered"),null)}getClass(){return Vs}get interfaces_(){return[]}}Vs.constructor_=function(){this._line=null;const t=arguments[0];this._line=t};class js{constructor(){js.constructor_.apply(this,arguments)}clampIndex(t){const e=t.copy();return e.clamp(this._linearGeom),e}project(t){return Gs.indexOf(this._linearGeom,t)}checkGeometryType(){if(!(this._linearGeom instanceof Mt||this._linearGeom instanceof ft))throw new i("Input geometry must be linear")}extractPoint(){if(1===arguments.length)return arguments[0].getCoordinate(this._linearGeom);if(2===arguments.length){const t=arguments[0],e=arguments[1],i=t.toLowest(this._linearGeom);return i.getSegment(this._linearGeom).pointAlongOffset(i.getSegmentFraction(),e)}}isValidIndex(t){return t.isValid(this._linearGeom)}getEndIndex(){return Fs.getEndLocation(this._linearGeom)}getStartIndex(){return new Fs}indexOfAfter(t,e){return Gs.indexOfAfter(this._linearGeom,t,e)}extractLine(t,e){return Vs.extract(this._linearGeom,t,e)}indexOf(t){return Gs.indexOf(this._linearGeom,t)}indicesOf(t){return Bs.indicesOf(this._linearGeom,t)}getClass(){return js}get interfaces_(){return[]}}js.constructor_=function(){this._linearGeom=null;const t=arguments[0];this._linearGeom=t,this.checkGeometryType()};class Hs{constructor(){Hs.constructor_.apply(this,arguments)}static indexOf(t,e){return new Hs(t).indexOf(e)}static indexOfAfter(t,e,i){return new Hs(t).indexOfAfter(e,i)}indexOf(t){return this.indexOfFromStart(t,-1)}indexOfFromStart(t,e){let i=o.MAX_VALUE,n=e,r=0;const s=new ee,a=new ks(this._linearGeom);for(;a.hasNext();){if(!a.isEndOfLine()){s.p0=a.getSegmentStart(),s.p1=a.getSegmentEnd();const o=s.distance(t),l=this.segmentNearestMeasure(s,t,r);o<i&&l>e&&(n=l,i=o),r+=s.getLength()}a.next()}return n}indexOfAfter(t,e){if(e<0)return this.indexOf(t);const i=this._linearGeom.getLength();if(i<e)return i;const n=this.indexOfFromStart(t,e);return u.isTrue(n>=e,"computed index is before specified minimum index"),n}segmentNearestMeasure(t,e,i){const n=t.projectionFactor(e);return n<=0?i:n<=1?i+n*t.getLength():i+t.getLength()}getClass(){return Hs}get interfaces_(){return[]}}Hs.constructor_=function(){this._linearGeom=null;const t=arguments[0];this._linearGeom=t};class Us{constructor(){Us.constructor_.apply(this,arguments)}static getLength(t,e){return new Us(t).getLength(e)}static getLocation(){if(2===arguments.length){const t=arguments[0],e=arguments[1];return new Us(t).getLocation(e)}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return new Us(t).getLocation(e,i)}}getLength(t){let e=0;const i=new ks(this._linearGeom);for(;i.hasNext();){if(!i.isEndOfLine()){const n=i.getSegmentStart(),o=i.getSegmentEnd().distance(n);if(t.getComponentIndex()===i.getComponentIndex()&&t.getSegmentIndex()===i.getVertexIndex())return e+o*t.getSegmentFraction();e+=o}i.next()}return e}resolveHigher(t){if(!t.isEndpoint(this._linearGeom))return t;let e=t.getComponentIndex();if(e>=this._linearGeom.getNumGeometries()-1)return t;do{e++}while(e<this._linearGeom.getNumGeometries()-1&&0===this._linearGeom.getGeometryN(e).getLength());return new Fs(e,0,0)}getLocation(){if(1===arguments.length){const t=arguments[0];return this.getLocation(t,!0)}if(2===arguments.length){const t=arguments[0],e=arguments[1];let i=t;t<0&&(i=this._linearGeom.getLength()+t);const n=this.getLocationForward(i);return e?n:this.resolveHigher(n)}}getLocationForward(t){if(t<=0)return new Fs;let e=0;const i=new ks(this._linearGeom);for(;i.hasNext();){if(i.isEndOfLine()){if(e===t){const t=i.getComponentIndex(),e=i.getVertexIndex();return new Fs(t,e,0)}}else{const n=i.getSegmentStart(),o=i.getSegmentEnd().distance(n);if(e+o>t){const n=(t-e)/o,r=i.getComponentIndex(),s=i.getVertexIndex();return new Fs(r,s,n)}e+=o}i.next()}return Fs.getEndLocation(this._linearGeom)}getClass(){return Us}get interfaces_(){return[]}}Us.constructor_=function(){this._linearGeom=null;const t=arguments[0];this._linearGeom=t};class Ws{constructor(){Ws.constructor_.apply(this,arguments)}clampIndex(t){const e=this.positiveIndex(t),i=this.getStartIndex();if(e<i)return i;const n=this.getEndIndex();return e>n?n:e}locationOf(){if(1===arguments.length){const t=arguments[0];return Us.getLocation(this._linearGeom,t)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return Us.getLocation(this._linearGeom,t,e)}}project(t){return Hs.indexOf(this._linearGeom,t)}positiveIndex(t){return t>=0?t:this._linearGeom.getLength()+t}extractPoint(){if(1===arguments.length){const t=arguments[0];return Us.getLocation(this._linearGeom,t).getCoordinate(this._linearGeom)}if(2===arguments.length){const t=arguments[0],e=arguments[1],i=Us.getLocation(this._linearGeom,t).toLowest(this._linearGeom);return i.getSegment(this._linearGeom).pointAlongOffset(i.getSegmentFraction(),e)}}isValidIndex(t){return t>=this.getStartIndex()&&t<=this.getEndIndex()}getEndIndex(){return this._linearGeom.getLength()}getStartIndex(){return 0}indexOfAfter(t,e){return Hs.indexOfAfter(this._linearGeom,t,e)}extractLine(t,e){new js(this._linearGeom);const i=this.clampIndex(t),n=this.clampIndex(e),o=i===n,r=this.locationOf(i,o),s=this.locationOf(n);return Vs.extract(this._linearGeom,r,s)}indexOf(t){return Hs.indexOf(this._linearGeom,t)}indicesOf(t){const e=Bs.indicesOf(this._linearGeom,t);return[Us.getLength(this._linearGeom,e[0]),Us.getLength(this._linearGeom,e[1])]}getClass(){return Ws}get interfaces_(){return[]}}Ws.constructor_=function(){this._linearGeom=null;const t=arguments[0];this._linearGeom=t};var Ys=Object.freeze({__proto__:null,LengthIndexedLine:Ws,LengthLocationMap:Us,LinearGeometryBuilder:zs,LinearIterator:ks,LinearLocation:Fs,LocationIndexedLine:js});class Xs{constructor(){Xs.constructor_.apply(this,arguments)}static transform(t,e){const i=new _;for(let n=t.iterator();n.hasNext();)i.add(e.execute(n.next()));return i}static select(t,e){const i=new _;for(let n=t.iterator();n.hasNext();){const t=n.next();Boolean.TRUE.equals(e.execute(t))&&i.add(t)}return i}static apply(t,e){for(let i=t.iterator();i.hasNext();)e.execute(i.next())}getClass(){return Xs}get interfaces_(){return[]}}Xs.Function=function(){},Xs.constructor_=function(){};class Zs{constructor(){Zs.constructor_.apply(this,arguments)}filter(t){this.pts[this.n++]=t}getCoordinates(){return this.pts}getClass(){return Zs}get interfaces_(){return[B]}}Zs.constructor_=function(){this.pts=null,this.n=0;const t=arguments[0];this.pts=new Array(t).fill(null)};class qs{constructor(){qs.constructor_.apply(this,arguments)}filter(t){this._n++}getCount(){return this._n}getClass(){return qs}get interfaces_(){return[B]}}qs.constructor_=function(){this._n=0};class Ks{constructor(){Ks.constructor_.apply(this,arguments)}count(t){const e=this._counts.get(t);return null===e?0:e.count()}add(t){const e=this._counts.get(t);null===e?this._counts.put(t,new Js(1)):e.increment()}getClass(){return Ks}get interfaces_(){return[]}}class Js{constructor(){Js.constructor_.apply(this,arguments)}count(){return this.count}increment(){this.count++}getClass(){return Js}get interfaces_(){return[]}}Js.constructor_=function(){if(this.count=0,0===arguments.length);else if(1===arguments.length){const t=arguments[0];this.count=t}},Ks.Counter=Js,Ks.constructor_=function(){this._counts=new Ht};var Qs=Object.freeze({__proto__:null,CollectionUtil:Xs,CoordinateArrayFilter:Zs,CoordinateCountFilter:qs,GeometricShapeFactory:be,NumberUtil:e,ObjectCounter:Ks,PriorityQueue:fn,StringUtil:bt,UniqueCoordinateArrayFilter:si});class $s{get interfaces_(){return[]}getClass(){return $s}static union(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return cr.createEmptyResult(cr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),lr.overlayOp(t,e,cr.UNION)}}G.prototype.equalsTopo=function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Gr.relate(this,t).isEquals(this.getDimension(),t.getDimension())},G.prototype.union=function(){if(0===arguments.length)return jr.union(this);if(1===arguments.length){const t=arguments[0];return $s.union(this,t)}},G.prototype.isValid=function(){return br.isValid(this)},G.prototype.intersection=function(t){return cr.intersection(this,t)},G.prototype.covers=function(t){return Gr.covers(this,t)},G.prototype.coveredBy=function(t){return Gr.covers(t,this)},G.prototype.touches=function(t){return Gr.touches(this,t)},G.prototype.intersects=function(t){return Gr.intersects(this,t)},G.prototype.within=function(t){return Gr.contains(t,this)},G.prototype.overlaps=function(t){return Gr.overlaps(this,t)},G.prototype.disjoint=function(t){return Gr.disjoint(this,t)},G.prototype.crosses=function(t){return Gr.crosses(this,t)},G.prototype.buffer=function(){if(1===arguments.length){const t=arguments[0];return wo.bufferOp(this,t)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return wo.bufferOp(this,t,e)}if(3===arguments.length){const t=arguments[0],e=arguments[1],i=arguments[2];return wo.bufferOp(this,t,e,i)}},G.prototype.convexHull=function(){return new ai(this).getConvexHull()},G.prototype.relate=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(1===arguments.length){const t=arguments[0];return Gr.relate(this,t)}if(2===arguments.length){const t=arguments[0],e=arguments[1];return Gr.relate(this,t).matches(e)}},G.prototype.getCentroid=function(){if(this.isEmpty())return this._factory.createPoint();const t=ni.getCentroid(this);return this.createPointFromInternalCoord(t,this)},G.prototype.getInteriorPoint=function(){if(this.isEmpty())return this._factory.createPoint();const t=this.getDimension(),e=(0===t?new pi(this):1===t?new ui(this):new hi(this)).getInteriorPoint();return this.createPointFromInternalCoord(e,this)},G.prototype.symDifference=function(t){return cr.symDifference(this,t)},G.prototype.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},G.prototype.toText=function(){return(new Qt).write(this)},G.prototype.toString=function(){this.toText()},G.prototype.contains=function(t){return Gr.contains(this,t)},G.prototype.difference=function(t){return cr.difference(this,t)},G.prototype.isSimple=function(){return new Yn(this).isSimple()},G.prototype.isWithinDistance=function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&To.isWithinDistance(this,t,e)},G.prototype.distance=function(t){return To.distance(this,t)},G.prototype.isEquivalentClass=function(t){return this.getClass()===t.getClass()},t.algorithm=yi,t.densify=_i,t.dissolve=Mi,t.geom=Ee,t.geomgraph=Ji,t.index=An,t.io=Tn,t.linearref=Ys,t.noding=Wn,t.operation=Wr,t.precision=Zr,t.simplify=us,t.triangulate=Os,t.util=Qs,t.version="2.1.0 (4e987e1)",Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,i){var n=i(0),o=i(7),r=i(186),s=i(30);function a(){}a.prototype.dispose=function(){};var l=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],h=function(t,e,i,n){s.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new a,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,r.call(this),this.setHandlerProxy(i)};function c(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(n=!0),o=o.parent}return!n||"silent"}return!1}h.prototype={constructor:h,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(n.each(l,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,o=n.target;o&&!o.__zr&&(o=(n=this.findHover(n.x,n.y)).target);var r=this._hovered=this.findHover(e,i),s=r.target,a=this.proxy;a.setCursor&&a.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(r,"mousemove",t),s&&s!==o&&this.dispatchToElement(r,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode}while(i&&9!=i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var o="on"+e,r=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}(e,t,i);n&&(n[o]&&(r.cancelBubble=n[o].call(n,r)),n.trigger(e,r),n=n.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer((function(t){"function"==typeof t[o]&&t[o].call(t,r),t.trigger&&t.trigger(e,r)})))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o={x:t,y:e},r=n.length-1;r>=0;r--){var s;if(n[r]!==i&&!n[r].ignore&&(s=c(n[r],t,e))&&(!o.topTarget&&(o.topTarget=n[r]),"silent"!==s)){o.target=n[r];break}}return o}},n.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){h.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if("mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||o.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}})),n.mixin(h,s),n.mixin(h,r);var u=h;t.exports=u},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function n(t,e){return{target:t,topTarget:e&&e.topTarget}}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(n(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,o=t.offsetY,r=i-this._x,s=o-this._y;this._x=i,this._y=o,e.drift(r,s,t),this.dispatchToElement(n(e,t),"drag",t.event);var a=this.findHover(i,o,e).target,l=this._dropTarget;this._dropTarget=a,e!==a&&(l&&a!==l&&this.dispatchToElement(n(l,t),"dragleave",t.event),a&&a!==l&&this.dispatchToElement(n(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(n(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(n(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var o=i;t.exports=o},function(t,e,i){var n=i(0),o=i(10),r=i(62),s=i(80);function a(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,r=e.length;n<r;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,o.canvasSupported&&s(i,a)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,r=t;o;)o.parent=r,o.updateTransform(),e.push(o),r=o,o=o.clipPath}if(t.isGroup){for(var s=t._children,a=0;a<s.length;a++){var l=s[a];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof r&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof r&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var o=t.length;e<o;e++)this.delRoot(t[e])}else{var s=n.indexOf(this._roots,t);s>=0&&(this.delFromStorage(t),this._roots.splice(s,1),t instanceof r&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:a};var h=l;t.exports=h},function(t,e,i){var n=i(109),o=i(45),r=i(0),s=r.isString,a=r.isFunction,l=r.isObject,h=r.isArrayLike,c=r.indexOf,u=function(){this.animators=[]};u.prototype={constructor:u,animate:function(t,e){var i,r=!1,s=this,a=this.__zr;if(t){var l=t.split("."),h=s;r="shape"===l[0];for(var u=0,p=l.length;u<p;u++)h&&(h=h[l[u]]);h&&(i=h)}else i=s;if(i){var g=s.animators,d=new n(i,e);return d.during((function(t){s.dirty(r)})).done((function(){g.splice(c(g,d),1)})),g.push(d),a&&a.animation.addAnimator(d),d}o('Property "'+t+'" is not existed in element '+s.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o,r){s(i)?(o=n,n=i,i=0):a(n)?(o=n,n="linear",i=0):a(i)?(o=i,i=0):a(e)?(o=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i);var l=this.animators.slice(),h=l.length;function c(){--h||o&&o()}h||o&&o();for(var u=0;u<l.length;u++)l[u].done(c).start(n,r)},_animateToShallow:function(t,e,i,n,o){var r={},s=0;for(var a in i)if(i.hasOwnProperty(a))if(null!=e[a])l(i[a])&&!h(i[a])?this._animateToShallow(t?t+"."+a:a,e[a],i[a],n,o):(r[a]=i[a],s++);else if(null!=i[a])if(t){var c={};c[t]={},c[t][a]=i[a],this.attr(c)}else this.attr(a,i[a]);return s>0&&this.animate(t,!1).when(null==n?500:n,r).delay(o||0),this}};var p=u;t.exports=p},function(t,e,i){var n=i(190);function o(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}o.prototype={constructor:o,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var o=this.easing,r="string"==typeof o?n[o]:o,s="function"==typeof r?r(i):i;return this.fire("frame",s),1==i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var r=o;t.exports=r},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}},n=i;t.exports=n},function(t,e,i){var n=i(63).devicePixelRatio,o=i(0),r=i(45),s=i(9),a=i(80),l=i(192),h=i(114),c=i(46),u=i(10);function p(t){return parseInt(t,10)}var g=new s(0,0,0,0),d=new s(0,0,0,0);var f=function(t,e,i){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=o.extend({},i||{}),this.dpr=i.devicePixelRatio||n,this._singleCanvas=r,this.root=t;var s=t.style;s&&(s["-webkit-tap-highlight-color"]="transparent",s["-webkit-user-select"]=s["user-select"]=s["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height);var c=t.width,u=t.height;this._width=c,this._height=u;var p=new l(t,this,1);p.__builtin__=!0,p.initContext(),h[314159]=p,a.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var g=this._domRoot=function(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);t.appendChild(g)}this._hoverlayer=null,this._hoverElements=[]};f.prototype={constructor:f,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],r=this._layers[o];!r.__builtin__&&r.refresh&&r.refresh()}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape});i.__from=t,t.__hoverMir=i,i.setStyle(e),this._hoverElements.push(i)}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=o.indexOf(i,e);n>=0&&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){a(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var o=0;o<e;){var r=t[o],s=r.__from;s&&s.__zr?(o++,s.invisible||(r.transform=s.transform,r.invTransform=s.invTransform,r.__clipPaths=s.__clipPaths,this._doPaintEl(r,i,!0,n))):(t.splice(o,1),s.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var o=this;h((function(){o._paintList(t,e,i)}))}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];(l=this._layers[r]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||e)&&i.push(l)}for(var s=!0,a=0;a<i.length;a++){var l,h=(l=i[a]).ctx,c={};h.save();var p=e?l.__startIndex:l.__drawIndex,g=!e&&l.incremental&&Date.now,d=g&&Date.now();if(l.__startIndex===l.__endIndex)l.clear();else if(p===l.__startIndex){var f=t[p];f.incremental&&f.notClear&&!e||l.clear()}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=l.__startIndex);for(var y=p;y<l.__endIndex;y++){var m=t[y];if(this._doPaintEl(m,l,e,c),m.__dirty=!1,g)if(Date.now()-d>15)break}l.__drawIndex=y,l.__drawIndex<l.__endIndex&&(s=!1),h.restore()}return u.wxa&&o.each(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),s},_doPaintEl:function(t,e,i,n){var o=e.ctx,r=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!r||r[0]||r[3])&&(!t.culling||!function(t,e,i){return g.copy(t.getBoundingRect()),t.transform&&g.applyTransform(t.transform),d.width=e,d.height=i,!g.intersect(d)}(t,this._width,this._height))){var s=t.__clipPaths;(n.prevClipLayer!==e||function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}(s,n.prevElClipPaths))&&(n.prevElClipPaths&&(n.prevClipLayer.ctx.restore(),n.prevClipLayer=n.prevElClipPaths=null,n.prevEl=null),s&&(o.save(),function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(s,o),n.prevClipLayer=e,n.prevElClipPaths=s)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(o)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||((i=new l("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&o.merge(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,s=null,a=-1,l=this._domRoot;if(i[t])r("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(o>0&&t>n[0]){for(a=0;a<o-1&&!(n[a]<t&&n[a+1]>t);a++);s=i[n[a]]}if(n.splice(a+1,0,t),i[t]=e,!e.virtual)if(s){var h=s.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else r("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)n=r[o],(i=this._layers[n]).__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)n=r[o],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){if((s=t[i]).zlevel!==t[i-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0;for(i=0;i<t.length;i++){var s,a,l=(s=t[i]).zlevel;s.incremental?((a=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,o=1):a=this.getLayer(l+(o>0?.01:0),this._needsManuallyCompositing),a.__builtin__||r("ZLevel "+l+" has been used by unkown layer "+a.id),a!==n&&(a.__used=!0,a.__startIndex!==i&&(a.__dirty=!0),a.__startIndex=i,a.incremental?a.__drawIndex=-1:a.__drawIndex=i,e(i),n=a),s.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=i))}e(i),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?o.merge(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];if(r===t||r===t+.01){var s=this._layers[r];o.merge(s,i[t],!0)}}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(o.indexOf(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!=t||e!=this._height){for(var r in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);o.each(this._progressiveLayers,(function(i){i.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clearColor=t.backgroundColor,e.clear(),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,o=e.ctx;this.eachLayer((function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var r={},s=this.storage.getDisplayList(!0),a=0;a<s.length;a++){var h=s[a];this._doPaintEl(h,e,!0,r)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,a=document.defaultView.getComputedStyle(s);return(s[n]||p(a[i])||p(s.style[i]))-(p(a[o])||0)-(p(a[r])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),o=t.getBoundingRect(),r=t.style,s=r.shadowBlur*e,a=r.shadowOffsetX*e,l=r.shadowOffsetY*e,h=r.hasStroke()?r.lineWidth:0,u=Math.max(h/2,-a+s),p=Math.max(h/2,a+s),g=Math.max(h/2,-l+s),d=Math.max(h/2,l+s),f=o.width+u+p,y=o.height+g+d;i.width=f*e,i.height=y*e,n.scale(e,e),n.clearRect(0,0,f,y),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-o.x,g-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var v=new c({style:{x:0,y:0,image:i}});return null!=m.position&&(v.position=t.position=m.position),null!=m.rotation&&(v.rotation=t.rotation=m.rotation),null!=m.scale&&(v.scale=t.scale=m.scale),v}};var y=f;t.exports=y},function(t,e,i){var n=i(0),o=i(63).devicePixelRatio,r=i(111),s=i(113);function a(){return!1}function l(t,e,i){var o=n.createCanvas(),r=e.getWidth(),s=e.getHeight(),a=o.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=s+"px",o.setAttribute("data-zr-dom-id",t)),o.width=r*i,o.height=s*i,o}var h=function(t,e,i){var r;i=i||o,"string"==typeof t?r=l(t,e,i):n.isObject(t)&&(t=(r=t).id),this.id=t,this.dom=r;var s=r.style;s&&(r.onselectstart=a,s["-webkit-user-select"]="none",s["user-select"]="none",s["-webkit-touch-callout"]="none",s["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",s.padding=0,s.margin=0,s["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};h.prototype={constructor:h,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,r=this.domBack;o.width=t+"px",o.height=e+"px",n.width=t*i,n.height=e*i,r&&(r.width=t*i,r.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e,i=this.dom,n=this.ctx,o=i.width,a=i.height,l=this.clearColor,h=this.motionBlur&&!t,c=this.lastFrameAlpha,u=this.dpr;(h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,a/u)),n.clearRect(0,0,o,a),l)&&(l.colorStops?(e=l.__canvasGradient||r.getGradient(n,l,{x:0,y:0,width:o,height:a}),l.__canvasGradient=e):l.image&&(e=s.prototype.getCanvasPattern.call(l,n)),n.save(),n.fillStyle=e||l,n.fillRect(0,0,o,a),n.restore());if(h){var p=this.domBack;n.save(),n.globalAlpha=c,n.drawImage(p,0,0,o,a),n.restore()}}};var c=h;t.exports=c},function(t,e,i){var n=i(0),o=i(22).Dispatcher,r=i(114),s=i(109),a=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,o.call(this)};a.prototype={constructor:a,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],r=[],s=0;s<n;s++){var a=i[s],l=a.step(t,e);l&&(o.push(l),r.push(a))}for(s=0;s<n;)i[s]._needsRemove?(i[s]=i[n-1],i.pop(),n--):s++;n=o.length;for(s=0;s<n;s++)r[s].fire(o[s]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,r((function e(){t._running&&(r(e),!t._paused&&t._update())}))},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){var i=new s(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},n.mixin(a,o);var l=a;t.exports=l},function(t,e,i){var n=i(22),o=n.addEventListener,r=n.removeEventListener,s=n.normalizeEvent,a=i(0),l=i(30),h=i(10),c=i(195),u=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],p=["touchstart","touchend","touchmove"],g={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},d=a.map(u,(function(t){var e=t.replace("mouse","pointer");return g[e]?e:t}));function f(t){return"mousewheel"===t&&h.browser.firefox?"DOMMouseScroll":t}function y(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var o=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===i&&n.clear(),o){var r=o.type;e.gestureEvent=r,t.handler.dispatchToElement({target:o.target},r,o.event)}}function m(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout((function(){t._touching=!1}),700)}var v={mousemove:function(t){t=s(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=s(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=s(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,y(this,t,"start"),v.mousemove.call(this,t),v.mousedown.call(this,t),m(this)},touchmove:function(t){(t=s(this.dom,t)).zrByTouch=!0,y(this,t,"change"),v.mousemove.call(this,t),m(this)},touchend:function(t){(t=s(this.dom,t)).zrByTouch=!0,y(this,t,"end"),v.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&v.click.call(this,t),m(this)},pointerdown:function(t){v.mousedown.call(this,t)},pointermove:function(t){_(t)||v.mousemove.call(this,t)},pointerup:function(t){v.mouseup.call(this,t)},pointerout:function(t){_(t)||v.mouseout.call(this,t)}};function _(t){var e=t.pointerType;return"pen"===e||"touch"===e}function x(t){var e;function i(e,i){a.each(e,(function(e){o(t,f(e),i._handlers[e])}),i)}l.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new c,this._handlers={},e=this,a.each(p,(function(t){e._handlers[t]=a.bind(v[t],e)})),a.each(d,(function(t){e._handlers[t]=a.bind(v[t],e)})),a.each(u,(function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(v[t],e)})),h.pointerEventsSupported?i(d,this):(h.touchEventsSupported&&i(p,this),i(u,this))}a.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){v[t]=function(e){e=s(this.dom,e),this.trigger(t,e)}}));var C=x.prototype;C.dispose=function(){for(var t=u.concat(p),e=0;e<t.length;e++){var i=t[e];r(this.dom,f(i),this._handlers[i])}},C.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},a.mixin(x,l);var I=x;t.exports=I},function(t,e,i){var n=i(22),o=function(){this._track=[]};function r(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}o.prototype={constructor:o,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var o=t.touches;if(o){for(var r={points:[],touches:[],target:e,event:t},s=0,a=o.length;s<a;s++){var l=o[s],h=n.clientToLocal(i,l,{});r.points.push([h.zrX,h.zrY]),r.touches.push(l)}this._track.push(r)}},_recognize:function(t){for(var e in s)if(s.hasOwnProperty(e)){var i=s[e](this._track,t);if(i)return i}}};var s={pinch:function(t,e){var i=t.length;if(i){var n,o=(t[i-1]||{}).points,s=(t[i-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var a=r(o)/r(s);!isFinite(a)&&(a=1),e.pinchScale=a;var l=[((n=o)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},a=o;t.exports=a},function(t,e,i){var n=i(39)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),o={getLineStyle:function(t){var e=n(this,t),i=this.getLineDash(e.lineWidth);return i&&(e.lineDash=i),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),n=4*t;return"solid"===e||null==e?null:"dashed"===e?[n,n]:[i,i]}};t.exports=o},function(t,e,i){var n=i(39)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),o={getAreaStyle:function(t,e){return n(this,t,e)}};t.exports=o},function(t,e,i){var n=i(20),o=i(2),r=["textStyle","color"],s={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(r):null)},getFont:function(){return o.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return n.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=s},function(t,e,i){var n=i(12),o=i(40),r=i(203),s=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],a=Math.sqrt,l=Math.sin,h=Math.cos,c=Math.PI,u=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},p=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(u(t)*u(e))},g=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(p(t,e))};function d(t,e,i,n,o,r,s,u,d,f,y){var m=d*(c/180),v=h(m)*(t-i)/2+l(m)*(e-n)/2,_=-1*l(m)*(t-i)/2+h(m)*(e-n)/2,x=v*v/(s*s)+_*_/(u*u);x>1&&(s*=a(x),u*=a(x));var C=(o===r?-1:1)*a((s*s*(u*u)-s*s*(_*_)-u*u*(v*v))/(s*s*(_*_)+u*u*(v*v)))||0,I=C*s*_/u,A=C*-u*v/s,b=(t+i)/2+h(m)*I-l(m)*A,w=(e+n)/2+l(m)*I+h(m)*A,S=g([1,0],[(v-I)/s,(_-A)/u]),M=[(v-I)/s,(_-A)/u],E=[(-1*v-I)/s,(-1*_-A)/u],T=g(M,E);p(M,E)<=-1&&(T=c),p(M,E)>=1&&(T=0),0===r&&T>0&&(T-=2*c),1===r&&T<0&&(T+=2*c),y.addData(f,b,w,s,u,S,T,m,r)}function f(t,e){var i=function(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<s.length;e++)i=i.replace(new RegExp(s[e],"g"),"|"+s[e]);var n,r=i.split("|"),a=0,l=0,h=new o,c=o.CMD;for(e=1;e<r.length;e++){var u,p=r[e],g=p.charAt(0),f=0,y=p.slice(1).replace(/e,-/g,"e-").split(",");y.length>0&&""===y[0]&&y.shift();for(var m=0;m<y.length;m++)y[m]=parseFloat(y[m]);for(;f<y.length&&!isNaN(y[f])&&!isNaN(y[0]);){var v,_,x,C,I,A,b,w=a,S=l;switch(g){case"l":a+=y[f++],l+=y[f++],u=c.L,h.addData(u,a,l);break;case"L":a=y[f++],l=y[f++],u=c.L,h.addData(u,a,l);break;case"m":a+=y[f++],l+=y[f++],u=c.M,h.addData(u,a,l),g="l";break;case"M":a=y[f++],l=y[f++],u=c.M,h.addData(u,a,l),g="L";break;case"h":a+=y[f++],u=c.L,h.addData(u,a,l);break;case"H":a=y[f++],u=c.L,h.addData(u,a,l);break;case"v":l+=y[f++],u=c.L,h.addData(u,a,l);break;case"V":l=y[f++],u=c.L,h.addData(u,a,l);break;case"C":u=c.C,h.addData(u,y[f++],y[f++],y[f++],y[f++],y[f++],y[f++]),a=y[f-2],l=y[f-1];break;case"c":u=c.C,h.addData(u,y[f++]+a,y[f++]+l,y[f++]+a,y[f++]+l,y[f++]+a,y[f++]+l),a+=y[f-2],l+=y[f-1];break;case"S":v=a,_=l;var M=h.len(),E=h.data;n===c.C&&(v+=a-E[M-4],_+=l-E[M-3]),u=c.C,w=y[f++],S=y[f++],a=y[f++],l=y[f++],h.addData(u,v,_,w,S,a,l);break;case"s":v=a,_=l;M=h.len(),E=h.data;n===c.C&&(v+=a-E[M-4],_+=l-E[M-3]),u=c.C,w=a+y[f++],S=l+y[f++],a+=y[f++],l+=y[f++],h.addData(u,v,_,w,S,a,l);break;case"Q":w=y[f++],S=y[f++],a=y[f++],l=y[f++],u=c.Q,h.addData(u,w,S,a,l);break;case"q":w=y[f++]+a,S=y[f++]+l,a+=y[f++],l+=y[f++],u=c.Q,h.addData(u,w,S,a,l);break;case"T":v=a,_=l;M=h.len(),E=h.data;n===c.Q&&(v+=a-E[M-4],_+=l-E[M-3]),a=y[f++],l=y[f++],u=c.Q,h.addData(u,v,_,a,l);break;case"t":v=a,_=l;M=h.len(),E=h.data;n===c.Q&&(v+=a-E[M-4],_+=l-E[M-3]),a+=y[f++],l+=y[f++],u=c.Q,h.addData(u,v,_,a,l);break;case"A":x=y[f++],C=y[f++],I=y[f++],A=y[f++],b=y[f++],d(w=a,S=l,a=y[f++],l=y[f++],A,b,x,C,I,u=c.A,h);break;case"a":x=y[f++],C=y[f++],I=y[f++],A=y[f++],b=y[f++],d(w=a,S=l,a+=y[f++],l+=y[f++],A,b,x,C,I,u=c.A,h)}}"z"!==g&&"Z"!==g||(u=c.Z,h.addData(u)),n=u}return h.toStatic(),h}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){r(i,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new n(f(t,e))},e.extendFromString=function(t,e){return n.extend(f(t,e))},e.mergePath=function(t,e){for(var i=[],o=t.length,r=0;r<o;r++){var s=t[r];s.path||s.createPathProxy(),s.__dirtyPath&&s.buildPath(s.path,s.shape,!0),i.push(s.path)}var a=new n(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},a}},function(t,e,i){var n=i(40),o=i(118),r=i(201),s=i(119),a=i(202),l=i(120).normalizeRadian,h=i(26),c=i(121),u=n.CMD,p=2*Math.PI;var g=[-1,-1,-1],d=[-1,-1];function f(t,e,i,n,o,r,s,a,l,c){if(c>e&&c>n&&c>r&&c>a||c<e&&c<n&&c<r&&c<a)return 0;var u,p=h.cubicRootAt(e,n,r,a,c,g);if(0===p)return 0;for(var f,y,m=0,v=-1,_=0;_<p;_++){var x=g[_],C=0===x||1===x?.5:1;h.cubicAt(t,i,o,s,x)<l||(v<0&&(v=h.cubicExtrema(e,n,r,a,d),d[1]<d[0]&&v>1&&(u=void 0,u=d[0],d[0]=d[1],d[1]=u),f=h.cubicAt(e,n,r,a,d[0]),v>1&&(y=h.cubicAt(e,n,r,a,d[1]))),2==v?x<d[0]?m+=f<e?C:-C:x<d[1]?m+=y<f?C:-C:m+=a<y?C:-C:x<d[0]?m+=f<e?C:-C:m+=a<f?C:-C)}return m}function y(t,e,i,n,o,r,s,a){if(a>e&&a>n&&a>r||a<e&&a<n&&a<r)return 0;var l=h.quadraticRootAt(e,n,r,a,g);if(0===l)return 0;var c=h.quadraticExtremum(e,n,r);if(c>=0&&c<=1){for(var u=0,p=h.quadraticAt(e,n,r,c),d=0;d<l;d++){var f=0===g[d]||1===g[d]?.5:1;h.quadraticAt(t,i,o,g[d])<s||(g[d]<c?u+=p<e?f:-f:u+=r<p?f:-f)}return u}f=0===g[0]||1===g[0]?.5:1;return h.quadraticAt(t,i,o,g[0])<s?0:r<e?f:-f}function m(t,e,i,n,o,r,s,a){if((a-=e)>i||a<-i)return 0;var h=Math.sqrt(i*i-a*a);g[0]=-h,g[1]=h;var c=Math.abs(n-o);if(c<1e-4)return 0;if(c%p<1e-4){n=0,o=p;var u=r?1:-1;return s>=g[0]+t&&s<=g[1]+t?u:0}if(r){h=n;n=l(o),o=l(h)}else n=l(n),o=l(o);n>o&&(o+=p);for(var d=0,f=0;f<2;f++){var y=g[f];if(y+t>s){var m=Math.atan2(a,y);u=r?1:-1;m<0&&(m=p+m),(m>=n&&m<=o||m+p>=n&&m+p<=o)&&(m>Math.PI/2&&m<1.5*Math.PI&&(u=-u),d+=u)}}return d}function v(t,e,i,n,l){for(var h,p,g=0,d=0,v=0,_=0,x=0,C=0;C<t.length;){var I=t[C++];switch(I===u.M&&C>1&&(i||(g+=c(d,v,_,x,n,l))),1==C&&(_=d=t[C],x=v=t[C+1]),I){case u.M:d=_=t[C++],v=x=t[C++];break;case u.L:if(i){if(o.containStroke(d,v,t[C],t[C+1],e,n,l))return!0}else g+=c(d,v,t[C],t[C+1],n,l)||0;d=t[C++],v=t[C++];break;case u.C:if(i){if(r.containStroke(d,v,t[C++],t[C++],t[C++],t[C++],t[C],t[C+1],e,n,l))return!0}else g+=f(d,v,t[C++],t[C++],t[C++],t[C++],t[C],t[C+1],n,l)||0;d=t[C++],v=t[C++];break;case u.Q:if(i){if(s.containStroke(d,v,t[C++],t[C++],t[C],t[C+1],e,n,l))return!0}else g+=y(d,v,t[C++],t[C++],t[C],t[C+1],n,l)||0;d=t[C++],v=t[C++];break;case u.A:var A=t[C++],b=t[C++],w=t[C++],S=t[C++],M=t[C++],E=t[C++],T=(t[C++],1-t[C++]),P=Math.cos(M)*w+A,L=Math.sin(M)*S+b;C>1?g+=c(d,v,P,L,n,l):(_=P,x=L);var N=(n-A)*S/w+A;if(i){if(a.containStroke(A,b,S,M,M+E,T,e,N,l))return!0}else g+=m(A,b,S,M,M+E,T,N,l);d=Math.cos(M+E)*w+A,v=Math.sin(M+E)*S+b;break;case u.R:_=d=t[C++],x=v=t[C++];P=_+t[C++],L=x+t[C++];if(i){if(o.containStroke(_,x,P,x,e,n,l)||o.containStroke(P,x,P,L,e,n,l)||o.containStroke(P,L,_,L,e,n,l)||o.containStroke(_,L,_,x,e,n,l))return!0}else g+=c(P,x,P,L,n,l),g+=c(_,L,_,x,n,l);break;case u.Z:if(i){if(o.containStroke(d,v,_,x,e,n,l))return!0}else g+=c(d,v,_,x,n,l);d=_,v=x}}return i||(h=v,p=x,Math.abs(h-p)<1e-4)||(g+=c(d,v,_,x,n,l)||0),0!==g}e.contain=function(t,e,i){return v(t,0,!1,e,i)},e.containStroke=function(t,e,i,n){return v(t,e,!0,i,n)}},function(t,e,i){var n=i(26);e.containStroke=function(t,e,i,o,r,s,a,l,h,c,u){if(0===h)return!1;var p=h;return!(u>e+p&&u>o+p&&u>s+p&&u>l+p||u<e-p&&u<o-p&&u<s-p&&u<l-p||c>t+p&&c>i+p&&c>r+p&&c>a+p||c<t-p&&c<i-p&&c<r-p&&c<a-p)&&n.cubicProjectPoint(t,e,i,o,r,s,a,l,c,u,null)<=p/2}},function(t,e,i){var n=i(120).normalizeRadian,o=2*Math.PI;e.containStroke=function(t,e,i,r,s,a,l,h,c){if(0===l)return!1;var u=l;h-=t,c-=e;var p=Math.sqrt(h*h+c*c);if(p-u>i||p+u<i)return!1;if(Math.abs(r-s)%o<1e-4)return!0;if(a){var g=r;r=n(s),s=n(g)}else r=n(r),s=n(s);r>s&&(s+=o);var d=Math.atan2(c,h);return d<0&&(d+=o),d>=r&&d<=s||d+o>=r&&d+o<=s}},function(t,e,i){var n=i(40),o=i(7).applyTransform,r=n.CMD,s=[[],[],[]],a=Math.sqrt,l=Math.atan2;t.exports=function(t,e){var i,n,h,c,u,p=t.data,g=r.M,d=r.C,f=r.L,y=r.R,m=r.A,v=r.Q;for(h=0,c=0;h<p.length;){switch(i=p[h++],c=h,n=0,i){case g:case f:n=1;break;case d:n=3;break;case v:n=2;break;case m:var _=e[4],x=e[5],C=a(e[0]*e[0]+e[1]*e[1]),I=a(e[2]*e[2]+e[3]*e[3]),A=l(-e[1]/I,e[0]/C);p[h]*=C,p[h++]+=_,p[h]*=I,p[h++]+=x,p[h++]*=C,p[h++]*=I,p[h++]+=A,p[h++]+=A,c=h+=2;break;case y:b[0]=p[h++],b[1]=p[h++],o(b,b,e),p[c++]=b[0],p[c++]=b[1],b[0]+=p[h++],b[1]+=p[h++],o(b,b,e),p[c++]=b[0],p[c++]=b[1]}for(u=0;u<n;u++){var b;(b=s[u])[0]=p[h++],b[1]=p[h++],o(b,b,e),p[c++]=b[0],p[c++]=b[1]}}}},function(t,e,i){var n=i(12).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=n},function(t,e,i){var n=i(12),o=i(122),r=n.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:o(n.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),r=Math.max(e.r,0),s=e.startAngle,a=e.endAngle,l=e.clockwise,h=Math.cos(s),c=Math.sin(s);t.moveTo(h*o+i,c*o+n),t.lineTo(h*r+i,c*r+n),t.arc(i,n,r,s,a,!l),t.lineTo(Math.cos(a)*o+i,Math.sin(a)*o+n),0!==o&&t.arc(i,n,o,a,s,l),t.closePath()}});t.exports=r},function(t,e,i){var n=i(12).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}});t.exports=n},function(t,e,i){var n=i(12),o=i(123),r=n.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){o.buildPath(t,e,!0)}});t.exports=r},function(t,e,i){var n=i(7).distance;function o(t,e,i,n,o,r,s){var a=.5*(i-t),l=.5*(n-e);return(2*(e-i)+a+l)*s+(-3*(e-i)-2*a-l)*r+a*o+e}t.exports=function(t,e){for(var i=t.length,r=[],s=0,a=1;a<i;a++)s+=n(t[a-1],t[a]);var l=s/2;for(l=l<i?i:l,a=0;a<l;a++){var h,c,u,p=a/(l-1)*(e?i:i-1),g=Math.floor(p),d=p-g,f=t[g%i];e?(h=t[(g-1+i)%i],c=t[(g+1)%i],u=t[(g+2)%i]):(h=t[0===g?g:g-1],c=t[g>i-2?i-1:g+1],u=t[g>i-3?i-1:g+2]);var y=d*d,m=d*y;r.push([o(h[0],f[0],c[0],u[0],d,y,m),o(h[1],f[1],c[1],u[1],d,y,m)])}return r}},function(t,e,i){var n=i(7),o=n.min,r=n.max,s=n.scale,a=n.distance,l=n.add,h=n.clone,c=n.sub;t.exports=function(t,e,i,n){var u,p,g,d,f=[],y=[],m=[],v=[];if(n){g=[1/0,1/0],d=[-1/0,-1/0];for(var _=0,x=t.length;_<x;_++)o(g,g,t[_]),r(d,d,t[_]);o(g,g,n[0]),r(d,d,n[1])}for(_=0,x=t.length;_<x;_++){var C=t[_];if(i)u=t[_?_-1:x-1],p=t[(_+1)%x];else{if(0===_||_===x-1){f.push(h(t[_]));continue}u=t[_-1],p=t[_+1]}c(y,p,u),s(y,y,e);var I=a(C,u),A=a(C,p),b=I+A;0!==b&&(I/=b,A/=b),s(m,y,-I),s(v,y,A);var w=l([],C,m),S=l([],C,v);n&&(r(w,w,g),o(w,w,d),r(S,S,g),o(S,S,d)),f.push(w),f.push(S)}return i&&f.push(f.shift()),f}},function(t,e,i){var n=i(12),o=i(123),r=n.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){o.buildPath(t,e,!1)}});t.exports=r},function(t,e,i){var n=i(12),o=i(116),r=n.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,r=e.width,s=e.height;e.r?o.buildPath(t,e):t.rect(i,n,r,s),t.closePath()}});t.exports=r},function(t,e,i){var n=i(12).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,r=e.y2,s=e.percent;0!==s&&(t.moveTo(i,n),s<1&&(o=i*(1-s)+o*s,r=n*(1-s)+r*s),t.lineTo(o,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=n},function(t,e,i){var n=i(12),o=i(7),r=i(26),s=r.quadraticSubdivide,a=r.cubicSubdivide,l=r.quadraticAt,h=r.cubicAt,c=r.quadraticDerivativeAt,u=r.cubicDerivativeAt,p=[];function g(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?u:h)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?u:h)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?c:l)(t.x1,t.cpx1,t.x2,e),(i?c:l)(t.y1,t.cpy1,t.y2,e)]}var d=n.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,r=e.y2,l=e.cpx1,h=e.cpy1,c=e.cpx2,u=e.cpy2,g=e.percent;0!==g&&(t.moveTo(i,n),null==c||null==u?(g<1&&(s(i,l,o,g,p),l=p[1],o=p[2],s(n,h,r,g,p),h=p[1],r=p[2]),t.quadraticCurveTo(l,h,o,r)):(g<1&&(a(i,l,c,o,g,p),l=p[1],c=p[2],o=p[3],a(n,h,u,r,g,p),h=p[1],u=p[2],r=p[3]),t.bezierCurveTo(l,h,c,u,o,r)))},pointAt:function(t){return g(this.shape,t,!1)},tangentAt:function(t){var e=g(this.shape,t,!0);return o.normalize(e,e)}});t.exports=d},function(t,e,i){var n=i(12).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,a=e.clockwise,l=Math.cos(r),h=Math.sin(r);t.moveTo(l*o+i,h*o+n),t.arc(i,n,o,r,s,!a)}});t.exports=n},function(t,e,i){var n=i(12),o=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this)}});t.exports=o},function(t,e,i){var n=i(0),o=i(65),r=function(t,e,i,n,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=r||!1,o.call(this,n)};r.prototype={constructor:r},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(39)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),o={getItemStyle:function(t,e){var i=n(this,t,e),o=this.getBorderLineDash();return o&&(i.lineDash=o),i},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=o},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||"");var n={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=n},function(t,e,i){var n=i(0),o=i(4),r=i(13),s=n.each,a=n.clone,l=n.map,h=n.merge,c=/^(min|max)?(.+)$/;function u(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function p(t,e,i){var o,r,a=[],l=[],h=t.timeline;if(t.baseOption&&(r=t.baseOption),(h||t.options)&&(r=r||{},a=(t.options||[]).slice()),t.media){r=r||{};var c=t.media;s(c,(function(t){t&&t.option&&(t.query?l.push(t):o||(o=t))}))}return r||(r=t),r.timeline||(r.timeline=h),s([r].concat(a).concat(n.map(l,(function(t){return t.option}))),(function(t){s(e,(function(e){e(t,i)}))})),{baseOption:r,timelineOptions:a,mediaDefault:o,mediaList:l}}function g(t,e,i){var o={width:e,height:i,aspectratio:e/i},r=!0;return n.each(t,(function(t,e){var i=e.match(c);if(i&&i[1]&&i[2]){var n=i[1],s=i[2].toLowerCase();(function(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e})(o[s],t,n)||(r=!1)}})),r}u.prototype={constructor:u,setOption:function(t,e){t&&n.each(o.normalizeToArray(t.series),(function(t){t&&t.data&&n.isTypedArray(t.data)&&n.setAsPrimitive(t.data)})),t=a(t,!0);var i,c,u=this._optionBackup,g=p.call(this,t,e,!u);this._newBaseOption=g.baseOption,u?(i=u.baseOption,c=g.baseOption,s(c=c||{},(function(t,e){if(null!=t){var n=i[e];if(r.hasClass(e)){t=o.normalizeToArray(t),n=o.normalizeToArray(n);var s=o.mappingToExists(n,t);i[e]=l(s,(function(t){return t.option&&t.exist?h(t.exist,t.option,!0):t.exist||t.option}))}else i[e]=h(n,t,!0)}})),g.timelineOptions.length&&(u.timelineOptions=g.timelineOptions),g.mediaList.length&&(u.mediaList=g.mediaList),g.mediaDefault&&(u.mediaDefault=g.mediaDefault)):this._optionBackup=g},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=l(e.timelineOptions,a),this._mediaList=l(e.mediaList,a),this._mediaDefault=a(e.mediaDefault),this._currentMediaIndices=[],a(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=a(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e,i,n=this._api.getWidth(),o=this._api.getHeight(),r=this._mediaList,s=this._mediaDefault,h=[],c=[];if(!r.length&&!s)return c;for(var u=0,p=r.length;u<p;u++)g(r[u].query,n,o)&&h.push(u);return!h.length&&s&&(h=[-1]),h.length&&(e=h,i=this._currentMediaIndices,e.join(",")!==i.join(","))&&(c=l(h,(function(t){return a(-1===t?s.option:r[t].option)}))),this._currentMediaIndices=h,c}};var d=u;t.exports=d},function(t,e,i){var n=i(0),o=n.each,r=n.isArray,s=n.isObject,a=i(222),l=i(4).normalizeToArray;function h(t){o(c,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var c=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],u=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];t.exports=function(t,e){a(t,e),t.series=l(t.series),o(t.series,(function(t){if(s(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=function(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}(t,"pointer.color");null!=i&&function(t,e,i,n){e=e.split(",");for(var o,r=t,s=0;s<e.length-1;s++)null==r[o=e[s]]&&(r[o]={}),r=r[o];(n||null==r[e[s]])&&(r[e[s]]=i)}(t,"itemStyle.normal.color",i)}h(t)}})),t.dataRange&&(t.visualMap=t.dataRange),o(u,(function(e){var i=t[e];i&&(r(i)||(i=[i]),o(i,(function(t){h(t)})))}))}},function(t,e,i){var n=i(0),o=i(4),r=n.each,s=n.isObject,a=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l(t){var e=t&&t.itemStyle;if(e)for(var i=0,o=a.length;i<o;i++){var r=a[i],s=e.normal,l=e.emphasis;s&&s[r]&&(t[r]=t[r]||{},t[r].normal?n.merge(t[r].normal,s[r]):t[r].normal=s[r],s[r]=null),l&&l[r]&&(t[r]=t[r]||{},t[r].emphasis?n.merge(t[r].emphasis,l[r]):t[r].emphasis=l[r],l[r]=null)}}function h(t,e){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,n=t[e].emphasis;i&&(t[e]=i),n&&(t.emphasis=t.emphasis||{},t.emphasis[e]=n)}}function c(t){h(t,"itemStyle"),h(t,"lineStyle"),h(t,"areaStyle"),h(t,"label"),h(t,"labelLine"),h(t,"upperLabel"),h(t,"edgeLabel")}function u(t){var e=s(t)&&t.textStyle;if(e)for(var i=0,n=o.TEXT_STYLE_OPTIONS.length;i<n;i++){var r=o.TEXT_STYLE_OPTIONS[i];e.hasOwnProperty(r)&&(t[r]=e[r])}}function p(t){t&&(c(t),u(t.label),t.emphasis&&u(t.emphasis.label))}function g(t){return n.isArray(t)?t:t?[t]:[]}function d(t){return(n.isArray(t)?t[0]:t)||{}}t.exports=function(t,e){r(g(t.series),(function(t){s(t)&&function(t){if(s(t)){l(t),c(t),u(t.label),u(t.upperLabel),u(t.edgeLabel),t.emphasis&&(u(t.emphasis.label),u(t.emphasis.upperLabel),u(t.emphasis.edgeLabel)),(i=t.markPoint)&&(l(i),p(i)),(o=t.markLine)&&(l(o),p(o));var e=t.markArea;e&&p(e);var i,o,r=t.data;if("graph"===t.type){r=r||t.nodes;var a=t.links||t.edges;if(a&&!n.isTypedArray(a))for(var g=0;g<a.length;g++)p(a[g]);n.each(t.categories,(function(t){c(t)}))}if(r&&!n.isTypedArray(r))for(g=0;g<r.length;g++)p(r[g]);if((i=t.markPoint)&&i.data){var d=i.data;for(g=0;g<d.length;g++)p(d[g])}if((o=t.markLine)&&o.data){var f=o.data;for(g=0;g<f.length;g++)n.isArray(f[g])?(p(f[g][0]),p(f[g][1])):p(f[g])}"gauge"===t.type?(u(t),u(t),u(t)):"treemap"===t.type&&(h(t.breadcrumb,"itemStyle"),n.each(t.levels,(function(t){c(t)})))}}(t)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),r(i,(function(e){r(g(t[e]),(function(t){t&&(u(t),u(t.axisPointer))}))})),r(g(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;u(e),u(e&&e.axisPointer)})),r(g(t.calendar),(function(t){h(t,"itemStyle"),u(t),u(t),u(t)})),r(g(t.radar),(function(t){u(t)})),r(g(t.geo),(function(t){s(t)&&(p(t),r(g(t.regions),(function(t){p(t)})))})),r(g(t.timeline),(function(t){p(t),h(t,"label"),h(t,"itemStyle"),h(t,"controlStyle"),h(t,"checkpointStyle");var e=t.data;n.isArray(e)&&n.each(e,(function(t){n.isObject(t)&&(h(t,"label"),h(t,"itemStyle"))}))})),r(g(t.toolbox),(function(t){h(t,"iconStyle"),r(t.feature,(function(t){h(t,"iconStyle")}))})),u(d(t.axisPointer)),u(d(t.tooltip).axisPointer)}},function(t,e,i){var n=i(65),o={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),o=(t.visualColorAccessPath||"itemStyle.color").split("."),r=t.get(o)||t.getColorFromPalette(t.get("name"),null,e.getSeriesCount());if(i.setVisual("color",r),!e.isSeriesFiltered(t)){"function"!=typeof r||r instanceof n||i.each((function(e){i.setItemVisual(e,"color",r(t.getDataParams(e)))}));return{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e).get(o,!0);null!=i&&t.setItemVisual(e,"color",i)}:null}}}};t.exports=o},function(t,e,i){var n=i(0),o=i(32),r=i(51).retrieveRawValue;t.exports=function(t,e){var i=e.getModel("aria");if(i.get("show"))if(i.get("description"))t.setAttribute("aria-label",i.get("description"));else{var s=0;e.eachSeries((function(t,e){++s}),this);var a,l=i.get("data.maxCount")||10,h=i.get("series.maxCount")||10,c=Math.min(s,h);if(!(s<1)){var u=function(){var t=e.getModel("title").option;t&&t.length&&(t=t[0]);return t&&t.text}();a=u?g(d("general.withTitle"),{title:u}):d("general.withoutTitle");var p=[];a+=g(d(s>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:s}),e.eachSeries((function(t,e){if(e<c){var i,n=t.get("name"),a="series."+(s>1?"multiple":"single")+".";i=g(i=d(n?a+"withName":a+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(v=t.subType,o.series.typeNames[v]||"自定义图")});var h=t.getData();window.data=h,h.count()>l?i+=g(d("data.partialData"),{displayCnt:l}):i+=d("data.allData");for(var u=[],f=0;f<h.count();f++)if(f<l){var y=h.getName(f),m=r(h,f);u.push(g(d(y?"data.withName":"data.withoutName"),{name:y,value:m}))}i+=u.join(d("data.separator.middle"))+d("data.separator.end"),p.push(i)}var v})),a+=p.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end"),t.setAttribute("aria-label",a)}}function g(t,e){if("string"!=typeof t)return t;var i=t;return n.each(e,(function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),i}function d(t){var e=i.get(t);if(null==e){for(var n=t.split("."),r=o.aria,s=0;s<n.length;++s)r=r[n[s]];return r}return e}}},function(t,e,i){var n=i(0),o=i(2),r=Math.PI;t.exports=function(t,e){e=e||{},n.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new o.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),s=new o.Arc({shape:{startAngle:-r/2,endAngle:-r/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),a=new o.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*r/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:3*r/2}).delay(300).start("circularInOut");var l=new o.Group;return l.add(s),l.add(a),l.add(i),l.resize=function(){var e=t.getWidth()/2,n=t.getHeight()/2;s.setShape({cx:e,cy:n});var o=s.shape.r;a.setShape({x:e-o,y:n-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}},function(t,e,i){var n=i(0),o=n.each,r=n.isFunction,s=n.createHashMap,a=n.noop,l=i(85).createTask,h=i(66).getUID,c=i(117),u=i(127),p=i(4).normalizeToArray;function g(t,e){this.ecInstance=t,this.api=e,this.unfinished,this._stageTaskMap=s()}var d=g.prototype;function f(t,e,i,n,r){var s;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}r=r||{},o(e,(function(e,o){if(!r.visualType||r.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),h=l.seriesTaskMap,c=l.overallTask;if(c){var u,p=c.agentStubMap;p.each((function(t){a(r,t)&&(t.dirty(),u=!0)})),u&&c.dirty(),y(c,n);var g=t.getPerformArgs(c,r.block);p.each((function(t){t.perform(g)})),s|=c.perform(g)}else h&&h.each((function(o,l){a(r,o)&&o.dirty();var h=t.getPerformArgs(o,r.block);h.skip=!e.performRawSeries&&i.isSeriesFiltered(o.context.model),y(o,n),s|=o.perform(h)}))}})),t.unfinished|=s}d.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context;return{step:!e&&i.progressiveEnabled&&(!n||n.incrementalRender)&&t.__idxInPipeline>i.bockIndex?i.step:null}}},d.getPipeline=function(t){return this._pipelineMap.get(t)},d.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&n>=i.threshold,r=t.get("large")&&n>=t.get("largeThreshold");t.pipelineContext=i.context={incrementalRender:o,large:r}},d.restorePipelines=function(t){var e=this,i=e._pipelineMap=s();t.eachSeries((function(t){var n=t.getProgressive(),o=t.uid;i.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),bockIndex:-1,step:n||700,count:0}),w(e,t,t.dataTask)}))},d.prepareStageTasks=function(t,e){var i=this._stageTaskMap,n=this.ecInstance.getModel(),r=this.api;o(t,(function(t){var e=i.get(t.uid)||i.set(t.uid,[]);t.reset&&function(t,e,i,n,o){var r=i.seriesTaskMap||(i.seriesTaskMap=s()),a=e.seriesType,h=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):a?n.eachRawSeriesByType(a,c):h&&h(n,o).each(c);function c(i){var s=i.uid,a=r.get(s)||r.set(s,l({plan:C,reset:I,count:b}));a.context={model:i,ecModel:n,api:o,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},w(t,i,a)}var u=t._pipelineMap;r.each((function(t,e){u.get(e)||(t.dispose(),r.removeKey(e))}))}(this,t,e,n,r),t.overallReset&&function(t,e,i,n,r){var a=i.overallTask=i.overallTask||l({reset:m});a.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:t};var h=a.agentStubMap=a.agentStubMap||s(),c=e.seriesType,u=e.getTargetSeries,p=!0,g=e.isOverallFilter;c?n.eachRawSeriesByType(c,d):u?u(n,r).each(d):(p=!1,o(n.getSeries(),d));function d(e){var i=e.uid,n=h.get(i)||h.set(i,l({reset:v,onDirty:x}));n.context={model:e,overallProgress:p,isOverallFilter:g},n.agent=a,n.__block=p,w(t,e,n)}var f=t._pipelineMap;h.each((function(t,e){f.get(e)||(t.dispose(),h.removeKey(e))}))}(this,t,e,n,r)}),this)},d.prepareView=function(t,e,i,n){var o=t.renderTask,r=o.context;r.model=e,r.ecModel=i,r.api=n,o.__block=!t.incrementalPrepareRender,w(this,e,o)},d.performDataProcessorTasks=function(t,e,i){f(this,t,e,i,{block:!0})},d.performVisualTasks=function(t,e,i,n){f(this,t,e,i,n)},d.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e|=t.dataTask.perform()})),this.unfinished|=e},d.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.bockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};var y=d.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function m(t){t.overallReset(t.ecModel,t.api,t.payload)}function v(t,e){return t.overallProgress&&_}function _(){this.agent.dirty(),this.getDownstream().dirty()}function x(){this.agent&&this.agent.dirty()}function C(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function I(t){if(t.useClearVisual&&t.data.clearAllVisual(),(t.resetDefines=p(t.reset(t.model,t.ecModel,t.api,t.payload))).length)return A}function A(t,e){for(var i=e.data,n=e.resetDefines,o=0;o<n.length;o++){var r=n[o];if(r&&r.dataEach)for(var s=t.start;s<t.end;s++)r.dataEach(i,s);else r&&r.progress&&r.progress(t,i)}}function b(t){return t.data.count()}function w(t,e,i){var n=e.uid,o=t._pipelineMap.get(n);!o.head&&(o.head=i),o.tail&&o.tail.pipe(i),o.tail=i,i.__idxInPipeline=o.count++,i.__pipeline=o}function S(t){M=null;try{t(E,T)}catch(t){}return M}g.wrapStageHandler=function(t,e){return r(t)&&(t={overallReset:t,seriesType:S(t)}),t.uid=h("stageHandler"),e&&(t.visualType=e),t};var M,E={},T={};function P(t,e){for(var i in e.prototype)t[i]=a}P(E,c),P(T,u),E.eachSeriesByType=E.eachRawSeriesByType=function(t){M=t},E.eachComponent=function(t){"series"===t.mainType&&t.subType&&(M=t.subType)};var L=g;t.exports=L},function(t,e){var i=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],n={color:i,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],i]};t.exports=n},function(t,e){var i=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],n={color:i,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:i[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:i},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};n.categoryAxis.splitLine.show=!1;var o=n;t.exports=o},function(t,e,i){var n=i(0),o=i(25),r=i(17),s=i(42),a=i(11),l=i(6);l.getLayoutRect;e.getLayoutRect=l.getLayoutRect;var h=i(129);e.completeDimensions=h;var c=i(41);e.createDimensions=c;var u=i(18);e.createSymbol=u.createSymbol,e.createList=function(t){return o(t.getSource(),t)},e.createScale=function(t,e){var i=e;a.isInstance(e)||(i=new a(e),n.mixin(i,s));var o=r.createScaleByModel(i);return o.setExtent(t[0],t[1]),r.niceScaleExtent(o,i),o},e.mixinAxisModelCommonMethods=function(t){n.mixin(t,s)}},function(t,e,i){var n=i(0),o=i(68),r=i(130),s=o.prototype,a=o.extend({type:"ordinal",init:function(t,e){t&&!n.isArray(t)||(t=new r({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),s.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return s.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(s.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e,!1))},niceTicks:n.noop,niceExtent:n.noop});a.create=function(){return new a};var l=a;t.exports=l},function(t,e,i){var n=i(0),o=i(3),r=i(8),s=i(131),a=i(69),l=a.prototype,h=Math.ceil,c=Math.floor,u=a.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return r.formatTime(e[0],i,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=o.round(c(e[0]/n)*n)),t.fixMax||(e[1]=o.round(h(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,r=n[1]-n[0],a=r/t;null!=e&&a<e&&(a=e),null!=i&&a>i&&(a=i);var l=p.length,u=function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=o+1:n=o}return i}(p,a,0,l),g=p[Math.min(u,l-1)],d=g[1];if("year"===g[0]){var f=r/d;d*=o.nice(f/t,!0)}var y=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,m=[Math.round(h((n[0]-y)/d)*d+y),Math.round(c((n[1]-y)/d)*d+y)];s.fixExtent(m,n),this._stepLvl=g,this._interval=d,this._niceExtent=m},parse:function(t){return+o.parseDate(t)}});n.each(["contain","normalize"],(function(t){u.prototype[t]=function(e){return l[t].call(this,this.parse(e))}}));var p=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];u.create=function(t){return new u({useUTC:t.ecModel.get("useUTC")})};var g=u;t.exports=g},function(t,e,i){var n=i(0),o=i(68),r=i(3),s=i(69),a=o.prototype,l=s.prototype,h=r.getPrecisionSafe,c=r.round,u=Math.floor,p=Math.ceil,g=Math.pow,d=Math.log,f=o.extend({type:"log",base:10,$constructor:function(){o.apply(this,arguments),this._originalScale=new s},getTicks:function(){var t=this._originalScale,e=this._extent,i=t.getExtent();return n.map(l.getTicks.call(this),(function(n){var o=r.round(g(this.base,n));return o=n===e[0]&&t.__fixMin?y(o,i[0]):o,o=n===e[1]&&t.__fixMax?y(o,i[1]):o}),this)},getLabel:l.getLabel,scale:function(t){return t=a.scale.call(this,t),g(this.base,t)},setExtent:function(t,e){var i=this.base;t=d(t)/d(i),e=d(e)/d(i),l.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=a.getExtent.call(this);e[0]=g(t,e[0]),e[1]=g(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(e[0]=y(e[0],n[0])),i.__fixMax&&(e[1]=y(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=d(t[0])/d(e),t[1]=d(t[1])/d(e),a.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e,!0,(function(t){return t>0})))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=r.quantity(i);for(t/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var o=[r.round(p(e[0]/n)*n),r.round(u(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(t){l.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function y(t,e){return c(t,h(e))}n.each(["contain","normalize"],(function(t){f.prototype[t]=function(e){return e=d(e)/d(this.base),a[t].call(this,e)}})),f.create=function(){return new f};var m=f;t.exports=m},function(t,e,i){i(234),i(1).extendComponentView({type:"dataset"})},function(t,e,i){var n=i(1),o=i(67).detectSourceFormat,r=i(50).SERIES_LAYOUT_BY_COLUMN,s=n.extendComponentModel({type:"dataset",defaultOption:{seriesLayoutBy:r,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}});t.exports=s},function(t,e,i){var n=i(1);i(236),i(237);var o=i(34),r=i(54),s=i(239);i(55),n.registerVisual(o("line","circle","line")),n.registerLayout(r("line")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,s("line"))},function(t,e,i){i(5).__DEV__;var n=i(25),o=i(14).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return n(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=o},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(53),r=i(71),s=i(238),a=i(2),l=i(4),h=i(135),c=h.Polyline,u=h.Polygon,p=i(24);function g(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function d(t){return"number"==typeof t?t:t?.3:0}function f(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function y(t){return t>=0?1:-1}function m(t,e,i){return"polar"===t.type?function(t,e,i){var n=t.getAngleAxis(),o=t.getRadiusAxis().getExtent(),r=n.getExtent(),s=Math.PI/180,l=new a.Sector({shape:{cx:t.cx,cy:t.cy,r0:o[0],r:o[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:n.inverse}});return e&&(l.shape.endAngle=-r[0]*s,a.initProps(l,{shape:{endAngle:-r[1]*s}},i)),l}(t,e,i):function(t,e,i){var n=f(t.getAxis("x")),o=f(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=Math.min(n[0],n[1]),l=Math.min(o[0],o[1]),h=Math.max(n[0],n[1])-s,c=Math.max(o[0],o[1])-l,u=i.get("lineStyle.width")||2,p=i.get("clipOverflow")?u/2:Math.max(h,c);r?(l-=p,c+=2*p):(s-=p,h+=2*p);var g=new a.Rect({shape:{x:s,y:l,width:h,height:c}});return e&&(g.shape[r?"width":"height"]=0,a.initProps(g,{shape:{width:h,height:c}},i)),g}(t,e,i)}function v(t,e,i){for(var n=e.getBaseAxis(),o="x"===n.dim||"radius"===n.dim?0:1,r=[],s=0;s<t.length-1;s++){var a=t[s+1],l=t[s];r.push(l);var h=[];switch(i){case"end":h[o]=a[o],h[1-o]=l[1-o],r.push(h);break;case"middle":var c=(l[o]+a[o])/2,u=[];h[o]=u[o]=c,h[1-o]=l[1-o],u[1-o]=a[1-o],r.push(h),r.push(u);break;default:h[o]=l[o],h[1-o]=a[1-o],r.push(h)}}return t[s]&&r.push(t[s]),r}var _=p.extend({type:"line",init:function(){var t=new a.Group,e=new o;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var o=t.coordinateSystem,r=this.group,s=t.getData(),l=t.getModel("lineStyle"),h=t.getModel("areaStyle"),c=s.mapArray(s.getItemLayout,!0),u="polar"===o.type,p=this._coordSys,f=this._symbolDraw,_=this._polyline,x=this._polygon,C=this._lineGroup,I=t.get("animation"),A=!h.isEmpty(),b=function(t,e,i,n){var o=e.getBaseAxis(),r=e.getOtherAxis(o),s=0,a=r.scale.getExtent();if("start"===n)s=a[0];else if("end"===n)s=a[1];else{(a=r.scale.getExtent())[0]>0?s=a[0]:a[1]<0&&(s=a[1])}var l=r.dim,h="x"===l||"radius"===l?1:0,c=i.mapDimension(l);return i.mapArray(c?[c]:[],(function(t,n){for(var r,a=i.stackedOn;a&&y(a.get(c,n))===y(t);){r=a;break}var l=[];return l[h]=i.get(o.dim,n),l[1-h]=r?r.get(c,n,!0):s,e.dataToPoint(l)}),!0)}(0,o,s,h.get("origin")),w=t.get("showSymbol"),S=w&&!u&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(s,o),M=this._data;M&&M.eachItemGraphicEl((function(t,e){t.__temp&&(r.remove(t),M.setItemGraphicEl(e,null))})),w||f.remove(),r.add(C);var E=!u&&t.get("step");_&&p.type===o.type&&E===this._step?(A&&!x?x=this._newPolygon(c,b,o,I):x&&!A&&(C.remove(x),x=this._polygon=null),C.setClipPath(m(o,!1,t)),w&&f.updateData(s,S),s.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),g(this._stackedOnPoints,b)&&g(this._points,c)||(I?this._updateAnimation(s,b,o,i,E):(E&&(c=v(c,o,E),b=v(b,o,E)),_.setShape({points:c}),x&&x.setShape({points:c,stackedOnPoints:b})))):(w&&f.updateData(s,S),E&&(c=v(c,o,E),b=v(b,o,E)),_=this._newPolyline(c,o,I),A&&(x=this._newPolygon(c,b,o,I)),C.setClipPath(m(o,!0,t)));var T=function(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()){for(var o,r=i.length-1;r>=0;r--)if(i[r].dimension<2){o=i[r];break}if(o&&"cartesian2d"===e.type){var s=o.dimension,l=t.dimensions[s],h=e.getAxis(l),c=n.map(o.stops,(function(t){return{coord:h.toGlobalCoord(h.dataToCoord(t.value)),color:t.color}})),u=c.length,p=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),p.reverse());var g=c[0].coord-10,d=c[u-1].coord+10,f=d-g;if(f<.001)return"transparent";n.each(c,(function(t){t.offset=(t.coord-g)/f})),c.push({offset:u?c[u-1].offset:.5,color:p[1]||"transparent"}),c.unshift({offset:u?c[0].offset:.5,color:p[0]||"transparent"});var y=new a.LinearGradient(0,0,0,0,c,!0);return y[l]=g,y[l+"2"]=d,y}}}(s,o)||s.getVisual("color");_.useStyle(n.defaults(l.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"}));var P=t.get("smooth");if(P=d(t.get("smooth")),_.setShape({smooth:P,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),x){var L=s.stackedOn,N=0;if(x.useStyle(n.defaults(h.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel"})),L)N=d(L.hostModel.get("smooth"));x.setShape({smooth:P,stackedOnSmooth:N,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=s,this._coordSys=o,this._stackedOnPoints=b,this._points=c,this._step=E},dispose:function(){},highlight:function(t,e,i,n){var o=t.getData(),s=l.queryDataIndex(o,n);if(!(s instanceof Array)&&null!=s&&s>=0){var a=o.getItemGraphicEl(s);if(!a){var h=o.getItemLayout(s);if(!h)return;(a=new r(o,s)).position=h,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(h[0])||isNaN(h[1]),a.__temp=!0,o.setItemGraphicEl(s,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else p.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),r=l.queryDataIndex(o,n);if(null!=r&&r>=0){var s=o.getItemGraphicEl(r);s&&(s.__temp?(o.setItemGraphicEl(r,null),this.group.remove(s)):s.downplay())}else p.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new c({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new u({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale("ordinal")[0];if(i&&i.isLabelIgnored)return n.bind(i.isLabelIgnored,i)},_updateAnimation:function(t,e,i,n,o){var r=this._polyline,l=this._polygon,h=t.hostModel,c=s(this._data,t,this._stackedOnPoints,e,this._coordSys,i),u=c.current,p=c.stackedOnCurrent,g=c.next,d=c.stackedOnNext;o&&(u=v(c.current,i,o),p=v(c.stackedOnCurrent,i,o),g=v(c.next,i,o),d=v(c.stackedOnNext,i,o)),r.shape.__points=c.current,r.shape.points=u,a.updateProps(r,{shape:{points:g}},h),l&&(l.setShape({points:u,stackedOnPoints:p}),a.updateProps(l,{shape:{points:g,stackedOnPoints:d}},h));for(var f=[],y=c.status,m=0;m<y.length;m++){if("="===y[m].cmd){var _=t.getItemGraphicEl(y[m].idx1);_&&f.push({el:_,ptIdx:m})}}r.animators&&r.animators.length&&r.animators[0].during((function(){for(var t=0;t<f.length;t++){f[t].el.attr("position",r.shape.__points[f[t].ptIdx])}}))},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=_},function(t,e){function i(t){return t>=0?1:-1}function n(t,e,n){for(var o,r=t.getBaseAxis(),s=t.getOtherAxis(r),a=r.onZero?0:s.scale.getExtent()[0],l=s.dim,h="x"===l||"radius"===l?1:0,c=e.stackedOn,u=e.get(l,n);c&&i(c.get(l,n))===i(u);){o=c;break}var p=[];return p[h]=e.get(r.dim,n),p[1-h]=o?o.get(l,n,!0):a,t.dataToPoint(p)}t.exports=function(t,e,i,o,r,s){for(var a=function(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}(t,e),l=[],h=[],c=[],u=[],p=[],g=[],d=[],f=s.dimensions,y=0;y<a.length;y++){var m=a[y],v=!0;switch(m.cmd){case"=":var _=t.getItemLayout(m.idx),x=e.getItemLayout(m.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=x.slice()),l.push(_),h.push(x),c.push(i[m.idx]),u.push(o[m.idx1]),d.push(e.getRawIndex(m.idx1));break;case"+":var C=m.idx;l.push(r.dataToPoint([e.get(f[0],C,!0),e.get(f[1],C,!0)])),h.push(e.getItemLayout(C).slice()),c.push(n(r,e,C)),u.push(o[C]),d.push(e.getRawIndex(C));break;case"-":C=m.idx;var I=t.getRawIndex(C);I!==C?(l.push(t.getItemLayout(C)),h.push(s.dataToPoint([t.get(f[0],C,!0),t.get(f[1],C,!0)])),c.push(i[C]),u.push(n(s,t,C)),d.push(I)):v=!1}v&&(p.push(m),g.push(g.length))}g.sort((function(t,e){return d[t]-d[e]}));var A=[],b=[],w=[],S=[],M=[];for(y=0;y<g.length;y++){C=g[y];A[y]=l[C],b[y]=h[C],w[y]=c[C],S[y]=u[C],M[y]=p[C]}return{current:A,next:b,stackedOnCurrent:w,stackedOnNext:S,status:M}}},function(t,e){var i={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e},nearest:function(t){return t[0]}},n=function(t,e){return Math.round(t.length/2)};t.exports=function(t){return{seriesType:t,reset:function(t,e,o){var r=t.getData(),s=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&s){var l,h=a.getBaseAxis(),c=a.getOtherAxis(h),u=h.getExtent(),p=u[1]-u[0],g=Math.round(r.count()/p);if(g>1)"string"==typeof s?l=i[s]:"function"==typeof s&&(l=s),l&&t.setData(r.downSample(c.dim,1/g,l,n))}}}}},function(t,e,i){var n=i(0),o=i(241);function r(t){o.call(this,t)}r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis("x"),o=this.getAxis("y");return(i=i||[])[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=o.toGlobalCoord(o.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale.getExtent(),n=this.getAxis("y").scale.getExtent();return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),t[0]),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(n[0],n[1]),t[1]),Math.max(n[0],n[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return(e=e||[])[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(0);function o(t){return this._axes[t]}var r=function(t){this._axes={},this._dimList=[],this.name=t||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return n.map(this._dimList,o,this)},getAxesByScale:function(t){return t=t.toLowerCase(),n.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var r=i[o],s=this._axes[r];n[r]=s[e](t[r])}return n}};var s=r;t.exports=s},function(t,e,i){var n=i(0),o=i(27),r=function(t,e,i,n,r){o.call(this,t,e,i),this.type=n||"value",this.position=r||"bottom"};r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){i(136);var n=i(13).extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=n},function(t,e,i){i(136),i(245)},function(t,e,i){var n=i(0),o=i(2),r=i(35),s=i(36),a=i(138),l=r.ifIgnoreOnTick,h=r.getInterval,c=["axisLine","axisTickLabel","axisName"],u=["splitArea","splitLine"],p=s.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,i,s){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),t.get("show")){var h=t.getCoordSysModel(),g=a.layout(h,t),d=new r(t,g);n.each(c,d.add,d),this._axisGroup.add(d.getGroup()),n.each(u,(function(e){t.get(e+".show")&&this["_"+e](t,h,g.labelInterval)}),this),o.groupTransition(l,this._axisGroup,t),p.superCall(this,"render",t,e,i,s)}},_splitLine:function(t,e,i){var r=t.axis;if(!r.scale.isBlank()){var s=t.getModel("splitLine"),a=s.getModel("lineStyle"),c=a.get("color"),u=h(s,i);c=n.isArray(c)?c:[c];for(var p=e.coordinateSystem.getRect(),g=r.isHorizontal(),d=0,f=r.getTicksCoords(),y=r.scale.getTicks(),m=t.get("axisLabel.showMinLabel"),v=t.get("axisLabel.showMaxLabel"),_=[],x=[],C=a.getLineStyle(),I=0;I<f.length;I++)if(!l(r,I,u,f.length,m,v)){var A=r.toGlobalCoord(f[I]);g?(_[0]=A,_[1]=p.y,x[0]=A,x[1]=p.y+p.height):(_[0]=p.x,_[1]=A,x[0]=p.x+p.width,x[1]=A);var b=d++%c.length;this._axisGroup.add(new o.Line(o.subPixelOptimizeLine({anid:"line_"+y[I],shape:{x1:_[0],y1:_[1],x2:x[0],y2:x[1]},style:n.defaults({stroke:c[b]},C),silent:!0})))}}},_splitArea:function(t,e,i){var r=t.axis;if(!r.scale.isBlank()){var s=t.getModel("splitArea"),a=s.getModel("areaStyle"),c=a.get("color"),u=e.coordinateSystem.getRect(),p=r.getTicksCoords(),g=r.scale.getTicks(),d=r.toGlobalCoord(p[0]),f=r.toGlobalCoord(p[0]),y=0,m=h(s,i),v=a.getAreaStyle();c=n.isArray(c)?c:[c];for(var _=t.get("axisLabel.showMinLabel"),x=t.get("axisLabel.showMaxLabel"),C=1;C<p.length;C++)if(!l(r,C,m,p.length,_,x)){var I,A,b,w,S=r.toGlobalCoord(p[C]);r.isHorizontal()?(I=d,A=u.y,b=S-I,w=u.height):(I=u.x,A=f,b=u.width,w=S-A);var M=y++%c.length;this._axisGroup.add(new o.Rect({anid:"area_"+g[C],shape:{x:I,y:A,width:b,height:w},style:n.defaults({fill:c[M]},v),silent:!0})),d=I+b,f=A+w}}}});p.extend({type:"xAxis"}),p.extend({type:"yAxis"})},function(t,e,i){var n=i(1),o=i(0),r=i(70).layout;i(89),i(247),i(248),i(55),n.registerLayout(o.curry(r,"bar")),n.registerVisual((function(t){t.eachSeriesByType("bar",(function(t){t.getData().setVisual("legendSymbol","roundRect")}))}))},function(t,e,i){var n=i(139).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});t.exports=n},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(2),s=i(140).setLabel,a=i(11),l=i(249),h=["itemStyle","barBorderWidth"];o.extend(a.prototype,l);var c=n.extendChartView({type:"bar",render:function(t,e,i){var n=t.get("coordinateSystem");return"cartesian2d"!==n&&"polar"!==n||this._render(t,e,i),this.group},dispose:o.noop,_render:function(t,e,i){var n,o=this.group,s=t.getData(),a=this._data,l=t.coordinateSystem,h=l.getBaseAxis();"cartesian2d"===l.type?n=h.isHorizontal():"polar"===l.type&&(n="angle"===h.dim);var c=t.isAnimationEnabled()?t:null;s.diff(a).add((function(e){if(s.hasValue(e)){var i=s.getItemModel(e),r=d[l.type](s,e,i),a=u[l.type](s,e,i,r,n,c);s.setItemGraphicEl(e,a),o.add(a),f(a,s,e,i,r,t,n,"polar"===l.type)}})).update((function(e,i){var h=a.getItemGraphicEl(i);if(s.hasValue(e)){var p=s.getItemModel(e),g=d[l.type](s,e,p);h?r.updateProps(h,{shape:g},c,e):h=u[l.type](s,e,p,g,n,c,!0),s.setItemGraphicEl(e,h),o.add(h),f(h,s,e,p,g,t,n,"polar"===l.type)}else o.remove(h)})).remove((function(t){var e=a.getItemGraphicEl(t);"cartesian2d"===l.type?e&&p(t,c,e):e&&g(t,c,e)})).execute(),this._data=s},remove:function(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl((function(e){"sector"===e.type?g(e.dataIndex,t,e):p(e.dataIndex,t,e)})):i.removeAll()}}),u={cartesian2d:function(t,e,i,n,s,a,l){var h=new r.Rect({shape:o.extend({},n)});if(a){var c=s?"height":"width",u={};h.shape[c]=0,u[c]=n[c],r[l?"updateProps":"initProps"](h,{shape:u},a,e)}return h},polar:function(t,e,i,n,s,a,l){var h=new r.Sector({shape:o.extend({},n)});if(a){var c=s?"r":"endAngle",u={};h.shape[c]=s?0:n.startAngle,u[c]=n[c],r[l?"updateProps":"initProps"](h,{shape:u},a,e)}return h}};function p(t,e,i){i.style.text=null,r.updateProps(i,{shape:{width:0}},e,t,(function(){i.parent&&i.parent.remove(i)}))}function g(t,e,i){i.style.text=null,r.updateProps(i,{shape:{r:i.shape.r0}},e,t,(function(){i.parent&&i.parent.remove(i)}))}var d={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=function(t,e){var i=t.get(h)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}(i,n),r=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+s*o/2,width:n.width-r*o,height:n.height-s*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function f(t,e,i,n,a,l,h,c){var u=e.getItemVisual(i,"color"),p=e.getItemVisual(i,"opacity"),g=n.getModel("itemStyle"),d=n.getModel("emphasis.itemStyle").getBarItemStyle();c||t.setShape("r",g.get("barBorderRadius")||0),t.useStyle(o.defaults({fill:u,opacity:p},g.getBarItemStyle()));var f=n.getShallow("cursor");f&&t.attr("cursor",f);var y=h?a.height>0?"bottom":"top":a.width>0?"left":"right";c||s(t.style,d,n,u,l,i,y),r.setHoverStyle(t,d)}t.exports=c},function(t,e,i){var n=i(39)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),o={getBarItemStyle:function(t){var e=n(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}};t.exports=o},function(t,e,i){var n=i(1),o=i(0);i(251),i(252);var r=i(141),s=i(74),a=i(253),l=i(56);r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(s("pie")),n.registerLayout(o.curry(a,"pie")),n.registerProcessor(l("pie"))},function(t,e,i){var n=i(1),o=i(43),r=i(0),s=i(4),a=i(3).getPercentWithPrecision,l=i(90),h=n.extendSeriesModel({type:"series.pie",init:function(t){h.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this.getRawData()),this._defaultLabelLine(t)},mergeOption:function(t){h.superCall(this,"mergeOption",t),this.updateSelectedMap(this.getRawData())},getInitialData:function(t,e){return o(this,["value"])},getDataParams:function(t){var e=this.getData(),i=h.superCall(this,"getDataParams",t),n=[];return e.each(e.mapDimension("value"),(function(t){n.push(t)})),i.percent=a(n,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){s.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});r.mixin(h,l);var c=h;t.exports=c},function(t,e,i){var n=i(0),o=i(2),r=i(24);function s(t,e,i,n){var o=e.getData(),r=this.dataIndex,s=o.getName(r),l=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),o.each((function(t){a(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),l,i)}))}function a(t,e,i,n,o){var r=(e.startAngle+e.endAngle)/2,s=i?n:0,a=[Math.cos(r)*s,Math.sin(r)*s];o?t.animate().when(200,{position:a}).start("bounceOut"):t.attr("position",a)}function l(t,e){o.Group.call(this);var i=new o.Sector({z2:2}),n=new o.Polyline,r=new o.Text;function s(){n.ignore=n.hoverIgnore,r.ignore=r.hoverIgnore}function a(){n.ignore=n.normalIgnore,r.ignore=r.normalIgnore}this.add(i),this.add(n),this.add(r),this.updateData(t,e,!0),this.on("emphasis",s).on("normal",a).on("mouseover",s).on("mouseout",a)}var h=l.prototype;h.updateData=function(t,e,i){var r=this.childAt(0),s=t.hostModel,l=t.getItemModel(e),h=t.getItemLayout(e),c=n.extend({},h);(c.label=null,i)?(r.setShape(c),"scale"===s.getShallow("animationType")?(r.shape.r=h.r0,o.initProps(r,{shape:{r:h.r}},s,e)):(r.shape.endAngle=h.startAngle,o.updateProps(r,{shape:{endAngle:h.endAngle}},s,e))):o.updateProps(r,{shape:c},s,e);var u=t.getItemVisual(e,"color");r.useStyle(n.defaults({lineJoin:"bevel",fill:u},l.getModel("itemStyle").getItemStyle())),r.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var p=l.getShallow("cursor");function g(){r.stopAnimation(!0),r.animateTo({shape:{r:h.r+s.get("hoverOffset")}},300,"elasticOut")}function d(){r.stopAnimation(!0),r.animateTo({shape:{r:h.r}},300,"elasticOut")}p&&r.attr("cursor",p),a(this,t.getItemLayout(e),s.isSelected(null,e),s.get("selectedOffset"),s.get("animation")),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&s.isAnimationEnabled()&&r.on("mouseover",g).on("mouseout",d).on("emphasis",g).on("normal",d),this._updateLabel(t,e),o.setHoverStyle(this)},h._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),a=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");o.updateProps(i,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},r,e),o.updateProps(n,{style:{x:a.x,y:a.y}},r,e),n.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var h=s.getModel("label"),c=s.getModel("emphasis.label"),u=s.getModel("labelLine"),p=s.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color");o.setLabelStyle(n.style,n.hoverStyle={},h,c,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var g=u.get("smooth");g&&!0===g&&(g=.4),i.setShape({smooth:g})},n.inherits(l,o.Group);var c=r.extend({type:"pie",init:function(){var t=new o.Group;this._sectorGroup=t},render:function(t,e,i,o){if(!o||o.from!==this.uid){var r=t.getData(),a=this._data,h=this.group,c=e.get("animation"),u=!a,p=t.get("animationType"),g=n.curry(s,this.uid,t,c,i),d=t.get("selectedMode");if(r.diff(a).add((function(t){var e=new l(r,t);u&&"scale"!==p&&e.eachChild((function(t){t.stopAnimation(!0)})),d&&e.on("click",g),r.setItemGraphicEl(t,e),h.add(e)})).update((function(t,e){var i=a.getItemGraphicEl(e);i.updateData(r,t),i.off("click"),d&&i.on("click",g),h.add(i),r.setItemGraphicEl(t,i)})).remove((function(t){var e=a.getItemGraphicEl(t);h.remove(e)})).execute(),c&&u&&r.count()>0&&"scale"!==p){var f=r.getItemLayout(0),y=Math.max(i.getWidth(),i.getHeight())/2,m=n.bind(h.removeClipPath,h);h.setClipPath(this._createClipPath(f.cx,f.cy,y,f.startAngle,f.clockwise,m,t))}this._data=r}},dispose:function(){},_createClipPath:function(t,e,i,n,r,s,a){var l=new o.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:r}});return o.initProps(l,{shape:{endAngle:n+(r?1:-1)*Math.PI*2}},a,s),l},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,r=Math.sqrt(n*n+o*o);return r<=i.r&&r>=i.r0}}});t.exports=c},function(t,e,i){var n=i(3),o=n.parsePercent,r=n.linearMap,s=i(254),a=i(0),l=2*Math.PI,h=Math.PI/180;t.exports=function(t,e,i,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),n=e.mapDimension("value"),c=t.get("center"),u=t.get("radius");a.isArray(u)||(u=[0,u]),a.isArray(c)||(c=[c,c]);var p=i.getWidth(),g=i.getHeight(),d=Math.min(p,g),f=o(c[0],p),y=o(c[1],g),m=o(u[0],d/2),v=o(u[1],d/2),_=-t.get("startAngle")*h,x=t.get("minAngle")*h,C=0;e.each(n,(function(t){!isNaN(t)&&C++}));var I=e.getSum(n),A=Math.PI/(I||C)*2,b=t.get("clockwise"),w=t.get("roseType"),S=t.get("stillShowZeroSum"),M=e.getDataExtent(n);M[0]=0;var E=l,T=0,P=_,L=b?1:-1;if(e.each(n,(function(t,i){var n;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:f,cy:y,r0:m,r:w?NaN:v});else{(n="area"!==w?0===I&&S?A:t*A:l/C)<x?(n=x,E-=x):T+=t;var o=P+L*n;e.setItemLayout(i,{angle:n,startAngle:P,endAngle:o,clockwise:b,cx:f,cy:y,r0:m,r:w?r(t,M,[m,v]):v}),P=o}}),!0),E<l&&C)if(E<=.001){var N=l/C;e.each(n,(function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=N,n.startAngle=_+L*i*N,n.endAngle=_+L*(i+1)*N}}))}else A=E/T,P=_,e.each(n,(function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),o=n.angle===x?x:t*A;n.startAngle=P,n.endAngle=P+L*o,P+=L*o}}));s(t,v,p,g)}))}},function(t,e,i){var n=i(20);function o(t,e,i,n,o,r,s){function a(e,i,n,o){for(var r=e;r<i;r++)if(t[r].y+=n,r>e&&r+1<i&&t[r+1].y>t[r].y+t[r].height)return void l(r,n/2);l(i-1,n/2)}function l(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function h(t,e,i,n,o,r){for(var s=e?Number.MAX_VALUE:0,a=0,l=t.length;a<l;a++)if("center"!==t[a].position){var h=Math.abs(t[a].y-n),c=t[a].len,u=t[a].len2,p=h<o+c?Math.sqrt((o+c+u)*(o+c+u)-h*h):Math.abs(t[a].x-i);e&&p>=s&&(p=s-10),!e&&p<=s&&(p=s+10),t[a].x=i+p*r,s=p}}t.sort((function(t,e){return t.y-e.y}));for(var c,u=0,p=t.length,g=[],d=[],f=0;f<p;f++)(c=t[f].y-u)<0&&a(f,p,-c),u=t[f].y+t[f].height;s-u<0&&l(p-1,u-s);for(f=0;f<p;f++)t[f].y>=i?d.push(t[f]):g.push(t[f]);h(g,!1,e,i,n,o),h(d,!0,e,i,n,o)}t.exports=function(t,e,i,r){var s,a,l=t.getData(),h=[],c=!1;l.each((function(i){var o,r,u,p,g=l.getItemLayout(i),d=l.getItemModel(i),f=d.getModel("label"),y=f.get("position")||d.get("emphasis.label.position"),m=d.getModel("labelLine"),v=m.get("length"),_=m.get("length2"),x=(g.startAngle+g.endAngle)/2,C=Math.cos(x),I=Math.sin(x);s=g.cx,a=g.cy;var A="inside"===y||"inner"===y;if("center"===y)o=g.cx,r=g.cy,p="center";else{var b=(A?(g.r+g.r0)/2*C:g.r*C)+s,w=(A?(g.r+g.r0)/2*I:g.r*I)+a;if(o=b+3*C,r=w+3*I,!A){var S=b+C*(v+e-g.r),M=w+I*(v+e-g.r),E=S+(C<0?-1:1)*_;o=E+(C<0?-5:5),r=M,u=[[b,w],[S,M],[E,M]]}p=A?"center":C>0?"left":"right"}var T=f.getFont(),P=f.get("rotate")?C<0?-x+Math.PI:-x:0,L=t.getFormattedLabel(i,"normal")||l.getName(i),N=n.getBoundingRect(L,T,p,"top");c=!!P,g.label={x:o,y:r,position:y,height:N.height,len:v,len2:_,linePoints:u,textAlign:p,verticalAlign:"middle",rotation:P,inside:A},A||h.push(g.label)})),!c&&t.get("avoidLabelOverlap")&&function(t,e,i,n,r,s){for(var a=[],l=[],h=0;h<t.length;h++)t[h].x<e?a.push(t[h]):l.push(t[h]);for(o(l,e,i,n,1,0,s),o(a,e,i,n,-1,0,s),h=0;h<t.length;h++){var c=t[h].linePoints;if(c){var u=c[1][0]-c[2][0];t[h].x<e?c[2][0]=t[h].x+3:c[2][0]=t[h].x-3,c[1][1]=c[2][1]=t[h].y,c[1][0]=c[2][0]+u}}}(h,s,a,e,0,r)}},function(t,e,i){var n=i(1);i(256),i(257);var o=i(34),r=i(54);i(55),n.registerVisual(o("scatter","circle")),n.registerLayout(r("scatter"))},function(t,e,i){var n=i(25),o=i(14).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return n(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},progressive:null}});t.exports=o},function(t,e,i){var n=i(1),o=i(53),r=i(258),s=i(54);n.extendChartView({type:"scatter",render:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n),this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=s().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,n=e.pipelineContext.large;return i&&n===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=n?new r:new o,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},function(t,e,i){var n=i(2),o=i(18).createSymbol,r=i(83),s=n.extendShape({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var i=e.points,n=e.size,o=this.symbolProxy,r=o.shape;if(!((t.getContext?t.getContext():t)&&n[0]<4))for(var s=0;s<i.length;){var a=i[s++],l=i[s++];isNaN(a)||isNaN(l)||(r.x=a-n[0]/2,r.y=l-n[1]/2,r.width=n[0],r.height=n[1],o.buildPath(t,r,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var o=0;o<i.length;){var r=i[o++],s=i[o++];isNaN(r)||isNaN(s)||t.fillRect(r-n[0]/2,s-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,o=i.size,r=Math.max(o[0],4),s=Math.max(o[1],4),a=n.length/2-1;a>=0;a--){var l=2*a,h=n[l]-r/2,c=n[l+1]-s/2;if(t>=h&&e>=c&&t<=h+r&&e<=c+s)return a}return-1}});function a(){this.group=new n.Group}var l=a.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(t){this.group.removeAll();var e=new s({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},l.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild((function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape("points",e)}))}},l.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(t,e){var i;this._incremental?(i=new s,this._incremental.addDisplayable(i,!0)):((i=new s({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!!this._incremental)},l._setCommon=function(t,e,i){var n=e.hostModel,r=e.getVisual("symbolSize");t.setShape("size",r instanceof Array?r:[r,r]),t.symbolProxy=o(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(n.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("color");a&&t.setColor(a),i||(t.seriesIndex=n.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>=0&&(t.dataIndex=i+(t.startIndex||0))})))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var h=a;t.exports=h},function(t,e,i){var n=i(1);i(260),i(265),i(266);var o=i(74),r=i(34),s=i(267),a=i(56),l=i(268);n.registerVisual(o("radar")),n.registerVisual(r("radar","circle")),n.registerLayout(s),n.registerProcessor(a("radar")),n.registerPreprocessor(l)},function(t,e,i){i(261),i(263),i(264)},function(t,e,i){var n=i(0),o=i(262),r=i(69),s=i(3),a=i(17),l=a.getScaleExtent,h=a.niceScaleExtent,c=i(19);function u(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=n.map(t.getIndicatorModels(),(function(t,e){var i="indicator_"+e,n=new o(i,new r);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n}),this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}u.prototype.getIndicatorAxes=function(){return this._indicatorAxes},u.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},u.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},u.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,r=Math.atan2(-i,e),s=1/0,a=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],c=Math.abs(r-h.angle);c<s&&(o=h,a=l,s=c)}return[a,+(o&&o.coodToData(n))]},u.prototype.resize=function(t,e){var i=t.get("center"),o=e.getWidth(),r=e.getHeight(),a=Math.min(o,r)/2;this.cx=s.parsePercent(i[0],o),this.cy=s.parsePercent(i[1],r),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),a),n.each(this._indicatorAxes,(function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i}),this)},u.prototype.update=function(t,e){var i=this._indicatorAxes,o=this._model;n.each(i,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===o){var s=e.getData();n.each(i,(function(t){t.scale.unionExtentFromData(s,s.mapDimension(t.dim))}))}}),this);var r=o.get("splitNumber");function a(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}n.each(i,(function(t,e){var i=l(t.scale,t.model);h(t.scale,t.model);var n=t.model,o=t.scale,c=n.getMin(),u=n.getMax(),p=o.getInterval();if(null!=c&&null!=u)o.setExtent(+c,+u),o.setInterval((u-c)/r);else if(null!=c){var g;do{g=c+p*r,o.setExtent(+c,g),o.setInterval(p),p=a(p)}while(g<i[1]&&isFinite(g)&&isFinite(i[1]))}else if(null!=u){var d;do{d=u-p*r,o.setExtent(d,+u),o.setInterval(p),p=a(p)}while(d>i[0]&&isFinite(d)&&isFinite(i[0]))}else{o.getTicks().length-1>r&&(p=a(p));var f=Math.round((i[0]+i[1])/2/p)*p,y=Math.round(r/2);o.setExtent(s.round(f-y*p),s.round(f+(r-y)*p)),o.setInterval(p)}}))},u.dimensions=[],u.create=function(t,e){var i=[];return t.eachComponent("radar",(function(n){var o=new u(n,t,e);i.push(o),n.coordinateSystem=o})),t.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])})),i},c.register("radar",u);var p=u;t.exports=p},function(t,e,i){var n=i(0),o=i(27);function r(t,e,i){o.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(1),o=i(0),r=i(137),s=i(11),a=i(42),l=r.valueAxis;function h(t,e){return o.defaults({show:e},t)}var c=n.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),r=this.get("axisTick"),l=this.get("axisLabel"),h=this.get("name"),c=this.get("name.show"),u=this.get("name.formatter"),p=this.get("nameGap"),g=this.get("triggerEvent"),d=o.map(this.get("indicator")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var f=h;if(null!=d.color&&(f=o.defaults({color:d.color},h)),d=o.merge(o.clone(d),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:r,axisLabel:l,name:d.text,nameLocation:"end",nameGap:p,nameTextStyle:f,triggerEvent:g},!1),c||(d.name=""),"string"==typeof u){var y=d.name;d.name=u.replace("{value}",null!=y?y:"")}else"function"==typeof u&&(d.name=u(d.name,d));var m=o.extend(new s(d,null,this.ecModel),a);return m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this.getIndicatorModels=function(){return d}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:o.merge({lineStyle:{color:"#bbb"}},l.axisLine),axisLabel:h(l.axisLabel,!1),axisTick:h(l.axisTick,!1),splitLine:h(l.splitLine,!0),splitArea:h(l.splitArea,!0),indicator:[]}});t.exports=c},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(35),s=i(2),a=["axisLine","axisTickLabel","axisName"],l=n.extendComponentView({type:"radar",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),n=o.map(i,(function(t){return new r(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));o.each(n,(function(t){o.each(a,t.add,t),this.group.add(t.getGroup())}),this)},_buildSplitLineAndArea:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes();if(i.length){var n=t.get("shape"),r=t.getModel("splitLine"),a=t.getModel("splitArea"),l=r.getModel("lineStyle"),h=a.getModel("areaStyle"),c=r.get("show"),u=a.get("show"),p=l.get("color"),g=h.get("color");p=o.isArray(p)?p:[p],g=o.isArray(g)?g:[g];var d=[],f=[];if("circle"===n)for(var y=i[0].getTicksCoords(),m=e.cx,v=e.cy,_=0;_<y.length;_++){if(c)d[M(d,p,_)].push(new s.Circle({shape:{cx:m,cy:v,r:y[_]}}));if(u&&_<y.length-1)f[M(f,g,_)].push(new s.Ring({shape:{cx:m,cy:v,r0:y[_],r:y[_+1]}}))}else{var x,C=o.map(i,(function(t,i){var n=t.getTicksCoords();return x=null==x?n.length-1:Math.min(n.length-1,x),o.map(n,(function(t){return e.coordToPoint(t,i)}))})),I=[];for(_=0;_<=x;_++){for(var A=[],b=0;b<i.length;b++)A.push(C[b][_]);if(A[0]&&A.push(A[0].slice()),c)d[M(d,p,_)].push(new s.Polyline({shape:{points:A}}));if(u&&I)f[M(f,g,_-1)].push(new s.Polygon({shape:{points:A.concat(I)}}));I=A.slice().reverse()}}var w=l.getLineStyle(),S=h.getAreaStyle();o.each(f,(function(t,e){this.group.add(s.mergePath(t,{style:o.defaults({stroke:"none",fill:g[e%g.length]},S),silent:!0}))}),this),o.each(d,(function(t,e){this.group.add(s.mergePath(t,{style:o.defaults({fill:"none",stroke:p[e%p.length]},w),silent:!0}))}),this)}function M(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}}});t.exports=l},function(t,e,i){var n=i(14),o=i(43),r=i(0),s=i(8).encodeHTML,a=n.extend({type:"series.radar",dependencies:["radar"],init:function(t){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return o(this,{extraPrefix:"indicator_",extraFromZero:!0})},formatTooltip:function(t){var e=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),n=this.getData().getName(t);return s(""===n?this.name:n)+"<br/>"+r.map(i,(function(i,n){var o=e.get(e.mapDimension(i.dim),t);return s(i.name+" : "+o)})).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),l=a;t.exports=l},function(t,e,i){var n=i(1),o=i(2),r=i(0),s=i(18);var a=n.extendChartView({type:"radar",render:function(t,e,i){var n=t.coordinateSystem,a=this.group,l=t.getData(),h=this._data;function c(t,e){var i=t.getItemVisual(e,"symbol")||"circle",n=t.getItemVisual(e,"color");if("none"!==i){var o=function(t){return r.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),a=s.createSymbol(i,-1,-1,2,2,n);return a.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),a}}function u(e,i,n,r,s,a){n.removeAll();for(var l=0;l<i.length-1;l++){var h=c(r,s);h&&(h.__dimIdx=l,e[l]?(h.attr("position",e[l]),o[a?"initProps":"updateProps"](h,{position:i[l]},t,s)):h.attr("position",i[l]),n.add(h))}}function p(t){return r.map(t,(function(t){return[n.cx,n.cy]}))}l.diff(h).add((function(e){var i=l.getItemLayout(e);if(i){var n=new o.Polygon,r=new o.Polyline,s={shape:{points:i}};n.shape.points=p(i),r.shape.points=p(i),o.initProps(n,s,t,e),o.initProps(r,s,t,e);var a=new o.Group,h=new o.Group;a.add(r),a.add(n),a.add(h),u(r.shape.points,i,h,l,e,!0),l.setItemGraphicEl(e,a)}})).update((function(e,i){var n=h.getItemGraphicEl(i),r=n.childAt(0),s=n.childAt(1),a=n.childAt(2),c={shape:{points:l.getItemLayout(e)}};c.shape.points&&(u(r.shape.points,c.shape.points,a,l,e,!1),o.updateProps(r,c,t),o.updateProps(s,c,t),l.setItemGraphicEl(e,n))})).remove((function(t){a.remove(h.getItemGraphicEl(t))})).execute(),l.eachItemGraphicEl((function(t,e){var i=l.getItemModel(e),n=t.childAt(0),s=t.childAt(1),h=t.childAt(2),c=l.getItemVisual(e,"color");a.add(t),n.useStyle(r.defaults(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),n.hoverStyle=i.getModel("emphasis.lineStyle").getLineStyle();var u=i.getModel("areaStyle"),p=i.getModel("emphasis.areaStyle"),g=u.isEmpty()&&u.parentModel.isEmpty(),d=p.isEmpty()&&p.parentModel.isEmpty();d=d&&g,s.ignore=g,s.useStyle(r.defaults(u.getAreaStyle(),{fill:c,opacity:.7})),s.hoverStyle=p.getAreaStyle();var f=i.getModel("itemStyle").getItemStyle(["color"]),y=i.getModel("emphasis.itemStyle").getItemStyle(),m=i.getModel("label"),v=i.getModel("emphasis.label");function _(){s.attr("ignore",d)}function x(){s.attr("ignore",g)}h.eachChild((function(t){t.setStyle(f),t.hoverStyle=r.clone(y),o.setLabelStyle(t.style,t.hoverStyle,m,v,{labelFetcher:l.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:l.get(l.dimensions[t.__dimIdx],e),autoColor:c,isRectText:!0})})),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",_).on("mouseover",_).on("normal",x).on("mouseout",x),o.setHoverStyle(t)})),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=a},function(t,e){t.exports=function(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){for(var o=n.getIndicatorAxes(),r=0;r<n.getIndicatorAxes().length;r++)e.each(e.mapDimension(o[r].dim),s);e.each((function(t){i[t][0]&&i[t].push(i[t][0].slice()),e.setItemLayout(t,i[t])}))}function s(t,e){i[e]=i[e]||[],i[e][r]=n.dataToPoint(t,r)}}))}},function(t,e,i){var n=i(0);t.exports=function(t){var e=t.polar;if(e){n.isArray(e)||(e=[e]);var i=[];n.each(e,(function(e,o){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],n.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)})),t.polar=i}n.each(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}},function(t,e,i){var n=i(1);i(270),i(271),i(145),i(92);var o=i(277),r=i(278),s=i(279),a=i(280),l=i(141);n.registerLayout(o),n.registerVisual(r),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,s),n.registerPreprocessor(a),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,i){var n=i(0),o=i(43),r=i(14),s=i(8),a=s.encodeHTML,l=s.addCommas,h=i(90),c=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){this._fillOption(t,this.getMapType()),c.superApply(this,"init",arguments),this.updateSelectedMap(this.getRawData())},getInitialData:function(t){return o(this,["value"])},mergeOption:function(t){this._fillOption(t,this.getMapType()),c.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.getRawData())},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=l(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,r=[],s=0;s<o.length;s++){var h=o[s].originalData.indexOfName(n),c=e.mapDimension("value");isNaN(o[s].originalData.get(c,h))||r.push(a(o[s].name))}return r.join(", ")+"<br />"+a(n+" : "+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&&i.dataToPoint(n.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});n.mixin(c,h);var u=c;t.exports=u},function(t,e,i){var n=i(1),o=i(0),r=i(2),s=i(142),a=n.extendChartView({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===t.id)(r=this._mapDraw)&&o.add(r.group);else if(t.needsDrawMap){var r=this._mapDraw||new s(i,!0);o.add(r.group),r.draw(t,e,i,this,n),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,i){var n=t.originalData,s=this.group;n.each(n.mapDimension("value"),(function(e,i){if(!isNaN(e)){var a=n.getItemLayout(i);if(a&&a.point){var l=a.point,h=a.offset,c=new r.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:l[0]+9*h,cy:l[1],r:3},silent:!0,z2:h?8:10});if(!h){var u=t.mainSeries.getData(),p=n.getName(i),g=u.indexOfName(p),d=n.getItemModel(i),f=d.getModel("label"),y=d.getModel("emphasis.label"),m=u.getItemGraphicEl(g),v=o.retrieve2(t.getFormattedLabel(i,"normal"),p),_=o.retrieve2(t.getFormattedLabel(i,"emphasis"),v),x=function(){var t=r.setTextStyle({},y,{text:y.get("show")?_:null},{isRectText:!0,useInsideStyle:!1},!0);c.style.extendFrom(t),c.__mapOriginalZ2=c.z2,c.z2+=1},C=function(){r.setTextStyle(c.style,f,{text:f.get("show")?v:null,textPosition:f.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=c.__mapOriginalZ2&&(c.z2=c.__mapOriginalZ2,c.__mapOriginalZ2=null)};m.on("mouseover",x).on("mouseout",C).on("emphasis",x).on("normal",C),C()}s.add(c)}}}))}});t.exports=a},function(t,e,i){var n=i(0),o=i(9),r=i(132),s=i(147),a=[i(273),i(274),i(275),i(276)];function l(t,e,i,o,r){s.call(this,t),this.map=e,this._nameCoordMap=n.createHashMap(),this.loadGeoJson(i,o,r)}function h(t,e,i,n){var o=i.geoModel,r=i.seriesModel,s=o?o.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return s===this?s[t](n):null}l.prototype={constructor:l,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,i){try{this.regions=t?r(t):[]}catch(t){throw"Invalid geoJson format\n"+t.message}e=e||{},i=i||{};for(var o=this.regions,s=n.createHashMap(),l=0;l<o.length;l++){var h=o[l].name;h=i.hasOwnProperty(h)?i[h]:h,o[l].name=h,s.set(h,o[l]),this.addGeoCoord(h,o[l].center);var c=e[h];c&&o[l].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=s,this._rect=null,n.each(a,(function(t){t(this)}),this)},transformTo:function(t,e,i,n){var r=this.getBoundingRect();(r=r.clone()).y=-r.y-r.height;var s=this._rawTransformable;s.transform=r.calculateTransform(new o(t,e,i,n)),s.decomposeTransform();var a=s.scale;a[1]=-a[1],s.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();(t=t||n.clone()).union(n)}return this._rect=t||new o(0,0,0,0)},dataToPoint:function(t,e,i){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return s.prototype.dataToPoint.call(this,t,e,i)},convertToPixel:n.curry(h,"dataToPoint"),convertFromPixel:n.curry(h,"pointToData")},n.mixin(l,s);var c=l;t.exports=c},function(t,e,i){for(var n=i(0),o=i(133),r=[126,25],s=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<s.length;a++)for(var l=0;l<s[a].length;l++)s[a][l][0]/=10.5,s[a][l][1]/=-14,s[a][l][0]+=r[0],s[a][l][1]+=r[1];t.exports=function(t){"china"===t.map&&t.regions.push(new o("南海诸岛",n.map(s,(function(t){return{type:"polygon",exterior:t}})),r))}},function(t,e,i){var n=i(0),o={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};t.exports=function(t){n.each(t.regions,(function(t){var e=o[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}}))}},function(t,e,i){var n=i(0),o={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=function(t){n.each(t.regions,(function(t){var e=o[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}}))}},function(t,e){var i=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];t.exports=function(t){if("china"===t.map)for(var e=0,n=t.regions.length;e<n;++e)"台湾"===t.regions[e].name&&t.regions[e].geometries.push({type:"polygon",exterior:i[0]})}},function(t,e,i){var n=i(0);t.exports=function(t){var e={};t.eachSeriesByType("map",(function(i){var o=i.getMapType();if(!i.getHostGeoModel()&&!e[o]){var r={};n.each(i.seriesGroup,(function(e){var i=e.coordinateSystem,n=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each(n.mapDimension("value"),(function(t,e){var o=n.getName(e),s=i.getRegion(o);if(s&&!isNaN(t)){var a=r[o]||0,l=i.dataToPoint(s.center);r[o]=a+1,n.setItemLayout(e,{point:l,offset:a})}}))}));var s=i.getData();s.each((function(t){var e=s.getName(t),i=s.getItemLayout(t)||{};i.showLabel=!r[e],s.setItemLayout(t,i)})),e[o]=!0}}))}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",(function(t){var e=t.get("color"),i=t.getModel("itemStyle"),n=i.get("areaColor"),o=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})}))}},function(t,e,i){var n=i(0);t.exports=function(t){var e={};t.eachSeriesByType("map",(function(t){var i=t.getHostGeoModel(),n=i?"o"+i.id:"i"+t.getMapType();(e[n]=e[n]||[]).push(t)})),n.each(e,(function(t,e){for(var i,o,r,s=(i=n.map(t,(function(t){return t.getData()})),o=t[0].get("mapValueCalculation"),r={},n.each(i,(function(t){t.each(t.mapDimension("value"),(function(e,i){var n="ec-"+t.getName(i);r[n]=r[n]||[],isNaN(e)||r[n].push(e)}))})),i[0].map(i[0].mapDimension("value"),(function(t,e){for(var n,s="ec-"+i[0].getName(e),a=0,l=1/0,h=-1/0,c=r[s].length,u=0;u<c;u++)l=Math.min(l,r[s][u]),h=Math.max(h,r[s][u]),a+=r[s][u];return n="min"===o?l:"max"===o?h:"average"===o?a/c:a,0===c?NaN:n}))),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(s.cloneShallow()),t[a].mainSeries=t[0]}))}},function(t,e,i){var n=i(0);t.exports=function(t){var e=[];n.each(t.series,(function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,n.defaults(t,t.mapLocation))}))}},function(t,e,i){var n=i(1);i(282),i(283),i(284);var o=i(34),r=i(285),s=i(287);n.registerVisual(o("tree","circle")),n.registerLayout(r),n.registerLayout(s)},function(t,e,i){var n=i(14),o=i(93),r=i(8).encodeHTML,s=n.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n={};n.leaves=i;var r=o.createTree(e,this,n),s=0;r.eachNode("preorder",(function(t){t.depth>s&&(s=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:s;return r.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a})),r.data},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],n=e.getNodeByDataIndex(t),o=n.getValue(),s=n.name;n&&n!==i;)s=n.parentNode.name+"."+s,n=n.parentNode;return r(s+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});t.exports=s},function(t,e,i){var n=i(0),o=i(2),r=i(71),s=i(149).radialCoordinate,a=i(1).extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new o.Group,this.group.add(this._mainGroup)},render:function(t,e,i,n){var o=t.getData(),r=t.layoutInfo,s=this._mainGroup,a=t.get("layout");"radial"===a?s.attr("position",[r.x+r.width/2,r.y+r.height/2]):s.attr("position",[r.x,r.y]);var h=this._data,p={expandAndCollapse:t.get("expandAndCollapse"),layout:a,orient:t.get("orient"),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(h).add((function(e){l(o,e)&&c(o,e,null,s,t,p)})).update((function(e,i){var n=h.getItemGraphicEl(i);l(o,e)?c(o,e,n,s,t,p):n&&u(o,e,n,s,t,p)})).remove((function(e){var i=h.getItemGraphicEl(e);u(o,e,i,s,t,p)})).execute(),!0===p.expandAndCollapse&&o.eachItemGraphicEl((function(e,n){e.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:n})}))})),this._data=o},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}});function l(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==t.getItemVisual(e,"symbol")}function h(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=e.getModel("lineStyle").getLineStyle(),i.labelModel=e.getModel("label"),i.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor="#fff",i}function c(t,e,i,s,a,l){var c=!i,u=t.tree.getNodeByDataIndex(e),g=u.getModel(),d=(l=h(u,g,l),t.tree.root),f=u.parentNode===d?u:u.parentNode||u,y=t.getItemGraphicEl(f.dataIndex),m=f.getLayout(),v=y?{x:y.position[0],y:y.position[1],rawX:y.__radialOldRawX,rawY:y.__radialOldRawY}:m,_=u.getLayout();c?(i=new r(t,e,l)).attr("position",[v.x,v.y]):i.updateData(t,e,l),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=_.rawX,i.__radialRawY=_.rawY,s.add(i),t.setItemGraphicEl(e,i),o.updateProps(i,{position:[_.x,_.y]},a);var x=i.getSymbolPath();if("radial"===l.layout){var C,I,A=d.children[0],b=A.getLayout(),w=A.children.length;if(_.x===b.x&&!0===u.isExpand){var S={};S.x=(A.children[0].getLayout().x+A.children[w-1].getLayout().x)/2,S.y=(A.children[0].getLayout().y+A.children[w-1].getLayout().y)/2,(C=Math.atan2(S.y-b.y,S.x-b.x))<0&&(C=2*Math.PI+C),(I=S.x<b.x)&&(C-=Math.PI)}else(C=Math.atan2(_.y-b.y,_.x-b.x))<0&&(C=2*Math.PI+C),0===u.children.length||0!==u.children.length&&!1===u.isExpand?(I=_.x<b.x)&&(C-=Math.PI):(I=_.x>b.x)||(C-=Math.PI);var M=I?"left":"right";x.setStyle({textPosition:M,textRotation:-C,textOrigin:"center",verticalAlign:"middle"})}if(u.parentNode&&u.parentNode!==d){var E=i.__edge;E||(E=i.__edge=new o.BezierCurve({shape:p(l,v,v),style:n.defaults({opacity:0},l.lineStyle)})),o.updateProps(E,{shape:p(l,m,_),style:{opacity:1}},a),s.add(E)}}function u(t,e,i,n,r,s){for(var a,l=t.tree.getNodeByDataIndex(e),c=t.tree.root,u=l.getModel(),g=(s=h(l,u,s),l.parentNode===c?l:l.parentNode||l);null==(a=g.getLayout());)g=g.parentNode===c?g:g.parentNode||g;o.updateProps(i,{position:[a.x+1,a.y+1]},r,(function(){n.remove(i),t.setItemGraphicEl(e,null)})),i.fadeOut(null,{keepLabel:!0});var d=i.__edge;d&&o.updateProps(d,{shape:p(s,a,a),style:{opacity:0}},r,(function(){n.remove(d)}))}function p(t,e,i){var n,o,r,a,l=t.orient;if("radial"===t.layout){var h=e.rawX,c=e.rawY,u=i.rawX,p=i.rawY,g=s(h,c),d=s(h,c+(p-c)*t.curvature),f=s(u,p+(c-p)*t.curvature),y=s(u,p);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y,cpx1:d.x,cpy1:d.y,cpx2:f.x,cpy2:f.y}}h=e.x,c=e.y,u=i.x,p=i.y;return"horizontal"===l&&(n=h+(u-h)*t.curvature,o=c,r=u+(h-u)*t.curvature,a=p),"vertical"===l&&(n=h,o=c+(p-c)*t.curvature,r=u,a=p+(c-p)*t.curvature),{x1:h,y1:c,x2:u,y2:p,cpx1:n,cpy1:o,cpx2:r,cpy2:a}}t.exports=a},function(t,e,i){i(1).registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=t.dataIndex,n=e.getData().tree.getNodeByDataIndex(i);n.isExpand=!n.isExpand}))}))},function(t,e,i){var n=i(150);t.exports=function(t,e){t.eachSeriesByType("tree",(function(t){n(t,e)}))}},function(t,e){e.eachAfter=function(t,e,i){for(var n,o=[t],r=[];n=o.pop();)if(r.push(n),n.isExpand){var s=n.children;if(s.length)for(var a=0;a<s.length;a++)o.push(s[a])}for(;n=r.pop();)e(n,i)},e.eachBefore=function(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var r=o.length-1;r>=0;r--)n.push(o[r])}}},function(t,e,i){var n=i(150);t.exports=function(t,e){t.eachSeriesByType("tree",(function(t){n(t,e)}))}},function(t,e,i){var n=i(1);i(289),i(290),i(293);var o=i(294),r=i(295);n.registerVisual(o),n.registerLayout(r)},function(t,e,i){var n=i(0),o=i(14),r=i(93),s=i(11),a=i(8),l=a.encodeHTML,h=a.addCommas,c=i(37).wrapTreePathInfo,u=o.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};!function t(e){var i=0;n.each(e.children,(function(e){t(e);var o=e.value;n.isArray(o)&&(o=o[0]),i+=o}));var o=e.value;n.isArray(o)&&(o=o[0]);(null==o||isNaN(o))&&(o=i);o<0&&(o=0);n.isArray(e.value)?e.value[0]=o:e.value=o}(i);var o=t.levels||[];o=t.levels=function(t,e){var i,o=e.get("color");if(!o)return;if(t=t||[],n.each(t,(function(t){var e=new s(t),n=e.get("color");(e.get("itemStyle.color")||n&&"none"!==n)&&(i=!0)})),!i){(t[0]||(t[0]={})).color=o.slice()}return t}(o,e);var a={};return a.levels=o,r.createTree(i,this,a).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),o=n.isArray(i)?h(i[0]):h(i),r=e.getName(t);return l(r+": "+o)},getDataParams:function(t){var e=o.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=c(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},n.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=n.createHashMap(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=u},function(t,e,i){var n=i(1),o=i(0),r=i(2),s=i(33),a=i(37),l=i(291),h=i(75),c=i(9),u=i(15),p=i(292),g=i(39),d=o.bind,f=r.Group,y=r.Rect,m=o.each,v=["label"],_=["emphasis","label"],x=["upperLabel"],C=["emphasis","upperLabel"],I=g([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),A=function(t){var e=I(t);return e.stroke=e.fill=e.lineWidth=null,e},b=n.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,i,n){var r=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(o.indexOf(r,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var s=a.retrieveTargetInfo(n,["treemapZoomToNode","treemapRootToNode"],t),l=n&&n.type,h=t.layoutInfo,c=!this._oldTree,u=this._storage,p="treemapRootToNode"===l&&s&&u?{rootNodeGroup:u.nodeGroup[s.node.getRawIndex()],direction:n.direction}:null,g=this._giveContainerGroup(h),d=this._doRender(g,t,p);c||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?d.renderFinally():this._doAnimation(g,d,t,p),this._resetController(i),this._renderBreadcrumb(t,i,s)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new f,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,i){var n=e.getData().tree,r=this._oldTree,a={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},h=this._storage,c=[],u=o.curry(w,e,l,h,i,a,c);!function t(e,i,n,r,a){r?(i=e,m(e,(function(t,e){!t.isRemoved()&&h(e,e)}))):new s(i,e,l,l).add(h).update(h).remove(o.curry(h,null)).execute();function l(t){return t.getId()}function h(o,s){var l=null!=o?e[o]:null,h=null!=s?i[s]:null,c=u(l,h,n,a);c&&t(l&&l.viewChildren||[],h&&h.viewChildren||[],c,r,a+1)}}(n.root?[n.root]:[],r&&r.root?[r.root]:[],t,n===r||!r,0);var p=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&m(t,(function(t,i){var n=e[i];m(t,(function(t){t&&(n.push(t),t.__tmWillDelete=1)}))})),e}(h);return this._oldTree=n,this._storage=l,{lastsForAnimation:a,willDeleteEls:p,renderFinally:function(){m(p,(function(t){m(t,(function(t){t.parent&&t.parent.remove(t)}))})),m(c,(function(t){t.invisible=!0,t.dirty()}))}}},_doAnimation:function(t,e,i,n){if(i.get("animation")){var r=i.get("animationDurationUpdate"),s=i.get("animationEasing"),a=p.createWrap();m(e.willDeleteEls,(function(t,e){m(t,(function(t,i){if(!t.invisible){var o,l=t.parent;if(n&&"drillDown"===n.direction)o=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,c=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,c=l.__tmNodeHeight/2),o="nodeGroup"===e?{position:[h,c],style:{opacity:0}}:{shape:{x:h,y:c,width:0,height:0},style:{opacity:0}}}o&&a.add(t,o,r,s)}}))})),m(this._storage,(function(t,i){m(t,(function(t,n){var l=e.lastsForAnimation[i][n],h={};l&&("nodeGroup"===i?l.old&&(h.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(h.shape=o.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),h.style={opacity:1}):1!==t.style.opacity&&(h.style={opacity:1})),a.add(t,h,r,s))}))}),this),this._state="animating",a.done(d((function(){this._state="ready",e.renderFinally()}),this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new h(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",d(this._onPan,this)),e.on("zoom",d(this._onZoom,this)));var i=new c(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,n){return i.contain(e,n)}))},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if("animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var r=new c(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;e-=s.x,i-=s.y;var a=u.create();u.translate(a,a,[-e,-i]),u.scale(a,a,[t,t]),u.translate(a,a,[e,i]),r.applyTransform(a),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},_initEvents:function(t){t.on("click",(function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),r=o.get("link",!0),s=o.get("target",!0)||"blank";r&&window.open(r,s)}}}}}),this)},_renderBreadcrumb:function(t,e,i){i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new l(this.group))).render(t,e,i.node,d((function(e){"animating"!==this._state&&(a.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}),this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(n){var o=this._storage.background[n.getRawIndex()];if(o){var r=o.transformCoordToLocal(t,e),s=o.shape;if(!(s.x<=r[0]&&r[0]<=s.x+s.width&&s.y<=r[1]&&r[1]<=s.y+s.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}}),this),i}});function w(t,e,i,n,s,a,l,h,c,u){if(l){var p=l.getLayout();if(p&&p.isInView){var g=p.width,d=p.height,m=p.borderWidth,b=p.invisible,w=l.getRawIndex(),M=h&&h.getRawIndex(),E=l.viewChildren,T=p.upperHeight,P=E&&E.length,L=l.getModel("itemStyle"),N=l.getModel("emphasis.itemStyle"),D=G("nodeGroup",f);if(D){if(c.add(D),D.attr("position",[p.x||0,p.y||0]),D.__tmNodeWidth=g,D.__tmNodeHeight=d,p.isAboveViewRoot)return D;var R=G("background",y,u,1);if(R&&function(e,i,n){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:g,height:d});var o=l.getVisual("borderColor",!0),s=N.get("borderColor");F(i,(function(){var t=A(L);t.fill=o;var e=I(N);if(e.fill=s,n){var a=g-2*m;k(t,e,o,a,T,{x:m,y:0,width:a,height:T})}else t.text=e.text=null;i.setStyle(t),r.setHoverStyle(i,e)})),e.add(i)}(D,R,P&&p.upperHeight),!P){var O=G("content",y,u,2);O&&function(e,i){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex;var n=Math.max(g-2*m,0),o=Math.max(d-2*m,0);i.culling=!0,i.setShape({x:m,y:m,width:n,height:o});var s=l.getVisual("color",!0);F(i,(function(){var t=A(L);t.fill=s;var e=I(N);k(t,e,s,n,o),i.setStyle(t),r.setHoverStyle(i,e)})),e.add(i)}(D,O)}return D}}}function F(t,e){b?!t.invisible&&a.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function k(e,i,n,s,a,h){var c=l.getModel(),u=o.retrieve(t.getFormattedLabel(l.dataIndex,"normal",null,null,h?"upperLabel":"label"),c.get("name"));if(!h&&p.isLeafRoot){var g=t.get("drillDownIcon",!0);u=g?g+" "+u:u}var d=c.getModel(h?x:v),f=c.getModel(h?C:_),y=d.getShallow("show");r.setLabelStyle(e,i,d,f,{defaultText:y?u:null,autoColor:n,isRectText:!0}),h&&(e.textRect=o.clone(h)),e.truncate=y&&d.get("ellipsis")?{outerWidth:s,outerHeight:a,minChar:2}:null}function G(t,r,a,h){var c=null!=M&&i[t][M],u=s[t];return c?(i[t][M]=null,function(t,e,i){(t[w]={}).old="nodeGroup"===i?e.position.slice():o.extend({},e.shape)}(u,c,t)):b||((c=new r({z:S(a,h)})).__tmDepth=a,c.__tmStorageName=t,function(t,e,i){var o=t[w]={},r=l.parentNode;if(r&&(!n||"drillDown"===n.direction)){var a=0,h=0,c=s.background[r.getRawIndex()];!n&&c&&c.old&&(a=c.old.width,h=c.old.height),o.old="nodeGroup"===i?[0,h]:{x:a,y:h,width:0,height:0}}o.fadein="nodeGroup"!==i}(u,0,t)),e[t][w]=c}}function S(t,e){var i=10*t+e;return(i-1)/i}t.exports=b},function(t,e,i){var n=i(2),o=i(6),r=i(0),s=i(37).wrapTreePathInfo;function a(t){this.group=new n.Group,t.add(this.group)}function l(t,e,i,n,o,r){var s=[[o?t:t-5,e],[t+i,e],[t+i,e+n],[o?t:t-5,e+n]];return!r&&s.splice(2,0,[t+i+5,e+n/2]),!o&&s.push([t,e+n/2]),s}function h(t,e,i){t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&s(i,e)}}a.prototype={constructor:a,render:function(t,e,i,n){var r=t.getModel("breadcrumb"),s=this.group;if(s.removeAll(),r.get("show")&&i){var a=r.getModel("itemStyle"),l=a.getModel("textStyle"),h={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,h,l),this._renderContent(t,h,a,l,n),o.positionElement(s,h.pos,h.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get("name"),r=i.getTextRect(o),s=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:n,text:o,width:s})}},_renderContent:function(t,e,i,s,a){for(var c=0,u=e.emptyItemWidth,p=t.get("breadcrumb.height"),g=o.getAvailableSize(e.pos,e.box),d=e.totalWidth,f=e.renderList,y=f.length-1;y>=0;y--){var m=f[y],v=m.node,_=m.width,x=m.text;d>g.width&&(d-=_-u,_=u,x=null);var C=new n.Polygon({shape:{points:l(c,0,_,p,y===f.length-1,0===y)},style:r.defaults(i.getItemStyle(),{lineJoin:"bevel",text:x,textFill:s.getTextColor(),textFont:s.getFont()}),z:10,onclick:r.curry(a,v)});this.group.add(C),h(C,t,v),c+=_+8}},remove:function(){this.group.removeAll()}};var c=a;t.exports=c},function(t,e,i){var n=i(0);e.createWrap=function(){var t,e=[],i={};return{add:function(t,o,r,s,a){return n.isString(s)&&(a=s,s=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:o,time:r,delay:s,easing:a}),!0)},done:function(e){return t=e,this},start:function(){for(var n=e.length,o=0,r=e.length;o<r;o++){var s=e[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,a)}return this;function a(){--n||(e.length=0,i={},t&&t())}}}}},function(t,e,i){for(var n=i(1),o=i(37),r=function(){},s=["treemapZoomToNode","treemapRender","treemapMove"],a=0;a<s.length;a++)n.registerAction({type:s[a],update:"updateView"},r);n.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,i){var n=o.retrieveTargetInfo(t,["treemapZoomToNode","treemapRootToNode"],e);if(n){var r=e.getViewRoot();r&&(t.direction=o.aboveViewRoot(r,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}))}))},function(t,e,i){var n=i(38),o=i(21),r=i(0),s=r.isArray,a={seriesType:"treemap",reset:function(t,e,i,s){var a=t.getData().tree,h=a.root,u=t.getModel("itemStyle");h.isRemoved()||function t(e,i,s,a,h,u){var p=e.getModel(),g=e.getLayout();if(!g||g.invisible||!g.isInView)return;var d,f=e.getModel("itemStyle"),y=s[e.depth],m=function(t,e,i,n){var o=r.extend({},e);return r.each(["color","colorAlpha","colorSaturation"],(function(r){var s=t.get(r,!0);null==s&&i&&(s=i[r]),null==s&&(s=e[r]),null==s&&(s=n.get(r)),null!=s&&(o[r]=s)})),o}(f,i,y,a),v=f.get("borderColor"),_=f.get("borderColorSaturation");null!=_&&(d=l(m),v=function(t,e){return null!=e?o.modifyHSL(e,null,null,t):null}(_,d));e.setVisual("borderColor",v);var x=e.viewChildren;if(x&&x.length){var C=function(t,e,i,o,r,s){if(!s||!s.length)return;var a=c(e,"color")||null!=r.color&&"none"!==r.color&&(c(e,"colorAlpha")||c(e,"colorSaturation"));if(!a)return;var l=e.get("visualMin"),h=e.get("visualMax"),u=i.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=h&&h>u[1]&&(u[1]=h);var p=e.get("colorMappingBy"),g={type:a.name,dataExtent:u,visual:a.range};"color"!==g.type||"index"!==p&&"id"!==p?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0);var d=new n(g);return d.__drColorMappingBy=p,d}(0,p,g,0,m,x);r.each(x,(function(e,i){if(e.depth>=h.length||e===h[e.depth]){var n=function(t,e,i,n,o,s){var a=r.extend({},e);if(o){var l=o.type,h="color"===l&&o.__drColorMappingBy,c="index"===h?n:"id"===h?s.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));a[l]=o.mapValueToVisual(c)}return a}(p,m,e,i,C,u);t(e,n,s,a,h,u)}}))}else d=l(m),e.setVisual("color",d)}(h,{},r.map(a.levelModels,(function(t){return t?t.get("itemStyle"):null})),u,t.getViewRoot().getAncestors(),t)}};function l(t){var e=h(t,"color");if(e){var i=h(t,"colorAlpha"),n=h(t,"colorSaturation");return n&&(e=o.modifyHSL(e,null,null,n)),i&&(e=o.modifyAlpha(e,i)),e}}function h(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function c(t,e){var i=t.get(e);return s(i)&&i.length?{name:e,range:i}:null}t.exports=a},function(t,e,i){var n=i(0),o=i(9),r=i(3),s=r.parsePercent,a=r.MAX_SAFE_INTEGER,l=i(6),h=i(37),c=Math.max,u=Math.min,p=n.retrieve,g=n.each,d=["itemStyle","borderWidth"],f=["itemStyle","gapWidth"],y=["upperLabel","show"],m=["upperLabel","height"],v={seriesType:"treemap",reset:function(t,e,i,r){var y=i.getWidth(),m=i.getHeight(),v=t.option,A=l.getLayoutRect(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),b=v.size||[],w=s(p(A.width,b[0]),y),S=s(p(A.height,b[1]),m),M=r&&r.type,E=h.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],t),T="treemapRender"===M||"treemapMove"===M?r.rootRect:null,P=t.getViewRoot(),L=h.getPathToRoot(P);if("treemapMove"!==M){var N="treemapZoomToNode"===M?function(t,e,i,n,o){var r,s=(e||{}).node,l=[n,o];if(!s||s===i)return l;var h=n*o,c=h*t.option.zoomToNodeRatio;for(;r=s.parentNode;){for(var u=0,p=r.children,g=0,f=p.length;g<f;g++)u+=p[g].getValue();var y=s.getValue();if(0===y)return l;c*=u/y;var m=r.getModel(),v=m.get(d),_=Math.max(v,I(m));(c+=4*v*v+(3*v+_)*Math.pow(c,.5))>a&&(c=a),s=r}c<h&&(c=h);var x=Math.pow(c/h,.5);return[n*x,o*x]}(t,E,P,w,S):T?[T.width,T.height]:[w,S],D=v.sort;D&&"asc"!==D&&"desc"!==D&&(D="desc");var R={squareRatio:v.squareRatio,sort:D,leafDepth:v.leafDepth};P.hostTree.clearLayouts();var O={x:0,y:0,width:N[0],height:N[1],area:N[0]*N[1]};P.setLayout(O),function t(e,i,n,o){var r,s;if(e.isRemoved())return;var a=e.getLayout();r=a.width,s=a.height;var l=(v=e.getModel()).get(d),h=v.get(f)/2,p=I(v),g=Math.max(l,p),y=l-h,m=g-h,v=e.getModel();e.setLayout({borderWidth:l,upperHeight:g,upperLabelHeight:p},!0),r=c(r-2*y,0),s=c(s-y-m,0);var A=r*s,b=_(e,v,A,i,n,o);if(!b.length)return;var w={x:y,y:m,width:r,height:s},S=u(r,s),M=1/0,E=[];E.area=0;for(var T=0,P=b.length;T<P;){var L=b[T];E.push(L),E.area+=L.getLayout().area;var N=x(E,S,i.squareRatio);N<=M?(T++,M=N):(E.area-=E.pop().getLayout().area,C(E,S,w,h,!1),S=u(w.width,w.height),E.length=E.area=0,M=1/0)}E.length&&C(E,S,w,h,!0);if(!n){var D=v.get("childrenVisibleMin");null!=D&&A<D&&(n=!0)}for(T=0,P=b.length;T<P;T++)t(b[T],i,n,o+1)}(P,R,!1,0);O=P.getLayout();g(L,(function(t,e){var i=(L[e+1]||P).getValue();t.setLayout(n.extend({dataExtent:[i,i],borderWidth:0,upperHeight:0},O))}))}var F=t.getData().tree.root;F.setLayout(function(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,r=o.getLayout();if(!r)return n;var s=[r.width/2,r.height/2],a=o;for(;a;){var l=a.getLayout();s[0]+=l.x,s[1]+=l.y,a=a.parentNode}return{x:t.width/2-s[0],y:t.height/2-s[1]}}(A,T,E),!0),t.setLayoutInfo(A),function t(e,i,n,r,s){var a=e.getLayout(),l=n[s],h=l&&l===e;if(l&&!h||s===n.length&&e!==r)return;e.setLayout({isInView:!0,invisible:!h&&!i.intersect(a),isAboveViewRoot:h},!0);var c=new o(i.x-a.x,i.y-a.y,i.width,i.height);g(e.viewChildren||[],(function(e){t(e,c,n,r,s+1)}))}(F,new o(-A.x,-A.y,y,m),L,P,0)}};function _(t,e,i,o,r,s){var a=t.children||[],l=o.sort;"asc"!==l&&"desc"!==l&&(l=null);var h=null!=o.leafDepth&&o.leafDepth<=s;if(r&&!h)return t.viewChildren=[];!function(t,e){e&&t.sort((function(t,i){var n="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n}))}(a=n.filter(a,(function(t){return!t.isRemoved()})),l);var c=function(t,e,i){for(var n=0,o=0,r=e.length;o<r;o++)n+=e[o].getValue();var s=t.get("visualDimension");if(e&&e.length)if("value"===s&&i)a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&a.reverse();else{var a=[1/0,-1/0];g(e,(function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))}else a=[NaN,NaN];return{sum:n,dataExtent:a}}(e,a,l);if(0===c.sum)return t.viewChildren=[];if(c.sum=function(t,e,i,n,o){if(!n)return i;for(var r=t.get("visibleMin"),s=o.length,a=s,l=s-1;l>=0;l--){var h=o["asc"===n?s-l-1:l].getValue();h/i*e<r&&(a=l,i-=h)}return"asc"===n?o.splice(0,s-a):o.splice(a,s-a),i}(e,i,c.sum,l,a),0===c.sum)return t.viewChildren=[];for(var u=0,p=a.length;u<p;u++){var d=a[u].getValue()/c.sum*i;a[u].setLayout({area:d})}return h&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:c.dataExtent},!0),a}function x(t,e,i){for(var n,o=0,r=1/0,s=0,a=t.length;s<a;s++)(n=t[s].getLayout().area)&&(n<r&&(r=n),n>o&&(o=n));var l=t.area*t.area,h=e*e*i;return l?c(h*o/l,l/(h*r)):1/0}function C(t,e,i,n,o){var r=e===i.width?0:1,s=1-r,a=["x","y"],l=["width","height"],h=i[a[r]],p=e?t.area/e:0;(o||p>i[l[s]])&&(p=i[l[s]]);for(var g=0,d=t.length;g<d;g++){var f=t[g],y={},m=p?f.getLayout().area/p:0,v=y[l[s]]=c(p-2*n,0),_=i[a[r]]+i[l[r]]-h,x=g===d-1||_<m?_:m,C=y[l[r]]=c(x-2*n,0);y[a[s]]=i[a[s]]+u(n,v/2),y[a[r]]=h+u(n,C/2),h+=x,f.setLayout(y,!0)}i[a[s]]+=p,i[l[s]]-=p}function I(t){return t.get(y)?t.get(m):0}t.exports=v},function(t,e,i){var n=i(1);i(297),i(299),i(302);var o=i(303),r=i(34),s=i(304),a=i(305),l=i(306),h=i(307),c=i(308),u=i(310);n.registerProcessor(o),n.registerVisual(r("graph","circle",null)),n.registerVisual(s),n.registerVisual(a),n.registerLayout(l),n.registerLayout(h),n.registerLayout(c),n.registerCoordinateSystem("graphView",{create:u})},function(t,e,i){var n=i(1),o=i(16),r=i(0),s=i(4).defaultEmphasis,a=i(11),l=i(8).encodeHTML,h=i(151),c=n.extendSeriesModel({type:"series.graph",init:function(t){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){c.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){c.superApply(this,"mergeDefaultAndTheme",arguments),s(t,["edgeLabel"],["show"])},getInitialData:function(t,e){var i=t.edges||t.links||[],n=t.data||t.nodes||[],o=this;if(n&&i)return h(n,i,this,!0,(function(t,i){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var n=o.getModel("edgeLabel"),r=new a({label:n.option},n.parentModel,e);function s(t){return(t=this.parsePath(t))&&"label"===t[0]?r:this.parentModel}i.wrapMethod("getItemModel",(function(t){return t.customizeGetParent(s),t}))})).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(t,i),r=n.graph.getEdgeByIndex(t),s=n.getName(r.node1.dataIndex),a=n.getName(r.node2.dataIndex),h=[];return null!=s&&h.push(s),null!=a&&h.push(a),h=l(h.join(" > ")),o.value&&(h+=" : "+l(o.value)),h}return c.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=r.map(this.option.categories||[],(function(t){return null!=t.value?t:r.extend({value:0},t)})),e=new o(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t,!0)}))},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return c.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),u=c;t.exports=u},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(23).enableClassCheck;function r(t){return"_EC_"+t}var s=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},a=s.prototype;function l(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function h(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}a.type="graph",a.isDirected=function(){return this._directed},a.addNode=function(t,e){t=t||""+e;var i=this._nodesMap;if(!i[r(t)]){var n=new l(t,e);return n.hostGraph=this,this.nodes.push(n),i[r(t)]=n,n}},a.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},a.getNodeById=function(t){return this._nodesMap[r(t)]},a.addEdge=function(t,e,i){var n=this._nodesMap,o=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),l.isInstance(t)||(t=n[r(t)]),l.isInstance(e)||(e=n[r(e)]),t&&e){var s=t.id+"-"+e.id;if(!o[s]){var a=new h(t,e,i);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),o[s]=a,a}}},a.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},a.getEdge=function(t,e){l.isInstance(t)&&(t=t.id),l.isInstance(e)&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},a.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},a.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},a.breadthFirstTraverse=function(t,e,i,n){if(l.isInstance(e)||(e=this._nodesMap[r(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(n,e,null))for(var a=[e];a.length;){var h=a.shift(),c=h[o];for(s=0;s<c.length;s++){var u=c[s],p=u.node1===h?u.node2:u.node1;if(!p.__visited){if(t.call(n,p,h))return;a.push(p),p.__visited=!0}}}}},a.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,r=i.length;o<r;o++)i[o].dataIndex=-1;for(o=0,r=t.count();o<r;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf((function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(o=0,r=n.length;o<r;o++)n[o].dataIndex=-1;for(o=0,r=e.count();o<r;o++)n[e.getRawIndex(o)].dataIndex=o},a.clone=function(){for(var t=new s(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},h.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var c=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};n.mixin(l,c("hostGraph","data")),n.mixin(h,c("hostGraph","edgeData")),s.Node=l,s.Edge=h,o(l),o(h);var u=s;t.exports=u},function(t,e,i){var n=i(1),o=i(0),r=i(53),s=i(94),a=i(75),l=i(144),h=i(91).onIrrelevantElement,c=i(2),u=i(301),p=["itemStyle","opacity"],g=["lineStyle","opacity"];function d(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function f(t,e,i){var n=t.getGraphicEl(),o=d(t,e);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse((function(t){"group"!==t.type&&t.setStyle("opacity",o)}))}function y(t,e){var i=d(t,e),n=t.getGraphicEl();n.highlight&&n.highlight(),n.traverse((function(t){"group"!==t.type&&t.setStyle("opacity",i)}))}var m=n.extendChartView({type:"graph",init:function(t,e){var i=new r,n=new s,o=this.group;this._controller=new a(e.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var o=this._symbolDraw,r=this._lineDraw,s=this.group;if("view"===n.type){var a={position:n.position,scale:n.scale};this._firstRender?s.attr(a):c.updateProps(s,a,t)}u(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();o.updateData(l);var h=t.getEdgeData();r.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,g=t.get("force.layoutAnimation");p&&this._startForceLayoutIteration(p,g),l.eachItemGraphicEl((function(e,n){var o=l.getItemModel(n);e.off("drag").off("dragend");var r=l.getItemModel(n).get("draggable");r&&e.on("drag",(function(){p&&(p.warmUp(),!this._layouting&&this._startForceLayoutIteration(p,g),p.setFixed(n),l.setItemLayout(n,e.position))}),this).on("dragend",(function(){p&&p.setUnfixed(n)}),this),e.setDraggable(r&&p),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),o.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}),this),l.graph.eachEdge((function(e){var n=e.getGraphicEl();n.off("mouseover",n.__focusNodeAdjacency),n.off("mouseout",n.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(n.on("mouseover",n.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),n.on("mouseout",n.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}));var d="circular"===t.get("layout")&&t.get("circular.rotateLabel"),f=l.getLayout("cx"),y=l.getLayout("cy");l.eachItemGraphicEl((function(t,e){var i=t.getSymbolPath();if(d){var n=l.getItemLayout(e),o=Math.atan2(n[1]-y,n[0]-f);o<0&&(o=2*Math.PI+o);var r=n[0]<f;r&&(o-=Math.PI);var s=r?"left":"right";i.setStyle({textRotation:-o,textPosition:s,textOrigin:"center"}),i.hoverStyle&&(i.hoverStyle.textPosition=s)}else i.setStyle({textRotation:0})})),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,i,n){var r=this._model.getData().graph,s=n.dataIndex,a=n.edgeDataIndex,l=r.getNodeByIndex(s),h=r.getEdgeByIndex(a);(l||h)&&(r.eachNode((function(t){f(t,p,.1)})),r.eachEdge((function(t){f(t,g,.1)})),l&&(y(l,p),o.each(l.edges,(function(t){t.dataIndex<0||(y(t,g),y(t.node1,p),y(t.node2,p))}))),h&&(y(h,g),y(h.node1,p),y(h.node2,p)))},unfocusNodeAdjacency:function(t,e,i,n){var o=this._model.getData().graph;o.eachNode((function(t){f(t,p)})),o.eachEdge((function(t){f(t,g)}))},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step((function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())}))}()},_updateController:function(t,e,i){var n=this._controller,o=this._controllerHost,r=this.group;n.setPointerChecker((function(e,n,o){var s=r.getBoundingRect();return s.applyTransform(r.transform),s.contain(n,o)&&!h(e,i,t)})),"view"===t.coordinateSystem.type?(n.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",(function(e,n){l.updateViewOnPan(o,e,n),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:n})})).on("zoom",(function(e,n,r){l.updateViewOnZoom(o,e,n,r),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:n,originY:r}),this._updateNodeAndLinkScale(),u(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()}),this)):n.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl((function(t,e){t.attr("scale",n)}))},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n&&n[0]||1;return((e.getZoom()-1)*i+1)/o},updateLayout:function(t){u(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});t.exports=m},function(t,e,i){var n=i(2),o=i(7),r=n.Line.prototype,s=n.BezierCurve.prototype;function a(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var l=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(a(e)?r:s).buildPath(t,e)},pointAt:function(t){return a(this.shape)?r.pointAt.call(this,t):s.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=a(e)?[e.x2-e.x1,e.y2-e.y1]:s.tangentAt.call(this,t);return o.normalize(i,i)}});t.exports=l},function(t,e,i){var n=i(26),o=i(7),r=[],s=[],a=[],l=n.quadraticAt,h=o.distSquare,c=Math.abs;function u(t,e,i){for(var n,o=t[0],u=t[1],p=t[2],g=1/0,d=i*i,f=.1,y=.1;y<=.9;y+=.1){r[0]=l(o[0],u[0],p[0],y),r[1]=l(o[1],u[1],p[1],y),(_=c(h(r,e)-d))<g&&(g=_,n=y)}for(var m=0;m<32;m++){var v=n+f;s[0]=l(o[0],u[0],p[0],n),s[1]=l(o[1],u[1],p[1],n),a[0]=l(o[0],u[0],p[0],v),a[1]=l(o[1],u[1],p[1],v);var _=h(s,e)-d;if(c(_)<.01)break;var x=h(a,e)-d;f/=2,_<0?x>=0?n+=f:n-=f:x>=0?n-=f:n+=f}return n}t.exports=function(t,e){var i=[],r=n.quadraticSubdivide,s=[[],[],[]],a=[[],[]],l=[];function h(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}e/=2,t.eachEdge((function(t,n){var c=t.getLayout(),p=t.getVisual("fromSymbol"),g=t.getVisual("toSymbol");c.__original||(c.__original=[o.clone(c[0]),o.clone(c[1])],c[2]&&c.__original.push(o.clone(c[2])));var d=c.__original;if(null!=c[2]){if(o.copy(s[0],d[0]),o.copy(s[1],d[2]),o.copy(s[2],d[1]),p&&"none"!=p){var f=h(t.node1),y=u(s,d[0],f*e);r(s[0][0],s[1][0],s[2][0],y,i),s[0][0]=i[3],s[1][0]=i[4],r(s[0][1],s[1][1],s[2][1],y,i),s[0][1]=i[3],s[1][1]=i[4]}if(g&&"none"!=g){f=h(t.node2),y=u(s,d[1],f*e);r(s[0][0],s[1][0],s[2][0],y,i),s[1][0]=i[1],s[2][0]=i[2],r(s[0][1],s[1][1],s[2][1],y,i),s[1][1]=i[1],s[2][1]=i[2]}o.copy(c[0],s[0]),o.copy(c[1],s[2]),o.copy(c[2],s[1])}else{if(o.copy(a[0],d[0]),o.copy(a[1],d[1]),o.sub(l,a[1],a[0]),o.normalize(l,l),p&&"none"!=p){f=h(t.node1);o.scaleAndAdd(a[0],a[0],l,f*e)}if(g&&"none"!=g){f=h(t.node2);o.scaleAndAdd(a[1],a[1],l,-f*e)}o.copy(c[0],a[0]),o.copy(c[1],a[1])}}))}},function(t,e,i){var n=i(1),o=i(146).updateCenterAndZoom;n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var i=e.coordinateSystem,n=o(i,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)}))})),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},(function(){})),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},(function(){}))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),n=t.getGraph().data,o=i.mapArray(i.getName);n.filterSelf((function(t){var i=n.getItemModel(t).getShallow("category");if(null!=i){"number"==typeof i&&(i=o[i]);for(var r=0;r<e.length;r++)if(!e[r].isSelected(i))return!1}return!0}))}),this)}},function(t,e){t.exports=function(t){var e={};t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),n=t.getData(),o={};i.each((function(n){var r=i.getName(n);o["ec-"+r]=n;var s=i.getItemModel(n).get("itemStyle.color")||t.getColorFromPalette(r,e);i.setItemVisual(n,"color",s)})),i.count()&&n.each((function(t){var e=n.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=o["ec-"+e]),n.getItemVisual(t,"color",!0)||n.setItemVisual(t,"color",i.getItemVisual(e,"color")))}))}))}},function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),o=i(t.get("edgeSymbol")),r=i(t.get("edgeSymbolSize")),s="lineStyle.color".split("."),a="lineStyle.opacity".split(".");n.setVisual("fromSymbol",o&&o[0]),n.setVisual("toSymbol",o&&o[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("color",t.get(s)),n.setVisual("opacity",t.get(a)),n.each((function(t){var o=n.getItemModel(t),r=e.getEdgeByIndex(t),l=i(o.getShallow("symbol",!0)),h=i(o.getShallow("symbolSize",!0)),c=o.get(s),u=o.get(a);switch(c){case"source":c=r.node1.getVisual("color");break;case"target":c=r.node2.getVisual("color")}l[0]&&r.setVisual("fromSymbol",l[0]),l[1]&&r.setVisual("toSymbol",l[1]),h[0]&&r.setVisual("fromSymbolSize",h[0]),h[1]&&r.setVisual("toSymbolSize",h[1]),r.setVisual("color",c),r.setVisual("opacity",u)}))}))}},function(t,e,i){var n=i(0).each,o=i(152),r=o.simpleLayout,s=o.simpleLayoutEdge;t.exports=function(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var o=t.getData(),a=[];n(i.dimensions,(function(t){a=a.concat(o.mapDimension(t,!0))}));for(var l=0;l<o.count();l++){for(var h=[],c=!1,u=0;u<a.length;u++){var p=o.get(a[u],l);isNaN(p)||(c=!0),h.push(p)}c?o.setItemLayout(l,i.dataToPoint(h)):o.setItemLayout(l,[NaN,NaN])}s(o.graph)}else e&&"none"!==e||r(t)}))}},function(t,e,i){var n=i(153).circularLayout;t.exports=function(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&n(t)}))}},function(t,e,i){var n=i(309).forceLayout,o=i(152).simpleLayout,r=i(153).circularLayout,s=i(3).linearMap,a=i(7),l=i(0);t.exports=function(t){t.eachSeriesByType("graph",(function(t){if(!(m=t.coordinateSystem)||"view"===m.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},i=t.getGraph(),h=i.data,c=i.edgeData,u=t.getModel("force"),p=u.get("initLayout");t.preservedPoints?h.each((function(t){var i=h.getId(t);h.setItemLayout(t,e[i]||[NaN,NaN])})):p&&"none"!==p?"circular"===p&&r(t):o(t);var g=h.getDataExtent("value"),d=c.getDataExtent("value"),f=u.get("repulsion"),y=u.get("edgeLength");l.isArray(f)||(f=[f,f]),l.isArray(y)||(y=[y,y]),y=[y[1],y[0]];var m,v=h.mapArray("value",(function(t,e){var i=h.getItemLayout(e),n=s(t,g,f);return isNaN(n)&&(n=(f[0]+f[1])/2),{w:n,rep:n,fixed:h.getItemModel(e).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}})),_=c.mapArray("value",(function(t,e){var n=i.getEdgeByIndex(e),o=s(t,d,y);return isNaN(o)&&(o=(y[0]+y[1])/2),{n1:v[n.node1.dataIndex],n2:v[n.node2.dataIndex],d:o,curveness:n.getModel().get("lineStyle.curveness")||0}})),x=(m=t.coordinateSystem).getBoundingRect(),C=n(v,_,{rect:x,gravity:u.get("gravity")}),I=C.step;C.step=function(t){for(var n=0,o=v.length;n<o;n++)v[n].fixed&&a.copy(v[n].p,i.getNodeByIndex(n).getLayout());I((function(n,o,r){for(var s=0,l=n.length;s<l;s++)n[s].fixed||i.getNodeByIndex(s).setLayout(n[s].p),e[h.getId(s)]=n[s].p;for(s=0,l=o.length;s<l;s++){var c=o[s],u=i.getEdgeByIndex(s),p=c.n1.p,g=c.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],a.copy(d[0],p),a.copy(d[1],g),+c.curveness&&(d[2]=[(p[0]+g[0])/2-(p[1]-g[1])*c.curveness,(p[1]+g[1])/2-(g[0]-p[0])*c.curveness]),u.setLayout(d)}t&&t(r)}))},t.forceLayout=C,t.preservedPoints=e,C.step()}else t.forceLayout=null}))}},function(t,e,i){var n=i(7),o=n.scaleAndAdd;e.forceLayout=function(t,e,i){for(var r=i.rect,s=r.width,a=r.height,l=[r.x+s/2,r.y+a/2],h=null==i.gravity?.1:i.gravity,c=0;c<t.length;c++){var u=t[c];u.p||(u.p=n.create(s*(Math.random()-.5)+l[0],a*(Math.random()-.5)+l[1])),u.pp=n.clone(u.p),u.edges=null}var p=.6;return{warmUp:function(){p=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var r=[],s=t.length,a=0;a<e.length;a++){var c=e[a],u=c.n1,g=c.n2;n.sub(r,g.p,u.p);var d=n.len(r)-c.d,f=g.w/(u.w+g.w);isNaN(f)&&(f=0),n.normalize(r,r),!u.fixed&&o(u.p,u.p,r,f*d*p),!g.fixed&&o(g.p,g.p,r,-(1-f)*d*p)}for(a=0;a<s;a++){(_=t[a]).fixed||(n.sub(r,l,_.p),o(_.p,_.p,r,h*p))}for(a=0;a<s;a++){u=t[a];for(var y=a+1;y<s;y++){g=t[y];n.sub(r,g.p,u.p),0===(d=n.len(r))&&(n.set(r,Math.random()-.5,Math.random()-.5),d=1);var m=(u.rep+g.rep)/d/d;!u.fixed&&o(u.pp,u.pp,r,m),!g.fixed&&o(g.pp,g.pp,r,-m)}}var v=[];for(a=0;a<s;a++){var _;(_=t[a]).fixed||(n.sub(v,_.p,_.pp),o(_.p,_.p,v,p),n.copy(_.pp,_.p))}p*=.992,i&&i(t,e,p<.01)}}}},function(t,e,i){var n=i(147),o=i(6).getLayoutRect,r=i(82);t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",(function(t){var s=t.get("coordinateSystem");if(!s||"view"===s){var a=t.getData(),l=a.mapArray((function(t){var e=a.getItemModel(t);return[+e.get("x"),+e.get("y")]})),h=[],c=[];r.fromPoints(l,h,c),c[0]-h[0]==0&&(c[0]+=1,h[0]-=1),c[1]-h[1]==0&&(c[1]+=1,h[1]-=1);var u=(c[0]-h[0])/(c[1]-h[1]),p=function(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,o(n,{width:e.getWidth(),height:e.getHeight()})}(t,e,u);isNaN(u)&&(h=[p.x,p.y],c=[p.x+p.width,p.y+p.height]);var g=c[0]-h[0],d=c[1]-h[1],f=p.width,y=p.height,m=t.coordinateSystem=new n;m.zoomLimit=t.get("scaleLimit"),m.setBoundingRect(h[0],h[1],g,d),m.setViewRect(p.x,p.y,f,y),m.setCenter(t.get("center")),m.setZoom(t.get("zoom")),i.push(m)}})),i}},function(t,e,i){i(312),i(313)},function(t,e,i){var n=i(43),o=i(14),r=i(0),s=o.extend({type:"series.gauge",getInitialData:function(t,e){var i=t.data||[];return r.isArray(i)||(i=[i]),t.data=i,n(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});t.exports=s},function(t,e,i){var n=i(314),o=i(2),r=i(24),s=i(3),a=s.parsePercent,l=s.round,h=s.linearMap;function c(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var u=2*Math.PI,p=r.extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var n=t.get("axisLine.lineStyle.color"),o=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o);return{cx:a(i[0],e.getWidth()),cy:a(i[1],e.getHeight()),r:a(t.get("radius"),r/2)}}(t,i);this._renderMain(t,e,i,n,o)},dispose:function(){},_renderMain:function(t,e,i,n,r){for(var s=this.group,a=t.getModel("axisLine").getModel("lineStyle"),l=t.get("clockwise"),h=-t.get("startAngle")/180*Math.PI,c=((f=-t.get("endAngle")/180*Math.PI)-h)%u,p=h,g=a.get("width"),d=0;d<n.length;d++){var f=h+c*Math.min(Math.max(n[d][0],0),1),y=new o.Sector({shape:{startAngle:p,endAngle:f,cx:r.cx,cy:r.cy,clockwise:l,r0:r.r-g,r:r.r},silent:!0});y.setStyle({fill:n[d][1]}),y.setStyle(a.getLineStyle(["color","borderWidth","borderColor"])),s.add(y),p=f}var m=function(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!l){var v=h;h=f,f=v}this._renderTicks(t,e,i,m,r,h,f,l),this._renderPointer(t,e,i,m,r,h,f,l),this._renderTitle(t,e,i,m,r),this._renderDetail(t,e,i,m,r)},_renderTicks:function(t,e,i,n,r,s,h,u){for(var p=this.group,g=r.cx,d=r.cy,f=r.r,y=+t.get("min"),m=+t.get("max"),v=t.getModel("splitLine"),_=t.getModel("axisTick"),x=t.getModel("axisLabel"),C=t.get("splitNumber"),I=_.get("splitNumber"),A=a(v.get("length"),f),b=a(_.get("length"),f),w=s,S=(h-s)/C,M=S/I,E=v.getModel("lineStyle").getLineStyle(),T=_.getModel("lineStyle").getLineStyle(),P=0;P<=C;P++){var L=Math.cos(w),N=Math.sin(w);if(v.get("show")){var D=new o.Line({shape:{x1:L*f+g,y1:N*f+d,x2:L*(f-A)+g,y2:N*(f-A)+d},style:E,silent:!0});"auto"===E.stroke&&D.setStyle({stroke:n(P/C)}),p.add(D)}if(x.get("show")){var R=c(l(P/C*(m-y)+y),x.get("formatter")),O=x.get("distance"),F=n(P/C);p.add(new o.Text({style:o.setTextStyle({},x,{text:R,x:L*(f-A-O)+g,y:N*(f-A-O)+d,textVerticalAlign:N<-.4?"top":N>.4?"bottom":"middle",textAlign:L<-.4?"left":L>.4?"right":"center"},{autoColor:F}),silent:!0}))}if(_.get("show")&&P!==C){for(var k=0;k<=I;k++){L=Math.cos(w),N=Math.sin(w);var G=new o.Line({shape:{x1:L*f+g,y1:N*f+d,x2:L*(f-b)+g,y2:N*(f-b)+d},silent:!0,style:T});"auto"===T.stroke&&G.setStyle({stroke:n((P+k/I)/C)}),p.add(G),w+=M}w-=M}else w+=S}},_renderPointer:function(t,e,i,r,s,l,c,u){var p=this.group,g=this._data;if(t.get("pointer.show")){var d=[+t.get("min"),+t.get("max")],f=[l,c],y=t.getData(),m=y.mapDimension("value");y.diff(g).add((function(e){var i=new n({shape:{angle:l}});o.initProps(i,{shape:{angle:h(y.get(m,e),d,f,!0)}},t),p.add(i),y.setItemGraphicEl(e,i)})).update((function(e,i){var n=g.getItemGraphicEl(i);o.updateProps(n,{shape:{angle:h(y.get(m,e),d,f,!0)}},t),p.add(n),y.setItemGraphicEl(e,n)})).remove((function(t){var e=g.getItemGraphicEl(t);p.remove(e)})).execute(),y.eachItemGraphicEl((function(t,e){var i=y.getItemModel(e),n=i.getModel("pointer");t.setShape({x:s.cx,y:s.cy,width:a(n.get("width"),s.r),r:a(n.get("length"),s.r)}),t.useStyle(i.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",r(h(y.get(m,e),d,[0,1],!0))),o.setHoverStyle(t,i.getModel("emphasis.itemStyle").getItemStyle())})),this._data=y}else g&&g.eachItemGraphicEl((function(t){p.remove(t)}))},_renderTitle:function(t,e,i,n,r){var s=t.getData(),l=s.mapDimension("value"),c=t.getModel("title");if(c.get("show")){var u=c.get("offsetCenter"),p=r.cx+a(u[0],r.r),g=r.cy+a(u[1],r.r),d=+t.get("min"),f=+t.get("max"),y=t.getData().get(l,0),m=n(h(y,[d,f],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},c,{x:p,y:g,text:s.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:m,forceRich:!0})}))}},_renderDetail:function(t,e,i,n,r){var s=t.getModel("detail"),l=+t.get("min"),u=+t.get("max");if(s.get("show")){var p=s.get("offsetCenter"),g=r.cx+a(p[0],r.r),d=r.cy+a(p[1],r.r),f=a(s.get("width"),r.r),y=a(s.get("height"),r.r),m=t.getData(),v=m.get(m.mapDimension("value"),0),_=n(h(v,[l,u],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},s,{x:g,y:d,text:c(v,s.get("formatter")),textWidth:isNaN(f)?null:f,textHeight:isNaN(y)?null:y,textAlign:"center",textVerticalAlign:"middle"},{autoColor:_,forceRich:!0})}))}}});t.exports=p},function(t,e,i){var n=i(12).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,r=e.width,s=e.angle,a=e.x-i(s)*r*(r>=o/3?1:2),l=e.y-n(s)*r*(r>=o/3?1:2);s=e.angle-Math.PI/2,t.moveTo(a,l),t.lineTo(e.x+i(s)*r,e.y+n(s)*r),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(s)*r,e.y-n(s)*r),t.lineTo(a,l)}});t.exports=n},function(t,e,i){var n=i(1);i(316),i(317);var o=i(74),r=i(318),s=i(56);n.registerVisual(o("funnel")),n.registerLayout(r),n.registerProcessor(s("funnel"))},function(t,e,i){var n=i(1),o=i(43),r=i(4).defaultEmphasis,s=n.extendSeriesModel({type:"series.funnel",init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return o(this,["value"])},_defaultLabelLine:function(t){r(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),i=s.superCall(this,"getDataParams",t),n=e.mapDimension("value"),o=e.getSum(n);return i.percent=o?+(e.get(n,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),a=s;t.exports=a},function(t,e,i){var n=i(2),o=i(0),r=i(24);function s(t,e){n.Group.call(this);var i=new n.Polygon,o=new n.Polyline,r=new n.Text;function s(){o.ignore=o.hoverIgnore,r.ignore=r.hoverIgnore}function a(){o.ignore=o.normalIgnore,r.ignore=r.normalIgnore}this.add(i),this.add(o),this.add(r),this.updateData(t,e,!0),this.on("emphasis",s).on("normal",a).on("mouseover",s).on("mouseout",a)}var a=s.prototype,l=["itemStyle","opacity"];a.updateData=function(t,e,i){var r=this.childAt(0),s=t.hostModel,a=t.getItemModel(e),h=t.getItemLayout(e),c=t.getItemModel(e).get(l);c=null==c?1:c,r.useStyle({}),i?(r.setShape({points:h.points}),r.setStyle({opacity:0}),n.initProps(r,{style:{opacity:c}},s,e)):n.updateProps(r,{style:{opacity:c},shape:{points:h.points}},s,e);var u=a.getModel("itemStyle"),p=t.getItemVisual(e,"color");r.setStyle(o.defaults({lineJoin:"round",fill:p},u.getItemStyle(["opacity"]))),r.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),n.setHoverStyle(this)},a._updateLabel=function(t,e){var i=this.childAt(1),o=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),a=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");n.updateProps(i,{shape:{points:a.linePoints||a.linePoints}},r,e),n.updateProps(o,{style:{x:a.x,y:a.y}},r,e),o.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var h=s.getModel("label"),c=s.getModel("emphasis.label"),u=s.getModel("labelLine"),p=s.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color");n.setLabelStyle(o.style,o.hoverStyle={},h,c,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),o.ignore=o.normalIgnore=!h.get("show"),o.hoverIgnore=!c.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:l}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=p.getModel("lineStyle").getLineStyle()},o.inherits(s,n.Group);var h=r.extend({type:"funnel",render:function(t,e,i){var n=t.getData(),o=this._data,r=this.group;n.diff(o).add((function(t){var e=new s(n,t);n.setItemGraphicEl(t,e),r.add(e)})).update((function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),r.add(i),n.setItemGraphicEl(t,i)})).remove((function(t){var e=o.getItemGraphicEl(t);r.remove(e)})).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=h},function(t,e,i){var n=i(6),o=i(3),r=o.parsePercent,s=o.linearMap;t.exports=function(t,e,i){t.eachSeriesByType("funnel",(function(t){var i=t.getData(),o=i.mapDimension("value"),a=t.get("sort"),l=function(t,e){return n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),h=function(t,e){for(var i=t.mapDimension("value"),n=t.mapArray(i,(function(t){return t})),o=[],r="ascending"===e,s=0,a=t.count();s<a;s++)o[s]=s;return"function"==typeof e?o.sort(e):"none"!==e&&o.sort((function(t,e){return r?n[t]-n[e]:n[e]-n[t]})),o}(i,a),c=[r(t.get("minSize"),l.width),r(t.get("maxSize"),l.width)],u=i.getDataExtent(o),p=t.get("min"),g=t.get("max");null==p&&(p=Math.min(u[0],0)),null==g&&(g=u[1]);var d=t.get("funnelAlign"),f=t.get("gap"),y=(l.height-f*(i.count()-1))/i.count(),m=l.y,v=function(t,e){var n,r=i.get(o,t)||0,a=s(r,[p,g],c,!0);switch(d){case"left":n=l.x;break;case"center":n=l.x+(l.width-a)/2;break;case"right":n=l.x+l.width-a}return[[n,e],[n+a,e]]};"ascending"===a&&(y=-y,f=-f,m+=l.height,h=h.reverse());for(var _=0;_<h.length;_++){var x=h[_],C=h[_+1],I=i.getItemModel(x).get("itemStyle.height");null==I?I=y:(I=r(I,l.height),"ascending"===a&&(I=-I));var A=v(x,m),b=v(C,m+I);m+=I+f,i.setItemLayout(x,{points:A.concat(b.slice().reverse())})}!function(t){t.each((function(e){var i,n,o,r,s=t.getItemModel(e),a=s.getModel("label").get("position"),l=s.getModel("labelLine"),h=t.getItemLayout(e),c=h.points,u="inner"===a||"inside"===a||"center"===a;if(u)i="center",r=[[n=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,o=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4],[n,o]];else{var p,g,d,f=l.get("length");"left"===a?(p=(c[3][0]+c[0][0])/2,g=(c[3][1]+c[0][1])/2,n=(d=p-f)-5,i="right"):(p=(c[1][0]+c[2][0])/2,g=(c[1][1]+c[2][1])/2,n=(d=p+f)+5,i="left");r=[[p,g],[d,g]],o=g}h.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:i,inside:u}}))}(i)}))}},function(t,e,i){var n=i(1);i(154),i(328),i(329);var o=i(330);n.registerVisual(o)},function(t,e,i){var n=i(0),o=i(4);t.exports=function(t){!function(t){if(t.parallel)return;var e=!1;n.each(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){var e=o.normalizeToArray(t.parallelAxis);n.each(e,(function(e){if(n.isObject(e)){var i=e.parallelIndex||0,r=o.normalizeToArray(t.parallel)[i];r&&r.parallelAxisDefault&&n.merge(e,r.parallelAxisDefault,!1)}}))}(t)}},function(t,e,i){var n=i(0),o=i(15),r=i(6),s=i(17),a=i(322),l=i(2),h=i(3),c=i(57),u=n.each,p=Math.min,g=Math.max,d=Math.floor,f=Math.ceil,y=h.round,m=Math.PI;function v(t,e,i){this._axesMap=n.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function _(t,e){return p(g(t,e[0]),e[1])}function x(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function C(t,e){var i,n,o=e.layoutLength,r=e.axisExpandWidth,s=e.axisCount,a=e.axisCollapseWidth,l=e.winInnerIndices,h=a,c=!1;return t<l[0]?(i=t*a,n=a):t<=l[1]?(i=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],h=r,c=!0):(i=o-(s-1-t)*a,n=a),{position:i,axisNameAvailableWidth:h,axisLabelShow:c,nameTruncateMaxWidth:n}}v.prototype={type:"parallel",constructor:v,_init:function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;u(n,(function(t,i){var n=o[i],r=e.getComponent("parallelAxis",n),l=this._axesMap.set(t,new a(t,s.createScaleByModel(r),[0,0],r.get("type"),n)),h="category"===l.type;l.onBand=h&&r.get("boundaryGap"),l.inverse=r.get("inverse"),r.axis=l,l.model=r,l.coordinateSystem=r.coordinateSystem=this}),this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,r=t[1-o],s=t[o];return r>=i&&r<=i+e.axisLength&&s>=n&&s<=n+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries((function(i){if(t.contains(i,e)){var n=i.getData();u(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),s.niceScaleExtent(e.scale,e.model)}),this)}}),this)},resize:function(t,e){this._rect=r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,n=["x","y"],o=["width","height"],r=e.get("layout"),s="horizontal"===r?0:1,a=i[o[s]],l=[0,a],h=this.dimensions.length,c=_(e.get("axisExpandWidth"),l),u=_(e.get("axisExpandCount")||0,[0,h]),p=e.get("axisExpandable")&&h>3&&h>u&&u>1&&c>0&&a>0,g=e.get("axisExpandWindow");g?(t=_(g[1]-g[0],l),g[1]=g[0]+t):(t=_(c*(u-1),l),(g=[c*(e.get("axisExpandCenter")||d(h/2))-t/2])[1]=g[0]+t);var m=(a-t)/(h-u);m<3&&(m=0);var v=[d(y(g[0]/c,1))+1,f(y(g[1]/c,1))-1],x=m/c*g[0];return{layout:r,pixelDimIndex:s,layoutBase:i[n[s]],layoutLength:a,axisBase:i[n[1-s]],axisLength:i[o[1-s]],axisExpandable:p,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:g,axisCount:h,winInnerIndices:v,axisExpandWindow0Pos:x}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),r=n.layout;e.each((function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])})),u(i,(function(i,s){var a=(n.axisExpandable?C:x)(s,n),l={horizontal:{x:a.position,y:n.axisLength},vertical:{x:0,y:a.position}},h={horizontal:m/2,vertical:0},c=[l[r].x+t.x,l[r].y+t.y],u=h[r],p=o.create();o.rotate(p,p,u),o.translate(p,p,c),this._axesLayout[i]={position:c,rotation:u,transform:p,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:e.get(i).getLabelInterval()}}),this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var o=this.dimensions,r=n.map(o,(function(e){return t.mapDimension(e)})),s=this._axesMap,a=this.hasAxisBrushed(),l=0,h=t.count();l<h;l++){var c,u=t.getValues(r,l);if(a){c="active";for(var p=0,g=o.length;p<g;p++){var d=o[p];if("inactive"===s.get(d).model.getActiveState(u[p],p)){c="inactive";break}}}else c="normal";e.call(i,c,l)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)"normal"!==e.get(t[n]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(t,e){var i=this._axesLayout[e];return l.applyTransform([t,0],i.transform)},getAxisLayout:function(t){return n.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],r=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:n};var s,a=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",h=e.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),d=null!=u[0];if(h)d&&h&&a<o*u[0]?(l="jump",s=a-o*u[2]):d&&h&&a>o*(1-u[0])?(l="jump",s=a-o*(1-u[2])):(s=a-o*u[1])>=0&&(s=a-o*(1-u[1]))<=0&&(s=0),(s*=e.axisExpandWidth/h)?c(s,n,r,"all"):l="none";else{o=n[1]-n[0];(n=[g(0,r[1]*a/o-o/2)])[1]=p(r[1],n[0]+o),n[0]=n[1]-o}return{axisExpandWindow:n,behavior:l}}};var I=v;t.exports=I},function(t,e,i){var n=i(0),o=i(27),r=function(t,e,i,n,r){o.call(this,t,e,i),this.type=n||"value",this.axisIndex=r};r.prototype={constructor:r,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(0),o=i(13);i(324);var r=o.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){o.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&n.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},setAxisExpand:function(t){n.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);n.each(i,(function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)}))}});t.exports=r},function(t,e,i){var n=i(0),o=i(13),r=i(39),s=i(72),a=i(3),l=i(42),h=o.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=n.clone(t);if(e)for(var i=e.length-1;i>=0;i--)a.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;i<n;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}});n.merge(h.prototype,l),s("parallel",h,(function(t,e){return e.type||(e.data?"category":"value")}),{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});var c=h;t.exports=c},function(t,e,i){i(155),i(326),i(327)},function(t,e,i){var n=i(1);n.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),n.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))},function(t,e,i){var n=i(1),o=i(0),r=i(35),s=i(96),a=i(156),l=i(2),h=["axisLine","axisTickLabel","axisName"],c=n.extendComponentView({type:"parallelAxis",init:function(t,e){c.superApply(this,"init",arguments),(this._brushController=new s(e.getZr())).on("brush",o.bind(this._onBrush,this))},render:function(t,e,i,n){if(!function(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new l.Group,this.group.add(this._axisGroup),t.get("show")){var a=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),c=a.coordinateSystem,u=t.getAreaSelectStyle(),p=u.width,g=t.axis.dim,d=c.getAxisLayout(g),f=o.extend({strokeContainThreshold:p},d),y=new r(t,f);o.each(h,y.add,y),this._axisGroup.add(y.getGroup()),this._refreshBrushController(f,u,t,a,p,i);var m=n&&!1===n.animation?null:t;l.groupTransition(s,this._axisGroup,m)}}},_refreshBrushController:function(t,e,i,n,r,s){var h=i.axis.getExtent(),c=h[1]-h[0],u=Math.min(30,.1*Math.abs(c)),p=l.BoundingRect.create({x:h[0],y:-r/2,width:c,height:r});p.x-=u,p.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:a.makeRectPanelClipPath(p),isTargetByCursor:a.makeRectIsTargetByCursor(p,s,n),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(p,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return o.map(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(i))},_onBrush:function(t,e){var i=this.axisModel,n=i.axis,r=o.map(t,(function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]}));(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:r})},dispose:function(){this._brushController.dispose()}});var u=c;t.exports=u},function(t,e,i){var n=i(0),o=n.each,r=n.createHashMap,s=i(14),a=i(25),l=s.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){this.option.progressive&&(this.option.animation=!1);var i=this.getSource();return function(t,e){if(t.encodeDefine)return;var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!i)return;var n=t.encodeDefine=r();o(i.dimensions,(function(t){var e=+t.replace("dim","");n.set(t,e)}))}(i,this),a(i,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,(function(e,o){t===e&&n.push(i.getRawIndex(o))})),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:!1,smooth:!1,animationEasing:"linear"}});t.exports=l},function(t,e,i){var n=i(2),o=i(0),r=i(24);function s(t,e,i,n){for(var o,r=[],s=0;s<i.length;s++){var a=i[s],l=t.get(t.mapDimension(a),e);o=l,("category"===n.getAxis(a).type?null==o:null==o||isNaN(o))||r.push(n.dataToPoint(l,a))}return r}var a=r.extend({type:"parallel",init:function(){this._dataGroup=new n.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,i,n){this._renderForNormal(t,n)},dispose:function(){},_renderForNormal:function(t,e){var i=this._dataGroup,r=t.getData(),a=this._data,l=t.coordinateSystem,h=l.dimensions,c=t.option.smooth?.3:null;if(r.diff(a).add((function(t){!function(t,e,i,o,r){var a=s(t,i,o,r),l=new n.Polyline({shape:{points:a},silent:!0,z2:10});e.add(l),t.setItemGraphicEl(i,l)}(r,i,t,h,l)})).update((function(i,o){var c=a.getItemGraphicEl(o),u=s(r,i,h,l);r.setItemGraphicEl(i,c);var p=e&&!1===e.animation?null:t;n.updateProps(c,{shape:{points:u}},p,i)})).remove((function(t){var e=a.getItemGraphicEl(t);i.remove(e)})).execute(),function(t,e){var i=t.hostModel.getModel("lineStyle"),n=i.getLineStyle();t.eachItemGraphicEl((function(r,s){if(t.hasItemOption){var a=t.getItemModel(s).getModel("lineStyle",i);n=a.getLineStyle(["color","stroke"])}r.useStyle(o.extend(n,{fill:null,stroke:t.getItemVisual(s,"color"),opacity:t.getItemVisual(s,"opacity")})),r.shape.smooth=e}))}(r,c),!this._data){var u=function(t,e,i){var o=t.model,r=t.getRect(),s=new n.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===o.get("layout")?"width":"height";return s.setShape(a,0),n.initProps(s,{shape:{width:r.width,height:r.height}},e,i),s}(l,t,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(u)}this._data=r},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=a},function(t,e){var i=["lineStyle","normal","opacity"];t.exports=function(t){t.eachSeriesByType("parallel",(function(e){var n=e.getModel("itemStyle"),o=e.getModel("lineStyle"),r=t.get("color"),s=o.get("color")||n.get("color")||r[e.seriesIndex%r.length],a=e.get("inactiveOpacity"),l=e.get("activeOpacity"),h=e.getModel("lineStyle").getLineStyle(),c=e.coordinateSystem,u=e.getData(),p={normal:h.opacity,active:l,inactive:a};c.eachActiveState(u,(function(t,e){var n=u.getItemModel(e),o=p[t];if("normal"===t){var r=n.get(i,!0);null!=r&&(o=r)}u.setItemVisual(e,"opacity",o)})),u.setVisual("color",s)}))}},function(t,e,i){var n=i(1);i(332),i(333);var o=i(334),r=i(335);n.registerLayout(o),n.registerVisual(r)},function(t,e,i){var n=i(14),o=i(151),r=i(8).encodeHTML,s=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,i=t.data||t.nodes;if(i&&e)return o(i,e,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getDataParams(t,i),o=n.data,a=o.source+" -- "+o.target;return n.value&&(a+=" : "+n.value),r(a)}return s.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),a=s;t.exports=a},function(t,e,i){var n=i(2),o=i(1),r=n.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}}),s=o.extendChartView({type:"sankey",_model:null,render:function(t,e,i){var o=t.getGraph(),s=this.group,a=t.layoutInfo,l=t.getData(),h=t.getData("edge");this._model=t,s.removeAll(),s.attr("position",[a.x,a.y]),o.eachEdge((function(e){var i=new r;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var o=e.getModel("lineStyle"),a=o.get("curveness"),l=e.node1.getLayout(),c=e.node2.getLayout(),u=e.getLayout();i.shape.extent=Math.max(1,u.dy);var p=l.x+l.dx,g=l.y+u.sy+u.dy/2,d=c.x,f=c.y+u.ty+u.dy/2,y=p*(1-a)+d*a,m=g,v=p*a+d*(1-a),_=f;switch(i.setShape({x1:p,y1:g,x2:d,y2:f,cpx1:y,cpy1:m,cpx2:v,cpy2:_}),i.setStyle(o.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color")}n.setHoverStyle(i,e.getModel("emphasis.lineStyle").getItemStyle()),s.add(i),h.setItemGraphicEl(e.dataIndex,i)})),o.eachNode((function(e){var i=e.getLayout(),o=e.getModel(),r=o.getModel("label"),a=o.getModel("emphasis.label"),h=new n.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:o.getModel("itemStyle").getItemStyle()}),c=e.getModel("emphasis.itemStyle").getItemStyle();n.setLabelStyle(h.style,c,r,a,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),h.setStyle("fill",e.getVisual("color")),n.setHoverStyle(h,c),s.add(h),l.setItemGraphicEl(e.dataIndex,h),h.dataType="node"})),!this._data&&t.get("animation")&&s.setClipPath(function(t,e,i){var o=new n.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return n.initProps(o,{shape:{width:t.width+20,height:t.height+20}},e,i),o}(s.getBoundingRect(),t,(function(){s.removeClipPath()}))),this._data=t.getData()},dispose:function(){}});t.exports=s},function(t,e,i){var n=i(6),o=i(157),r=i(0);function s(t,e,i){r.each(t,(function(t){var n,o,r,s=0,a=t.length;for(t.sort(f),r=0;r<a;r++){if((o=s-(n=t[r]).getLayout().y)>0){var l=n.getLayout().y+o;n.setLayout({y:l},!0)}s=n.getLayout().y+n.getLayout().dy+e}if((o=s-e-i)>0){l=n.getLayout().y-o;for(n.setLayout({y:l},!0),s=n.getLayout().y,r=a-2;r>=0;--r)(o=(n=t[r]).getLayout().y+n.getLayout().dy+e-s)>0&&(l=n.getLayout().y-o,n.setLayout({y:l},!0)),s=n.getLayout().y}}))}function a(t,e){r.each(t.slice().reverse(),(function(t){r.each(t,(function(t){if(t.outEdges.length){var i=g(t.outEdges,l)/g(t.outEdges,m),n=t.getLayout().y+(i-d(t))*e;t.setLayout({y:n},!0)}}))}))}function l(t){return d(t.node2)*t.getValue()}function h(t,e){r.each(t,(function(t){r.each(t,(function(t){if(t.inEdges.length){var i=g(t.inEdges,c)/g(t.inEdges,m),n=t.getLayout().y+(i-d(t))*e;t.setLayout({y:n},!0)}}))}))}function c(t){return d(t.node1)*t.getValue()}function u(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function p(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function g(t,e){for(var i=0,n=t.length,o=-1;++o<n;){var r=+e.call(t,t[o],o);isNaN(r)||(i+=r)}return i}function d(t){return t.getLayout().y+t.getLayout().dy/2}function f(t,e){return t.getLayout().y-e.getLayout().y}function y(t,e){return t<e?-1:t>e?1:t===e?0:NaN}function m(t){return t.getValue()}t.exports=function(t,e,i){t.eachSeriesByType("sankey",(function(t){var i=t.get("nodeWidth"),l=t.get("nodeGap"),c=function(t,e){return n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=c;var d=c.width,f=c.height,v=t.getGraph(),_=v.nodes,x=v.edges;!function(t){r.each(t,(function(t){var e=g(t.outEdges,m),i=g(t.inEdges,m),n=Math.max(e,i);t.setLayout({value:n},!0)}))}(_),function(t,e,i,n,l,c,g){(function(t,e,i){var n=t,o=null,s=0;for(;n.length;){o=[];for(var a=0,l=n.length;a<l;a++){var h=n[a];h.setLayout({x:s},!0),h.setLayout({dx:e},!0);for(var c=0,u=h.outEdges.length;c<u;c++)o.push(h.outEdges[c].node2)}n=o,++s}(function(t,e){r.each(t,(function(t){t.outEdges.length||t.setLayout({x:e-1},!0)}))})(t,s),function(t,e){r.each(t,(function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)}))}(t,(i-e)/(s-1))})(t,i,l),function(t,e,i,n,l){var c=o().key((function(t){return t.getLayout().x})).sortKeys(y).entries(t).map((function(t){return t.values}));(function(t,e,i,n,o){var s=[];r.each(e,(function(t){var e=t.length,i=0;r.each(t,(function(t){i+=t.getLayout().value}));var a=(n-(e-1)*o)/i;s.push(a)})),s.sort((function(t,e){return t-e}));var a=s[0];r.each(e,(function(t){r.each(t,(function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*a;t.setLayout({dy:i},!0)}))})),r.each(i,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))})(0,c,e,i,n),s(c,n,i);for(var u=1;l>0;l--)a(c,u*=.99),s(c,n,i),h(c,u),s(c,n,i)}(t,e,c,n,g),function(t){r.each(t,(function(t){t.outEdges.sort(u),t.inEdges.sort(p)})),r.each(t,(function(t){var e=0,i=0;r.each(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),r.each(t.inEdges,(function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy}))}))}(t)}(_,x,i,l,d,f,0!==r.filter(_,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"))}))}},function(t,e,i){var n=i(38),o=i(0);t.exports=function(t,e){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph().nodes;e.sort((function(t,e){return t.getLayout().value-e.getLayout().value}));var i=e[0].getLayout().value,r=e[e.length-1].getLayout().value;o.each(e,(function(e){var o=new n({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",o);var s=e.getModel().get("itemStyle.color");null!=s&&e.setVisual("color",s)}))}))}},function(t,e,i){var n=i(1);i(337),i(339);var o=i(340),r=i(341);n.registerVisual(o),n.registerLayout(r)},function(t,e,i){var n=i(0),o=i(14),r=i(76).seriesModelMixin,s=o.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(s,r,!0);var a=s;t.exports=a},function(t,e,i){var n=i(0),o=i(2),r=i(12).extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(e.hasOwnProperty(i)&&0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}});function s(t,e,i,n){o.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel}var a=s.prototype;function l(t,e,i){return n.map(t,(function(t){return(t=t.slice())[e]=i.initBaseline,t}))}function h(t){var e={};return n.each(t,(function(t,i){e["ends"+i]=t})),e}function c(t){this.group=new o.Group,this.styleUpdater=t}a._createContent=function(t,e,i){var s=t.getItemLayout(e),a="horizontal"===s.chartLayout?1:0,c=0;this.add(new o.Polygon({shape:{points:i?l(s.bodyEnds,a,s):s.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=c++;var u=n.map(s.whiskerEnds,(function(t){return i?l(t,a,s):t}));this.add(new r({shape:h(u),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=c++},a.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,r=t.getItemLayout(e),s=o[i?"initProps":"updateProps"];s(this.childAt(this.bodyIndex),{shape:{points:r.bodyEnds}},n,e),s(this.childAt(this.whiskerIndex),{shape:h(r.whiskerEnds)},n,e),this.styleUpdater.call(null,this,t,e)},n.inherits(s,o.Group);var u=c.prototype;u.updateData=function(t){var e=this.group,i=this._data,n=this.styleUpdater;t.diff(i).add((function(i){if(t.hasValue(i)){var o=new s(t,i,n,!0);t.setItemGraphicEl(i,o),e.add(o)}})).update((function(o,r){var a=i.getItemGraphicEl(r);t.hasValue(o)?(a?a.updateData(t,o):a=new s(t,o,n),e.add(a),t.setItemGraphicEl(o,a)):e.remove(a)})).remove((function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n)})).execute(),this._data=t},u.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl((function(e){e&&t.remove(e)}))};var p=c;t.exports=p},function(t,e,i){var n=i(0),o=i(24),r=i(2),s=i(76).viewMixin,a=o.extend({type:"boxplot",getStyleUpdater:function(){return c},dispose:n.noop});n.mixin(a,s,!0);var l=["itemStyle"],h=["emphasis","itemStyle"];function c(t,e,i){var n=e.getItemModel(i),o=n.getModel(l),s=e.getItemVisual(i,"color"),a=o.getItemStyle(["borderColor"]),c=t.childAt(t.whiskerIndex);c.style.set(a),c.style.stroke=s,c.dirty();var u=t.childAt(t.bodyIndex);u.style.set(a),u.style.stroke=s,u.dirty();var p=n.getModel(h).getItemStyle();r.setHoverStyle(t,p)}var u=a;t.exports=u},function(t,e){var i=["itemStyle","borderColor"];t.exports=function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",(function(e){var o=n[e.seriesIndex%n.length],r=e.getData();r.setVisual({legendSymbol:"roundRect",color:e.get(i)||o}),t.isSeriesFiltered(e)||r.each((function(t){var e=r.getItemModel(t);r.setItemVisual(t,{color:e.get(i,!0)})}))}))}},function(t,e,i){var n=i(0),o=i(3).parsePercent,r=n.each;t.exports=function(t){var e=function(t){var e=[],i=[];return t.eachSeriesByType("boxplot",(function(t){var o=t.getBaseAxis(),r=n.indexOf(i,o);r<0&&(r=i.length,i[r]=o,e[r]={axis:o,seriesModels:[]}),e[r].seriesModels.push(t)})),e}(t);r(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,i,s=t.axis,a=t.seriesModels,l=a.length,h=t.boxWidthList=[],c=t.boxOffsetList=[],u=[];if("category"===s.type)i=s.getBandWidth();else{var p=0;r(a,(function(t){p=Math.max(p,t.getData().count())})),e=s.getExtent(),Math.abs(e[1]-e[0])}r(a,(function(t){var e=t.get("boxWidth");n.isArray(e)||(e=[e,e]),u.push([o(e[0],i)||0,o(e[1],i)||0])}));var g=.8*i-2,d=g/l*.3,f=(g-d*(l-1))/l,y=f/2-g/2;r(a,(function(t,e){c.push(y),y+=d+f,h.push(Math.min(Math.max(f,u[e][0]),u[e][1]))}))}(t),r(e,(function(e,i){!function(t,e,i){var o,r=t.coordinateSystem,s=t.getData(),a=i/2,l=t.get("layout"),h="horizontal"===l?0:1,c=1-h,u=["x","y"],p=[];if(n.each(s.dimensions,(function(t){var e=s.getDimensionInfo(t).coordDim;e===u[c]?p.push(t):e===u[h]&&(o=t)})),null==o||p.length<5)return;s.each([o].concat(p),(function(){var t=arguments,i=t[0],n=t[p.length+1],o=y(t[3]),u=y(t[1]),g=y(t[5]),d=[[u,y(t[2])],[g,y(t[4])]];v(u),v(g),v(o);var f=[];function y(t){var n,o=[];return o[h]=i,o[c]=t,isNaN(i)||isNaN(t)?n=[NaN,NaN]:(n=r.dataToPoint(o))[h]+=e,n}function m(t,e){var i=t.slice(),n=t.slice();i[h]+=a,n[h]-=a,e?f.push(i,n):f.push(n,i)}function v(t){var e=[t.slice(),t.slice()];e[0][h]-=a,e[1][h]+=a,d.push(e)}m(d[0][1],0),m(d[1][1],1),s.setItemLayout(n,{chartLayout:l,initBaseline:o[c],median:o,bodyEnds:f,whiskerEnds:d})}))}(e,t.boxOffsetList[i],t.boxWidthList[i])})))}))}},function(t,e,i){var n=i(1);i(343),i(344);var o=i(345),r=i(346),s=i(347);n.registerPreprocessor(o),n.registerVisual(r),n.registerLayout(s)},function(t,e,i){var n=i(0),o=i(14),r=i(76).seriesModelMixin,s=o.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,i){var n=e.getItemLayout(t);return i.rect(n.brushRect)}});n.mixin(s,r,!0);var a=s;t.exports=a},function(t,e,i){var n=i(0),o=i(24),r=i(2),s=i(76).viewMixin,a=o.extend({type:"candlestick",getStyleUpdater:function(){return c},dispose:n.noop});n.mixin(a,s,!0);var l=["itemStyle"],h=["emphasis","itemStyle"];function c(t,e,i){var n=e.getItemModel(i),o=n.getModel(l),s=e.getItemVisual(i,"color"),a=e.getItemVisual(i,"borderColor")||s,c=o.getItemStyle(["color","color0","borderColor","borderColor0"]),u=t.childAt(t.whiskerIndex);u.useStyle(c),u.style.stroke=a;var p=t.childAt(t.bodyIndex);p.useStyle(c),p.style.fill=s,p.style.stroke=a;var g=n.getModel(h).getItemStyle();r.setHoverStyle(t,g)}var u=a;t.exports=u},function(t,e,i){var n=i(0);t.exports=function(t){t&&n.isArray(t.series)&&n.each(t.series,(function(t){n.isObject(t)&&"k"===t.type&&(t.type="candlestick")}))}},function(t,e){var i=["itemStyle","borderColor"],n=["itemStyle","borderColor0"],o=["itemStyle","color"],r=["itemStyle","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",(function(e){var s=e.getData();s.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||s.each((function(t){var e=s.getItemModel(t),a=s.getItemLayout(t).sign;s.setItemVisual(t,{color:e.get(a>0?o:r),borderColor:e.get(a>0?i:n)})}))}))}},function(t,e,i){var n=i(0),o=i(3).parsePercent,r=i(2).subPixelOptimize,s=n.retrieve2;t.exports=function(t){t.eachSeriesByType("candlestick",(function(t){var e,i=t.coordinateSystem,a=t.getData(),l=function(t,e){var i,n=t.getBaseAxis(),r="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=o(s(t.get("barMaxWidth"),r),r),l=o(s(t.get("barMinWidth"),1),r),h=t.get("barWidth");return null!=h?o(h,r):Math.max(Math.min(r/2,a),l)}(t,a),h=t.get("layout"),c="horizontal"===h?0:1,u=1-c,p=["x","y"],g=[];if(n.each(a.dimensions,(function(t){var i=a.getDimensionInfo(t).coordDim;i===p[u]?g.push(t):i===p[c]&&(e=t)})),!(null==e||g.length<4)){var d=0;a.each([e].concat(g),(function(){var t,e=arguments,n=e[0],o=e[g.length+1],s=e[1],p=e[2],f=e[3],y=e[4],m=Math.min(s,p),v=Math.max(s,p),_=w(m),x=w(v),C=w(f),I=w(y),A=[[E(I),E(x)],[E(C),E(_)]],b=[];function w(t){var e=[];return e[c]=n,e[u]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:i.dataToPoint(e)}function S(t,e){var i=t.slice(),n=t.slice();i[c]=r(i[c]+l/2,1,!1),n[c]=r(n[c]-l/2,1,!0),e?b.push(i,n):b.push(n,i)}function M(){var t=w(Math.min(s,p,f,y)),e=w(Math.max(s,p,f,y));return t[c]-=l/2,e[c]-=l/2,{x:t[0],y:t[1],width:u?l:e[0]-t[0],height:u?e[1]-t[1]:l}}function E(t){return t[c]=r(t[c],1),t}S(x,0),S(_,1),t=s>p?-1:s<p?1:d>0?a.getItemModel(d-1).get()[2]<=p?1:-1:1,a.setItemLayout(o,{chartLayout:h,sign:t,initBaseline:s>p?x[u]:_[u],bodyEnds:b,whiskerEnds:A,brushRect:M()}),++d}),!0)}}))}},function(t,e,i){var n=i(1);i(349),i(350);var o=i(34),r=i(54);n.registerVisual(o("effectScatter","circle")),n.registerLayout(r("effectScatter"))},function(t,e,i){var n=i(25),o=i(14).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return n(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});t.exports=o},function(t,e,i){var n=i(1),o=i(53),r=i(351),s=i(15),a=i(54),l=n.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new o(r)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(t,e,i){var n=t.getData();this.group.dirty();var o=a().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=s.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});t.exports=l},function(t,e,i){var n=i(0),o=i(18).createSymbol,r=i(2).Group,s=i(3).parsePercent,a=i(71);function l(t,e){t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})}))}function h(t,e){r.call(this);var i=new a(t,e),n=new r;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var c=h.prototype;c.stopEffectAnimation=function(){this.childAt(1).removeAll()},c.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),r=0;r<3;r++){var s=o(e,-1,-1,2,2,i);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-r/3*t.period+t.effectOffset;s.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),s.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),n.add(s)}l(n,t)},c.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],o=0;o<n.length;o++){var r=n[o];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}l(i,t)},c.highlight=function(){this.trigger("emphasis")},c.downplay=function(){this.trigger("normal")},c.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var o=this.childAt(1),r=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),l=function(t){return n.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),h=t.getItemVisual(e,"color");o.attr("scale",l),o.traverse((function(t){t.attr({fill:h})}));var c=r.getShallow("symbolOffset");if(c){var u=o.position;u[0]=s(c[0],l[0]),u[1]=s(c[1],l[1])}o.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var p={};if(p.showEffectOn=i.get("showEffectOn"),p.rippleScale=r.get("rippleEffect.scale"),p.brushType=r.get("rippleEffect.brushType"),p.period=1e3*r.get("rippleEffect.period"),p.effectOffset=e/t.count(),p.z=r.getShallow("z")||0,p.zlevel=r.getShallow("zlevel")||0,p.symbolType=a,p.color=h,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn)this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p;else{this._effectCfg=null,this.stopEffectAnimation();var g=this.childAt(0),d=function(){g.highlight(),"render"!==p.showEffectOn&&this.startEffectAnimation(p)},f=function(){g.downplay(),"render"!==p.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",f,this).on("emphasis",d,this).on("normal",f,this)}this._effectCfg=p},c.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},n.inherits(h,r);var u=h;t.exports=u},function(t,e,i){var n=i(1);i(353),i(354);var o=i(160),r=i(357);n.registerLayout(o),n.registerVisual(r)},function(t,e,i){(function(e){i(5).__DEV__;var n=i(14),o=i(16),r=i(0),s=r.concatArray,a=r.mergeAll,l=r.map,h=i(8).encodeHTML,c=(i(19),"undefined"==typeof window?e:window),u=c.Uint32Array||Array,p=c.Float64Array||Array;function g(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=l(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),a([e,t[0],t[1]])})))}var d=n.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){g(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),d.superApply(this,"init",arguments)},mergeOption:function(t){if(g(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}d.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=s(this._flatCoords,e.flatCoords),this._flatCoordsOffset=s(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}var r=this._getCoordsFromItemModel(t);for(o=0;o<r.length;o++)e[o]=e[o]||[],e[o][0]=r[o][0],e[o][1]=r[o][1];return r.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var i=t.length,n=new u(i),o=new p(i),r=0,s=0,a=0,l=0;l<i;){a++;var h=t[l++];n[s++]=r+e,n[s++]=h;for(var c=0;c<h;c++){var g=t[l++],d=t[l++];o[r++]=g,o[r++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,s),flatCoords:o,count:a}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var i=new o(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],(function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[o]:r:void 0})),i},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get("name");if(i)return i;var n=e.get("fromName"),o=e.get("toName"),r=[];return null!=n&&r.push(n),null!=o&&r.push(o),h(r.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,incremental:!1,incrementalThreshold:3e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),f=d;t.exports=f}).call(this,i(44))},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(94),r=i(158),s=i(95),a=i(159),l=i(355),h=i(356),c=i(160),u=n.extendChartView({type:"lines",init:function(){},render:function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),r=t.get("zlevel"),s=t.get("effect.trailLength"),a=i.getZr(),l="svg"===a.painter.getType();l||a.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||a.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&s&&(l||a.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(n),this._lastZlevel=r,this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(!this._finished||t.pipelineContext.large)return{update:!0};var o=c.reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,n=this._showEffect(e),c=!!e.get("polyline"),u=e.pipelineContext.large;return i&&n===this._hasEffet&&c===this._isPolyline&&u===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=u?new h:new o(c?n?l:a:n?r:s),this._hasEffet=n,this._isPolyline=c,this._isLargeDraw=u,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=u},function(t,e,i){var n=i(159),o=i(0),r=i(158),s=i(7);function a(t,e,i){r.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}var l=a.prototype;l.createLine=function(t,e,i){return new n(t,e,i)},l.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var r=e[o-1],a=e[o];n+=s.dist(r,a),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},l.getLineLength=function(t){return this._length},l.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var r=this._lastFrame;if(e<this._lastFramePercent){for(a=Math.min(r+1,o-1);a>=0&&!(n[a]<=e);a--);a=Math.min(a,o-2)}else{for(var a=r;a<o&&!(n[a]>e);a++);a=Math.min(a-1,o-2)}s.lerp(t.position,i[a],i[a+1],(e-n[a])/(n[a+1]-n[a]));var l=i[a+1][0]-i[a][0],h=i[a+1][1]-i[a][1];t.rotation=-Math.atan2(h,l)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1}},o.inherits(a,r);var h=a;t.exports=h},function(t,e,i){var n=i(2),o=i(83),r=i(118),s=i(119),a=n.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(var o=0;o<i.length;){var r=i[o++];if(r>0){t.moveTo(i[o++],i[o++]);for(var s=1;s<r;s++)t.lineTo(i[o++],i[o++])}}else for(o=0;o<i.length;){var a=i[o++],l=i[o++],h=i[o++],c=i[o++];if(t.moveTo(a,l),n>0){var u=(a+h)/2-(l-c)*n,p=(l+c)/2-(h-a)*n;t.quadraticCurveTo(u,p,h,c)}else t.lineTo(h,c)}},findDataIndex:function(t,e){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var a=0,l=0;l<n.length;){var h=n[l++];if(h>0)for(var c=n[l++],u=n[l++],p=1;p<h;p++){var g=n[l++],d=n[l++];if(r.containStroke(c,u,g,d))return a}a++}else for(a=0,l=0;l<n.length;){c=n[l++],u=n[l++],g=n[l++],d=n[l++];if(o>0){var f=(c+g)/2-(u-d)*o,y=(u+d)/2-(g-c)*o;if(s.containStroke(c,u,f,y,g,d))return a}else if(r.containStroke(c,u,g,d))return a;a++}return-1}});function l(){this.group=new n.Group}var h=l.prototype;h.isPersistent=function(){return!this._incremental},h.updateData=function(t){this.group.removeAll();var e=new a({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},h.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new o({silent:!0})),this.group.add(this._incremental)):this._incremental=null},h.incrementalUpdate=function(t,e){var i=new a;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("color");o&&t.setStyle("stroke",o),t.setStyle("fill"),i||(t.seriesIndex=n.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>0&&(t.dataIndex=i+t.__startIndex)})))},h._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var c=l;t.exports=c},function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t}var n="lineStyle.opacity".split("."),o={seriesType:"lines",reset:function(t,e,o){var r=i(t.get("symbol")),s=i(t.get("symbolSize")),a=t.getData();return a.setVisual("fromSymbol",r&&r[0]),a.setVisual("toSymbol",r&&r[1]),a.setVisual("fromSymbolSize",s&&s[0]),a.setVisual("toSymbolSize",s&&s[1]),a.setVisual("opacity",t.get(n)),{dataEach:a.hasItemOption?function(t,e){var o=t.getItemModel(e),r=i(o.getShallow("symbol",!0)),s=i(o.getShallow("symbolSize",!0)),a=o.get(n);r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),s[0]&&t.setItemVisual(e,"fromSymbolSize",s[0]),s[1]&&t.setItemVisual(e,"toSymbolSize",s[1]),t.setItemVisual(e,"opacity",a)}:null}}};t.exports=o},function(t,e,i){i(359),i(360)},function(t,e,i){var n=i(14),o=i(25),r=i(19),s=n.extend({type:"series.heatmap",getInitialData:function(t,e){return o(this.getSource(),this)},preventIncremental:function(){var t=r.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=s},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(2),r=i(361),s=i(0);var a=n.extendChartView({type:"heatmap",render:function(t,e,i){var n;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(i){i===t&&(n=e)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):function(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(o)&&this._renderOnGeo(o,t,n,i)},incrementalPrepareRender:function(t,e,i){this.group.removeAll()},incrementalRender:function(t,e,i,n){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,n,r){var a,l,h=t.coordinateSystem;if("cartesian2d"===h.type){var c=h.getAxis("x"),u=h.getAxis("y");a=c.getBandWidth(),l=u.getBandWidth()}for(var p=this.group,g=t.getData(),d=t.getModel("itemStyle").getItemStyle(["color"]),f=t.getModel("emphasis.itemStyle").getItemStyle(),y=t.getModel("label"),m=t.getModel("emphasis.label"),v=h.type,_="cartesian2d"===v?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],x=i;x<n;x++){var C;if("cartesian2d"===v){if(isNaN(g.get(_[2],x)))continue;var I=h.dataToPoint([g.get(_[0],x),g.get(_[1],x)]);C=new o.Rect({shape:{x:I[0]-a/2,y:I[1]-l/2,width:a,height:l},style:{fill:g.getItemVisual(x,"color"),opacity:g.getItemVisual(x,"opacity")}})}else{if(isNaN(g.get(_[1],x)))continue;C=new o.Rect({z2:1,shape:h.dataToRect([g.get(_[0],x)]).contentShape,style:{fill:g.getItemVisual(x,"color"),opacity:g.getItemVisual(x,"opacity")}})}var A=g.getItemModel(x);g.hasItemOption&&(d=A.getModel("itemStyle").getItemStyle(["color"]),f=A.getModel("emphasis.itemStyle").getItemStyle(),y=A.getModel("label"),m=A.getModel("emphasis.label"));var b=t.getRawValue(x),w="-";b&&null!=b[2]&&(w=b[2]),o.setLabelStyle(d,f,y,m,{labelFetcher:t,labelDataIndex:x,defaultText:w,isRectText:!0}),C.setStyle(d),o.setHoverStyle(C,g.hasItemOption?f:s.extend({},f)),C.incremental=r,r&&(C.useHoverLayer=!0),p.add(C),g.setItemGraphicEl(x,C)}},_renderOnGeo:function(t,e,i,n){var a=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,h=e.getData(),c=this._hmLayer||this._hmLayer||new r;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),p=t.getRoamTransform();u.applyTransform(p);var g=Math.max(u.x,0),d=Math.max(u.y,0),f=Math.min(u.width+u.x,n.getWidth()),y=Math.min(u.height+u.y,n.getHeight()),m=f-g,v=y-d,_=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],x=h.mapArray(_,(function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=g,o[1]-=d,o.push(n),o})),C=i.getExtent(),I="visualMap.continuous"===i.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}(C,i.option.range):function(t,e,i){var n=t[1]-t[0],o=(e=s.map(e,(function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}}))).length,r=0;return function(t){for(var n=r;n<o;n++){if((s=e[n].interval)[0]<=t&&t<=s[1]){r=n;break}}if(n===o)for(n=r-1;n>=0;n--){var s;if((s=e[n].interval)[0]<=t&&t<=s[1]){r=n;break}}return n>=0&&n<o&&i[n]}}(C,i.getPieceList(),i.option.selected);c.update(x,m,v,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:l.color.getColorMapper()},I);var A=new o.Image({style:{width:m,height:v,x:g,y:d,image:c.canvas},silent:!0});this.group.add(A)},dispose:function(){}});t.exports=a},function(t,e,i){var n=i(0);function o(){var t=n.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}o.prototype={update:function(t,e,i,n,o,r){var s=this._getBrush(),a=this._getGradient(t,o,"inRange"),l=this._getGradient(t,o,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,u=c.getContext("2d"),p=t.length;c.width=e,c.height=i;for(var g=0;g<p;++g){var d=t[g],f=d[0],y=d[1],m=n(d[2]);u.globalAlpha=m,u.drawImage(s,f-h,y-h)}if(!c.width||!c.height)return c;for(var v=u.getImageData(0,0,c.width,c.height),_=v.data,x=0,C=_.length,I=this.minOpacity,A=this.maxOpacity-I;x<C;){m=_[x+3]/256;var b=4*Math.floor(255*m);if(m>0){var w=r(m)?a:l;m>0&&(m=m*A+I),_[x++]=w[b],_[x++]=w[b+1],_[x++]=w[b+2],_[x++]=w[b+3]*m*256}else x+=4}return u.putImageData(v,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=n.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var o=t.getContext("2d");return o.clearRect(0,0,i,i),o.shadowOffsetX=i,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-e,e,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),r=[0,0,0,0],s=0,a=0;a<256;a++)e[i](a/255,!0,r),o[s++]=r[0],o[s++]=r[1],o[s++]=r[2],o[s++]=r[3];return o}};var r=o;t.exports=r},function(t,e,i){var n=i(1),o=i(0);i(89),i(363),i(364);var r=i(70).layout,s=i(34);i(55),n.registerLayout(o.curry(r,"pictorialBar")),n.registerVisual(s("pictorialBar","roundRect"))},function(t,e,i){var n=i(139).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,n.superApply(this,"getInitialData",arguments)}}),o=n;t.exports=o},function(t,e,i){var n=i(1),o=i(0),r=i(2),s=i(18).createSymbol,a=i(3),l=a.parsePercent,h=a.isNumeric,c=i(140).setLabel,u=["itemStyle","borderWidth"],p=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],g=new r.Circle;function d(t,e,i,n){var r=t.getItemLayout(e),s=i.get("symbolRepeat"),a=i.get("symbolClip"),c=i.get("symbolPosition")||"start",p=(i.get("symbolRotate")||0)*Math.PI/180||0,d=i.get("symbolPatternSize")||2,y=i.isAnimationEnabled(),m={dataIndex:e,layout:r,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:a,symbolRepeat:s,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:p,animationModel:y?i:null,hoverAnimation:y&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0};!function(t,e,i,n,r){var s,a=n.valueDim,l=t.get("symbolBoundingData"),h=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),c=h.toGlobalCoord(h.dataToCoord(0)),u=1-+(i[a.wh]<=0);if(o.isArray(l)){var p=[f(h,l[0])-c,f(h,l[1])-c];p[1]<p[0]&&p.reverse(),s=p[u]}else s=null!=l?f(h,l)-c:e?n.coordSysExtent[a.index][u]-c:i[a.wh];r.boundingLength=s,e&&(r.repeatCutLength=i[a.wh]);r.pxSign=s>0?1:s<0?-1:0}(i,s,r,n,m),function(t,e,i,n,r,s,a,h,c,u){var p=c.valueDim,g=c.categoryDim,d=Math.abs(i[g.wh]),f=t.getItemVisual(e,"symbolSize");o.isArray(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]);f[g.index]=l(f[g.index],d),f[p.index]=l(f[p.index],n?d:Math.abs(s)),u.symbolSize=f,(u.symbolScale=[f[0]/h,f[1]/h])[p.index]*=(c.isHorizontal?-1:1)*a}(t,e,r,s,0,m.boundingLength,m.pxSign,d,n,m),function(t,e,i,n,o){var r=t.get(u)||0;r&&(g.attr({scale:e.slice(),rotation:i}),g.updateTransform(),r/=g.getLineScale(),r*=e[n.valueDim.index]);o.valueLineWidth=r}(i,m.symbolScale,p,n,m);var v=m.symbolSize,_=i.get("symbolOffset");return o.isArray(_)&&(_=[l(_[0],v[0]),l(_[1],v[1])]),function(t,e,i,n,r,s,a,c,u,p,g,d){var f=g.categoryDim,y=g.valueDim,m=d.pxSign,v=Math.max(e[y.index]+c,0),_=v;if(n){var x=Math.abs(u),C=o.retrieve(t.get("symbolMargin"),"15%")+"",I=!1;C.lastIndexOf("!")===C.length-1&&(I=!0,C=C.slice(0,C.length-1)),C=l(C,e[y.index]);var A=Math.max(v+2*C,0),b=I?0:2*C,w=h(n),S=w?n:L((x+b)/A);A=v+2*(C=(x-S*v)/2/(I?S:S-1)),b=I?0:2*C,w||"fixed"===n||(S=p?L((Math.abs(p)+b)/A):0),_=S*A-b,d.repeatTimes=S,d.symbolMargin=C}var M=m*(_/2),E=d.pathPosition=[];E[f.index]=i[f.wh]/2,E[y.index]="start"===a?M:"end"===a?u-M:u/2,s&&(E[0]+=s[0],E[1]+=s[1]);var T=d.bundlePosition=[];T[f.index]=i[f.xy],T[y.index]=i[y.xy];var P=d.barRectShape=o.extend({},i);P[y.wh]=m*Math.max(Math.abs(i[y.wh]),Math.abs(E[y.index]+M)),P[f.wh]=i[f.wh];var N=d.clipShape={};N[f.xy]=-i[f.xy],N[f.wh]=g.ecSize[f.wh],N[y.xy]=0,N[y.wh]=i[y.wh]}(i,v,r,s,0,_,c,m.valueLineWidth,m.boundingLength,m.repeatCutLength,n,m),m}function f(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function y(t){var e=t.symbolPatternSize,i=s(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function m(t,e,i,n){var o=t.__pictorialBundle,r=i.symbolSize,s=i.valueLineWidth,a=i.pathPosition,l=e.valueDim,h=i.repeatTimes||0,c=0,u=r[e.valueDim.index]+s+2*i.symbolMargin;for(E(t,(function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=h,c<h?T(t,null,d(c),i,n):T(t,null,{scale:[0,0]},i,n,(function(){o.remove(t)})),b(t,i),c++}));c<h;c++){var p=y(i);p.__pictorialAnimationIndex=c,p.__pictorialRepeatTimes=h,o.add(p);var g=d(c);T(p,{position:g.position,scale:[0,0]},{scale:g.scale,rotation:g.rotation},i,n),p.on("mouseover",f).on("mouseout",m),b(p,i)}function d(t){var e=a.slice(),n=i.pxSign,o=t;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=h-1-t),e[l.index]=u*(o-h/2+.5)+a[l.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation}}function f(){E(t,(function(t){t.trigger("emphasis")}))}function m(){E(t,(function(t){t.trigger("normal")}))}}function v(t,e,i,n){var o=t.__pictorialBundle,r=t.__pictorialMainPath;r?T(r,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(r=t.__pictorialMainPath=y(i),o.add(r),T(r,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),r.on("mouseover",(function(){this.trigger("emphasis")})).on("mouseout",(function(){this.trigger("normal")}))),b(r,i)}function _(t,e,i){var n=o.extend({},e.barRectShape),s=t.__pictorialBarRect;s?T(s,null,{shape:n},e,i):(s=t.__pictorialBarRect=new r.Rect({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(s))}function x(t,e,i,n){if(i.symbolClip){var s=t.__pictorialClipPath,a=o.extend({},i.clipShape),l=e.valueDim,h=i.animationModel,c=i.dataIndex;if(s)r.updateProps(s,{shape:a},h,c);else{a[l.wh]=0,s=new r.Rect({shape:a}),t.__pictorialBundle.setClipPath(s),t.__pictorialClipPath=s;var u={};u[l.wh]=i.clipShape[l.wh],r[n?"updateProps":"initProps"](s,{shape:u},h,c)}}}function C(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=I,i.isAnimationEnabled=A,i}function I(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function A(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function b(t,e){t.off("emphasis").off("normal");var i=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",(function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")})).on("normal",(function(){this.animateTo({scale:i.slice()},400,"elasticOut")}))}function w(t,e,i,n){var o=new r.Group,s=new r.Group;return o.add(s),o.__pictorialBundle=s,s.attr("position",i.bundlePosition.slice()),i.symbolRepeat?m(o,e,i):v(o,0,i),_(o,i,n),x(o,e,i,n),o.__pictorialShapeStr=M(t,i),o.__pictorialSymbolMeta=i,o}function S(t,e,i,n){var s=n.__pictorialBarRect;s&&(s.style.text=null);var a=[];E(n,(function(t){a.push(t)})),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),o.each(a,(function(t){r.updateProps(t,{scale:[0,0]},i,e,(function(){n.parent&&n.parent.remove(n)}))})),t.setItemGraphicEl(e,null)}function M(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function E(t,e,i){o.each(t.__pictorialBundle.children(),(function(n){n!==t.__pictorialBarRect&&e.call(i,n)}))}function T(t,e,i,n,o,s){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&r[o?"updateProps":"initProps"](t,i,n.animationModel,n.dataIndex,s)}function P(t,e,i){var n=i.color,s=i.dataIndex,a=i.itemModel,l=a.getModel("itemStyle").getItemStyle(["color"]),h=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");E(t,(function(t){t.setColor(n),t.setStyle(o.defaults({fill:n,opacity:i.opacity},l)),r.setHoverStyle(t,h),u&&(t.cursor=u),t.z2=i.z2}));var p={},g=e.valueDim.posDesc[+(i.boundingLength>0)],d=t.__pictorialBarRect;c(d.style,p,a,n,e.seriesModel,s,g),r.setHoverStyle(d,p)}function L(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var N=n.extendChartView({type:"pictorialBar",render:function(t,e,i){var n=this.group,o=t.getData(),s=this._data,a=t.coordinateSystem,l=!!a.getBaseAxis().isHorizontal(),h=a.grid.getRect(),c={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:l,valueDim:p[+l],categoryDim:p[1-l]};return o.diff(s).add((function(t){if(o.hasValue(t)){var e=C(o,t),i=d(o,t,e,c),r=w(o,c,i);o.setItemGraphicEl(t,r),n.add(r),P(r,c,i)}})).update((function(t,e){var i=s.getItemGraphicEl(e);if(o.hasValue(t)){var a=C(o,t),l=d(o,t,a,c),h=M(o,l);i&&h!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(t,null),i=null),i?function(t,e,i){var n=i.animationModel,o=i.dataIndex,s=t.__pictorialBundle;r.updateProps(s,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?m(t,e,i,!0):v(t,e,i,!0);_(t,i,!0),x(t,e,i,!0)}(i,c,l):i=w(o,c,l,!0),o.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=l,n.add(i),P(i,c,l)}else n.remove(i)})).remove((function(t){var e=s.getItemGraphicEl(t);e&&S(s,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=o,this.group},dispose:o.noop,remove:function(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl((function(e){S(n,e.dataIndex,t,e)})):i.removeAll()}});t.exports=N},function(t,e,i){var n=i(1);i(161),i(375),i(376);var o=i(377),r=i(378),s=i(56);n.registerLayout(o),n.registerVisual(r),n.registerProcessor(s("themeRiver"))},function(t,e,i){var n=i(367);i(19).register("single",{create:function(t,e){var i=[];return t.eachComponent("singleAxis",(function(o,r){var s=new n(o,t,e);s.name="single_"+r,s.resize(o,e),o.coordinateSystem=s,i.push(s)})),t.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=i&&i.coordinateSystem}})),i},dimensions:n.prototype.dimensions})},function(t,e,i){var n=i(368),o=i(17),r=i(6).getLayoutRect,s=i(0).each;function a(t,e,i){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,i),this.model=t}a.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:a,_init:function(t,e,i){var r=this.dimension,s=new n(r,o.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),a="category"===s.type;s.onBand=a&&t.get("boundaryGap"),s.inverse=t.get("inverse"),s.orient=t.get("orient"),t.axis=s,s.model=t,s.coordinateSystem=this,this._axis=s},update:function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();s(e.mapDimension(this.dimension,!0),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),o.niceScaleExtent(this._axis.scale,this._axis.model)}}),this)},resize:function(t,e){this._rect=r({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return n-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n}};var l=a;t.exports=l},function(t,e,i){var n=i(0),o=i(27),r=function(t,e,i,n,r){o.call(this,t,e,i),this.type=n||"value",this.position=r||"bottom",this.orient=null,this._labelInterval=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(0),o=i(35),r=i(2),s=i(162),a=i(36),l=o.getInterval,h=o.ifIgnoreOnTick,c=["axisLine","axisTickLabel","axisName"],u=a.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,i,r){var a=this.group;a.removeAll();var l=s.layout(t),h=new o(t,l);n.each(c,h.add,h),a.add(h.getGroup()),t.get("splitLine.show")&&this._splitLine(t,l.labelInterval),u.superCall(this,"render",t,e,i,r)},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("width"),a=o.get("color"),c=l(n,e);a=a instanceof Array?a:[a];for(var u=t.coordinateSystem.getRect(),p=i.isHorizontal(),g=[],d=0,f=i.getTicksCoords(),y=[],m=[],v=t.get("axisLabel.showMinLabel"),_=t.get("axisLabel.showMaxLabel"),x=0;x<f.length;++x)if(!h(i,x,c,f.length,v,_)){var C=i.toGlobalCoord(f[x]);p?(y[0]=C,y[1]=u.y,m[0]=C,m[1]=u.y+u.height):(y[0]=u.x,y[1]=C,m[0]=u.x+u.width,m[1]=C);var I=d++%a.length;g[I]=g[I]||[],g[I].push(new r.Line(r.subPixelOptimizeLine({shape:{x1:y[0],y1:y[1],x2:m[0],y2:m[1]},style:{lineWidth:s},silent:!0})))}for(x=0;x<g.length;++x)this.group.add(r.mergePath(g[x],{style:{stroke:a[x%a.length],lineDash:o.getLineDash(s),lineWidth:s},silent:!0}))}}}),p=u;t.exports=p},function(t,e,i){var n=i(0),o=i(13),r=i(72),s=i(42),a=o.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});n.merge(a.prototype,s),r("single",a,(function(t,e){return e.type||(e.data?"category":"value")}),{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var l=a;t.exports=l},function(t,e,i){var n=i(0),o=i(4).makeInner,r=i(73),s=i(163),a=n.each,l=n.curry,h=o();function c(t,e,i,o,r){var s=t.axis;if(!s.scale.isBlank()&&s.containData(e))if(t.involveSeries){var l=function(t,e){var i=e.axis,n=i.dim,o=t,r=[],s=Number.MAX_VALUE,l=-1;return a(e.seriesModels,(function(e,h){var c,u,p=e.getData().mapDimension(n,!0);if(e.getAxisTooltipData){var g=e.getAxisTooltipData(p,t,i);u=g.dataIndices,c=g.nestestValue}else{if(!(u=e.getData().indicesOfNearest(p[0],t,!1,"category"===i.type?.5:null)).length)return;c=e.getData().get(p[0],u[0])}if(null!=c&&isFinite(c)){var d=t-c,f=Math.abs(d);f<=s&&((f<s||d>=0&&l<0)&&(s=f,l=d,o=c,r.length=0),a(u,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:o}}(e,t),h=l.payloadBatch,c=l.snapToValue;h[0]&&null==r.seriesIndex&&n.extend(r,h[0]),!o&&t.snap&&s.containData(c)&&null!=c&&(e=c),i.showPointer(t,e,h,r),i.showTooltip(t,l,c)}else i.showPointer(t,e)}function u(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function p(t,e,i,n){var o=i.payloadBatch,s=e.axis,a=s.model,l=e.axisPointerModel;if(e.triggerTooltip&&o.length){var h=e.coordSys.model,c=r.makeKey(h),u=t.map[c];u||(u=t.map[c]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:s.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function g(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function d(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,i){var o=t.currTrigger,r=[t.x,t.y],f=t,y=t.dispatchAction||n.bind(i.dispatchAction,i),m=e.getComponent("axisPointer").coordSysAxesInfo;if(m){d(r)&&(r=s({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},e).point);var v=d(r),_=f.axesInfo,x=m.axesInfo,C="leave"===o||d(r),I={},A={},b={list:[],map:{}},w={showPointer:l(u,A),showTooltip:l(p,b)};a(m.coordSysMap,(function(t,e){var i=v||t.containPoint(r);a(m.coordSysAxesInfo[e],(function(t,e){var n=t.axis,o=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(_,t);if(!C&&i&&(!_||o)){var s=o&&o.value;null!=s||v||(s=n.pointToData(r)),null!=s&&c(t,s,w,!1,I)}}))}));var S={};return a(x,(function(t,e){var i=t.linkGroup;i&&!A[e]&&a(i.axesInfo,(function(e,n){var o=A[n];if(e!==t&&o){var r=o.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,g(e),g(t)))),S[t.key]=r}}))})),a(S,(function(t,e){c(x[e],t,w,!0,I)})),function(t,e,i){var n=i.axesInfo=[];a(e,(function(e,i){var o=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(o.status="show"),o.value=r.value,o.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})}))}(A,x,I),function(t,e,i,n){if(d(e)||!t.list.length)return void n({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}(b,r,t,y),function(t,e,i){var o=i.getZr(),r=h(o).axisPointerLastHighlights||{},s=h(o).axisPointerLastHighlights={};a(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&a(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var l=[],c=[];n.each(r,(function(t,e){!s[e]&&c.push(t)})),n.each(s,(function(t,e){!r[e]&&l.push(t)})),c.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:c}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(x,0,i),I}}},function(t,e,i){var n=i(1).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=n},function(t,e,i){var n=i(1),o=i(164),r=n.extendComponentView({type:"axisPointer",render:function(t,e,i){var n=e.getComponent("tooltip"),r=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";o.register("axisPointer",i,(function(t,e,i){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){o.unregister(e.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(t,e){o.unregister("axisPointer",e),r.superApply(this._model,"dispose",arguments)}}),s=r;t.exports=s},function(t,e,i){var n=i(2),o=i(97),r=i(77),s=i(162),a=i(36),l=["x","y"],h=["width","height"],c=o.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,l=a.coordinateSystem,h=g(l,1-p(a)),c=l.dataToPoint(e)[0],d=n.get("type");if(d&&"none"!==d){var f=r.buildElStyle(n),y=u[d](a,c,h,f);y.style=f,t.graphicKey=y.type,t.pointer=y}var m=s.layout(i);r.buildCartesianSingleLabelElOption(e,t,m,i,n,o)},getHandleTransform:function(t,e,i){var n=s.layout(e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:r.getTransformedPosition(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,r=o.coordinateSystem,s=p(o),a=g(r,s),l=t.position;l[s]+=e[s],l[s]=Math.min(a[1],l[s]),l[s]=Math.max(a[0],l[s]);var h=g(r,1-s),c=(h[1]+h[0])/2,u=[c,c];return u[s]=l[s],{position:l,rotation:t.rotation,cursorPoint:u,tooltipOption:{verticalAlign:"middle"}}}}),u={line:function(t,e,i,o){var s=r.makeLineShape([e,i[0]],[e,i[1]],p(t));return n.subPixelOptimizeLine({shape:s,style:o}),{type:"Line",shape:s}},shadow:function(t,e,i,n){var o=t.getBandWidth(),s=i[1]-i[0];return{type:"Rect",shape:r.makeRectShape([e-o/2,i[0]],[o,s],p(t))}}};function p(t){return t.isHorizontal()?0:1}function g(t,e){var i=t.getRect();return[i[l[e]],i[l[e]]+i[h[e]]]}a.registerAxisPointerClass("SingleAxisPointer",c);var d=c;t.exports=d},function(t,e,i){var n=i(14),o=i(41),r=i(52).getDimensionTypeByAxis,s=i(16),a=i(0),l=i(8).encodeHTML,h=i(157),c=n.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,i=h().key((function(t){return t[2]})).entries(t),n=a.map(i,(function(t){return{name:t.key,dataList:t.values}})),o=n.length,r=-1,s=-1,l=0;l<o;++l){var c=n[l].dataList.length;c>r&&(r=c,s=l)}for(var u=0;u<o;++u)if(u!==s)for(var p=n[u].name,g=0;g<r;++g){for(var d=n[s].dataList[g][0],f=n[u].dataList.length,y=-1,m=0;m<f;++m){if(n[u].dataList[m][0]===d){y=m;break}}-1===y&&(t[e]=[],t[e][0]=d,t[e][1]=0,t[e][2]=p,e++)}return t},getInitialData:function(t,e){for(var i=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),n=a.filter(t.data,(function(t){return void 0!==t[2]})),l=this.fixData(n||[]),h=[],c=this.nameMap=a.createHashMap(),u=0,p=0;p<l.length;++p)h.push(l[p][2]),c.get(l[p][2])||(c.set(l[p][2],u),u++);var g=o(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:r(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),d=new s(g,this);return d.initData(l),d},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),i=[],n=0;n<e;++n)i[n]=n;for(var o=h().key((function(e){return t.get("name",e)})).entries(i),r=a.map(o,(function(t){return{name:t.key,indices:t.values}})),s=t.mapDimension("single"),l=0;l<r.length;++l)r[l].indices.sort(c);function c(e,i){return t.get(s,e)-t.get(s,i)}return r},getAxisTooltipData:function(t,e,i){a.isArray(t)||(t=t?[t]:[]);for(var n,o=this.getData(),r=this.getLayerSeries(),s=[],l=r.length,h=0;h<l;++h){for(var c=Number.MAX_VALUE,u=-1,p=r[h].indices.length,g=0;g<p;++g){var d=o.get(t[0],r[h].indices[g]),f=Math.abs(d-e);f<=c&&(n=d,c=f,u=r[h].indices[g])}s.push(u)}return{dataIndices:s,nestestValue:n}},formatTooltip:function(t){var e=this.getData(),i=e.getName(t),n=e.get(e.mapDimension("value"),t);return(isNaN(n)||null==n)&&(n="-"),l(i+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),u=c;t.exports=u},function(t,e,i){var n=i(1),o=i(135).Polygon,r=i(2),s=i(0),a=s.bind,l=s.extend,h=i(33),c=n.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,i){var n=t.getData(),s=this.group,c=t.getLayerSeries(),u=n.getLayout("layoutInfo"),p=u.rect,g=u.boundaryGap;function d(t){return t.name}s.attr("position",[0,p.y+g[0]]);var f=new h(this._layersSeries||[],c,d,d),y={};function m(e,i,a){var h=this._layers;if("remove"!==e){for(var u,p,g,d=[],f=[],m=c[i].indices,v=0;v<m.length;v++){var _=n.getItemLayout(m[v]),x=_.x,C=_.y0,I=_.y;d.push([x,C]),f.push([x,C+I]),u=n.getItemVisual(m[v],"color")}var A=n.getItemLayout(m[0]),b=n.getItemModel(m[v-1]),w=b.getModel("label"),S=w.get("margin");if("add"===e){var M=y[i]=new r.Group;p=new o({shape:{points:d,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),g=new r.Text({style:{x:A.x-S,y:A.y0+A.y/2}}),M.add(p),M.add(g),s.add(M),p.setClipPath(function(t,e,i){var n=new r.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return r.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}(p.getBoundingRect(),t,(function(){p.removeClipPath()})))}else{M=h[a];p=M.childAt(0),g=M.childAt(1),s.add(M),y[i]=M,r.updateProps(p,{shape:{points:d,stackedOnPoints:f}},t),r.updateProps(g,{style:{x:A.x-S,y:A.y0+A.y/2}},t)}var E=b.getModel("emphasis.itemStyle"),T=b.getModel("itemStyle");r.setTextStyle(g.style,w,{text:w.get("show")?t.getFormattedLabel(m[v-1],"normal")||n.getName(m[v-1]):null,textVerticalAlign:"middle"}),p.setStyle(l({fill:u},T.getItemStyle(["color"]))),r.setHoverStyle(p,E.getItemStyle())}else s.remove(h[i])}f.add(a(m,this,"add")).update(a(m,this,"update")).remove(a(m,this,"remove")).execute(),this._layersSeries=c,this._layers=y},dispose:function(){}});t.exports=c},function(t,e,i){var n=i(0),o=i(3);function r(t,e,i){if(t.count())for(var o,r=e.coordinateSystem,s=e.getLayerSeries(),a=t.mapDimension("single"),l=t.mapDimension("value"),h=n.map(s,(function(e){return n.map(e.indices,(function(e){var i=r.dataToPoint(t.get(a,e));return i[1]=t.get(l,e),i}))})),c=function(t){for(var e=t.length,i=t[0].length,n=[],o=[],r=0,s={},a=0;a<i;++a){for(var l=0,h=0;l<e;++l)h+=t[l][a][1];h>r&&(r=h),n.push(h)}for(var c=0;c<i;++c)o[c]=(r-n[c])/2;r=0;for(var u=0;u<i;++u){var p=n[u]+o[u];p>r&&(r=p)}return s.y0=o,s.max=r,s}(h),u=c.y0,p=i/c.max,g=s.length,d=s[0].indices.length,f=0;f<d;++f){o=u[f]*p,t.setItemLayout(s[0].indices[f],{layerIndex:0,x:h[0][f][0],y0:o,y:h[0][f][1]*p});for(var y=1;y<g;++y)o+=h[y-1][f][1]*p,t.setItemLayout(s[y].indices[f],{layerIndex:y,x:h[y][f][0],y0:o,y:h[y][f][1]*p})}}t.exports=function(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),i=t.coordinateSystem,n={},s=i.getRect();n.rect=s;var a=t.get("boundaryGap"),l=i.getAxis();(n.boundaryGap=a,"horizontal"===l.orient)?(a[0]=o.parsePercent(a[0],s.height),a[1]=o.parsePercent(a[1],s.height),r(e,t,s.height-a[0]-a[1])):(a[0]=o.parsePercent(a[0],s.width),a[1]=o.parsePercent(a[1],s.width),r(e,t,s.width-a[0]-a[1]));e.setLayout("layoutInfo",n)}))}},function(t,e,i){var n=i(0).createHashMap;t.exports=function(t){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),i=t.getRawData(),o=t.get("color"),r=n();e.each((function(t){r.set(e.getRawIndex(t),t)})),i.each((function(n){var s=i.getName(n),a=o[(t.nameMap.get(s)-1)%o.length];i.setItemVisual(n,"color",a);var l=r.get(n);null!=l&&e.setItemVisual(l,"color",a)}))}))}},function(t,e,i){var n=i(1),o=i(0);i(380),i(381),i(383);var r=i(74),s=i(384),a=i(56);n.registerVisual(o.curry(r,"sunburst")),n.registerLayout(o.curry(s,"sunburst")),n.registerProcessor(o.curry(a,"sunburst"))},function(t,e,i){var n=i(0),o=i(14),r=i(93),s=i(37).wrapTreePathInfo,a=o.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var i={name:t.name,children:t.data};!function t(e){var i=0;n.each(e.children,(function(e){t(e);var o=e.value;n.isArray(o)&&(o=o[0]),i+=o}));var o=e.value;n.isArray(o)&&(o=o[0]);(null==o||isNaN(o))&&(o=i);o<0&&(o=0);n.isArray(e.value)?e.value[0]=o:e.value=o}(i);var o=t.levels||[],s={};return s.levels=o,r.createTree(i,this,s).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=o.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=s(i,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=a},function(t,e,i){var n=i(0),o=i(24),r=i(382),s=i(33),a=o.extend({type:"sunburst",init:function(){},render:function(t,e,i,o){var a=this;this.seriesModel=t,this.api=i,this.ecModel=e;var l=t.getData().tree.root,h=t.getViewRoot(),c=this.group,u=t.get("renderLabelForZeroData"),p=[];h.eachNode((function(t){p.push(t)}));var g=this._oldChildren||[];if(function(i,o){if(0===i.length&&0===o.length)return;function a(t){return t.getId()}function h(n,s){!function(i,n){u||!i||i.getValue()||(i=null);if(i!==l&&n!==l)if(n&&n.piece)i?n.piece.updateData(!1,i,"normal",t,e):function(t){if(!t)return;t.piece&&(c.remove(t.piece),t.piece=null)}(n);else if(i){var o=new r(i,t,e);c.add(o)}}(null==n?null:i[n],null==s?null:o[s])}new s(o,i,a,a).add(h).update(h).remove(n.curry(h,null)).execute()}(p,g),function(i,n){if(n.depth>0){i.piece?i.piece.updateData(!1,i,"normal",t,e):(i.piece=new r(i,t,e),c.add(i.piece)),n.piece._onclickEvent&&n.piece.off("click",n.piece._onclickEvent);var o=function(t){a._rootToNode(n.parentNode)};n.piece._onclickEvent=o,i.piece.on("click",o)}else i.piece&&(c.remove(i.piece),i.piece=null)}(l,h),o&&o.highlight&&o.highlight.piece){var d=t.getShallow("highlightPolicy");o.highlight.piece.onEmphasis(d)}else if(o&&o.unhighlight){var f=l.piece;!f&&l.children.length&&(f=l.children[0].piece),f&&f.onNormal()}this._initEvents(),this._oldChildren=p},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var i=t.seriesModel.get("nodeClick",!0);if(i){var n=!1;t.seriesModel.getViewRoot().eachNode((function(o){if(!n&&o.piece&&o.piece.childAt(0)===e.target){if("rootToNode"===i)t._rootToNode(o);else if("link"===i){var r=o.getModel(),s=r.get("link",!0);if(s){var a=r.get("target",!0)||"_blank";s&&window.open(s,a)}}n=!0}}))}};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,r=Math.sqrt(n*n+o*o);return r<=i.r&&r>=i.r0}}});t.exports=a},function(t,e,i){var n=i(0),o=i(2),r="none",s="ancestor",a="self";function l(t,e,i){o.Group.call(this);var n=new o.Sector({z2:2}),r=new o.Text({z2:4,silent:t.getModel("label").get("silent")});function s(){r.ignore=r.hoverIgnore}function a(){r.ignore=r.normalIgnore}this.add(n),this.add(r),this.updateData(!0,t,"normal",e,i),this.on("emphasis",s).on("normal",a).on("mouseover",s).on("mouseout",a)}var h=l.prototype;h.updateData=function(t,e,i,r,s){this.node=e,e.piece=this,r=r||this._seriesModel,s=s||this._ecModel;var a=this.childAt(0);a.dataIndex=e.dataIndex;var l=e.getModel(),h=e.getLayout(),c=n.extend({},h);c.label=null;var u,p=function(t,e,i){var o=t.getVisual("color");0===t.getVisual("visualMeta").length&&(o=null);var r=t.getModel("itemStyle").get("color");if(r)return r;if(o)return o;if(0===t.depth)return i.option.color[0];var s=i.option.color.length;r=i.option.color[function(t){var e=t;for(;e.depth>1;)e=e.parentNode;var i=t.getAncestors()[0];return n.indexOf(i.children,e)}(t)%s];return r}(e,0,s),g=l.getModel("itemStyle").getItemStyle();if("normal"===i)u=g;else{var d=l.getModel(i+".itemStyle").getItemStyle();u=n.merge(d,g)}u=n.defaults({lineJoin:"bevel",fill:u.fill||p},u),t?(a.setShape(c),a.shape.r=h.r0,o.updateProps(a,{shape:{r:h.r}},r,e.dataIndex),a.useStyle(u)):o.updateProps(a,{shape:c,style:u},r),"normal"===i&&(a.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle(),o.setHoverStyle(this)),this._updateLabel(r,s,p);var f=l.getShallow("cursor");if(f&&a.attr("cursor",f),t){var y=r.getShallow("highlightPolicy");this._initEvents(a,e,r,y)}this._seriesModel=r||this._seriesModel,this._ecModel=s||this._ecModel},h.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode((function(i){var n,o,l;i.piece&&(e.node===i?i.piece.updateData(!1,i,"emphasis"):(n=i,o=e.node,(l=t)!==r&&(l===a?n===o:l===s?n===o||n.isAncestorOf(o):n===o||n.isDescendantOf(o))?i.piece.childAt(0).trigger("highlight"):t!==r&&i.piece.childAt(0).trigger("downplay")))}))},h.onNormal=function(){this.node.hostTree.root.eachNode((function(t){t.piece&&t.piece.updateData(!1,t,"normal")}))},h.onHighlight=function(){this.updateData(!1,this.node,"highlight")},h.onDownplay=function(){this.updateData(!1,this.node,"downplay")},h._updateLabel=function(t,e,i){var r=this.node.getModel(),s=r.getModel("label"),a=r.getModel("label.emphasis"),l=n.retrieve(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);s.get("show")||(l="");var h=this.childAt(1);o.setLabelStyle(h.style,h.hoverStyle={},s,a,{defaultText:s.getShallow("show")?l:null,autoColor:i,useInsideStyle:!0});var c,u=this.node.getLayout(),p=(u.startAngle+u.endAngle)/2,g=Math.cos(p),d=Math.sin(p),f=s.get("position"),y=s.get("distance")||0,m=s.get("align");"outside"===f?(c=u.r+y,m=p>Math.PI/2?"right":"left"):m&&"center"!==m?"left"===m?(c=u.r0+y,p>Math.PI/2&&(m="right")):"right"===m&&(c=u.r-y,p>Math.PI/2&&(m="left")):(c=(u.r+u.r0)/2,m="center"),h.attr("style",{text:l,textAlign:m,textVerticalAlign:s.get("verticalAlign")||"middle",opacity:s.get("opacity")});var v=c*g+u.cx,_=c*d+u.cy;h.attr("position",[v,_]);var x=s.getShallow("rotate"),C=0;"radial"===x?(C=-p)<-Math.PI/2&&(C+=Math.PI):"tangential"===x?(C=Math.PI/2-p)>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI):"number"==typeof x&&(C=x*Math.PI/180),h.attr("rotation",C)},h._initEvents=function(t,e,i,n){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,r=function(){o.onEmphasis(n)},s=function(){o.onNormal()};i.isAnimationEnabled()&&t.on("mouseover",r).on("mouseout",s).on("emphasis",r).on("normal",s).on("downplay",(function(){o.onDownplay()})).on("highlight",(function(){o.onHighlight()}))},n.inherits(l,o.Group);var c=l;t.exports=c},function(t,e,i){var n=i(1),o=i(37);n.registerAction({type:"sunburstRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,i){var n=o.retrieveTargetInfo(t,["sunburstRootToNode"],e);if(n){var r=e.getViewRoot();r&&(t.direction=o.aboveViewRoot(r,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}))}));n.registerAction({type:"sunburstHighlight",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,i){var n=o.retrieveTargetInfo(t,["sunburstHighlight"],e);n&&(t.highlight=n.node)}))}));n.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,i){t.unhighlight=!0}))}))},function(t,e,i){var n=i(3).parsePercent,o=i(0),r=(Math.PI,Math.PI/180);function s(t,e){var i=t.children||[];t.children=function(t,e){if("function"==typeof e)return t.sort(e);var i="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n}))}(i,e),i.length&&o.each(t.children,(function(t){s(t,e)}))}t.exports=function(t,e,i,a){e.eachSeriesByType(t,(function(t){var e=t.get("center"),a=t.get("radius");o.isArray(a)||(a=[0,a]),o.isArray(e)||(e=[e,e]);var l=i.getWidth(),h=i.getHeight(),c=Math.min(l,h),u=n(e[0],l),p=n(e[1],h),g=n(a[0],c/2),d=n(a[1],c/2),f=-t.get("startAngle")*r,y=t.get("minAngle")*r,m=t.getData().tree.root,v=t.getViewRoot(),_=v.depth,x=t.get("sort");null!=x&&s(v,x);var C=0;o.each(v.children,(function(t){!isNaN(t.getValue())&&C++}));var I=v.getValue(),A=Math.PI/(I||C)*2,b=v.depth>0,w=v.height-(b?-1:1),S=(d-g)/(w||1),M=t.get("clockwise"),E=t.get("stillShowZeroSum"),T=M?1:-1,P=function(t,e){if(t){var i=e;if(t!==m){var r=t.getValue(),s=0===I&&E?A:r*A;s<y?(s=y,y):r,i=e+T*s;var a=t.depth-_-(b?-1:1),l=g+S*a,h=g+S*(a+1),d=t.getModel();null!=d.get("r0")&&(l=n(d.get("r0"),c/2)),null!=d.get("r")&&(h=n(d.get("r"),c/2)),t.setLayout({angle:s,startAngle:e,endAngle:i,clockwise:M,cx:u,cy:p,r0:l,r:h})}if(t.children&&t.children.length){var f=0;o.each(t.children,(function(t){f+=P(t,e+f)}))}return i-e}};if(b){var L=g,N=g+S,D=2*Math.PI;m.setLayout({angle:D,startAngle:f,endAngle:f+D,clockwise:M,cx:u,cy:p,r0:L,r:N})}P(v,f)}))}},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(2),s=i(88).getDefaultLabel,a=i(25),l=i(70).getLayoutOnAxis,h=i(33),c=i(386),u=i(387),p=i(388),g=i(389),d=i(390),f=["itemStyle"],y=["emphasis","itemStyle"],m=["label"],v=["emphasis","label"],_={cartesian2d:c,geo:u,singleAxis:p,polar:g,calendar:d};function x(t,e,i,n,o){null==i[t]||o||(e[t]=i[t],i[t]=n[t])}function C(t,e,i,n){var a=t.get("renderItem"),h=t.coordinateSystem,c={};h&&(c=h.prepareCustoms?h.prepareCustoms():_[h.type](h));var u,p,g,d,x,C=o.defaults({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,i){return null==i&&(i=u),e.get(e.getDimension(t||0),i)},style:function(i,n){null==n&&(n=u),w(n);var a=p.getModel(f).getItemStyle();null!=x&&(a.fill=x);var l=e.getItemVisual(n,"opacity");return null!=l&&(a.opacity=l),r.setTextStyle(a,g,null,{autoColor:x,isRectText:!0}),a.text=g.getShallow("show")?o.retrieve2(t.getFormattedLabel(n,"normal"),s(e,n)):null,i&&o.extend(a,i),a},styleEmphasis:function(i,n){null==n&&(n=u),w(n);var a=p.getModel(y).getItemStyle();return r.setTextStyle(a,d,null,{isRectText:!0},!0),a.text=d.getShallow("show")?o.retrieve3(t.getFormattedLabel(n,"emphasis"),t.getFormattedLabel(n,"normal"),s(e,n)):null,i&&o.extend(a,i),a},visual:function(t,i){return null==i&&(i=u),e.getItemVisual(i,t)},barLayout:function(t){if(h.getBaseAxis){var e=h.getBaseAxis();return l(o.defaults({axis:e},t),n)}},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return r.getFont(t,i)}},c.api||{}),A={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:c.coordSys,dataInsideLength:e.count(),encode:I(t.getData())},b=!0;return function(t){return u=t,b=!0,a&&a(o.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t)},A),C)||{}};function w(t){null==t&&(t=u),b&&(p=e.getItemModel(t),g=p.getModel(m),d=p.getModel(v),x=e.getItemVisual(t,"color"),b=!1)}}function I(t){var e={};return o.each(t.dimensions,(function(i,n){var o=t.getDimensionInfo(i);if(!o.isExtraCoord){var r=o.coordDim;(e[r]=e[r]||[])[o.coordDimIndex]=n}})),e}function A(t,e,i,n,o,r){return(t=b(t,e,i,n,o,r))&&r.setItemGraphicEl(e,t),t}function b(t,e,i,n,s,a){var l=i.type;if(!t||l===t.__customGraphicType||"path"===l&&i.pathData===t.__customPathData||"image"===l&&i.style.image===t.__customImagePath||"text"===l&&i.style.text===t.__customText||(s.remove(t),t=null),null!=l){var c,u=!t;if(!t&&(t=function(t){var e,i=t.type;if("path"===i){var n=t.shape;(e=r.makePath(n.pathData,null,{x:n.x||0,y:n.y||0,width:n.width||0,height:n.height||0},"center")).__customPathData=t.pathData}else if("image"===i)(e=new r.Image({})).__customImagePath=t.style.image;else if("text"===i)(e=new r.Text({})).__customText=t.style.text;else{e=new(0,r[i.charAt(0).toUpperCase()+i.slice(1)])}return e.__customGraphicType=i,e.name=t.name,e}(i)),function(t,e,i,n,s,a){var l={},h=i.style||{};if(i.shape&&(l.shape=o.clone(i.shape)),i.position&&(l.position=i.position.slice()),i.scale&&(l.scale=i.scale.slice()),i.origin&&(l.origin=i.origin.slice()),i.rotation&&(l.rotation=i.rotation),"image"===t.type&&i.style){var c=l.style={};o.each(["x","y","width","height"],(function(e){x(e,c,h,t.style,a)}))}if("text"===t.type&&i.style){c=l.style={};o.each(["x","y"],(function(e){x(e,c,h,t.style,a)})),!h.hasOwnProperty("textFill")&&h.fill&&(h.textFill=h.fill),!h.hasOwnProperty("textStroke")&&h.stroke&&(h.textStroke=h.stroke)}if("group"!==t.type&&(t.useStyle(h),a)){t.style.opacity=0;var u=h.opacity;null==u&&(u=1),r.initProps(t,{style:{opacity:u}},n,e)}a?t.attr(l):r.updateProps(t,l,n,e),t.attr({z2:i.z2||0,silent:i.silent}),!1!==i.styleEmphasis&&r.setHoverStyle(t,i.styleEmphasis)}(t,e,i,n,0,u),"group"===l){var p=t.children()||[],g=i.children||[];if(i.diffChildrenByName)new h((c={oldChildren:p,newChildren:g,dataIndex:e,animatableModel:n,group:t,data:a}).oldChildren,c.newChildren,w,w,c).add(S).update(S).remove(M).execute();else{for(var d=0;d<g.length;d++)b(t.childAt(d),e,g[d],n,t,a);for(;d<p.length;d++)p[d]&&t.remove(p[d])}}return s.add(t),t}}function w(t,e){var i=t&&t.name;return null!=i?i:"e\0\0"+e}function S(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null;b(null!=e?i.oldChildren[e]:null,i.dataIndex,n,i.animatableModel,i.group,i.data)}function M(t){var e=this.context,i=e.oldChildren[t];i&&e.group.remove(i)}n.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(t,e){return a(this.getSource(),this)}}),n.extendChartView({type:"custom",_data:null,render:function(t,e,i){var n=this._data,o=t.getData(),r=this.group,s=C(t,o,e,i);this.group.removeAll(),o.diff(n).add((function(e){o.hasValue(e)&&A(null,e,s(e),t,r,o)})).update((function(e,i){var a=n.getItemGraphicEl(i);o.hasValue(e)?A(a,e,s(e),t,r,o):a&&r.remove(a)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=o},incrementalPrepareRender:function(t,e,i){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,i,n){var o=e.getData(),r=C(e,o,i,n);function s(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var a=t.start;a<t.end;a++){A(null,a,r(a),e,this.group,o).traverse(s)}},dispose:o.noop})},function(t,e,i){var n=i(0);function o(t,e){return e=e||[0,0],n.map(["x","y"],(function(i,n){var o=this.getAxis(i),r=e[n],s=t[n]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-s)-o.dataToCoord(r+s))}),this)}t.exports=function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:n.bind(o,t)}}}},function(t,e,i){var n=i(0);function o(t,e){return e=e||[0,0],n.map([0,1],(function(i){var n=e[i],o=t[i]/2,r=[],s=[];return r[i]=n-o,s[i]=n+o,r[1-i]=s[1-i]=e[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(s)[i])}),this)}t.exports=function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e,i){return t.dataToPoint(e,i)},size:n.bind(o,t)}}}},function(t,e,i){var n=i(0);function o(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}t.exports=function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:n.bind(o,t)}}}},function(t,e,i){var n=i(0);function o(t,e){return n.map(["Radius","Angle"],(function(i,n){var o=this["get"+i+"Axis"](),r=e[n],s=t[n]/2,a="dataTo"+i,l="category"===o.type?o.getBandWidth():Math.abs(o[a](r-s)-o[a](r+s));return"Angle"===i&&(l=l*Math.PI/180),l}),this)}t.exports=function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:n.bind((function(n){var o=e.dataToRadius(n[0]),r=i.dataToAngle(n[1]),s=t.coordToPoint([o,r]);return s.push(o,r*Math.PI/180),s})),size:n.bind(o,t)}}}},function(t,e){t.exports=function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}}},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(4),s=i(2),a=i(6);n.registerPreprocessor((function(t){var e=t.graphic;o.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}));var l=n.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,l.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,s=i.elements=e?[]:i.elements,l=[];this._flatten(n,l);var h=r.mappingToExists(s,l);r.makeIdAndName(h);var c=this._elOptionsToUpdate=[];o.each(h,(function(t,e){var i=t.option;i&&(c.push(i),function(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}(t,i),function(t,e,i){var n=o.extend({},i),r=t[e],s=i.$action||"merge";"merge"===s?r?(o.merge(r,n,!0),a.mergeLayoutParam(r,n,{ignoreSize:!0}),a.copyLayoutParams(i,r)):t[e]=n:"replace"===s?t[e]=n:"remove"===s&&r&&(t[e]=null)}(s,e,i),function(t,e){if(!t)return;t.hv=e.hv=[u(e,["left","right"]),u(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(s[e],i))}),this);for(var p=s.length-1;p>=0;p--)null==s[p]?s.splice(p,1):delete s[p].$action},_flatten:function(t,e,i){o.each(t,(function(t){if(t){i&&(t.parentOption=i),e.push(t);var n=t.children;"group"===t.type&&n&&this._flatten(n,e,t),delete t.children}}),this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function h(t,e,i,n){var o=i.type,r=new(0,s[o.charAt(0).toUpperCase()+o.slice(1)])(i);e.add(r),n.set(t,r),r.__ecGraphicId=t}function c(t,e){var i=t&&t.parent;i&&("group"===t.type&&t.traverse((function(t){c(t,e)})),e.removeKey(t.__ecGraphicId),i.remove(t))}function u(t,e){var i;return o.each(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(i=!0)})),i}n.extendComponentView({type:"graphic",init:function(t,e){this._elMap=o.createHashMap(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,i),this._relocate(t,i)},_updateElements:function(t,e){var i=t.useElOptionsToUpdate();if(i){var n=this._elMap,r=this.group;o.each(i,(function(t){var e=t.$action,i=t.id,s=n.get(i),l=t.parentId,u=null!=l?n.get(l):r;if("text"===t.type){var p=t.style;t.hv&&t.hv[1]&&(p.textVerticalAlign=p.textBaseline=null),!p.hasOwnProperty("textFill")&&p.fill&&(p.textFill=p.fill),!p.hasOwnProperty("textStroke")&&p.stroke&&(p.textStroke=p.stroke)}var g=function(t){return t=o.extend({},t),o.each(["id","parentId","$action","hv","bounding"].concat(a.LOCATION_PARAMS),(function(e){delete t[e]})),t}(t);e&&"merge"!==e?"replace"===e?(c(s,n),h(i,u,g,n)):"remove"===e&&c(s,n):s?s.attr(g):h(i,u,g,n);var d=n.get(i);d&&(d.__ecGraphicWidth=t.width,d.__ecGraphicHeight=t.height)}))}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,r=i.length-1;r>=0;r--){var s=i[r],l=o.get(s.id);if(l){var h=l.parent,c=h===n?{width:e.getWidth(),height:e.getHeight()}:{width:h.__ecGraphicWidth||0,height:h.__ecGraphicHeight||0};a.positionElement(l,s,c,null,{hv:s.hv,boundingMode:s.bounding})}}},_clear:function(){var t=this._elMap;t.each((function(e){c(e,t)})),this._elMap=o.createHashMap()},dispose:function(){this._clear()}})},function(t,e,i){i(55),i(165),i(58)},function(t,e,i){i(394),i(397),i(398),i(399)},function(t,e,i){var n=i(1);i(166),i(395),i(167);var o=i(396),r=i(13);n.registerProcessor(o),r.registerSubTypeDefaulter("legend",(function(){return"plain"}))},function(t,e,i){var n=i(1),o=i(0);function r(t,e,i){var n,r={},s="toggleSelected"===t;return i.eachComponent("legend",(function(i){s&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name));var a=i.getData();o.each(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&n:r[e]=n}}))})),{name:e.name,selected:r}}n.registerAction("legendToggleSelect","legendselectchanged",o.curry(r,"toggleSelected")),n.registerAction("legendSelect","legendselected",o.curry(r,"select")),n.registerAction("legendUnSelect","legendunselected",o.curry(r,"unSelect"))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}},function(t,e,i){var n=i(166),o=i(6),r=o.mergeLayoutParam,s=o.getLayoutParams,a=n.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var o=s(t);a.superCall(this,"init",t,e,i,n),l(this,t,o)},mergeOption:function(t,e){a.superCall(this,"mergeOption",t,e),l(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function l(t,e,i){var n=[1,1];n[t.getOrient().index]=0,r(e,i,{type:"box",ignoreSize:n})}var h=a;t.exports=h},function(t,e,i){var n=i(0),o=i(2),r=i(6),s=i(167),a=o.Group,l=["width","height"],h=["x","y"],c=s.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){c.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new a),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a),this._showController},resetInner:function(){c.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,r){var s=this;c.superCall(this,"renderInner",t,e,i,r);var a=this._controllerGroup,l=e.get("pageIconSize",!0);n.isArray(l)||(l=[l,l]),u("pagePrev",0);var h=e.getModel("pageTextStyle");function u(t,i){var h=t+"DataIndex",c=o.createIcon(e.get("pageIcons",!0)[e.getOrient().name][i],{onclick:n.bind(s._pageGo,s,h,e,r)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});c.name=t,a.add(c)}a.add(new o.Text({name:"pageText",style:{textFill:h.getTextColor(),font:h.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),u("pageNext",1)},layoutInner:function(t,e,i){var s=this.getContentGroup(),a=this._containerGroup,c=this._controllerGroup,u=t.getOrient().index,p=l[u],g=l[1-u],d=h[1-u];r.box(t.get("orient"),s,t.get("itemGap"),u?i.width:null,u?null:i.height),r.box("horizontal",c,t.get("pageButtonItemGap",!0));var f=s.getBoundingRect(),y=c.getBoundingRect(),m=this._showController=f[p]>i[p],v=[-f.x,-f.y];v[u]=s.position[u];var _=[0,0],x=[-y.x,-y.y],C=n.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));m&&("end"===t.get("pageButtonPosition",!0)?x[u]+=i[p]-y[p]:_[u]+=y[p]+C);x[1-u]+=f[g]/2-y[g]/2,s.attr("position",v),a.attr("position",_),c.attr("position",x);var I=this.group.getBoundingRect();if((I={x:0,y:0})[p]=m?i[p]:f[p],I[g]=Math.max(f[g],y[g]),I[d]=Math.min(0,y[d]+x[1-u]),a.__rectSize=i[p],m){var A={x:0,y:0};A[p]=Math.max(i[p]-y[p]-C,0),A[g]=I[g],a.setClipPath(new o.Rect({shape:A})),a.__rectSize=A[p]}else c.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(t);return null!=b.pageIndex&&o.updateProps(s,{position:b.contentPosition},!!m&&t),this._updatePageInfoView(t,b),I},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;n.each(["pagePrev","pageNext"],(function(n){var o=null!=e[n+"DataIndex"],r=i.childOfName(n);r&&(r.setStyle("fill",o?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=o?"pointer":"default")}));var o=i.childOfName("pageText"),r=t.get("pageFormatter"),s=e.pageIndex,a=null!=s?s+1:0,l=e.pageCount;o&&r&&o.setStyle("text",n.isString(r)?r.replace("{current}",a).replace("{total}",l):r({current:a,total:l}))},_getPageInfo:function(t){var e,i,n,o,r=t.get("scrollDataIndex",!0),s=this.getContentGroup(),a=s.getBoundingRect(),c=this._containerGroup.__rectSize,u=t.getOrient().index,p=l[u],g=l[1-u],d=h[u],f=s.position.slice();this._showController?s.eachChild((function(t){t.__legendDataIndex===r&&(o=t)})):o=s.childAt(0);var y=c?Math.ceil(a[p]/c):0;if(o){var m=o.getBoundingRect(),v=o.position[u]+m[d];f[u]=-v-a[d],e=Math.floor(y*(v+m[d]+c/2)/a[p]),e=a[p]&&y?Math.max(0,Math.min(y-1,e)):-1;var _,x={x:0,y:0};x[p]=c,x[g]=a[g],x[d]=-f[u]-a[d];var C=s.children();if(s.eachChild((function(t,e){var i=A(t);i.intersect(x)&&(null==_&&(_=e),n=t.__legendDataIndex),e===C.length-1&&i[d]+i[p]<=x[d]+x[p]&&(n=null)})),null!=_){var I=A(C[_]);if(x[d]=I[d]+I[p]-x[p],_<=0&&I[d]>=x[d])i=null;else{for(;_>0&&A(C[_-1]).intersect(x);)_--;i=C[_].__legendDataIndex}}}return{contentPosition:f,pageIndex:e,pageCount:y,pagePrevDataIndex:i,pageNextDataIndex:n};function A(t){var e=t.getBoundingRect().clone();return e[d]+=t.position[u],e}}}),u=c;t.exports=u},function(t,e,i){i(1).registerAction("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))},function(t,e,i){var n=i(1);i(58),i(401),i(402),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},function(t,e,i){var n=i(1).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=n},function(t,e,i){var n=i(1),o=i(0),r=i(10),s=i(403),a=i(8),l=i(3),h=i(2),c=i(163),u=i(6),p=i(11),g=i(164),d=i(17),f=i(77),y=o.bind,m=o.each,v=l.parsePercent,_=new h.Rect({shape:{x:-1,y:-1,width:2,height:2}}),x=n.extendComponentView({type:"tooltip",init:function(t,e){if(!r.node){var i=new s(e.getDom(),e);this._tooltipContent=i}},render:function(t,e,i){if(!r.node&&!r.wxa){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");g.register("itemTooltip",this._api,y((function(e,i,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,n):"leave"===e&&this._hide(n))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})}))}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid&&!r.node){var o=I(n,i);this._ticket="";var s=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var a=_;a.position=[n.x,n.y],a.update(),a.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:a},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var l=c(n,e),h=l.point[0],u=l.point[1];null!=h&&null!=u&&this._tryShow({offsetX:h,offsetY:u,position:n.position,target:l.el,event:{}},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},o))}},manuallyHideTip:function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(I(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var o=n.seriesIndex,r=n.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=s){var a=e.getSeriesByIndex(o);if(a)if("axis"===(t=C([a.getData().getItemModel(r),a,(a.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:n.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=o.bind(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,n=this._tooltipModel,r=[e.offsetX,e.offsetY],s=[],l=[],h=C([e.tooltipOption,n]);m(t,(function(t){m(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value,r=[];if(e&&null!=n){var h=f.getValueLabel(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);o.each(t.seriesDataIndices,(function(o){var s=i.getSeriesByIndex(o.seriesIndex),a=o.dataIndexInside,c=s&&s.getDataParams(a);c.axisDim=t.axisDim,c.axisIndex=t.axisIndex,c.axisType=t.axisType,c.axisId=t.axisId,c.axisValue=d.getAxisRawValue(e.axis,n),c.axisValueLabel=h,c&&(l.push(c),r.push(s.formatTooltip(a,!0)))}));var c=h;s.push((c?a.encodeHTML(c)+"<br />":"")+r.join("<br />"))}}))}),this),s.reverse(),s=s.join("<br /><br />");var c=e.position;this._showOrMove(h,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(h,c,r[0],r[1],this._tooltipContent,l):this._showTooltipContent(h,s,l,Math.random(),r[0],r[1],c)}))},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,o=e.seriesIndex,r=n.getSeriesByIndex(o),s=e.dataModel||r,a=e.dataIndex,l=e.dataType,h=s.getData(),c=C([h.getItemModel(a),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),u=c.get("trigger");if(null==u||"item"===u){var p=s.getDataParams(a,l),g=s.formatTooltip(a,!1,l),d="item_"+s.name+"_"+a;this._showOrMove(c,(function(){this._showTooltipContent(c,g,p,d,t.offsetX,t.offsetY,t.position,t.target)})),i({type:"showTip",dataIndexInside:a,dataIndex:h.getRawIndex(a),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if("string"==typeof n){n={content:n,formatter:n}}var o=new p(n,this._tooltipModel,this._ecModel),r=o.get("content"),s=Math.random();this._showOrMove(o,(function(){this._showTooltipContent(o,r,o.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)})),i({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,i,n,o,r,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent,c=t.get("formatter");s=s||t.get("position");var u=e;if(c&&"string"==typeof c)u=a.formatTpl(c,i,!0);else if("function"==typeof c){var p=y((function(e,n){e===this._ticket&&(h.setContent(n),this._updatePosition(t,s,o,r,h,i,l))}),this);this._ticket=n,u=c(i,n,p)}h.setContent(u),h.show(t),this._updatePosition(t,s,o,r,h,i,l)}},_updatePosition:function(t,e,i,n,r,s,a){var l=this._api.getWidth(),h=this._api.getHeight();e=e||t.get("position");var c=r.getSize(),p=t.get("align"),g=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),"function"==typeof e&&(e=e([i,n],s,r.el,d,{viewSize:[l,h],contentSize:c.slice()})),o.isArray(e))i=v(e[0],l),n=v(e[1],h);else if(o.isObject(e)){e.width=c[0],e.height=c[1];var f=u.getLayoutRect(e,{width:l,height:h});i=f.x,n=f.y,p=null,g=null}else if("string"==typeof e&&a){var y=function(t,e,i){var n=i[0],o=i[1],r=0,s=0,a=e.width,l=e.height;switch(t){case"inside":r=e.x+a/2-n/2,s=e.y+l/2-o/2;break;case"top":r=e.x+a/2-n/2,s=e.y-o-5;break;case"bottom":r=e.x+a/2-n/2,s=e.y+l+5;break;case"left":r=e.x-n-5,s=e.y+l/2-o/2;break;case"right":r=e.x+a+5,s=e.y+l/2-o/2}return[r,s]}(e,d,c);i=y[0],n=y[1]}else{y=function(t,e,i,n,o,r,s){var a=A(i),l=a.width,h=a.height;null!=r&&(t+l+r>n?t-=l+r:t+=r);null!=s&&(e+h+s>o?e-=h+s:e+=s);return[t,e]}(i,n,r.el,l,h,p?null:20,g?null:20);i=y[0],n=y[1]}if(p&&(i-=b(p)?c[0]/2:"right"===p?c[0]:0),g&&(n-=b(g)?c[1]/2:"bottom"===g?c[1]:0),t.get("confine")){y=function(t,e,i,n,o){var r=A(i),s=r.width,a=r.height;return t=Math.min(t+s,n)-s,e=Math.min(e+a,o)-a,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,n,r.el,l,h);i=y[0],n=y[1]}r.moveTo(i,n)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&m(e,(function(e,n){var o=e.dataByAxis||{},r=(t[n]||{}).dataByAxis||[];(i&=o.length===r.length)&&m(o,(function(t,e){var n=r[e]||{},o=t.seriesDataIndices||[],s=n.seriesDataIndices||[];(i&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===s.length)&&m(o,(function(t,e){var n=s[e];i&=t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex}))}))})),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){r.node||(this._tooltipContent.hide(),g.unregister("itemTooltip",e))}});function C(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(p.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new p(i,e,e.ecModel))}return e}function I(t,e){return t.dispatchAction||o.bind(e.dispatchAction,e)}function A(t){var e=t.clientWidth,i=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t);n&&(e+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),i+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:i}}function b(t){return"center"===t||"middle"===t}t.exports=x},function(t,e,i){var n=i(0),o=i(21),r=i(22),s=i(10),a=i(8),l=n.each,h=a.toCamelCase,c=["","-webkit-","-moz-","-o-"];function u(t){var e,i,r=[],u=t.get("transitionDuration"),p=t.get("backgroundColor"),g=t.getModel("textStyle"),d=t.get("padding");return u&&r.push((i="left "+(e=u)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)",n.map(c,(function(t){return t+"transition:"+i})).join(";"))),p&&(s.canvasSupported?r.push("background-Color:"+p):(r.push("background-Color:#"+o.toHex(p)),r.push("filter:alpha(opacity=70)"))),l(["width","color","radius"],(function(e){var i="border-"+e,n=h(i),o=t.get(n);null!=o&&r.push(i+":"+o+("color"===e?"":"px"))})),r.push(function(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),l(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}(g)),null!=d&&r.push("padding:"+a.normalizeCssArray(d).join("px ")+"px"),r.join(";")+";"}function p(t,e){if(s.wxa)return null;var i=document.createElement("div"),n=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!o._enterable){var i=n.handler;r.normalizeEvent(t,e,!0),i.dispatch("mousemove",e)}},i.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}p.prototype={constructor:p,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+u(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,n=this._zr;n&&n.painter&&(i=n.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var o=this.el.style;o.left=t+"px",o.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var g=p;t.exports=g},function(t,e,i){var n=i(1),o=i(0),r=i(405);i(98),i(411),i(413),i(58),i(415),n.registerLayout(o.curry(r,"bar")),n.extendComponentView({type:"polar"})},function(t,e,i){var n=i(0),o=i(3).parsePercent;function r(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t){return t.dim}var a=function(t,e,i){var a=i.getWidth(),l=i.getHeight(),h={},c={},u=function(t,e){var i={};n.each(t,(function(t,e){var n=t.getData(),a=t.coordinateSystem.getBaseAxis(),l=a.getExtent(),h="category"===a.type?a.getBandWidth():Math.abs(l[1]-l[0])/n.count(),c=i[s(a)]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=c.stacks;i[s(a)]=c;var p=r(t);u[p]||c.autoWidthCount++,u[p]=u[p]||{width:0,maxWidth:0};var g=o(t.get("barWidth"),h),d=o(t.get("barMaxWidth"),h),f=t.get("barGap"),y=t.get("barCategoryGap");g&&!u[p].width&&(g=Math.min(c.remainedWidth,g),u[p].width=g,c.remainedWidth-=g),d&&(u[p].maxWidth=d),null!=f&&(c.gap=f),null!=y&&(c.categoryGap=y)}));var a={};return n.each(i,(function(t,e){a[e]={};var i=t.stacks,r=t.bandWidth,s=o(t.categoryGap,r),l=o(t.gap,1),h=t.remainedWidth,c=t.autoWidthCount,u=(h-s)/(c+(c-1)*l);u=Math.max(u,0),n.each(i,(function(t,e){var i=t.maxWidth;i&&i<u&&(i=Math.min(i,h),t.width&&(i=Math.min(i,t.width)),h-=i,t.width=i,c--)})),u=(h-s)/(c+(c-1)*l),u=Math.max(u,0);var p,g=0;n.each(i,(function(t,e){t.width||(t.width=u),p=t,g+=t.width*(1+l)})),p&&(g-=p.width*l);var d=-g/2;n.each(i,(function(t,i){a[e][i]=a[e][i]||{offset:d,width:t.width},d+=t.width*(1+l)}))})),a}(n.filter(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,n=i.getAngleAxis(),p=i.getBaseAxis(),g=r(t),d=u[s(p)][g],f=d.offset,y=d.width,m=i.getOtherAxis(p),v=t.get("center")||["50%","50%"],_=o(v[0],a),x=o(v[1],l),C=t.get("barMinHeight")||0,I=t.get("barMinAngle")||0,A=m.getExtent()[0],b=m.model.get("max"),w=m.model.get("min"),S=[e.mapDimension("radius"),e.mapDimension("angle")],M=e.mapArray(S,(function(t,e){return i.dataToPoint([t,e])}),!0);h[g]=h[g]||[],c[g]=c[g]||[],e.each(e.mapDimension(m.dim),(function(t,o){if(!isNaN(t)){h[g][o]||(h[g][o]={p:A,n:A},c[g][o]={p:A,n:A});var r,s,a,l,u=t>=0?"p":"n",p=i.pointToCoord(M[o]),d=c[g][o][u];if("radius"===m.dim)r=d,s=p[0],l=(a=(-p[1]+f)*Math.PI/180)+y*Math.PI/180,Math.abs(s)<C&&(s=r+(s<0?-1:1)*C),c[g][o][u]=s;else{s=(r=p[0]+f)+y,null!=b&&(t=Math.min(t,b)),null!=w&&(t=Math.max(t,w));var v=n.dataToAngle(t);Math.abs(v-d)<I&&(v=d-(t<0?-1:1)*I),a=-d*Math.PI/180,l=-v*Math.PI/180;var S=n.getExtent(),E=v;E===S[0]&&t>0?E=S[1]:E===S[1]&&t<0&&(E=S[0]),c[g][o][u]=E}e.setItemLayout(o,{cx:_,cy:x,r0:r,r:s,startAngle:a,endAngle:l})}}),!0)}}),this)};t.exports=a},function(t,e,i){var n=i(407),o=i(408),r=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new n,this._angleAxis=new o,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),r=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);n.inverse?r=s-360:s=r+360;var a=Math.sqrt(e*e+i*i);e/=a,i/=a;for(var l=Math.atan2(-i,e)/Math.PI*180,h=l<r?1:-1;l<r||l>s;)l+=360*h;return[a,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]}};var s=r;t.exports=s},function(t,e,i){var n=i(0),o=i(27);function r(t,e){o.call(this,"radius",t,e),this.type="category"}r.prototype={constructor:r,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(0),o=i(27);function r(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}r.prototype={constructor:r,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData},n.inherits(r,o);var s=r;t.exports=s},function(t,e,i){var n=i(1);i(410);var o=n.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=o},function(t,e,i){var n=i(0),o=i(13),r=i(72),s=i(42),a=o.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});n.merge(a.prototype,s);var l={splitNumber:5};function h(t,e){return e.type||(e.data?"category":"value")}r("angle",a,h,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),r("radius",a,h,l)},function(t,e,i){i(98),i(412)},function(t,e,i){var n=i(0),o=i(2),r=i(11),s=i(36),a=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function l(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function h(t){return t.getRadiusAxis().inverse?0:1}var c=s.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,o=i.polar,r=o.getRadiusAxis().getExtent(),s=i.getTicksCoords();"category"!==i.type&&s.pop(),n.each(a,(function(e){!t.get(e+".show")||i.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,o,s,r)}),this)}},_axisLine:function(t,e,i,n){var r=t.getModel("axisLine.lineStyle"),s=new o.Circle({shape:{cx:e.cx,cy:e.cy,r:n[h(e)]},style:r.getLineStyle(),z2:1,silent:!0});s.style.fill=null,this.group.add(s)},_axisTick:function(t,e,i,r){var s=t.getModel("axisTick"),a=(s.get("inside")?-1:1)*s.get("length"),c=r[h(e)],u=n.map(i,(function(t){return new o.Line({shape:l(e,[c,c+a],t)})}));this.group.add(o.mergePath(u,{style:n.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,i,n){for(var s=t.axis,a=t.getCategories(),l=t.getModel("axisLabel"),c=t.getFormattedLabels(),u=l.get("margin"),p=s.getLabelsCoords(),g=0;g<i.length;g++){var d=n[h(e)],f=e.coordToPoint([d+u,p[g]]),y=e.cx,m=e.cy,v=Math.abs(f[0]-y)/d<.3?"center":f[0]>y?"left":"right",_=Math.abs(f[1]-m)/d<.3?"middle":f[1]>m?"top":"bottom";a&&a[g]&&a[g].textStyle&&(l=new r(a[g].textStyle,l,l.ecModel));var x=new o.Text({silent:!0});this.group.add(x),o.setTextStyle(x.style,l,{x:f[0],y:f[1],textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),text:c[g],textAlign:v,textVerticalAlign:_})}},_splitLine:function(t,e,i,r){var s=t.getModel("splitLine").getModel("lineStyle"),a=s.get("color"),h=0;a=a instanceof Array?a:[a];for(var c=[],u=0;u<i.length;u++){var p=h++%a.length;c[p]=c[p]||[],c[p].push(new o.Line({shape:l(e,r,i[u])}))}for(u=0;u<c.length;u++)this.group.add(o.mergePath(c[u],{style:n.defaults({stroke:a[u%a.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,r){var s=t.getModel("splitArea").getModel("areaStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var h=[],c=Math.PI/180,u=-i[0]*c,p=Math.min(r[0],r[1]),g=Math.max(r[0],r[1]),d=t.get("clockwise"),f=1;f<i.length;f++){var y=l++%a.length;h[y]=h[y]||[],h[y].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:p,r:g,startAngle:u,endAngle:-i[f]*c,clockwise:d},silent:!0})),u=-i[f]*c}for(f=0;f<h.length;f++)this.group.add(o.mergePath(h[f],{style:n.defaults({fill:a[f%a.length]},s.getAreaStyle()),silent:!0}))}});t.exports=c},function(t,e,i){i(98),i(414)},function(t,e,i){var n=i(0),o=i(2),r=i(35),s=i(36),a=["axisLine","axisTickLabel","axisName"],l=["splitLine","splitArea"],h=s.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,o=i.polar,s=o.getAngleAxis(),h=i.getTicksCoords(),c=s.getExtent()[0],u=i.getExtent(),p=function(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(o,t,c),g=new r(t,p);n.each(a,g.add,g),this.group.add(g.getGroup()),n.each(l,(function(e){t.get(e+".show")&&!i.scale.isBlank()&&this["_"+e](t,o,c,u,h)}),this)}},_splitLine:function(t,e,i,r,s){var a=t.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],u=0;u<s.length;u++){var p=h++%l.length;c[p]=c[p]||[],c[p].push(new o.Circle({shape:{cx:e.cx,cy:e.cy,r:s[u]},silent:!0}))}for(u=0;u<c.length;u++)this.group.add(o.mergePath(c[u],{style:n.defaults({stroke:l[u%l.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,r,s){var a=t.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],u=s[0],p=1;p<s.length;p++){var g=h++%l.length;c[g]=c[g]||[],c[g].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:u,r:s[p],startAngle:0,endAngle:2*Math.PI},silent:!0})),u=s[p]}for(p=0;p<c.length;p++)this.group.add(o.mergePath(c[p],{style:n.defaults({fill:l[p%l.length]},a.getAreaStyle()),silent:!0}))}});t.exports=h},function(t,e,i){var n=i(8),o=i(97),r=i(2),s=i(77),a=i(15),l=i(35),h=i(36),c=o.extend({makeElOption:function(t,e,i,o,h){var c=i.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var p,g=c.polar,d=g.getOtherAxis(c).getExtent();p=c["dataTo"+n.capitalFirst(c.dim)](e);var f=o.get("type");if(f&&"none"!==f){var y=s.buildElStyle(o),m=u[f](c,g,p,d,y);m.style=y,t.graphicKey=m.type,t.pointer=m}var v=function(t,e,i,n,o){var s=e.axis,h=s.dataToCoord(t),c=n.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var u,p,g,d=n.getRadiusAxis().getExtent();if("radius"===s.dim){var f=a.create();a.rotate(f,f,c),a.translate(f,f,[n.cx,n.cy]),u=r.applyTransform([h,-o],f);var y=e.getModel("axisLabel").get("rotate")||0,m=l.innerTextLayout(c,y*Math.PI/180,-1);p=m.textAlign,g=m.textVerticalAlign}else{var v=d[1];u=n.coordToPoint([v+o,h]);var _=n.cx,x=n.cy;p=Math.abs(u[0]-_)/v<.3?"center":u[0]>_?"left":"right",g=Math.abs(u[1]-x)/v<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:p,verticalAlign:g}}(e,i,0,g,o.get("label.margin"));s.buildLabelElOption(t,i,o,h,v)}});var u={line:function(t,e,i,n,o){return"angle"===t.dim?{type:"Line",shape:s.makeLineShape(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,o){var r=t.getBandWidth(),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:s.makeSectorShape(e.cx,e.cy,n[0],n[1],(-i-r/2)*a,(r/2-i)*a)}:{type:"Sector",shape:s.makeSectorShape(e.cx,e.cy,i-r/2,i+r/2,0,2*Math.PI)}}};h.registerAxisPointerClass("PolarAxisPointer",c);var p=c;t.exports=p},function(t,e,i){var n=i(1),o=i(0);function r(t,e){e.update="updateView",n.registerAction(e,(function(e,i){var n={};return i.eachComponent({mainType:"geo",query:e},(function(i){i[t](e.name);var r=i.coordinateSystem;o.each(r.regions,(function(t){n[t.name]=i.isSelected(t.name)||!1}))})),{selected:n,name:e.name}}))}i(417),i(92),i(418),i(145),r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,i){var n=i(0),o=i(4),r=i(13),s=i(11),a=i(90),l=i(92),h=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){r.prototype.init.apply(this,arguments),o.defaultEmphasis(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=n.reduce(t.regions||[],(function(t,i){return i.name&&t.set(i.name,new s(i,e)),t}),n.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new s(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t).get("label."+e+".formatter"),n={name:t};return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?i.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});n.mixin(h,a);var c=h;t.exports=c},function(t,e,i){var n=i(142),o=i(1).extendComponentView({type:"geo",init:function(t,e){var i=new n(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get("show")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});t.exports=o},function(t,e,i){var n=i(1),o=i(420);i(421),i(423),i(424),i(425),i(426),n.registerPreprocessor(o)},function(t,e,i){var n=i(0),o=["rect","polygon","keep","clear"];t.exports=function(t,e){var i=t&&t.brush;if(n.isArray(i)||(i=i?[i]:[]),i.length){var r=[];n.each(i,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))}));var s=t&&t.toolbox;n.isArray(s)&&(s=s[0]),s||(s={feature:{}},t.toolbox=[s]);var a=s.feature||(s.feature={}),l=a.brush||(a.brush={}),h=l.type||(l.type=[]);h.push.apply(h,r),function(t){var e={};n.each(t,(function(t){e[t]=1})),t.length=0,n.each(e,(function(e,i){t.push(i)}))}(h),e&&!h.length&&h.push.apply(h,o)}}},function(t,e,i){var n=i(1),o=i(0),r=i(9),s=i(78),a=i(422),l=i(31),h=i(169),c=["inBrush","outOfBrush"],u=n.PRIORITY.VISUAL.BRUSH;function p(t,e){if(!t.isDisposed()){var i=t.getZr();i.__ecInBrushSelectEvent=!0,t.dispatchAction({type:"brushSelect",batch:e}),i.__ecInBrushSelectEvent=!1}}function g(t,e,i,n){for(var o=0,r=e.length;o<r;o++){var s=e[o];if(t[s.brushType](n,i,s.selectors,s))return!0}}function d(t){var e=t.brushSelector;if(o.isString(e)){var i=[];return o.each(a,(function(t,n){i[n]=function(i,n,o,r){var s=n.getItemLayout(i);return t[e](s,o,r)}})),i}if(o.isFunction(e)){var n={};return o.each(a,(function(t,i){n[i]=e})),n}return e}n.registerLayout(u,(function(t,e,i){t.eachComponent({mainType:"brush"},(function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1}),(e.brushTargetManager=new h(e.option,t)).setInputRanges(e.areas,t)}))})),n.registerVisual(u,(function(t,e,i){var n,r,h=[];t.eachComponent({mainType:"brush"},(function(e,i){var l={brushId:e.id,brushIndex:i,brushName:e.name,areas:o.clone(e.areas),selected:[]};h.push(l);var u=e.option,p=u.brushLink,y=[],m=[],v=[],_=0;i||(n=u.throttleType,r=u.throttleDelay);var x=o.map(e.areas,(function(t){return function(t){var e=t.selectors={};return o.each(a[t.brushType],(function(i,n){e[n]=function(n){return i(n,e,t)}})),t}(o.defaults({boundingRect:f[t.brushType](t)},t))})),C=s.createVisualMappings(e.option,c,(function(t){t.mappingMethod="fixed"}));function I(t){return"all"===p||y[t]}function A(t){return!!t.length}o.isArray(p)&&o.each(p,(function(t){y[t]=1})),t.eachSeries((function(i,n){var r=v[n]=[];"parallel"===i.subType?function(t,e){var i=t.coordinateSystem;_|=i.hasAxisBrushed(),I(e)&&i.eachActiveState(t.getData(),(function(t,e){"active"===t&&(m[e]=1)}))}(i,n):function(i,n,r){var s=d(i);if(!s||function(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(o.isArray(i)?o.indexOf(i,e)<0:e!==i)}(e,n))return;if(o.each(x,(function(n){s[n.brushType]&&e.brushTargetManager.controlSeries(n,i,t)&&r.push(n),_|=A(r)})),I(n)&&A(r)){var a=i.getData();a.each((function(t){g(s,r,a,t)&&(m[t]=1)}))}}(i,n,r)})),t.eachSeries((function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};l.selected.push(i);var n=d(t),o=v[e],r=t.getData(),a=I(e)?function(t){return m[t]?(i.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return g(n,o,r,t)?(i.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"};(I(e)?_:A(o))&&s.applyVisual(c,C,r,a)}))})),function(t,e,i,n,o){if(!o)return;var r=t.getZr();if(r.__ecInBrushSelectEvent)return;r.__ecBrushSelect||(r.__ecBrushSelect=p);l.createOrUpdate(r,"__ecBrushSelect",i,e)(t,n)}(e,n,r,h,i)}));var f={lineX:o.noop,lineY:o.noop,rect:function(t){return y(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var r=i[n];r[0]<e[0][0]&&(e[0][0]=r[0]),r[0]>e[0][1]&&(e[0][1]=r[0]),r[1]<e[1][0]&&(e[1][0]=r[1]),r[1]>e[1][1]&&(e[1][1]=r[1])}return e&&y(e)}};function y(t){return new r(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}},function(t,e,i){var n=i(134),o=i(9);function r(t){var e=["x","y"],i=["width","height"];return{point:function(e,i,n){if(e){var o=n.range;return s(e[t],o)}},rect:function(n,o,r){if(n){var a=r.range,l=[n[e[t]],n[e[t]]+n[i[t]]];return l[1]<l[0]&&l.reverse(),s(l[0],a)||s(l[1],a)||s(a[0],l)||s(a[1],l)}}}}function s(t,e){return e[0]<=t&&t<=e[1]}function a(t,e,i,n,o){for(var r=0,s=o[o.length-1];r<o.length;r++){var a=o[r];if(l(t,e,i,n,a[0],a[1],s[0],s[1]))return!0;s=a}}function l(t,e,i,n,o,r,s,a){var l,c=h(i-t,o-s,n-e,r-a);if((l=c)<=1e-6&&l>=-1e-6)return!1;var u=h(o-t,o-s,r-e,r-a)/c;if(u<0||u>1)return!1;var p=h(i-t,o-t,n-e,r-e)/c;return!(p<0||p>1)}function h(t,e,i,n){return t*n-e*i}var c={lineX:r(0),lineY:r(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&n.contain(i.range,t[0],t[1])},rect:function(t,e,i){var r=i.range;if(!t||r.length<=1)return!1;var s=t.x,l=t.y,h=t.width,c=t.height,u=r[0];return!!(n.contain(r,s,l)||n.contain(r,s+h,l)||n.contain(r,s,l+c)||n.contain(r,s+h,l+c)||o.create(t).contain(u[0],u[1])||a(s,l,s+h,l,r)||a(s,l,s,l+c,r)||a(s+h,l,s+h,l+c,r)||a(s,l+c,s+h,l+c,r))||void 0}}};t.exports=c},function(t,e,i){i(5).__DEV__;var n=i(1),o=i(0),r=i(78),s=i(11),a=["#ddd"];function l(t,e){return o.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new s(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var h=n.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;!e&&r.replaceVisualOption(i,t,["inBrush","outOfBrush"]),i.inBrush=i.inBrush||{},i.outOfBrush=i.outOfBrush||{color:a}},setAreas:function(t){t&&(this.areas=o.map(t,(function(t){return l(this.option,t)}),this))},setBrushOption:function(t){this.brushOption=l(this.option,t),this.brushType=this.brushOption.brushType}});t.exports=h},function(t,e,i){var n=i(1),o=i(0),r=i(96),s=n.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new r(e.getZr())).on("brush",o.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,a.apply(this,arguments)},updateView:a,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:o.clone(t),$from:i})}});function a(t,e,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}t.exports=s},function(t,e,i){var n=i(1);n.registerAction({type:"brush",event:"brush"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){}))},function(t,e,i){var n=i(0),o=i(28),r=i(32).toolbox.brush;function s(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}s.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.clone(r.title)};var a=s.prototype;a.render=a.updateView=function(t,e,i){var o,r,s;e.eachComponent({mainType:"brush"},(function(t){o=t.brushType,r=t.brushOption.brushMode||"single",s|=t.areas.length})),this._brushType=o,this._brushMode=r,n.each(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?s:e===o)?"emphasis":"normal")}))},a.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return n.each(t.get("type",!0),(function(t){e[t]&&(i[t]=e[t])})),i},a.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},o.register("brush",s);var l=s;t.exports=l},function(t,e,i){i(428),i(429),i(430)},function(t,e,i){var n=i(0),o=i(6),r=i(3),s=i(19);function a(t,e,i){this._model=t}function l(t,e,i,n){var o=i.calendarModel,r=i.seriesModel,s=o?o.coordinateSystem:r?r.coordinateSystem:null;return s===this?s[t](n):null}a.prototype={constructor:a,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=r.parseDate(t)).getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var o=t.getDay();return{y:e,m:i,d:n,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},update:function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],s=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];n.each([0,1],(function(t){u(s,t)&&(a[r[t]]=s[t]*l[t])}));var h={width:e.getWidth(),height:e.getHeight()},c=this._rect=o.getLayoutRect(a,h);function u(t,e){return null!=t[e]&&"auto"!==t[e]}n.each([0,1],(function(t){u(s,t)||(s[t]=c[r[t]]/l[t])})),this._sw=s[0],this._sh=s[1]},dataToPoint:function(t,e){n.isArray(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),o=this._rangeInfo,r=i.formatedDate;if(e&&!(i.time>=o.start.time&&i.time<=o.end.time))return[NaN,NaN];var s=i.day,a=this._getRangeInfo([o.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:n.curry(l,"dataToPoint"),convertFromPixel:n.curry(l,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(n.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),o=i.date;o.setMonth(o.getMonth()+1);var r=this.getNextNDay(o,-1);t=[i.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,n=new Date(t[0].time),o=n.getDate(),r=t[1].date.getDate();if(n.setDate(o+i-1),n.getDate()!==r)for(var s=n.getTime()-t[1].time>0?1:-1;n.getDate()!==r&&(n.getTime()-t[1].time)*s>0;)i-=s,n.setDate(o+i-1);var a=Math.floor((i+t[0].day+6)/7),l=e?1-a:a-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:a,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;var o=7*(t-1)-n.fweek+e,r=new Date(n.start.time);return r.setDate(n.start.d+o),this.getDateInfo(r)}},a.dimensions=a.prototype.dimensions,a.getDimensionsInfo=a.prototype.getDimensionsInfo,a.create=function(t,e){var i=[];return t.eachComponent("calendar",(function(n){var o=new a(n,t,e);i.push(o),n.coordinateSystem=o})),t.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])})),i},s.register("calendar",a);var h=a;t.exports=h},function(t,e,i){var n=i(0),o=i(13),r=i(6),s=r.getLayoutParams,a=r.sizeCalculable,l=r.mergeLayoutParam,h=o.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,i,n){var o=s(t);h.superApply(this,"init",arguments),c(t,o)},mergeOption:function(t,e){h.superApply(this,"mergeOption",arguments),c(this.option,t)}});function c(t,e){var i=t.cellSize;n.isArray(i)?1===i.length&&(i[1]=i[0]):i=t.cellSize=[i,i];var o=n.map([0,1],(function(t){return a(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]}));l(t,e,{type:"box",ignoreSize:o})}var u=h;t.exports=u},function(t,e,i){var n=i(1),o=i(0),r=i(2),s=i(8),a=i(3),l={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},h={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},c=n.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,r=o.getRangeInfo(),s=o.getOrient();this._renderDayRect(t,r,n),this._renderLines(t,r,s,n),this._renderYearText(t,r,s,n),this._renderMonthText(t,s,n),this._renderWeekText(t,r,s,n)},_renderDayRect:function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=n.getCellWidth(),a=n.getCellHeight(),l=e.start.time;l<=e.end.time;l=n.getNextNDay(l,1).time){var h=n.dataToRect([l],!1).tl,c=new r.Rect({shape:{x:h[0],y:h[1],width:s,height:a},cursor:"default",style:o});i.add(c)}},_renderLines:function(t,e,i,n){var o=this,r=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),a=t.get("splitLine.show"),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=e.start,c=0;h.time<=e.end.time;c++){p(h.formatedDate),0===c&&(h=r.getDateInfo(e.start.y+"-"+e.start.m));var u=h.date;u.setMonth(u.getMonth()+1),h=r.getDateInfo(u)}function p(e){o._firstDayOfMonth.push(r.getDateInfo(e)),o._firstDayPoints.push(r.dataToRect([e],!1).tl);var l=o._getLinePointsOfOneWeek(t,e,i);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),a&&o._drawSplitline(l,s,n)}p(r.getNextNDay(e.end.time,1).formatedDate),a&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,i),s,n),a&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,i),s,n)},_getEdgesPoints:function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},_drawSplitline:function(t,e,i){var n=new r.Polyline({z2:20,shape:{points:t},style:e});i.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var o=[],r=0;r<7;r++){var s=n.getNextNDay(e.time,r),a=n.dataToRect([s.time],!1);o[2*s.day]=a.tl,o[2*s.day+1]=a["horizontal"===i?"bl":"tr"]}return o},_formatterLabel:function(t,e){return"string"==typeof t&&t?s.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,n,o){e=e.slice();var r=["center","bottom"];"bottom"===n?(e[1]+=o,r=["center","top"]):"left"===n?e[0]-=o:"right"===n?(e[0]+=o,r=["center","top"]):e[1]-=o;var s=0;return"left"!==n&&"right"!==n||(s=Math.PI/2),{rotation:s,position:e,style:{textAlign:r[0],textVerticalAlign:r[1]}}},_renderYearText:function(t,e,i,n){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),a=o.get("position");a||(a="horizontal"!==i?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(l[0][0]+l[1][0])/2,c=(l[0][1]+l[1][1])/2,u="horizontal"===i?0:1,p={top:[h,l[u][1]],bottom:[h,l[1-u][1]],left:[l[1-u][0],c],right:[l[u][0],c]},g=e.start.y;+e.end.y>+e.start.y&&(g=g+"-"+e.end.y);var d=o.get("formatter"),f={start:e.start.y,end:e.end.y,nameMap:g},y=this._formatterLabel(d,f),m=new r.Text({z2:30});r.setTextStyle(m.style,o,{text:y}),m.attr(this._yearTextPositionControl(m,p[a],i,a,s)),n.add(m)}},_monthTextPositionControl:function(t,e,i,n,o){var r="left",s="top",a=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(r="center"),"start"===n&&(s="bottom")):(a+=o,e&&(s="middle"),"start"===n&&(r="right")),{x:a,y:l,textAlign:r,textVerticalAlign:s}},_renderMonthText:function(t,e,i){var n=t.getModel("monthLabel");if(n.get("show")){var s=n.get("nameMap"),a=n.get("margin"),h=n.get("position"),c=n.get("align"),u=[this._tlpoints,this._blpoints];o.isString(s)&&(s=l[s.toUpperCase()]||[]);var p="start"===h?0:1,g="horizontal"===e?0:1;a="start"===h?-a:a;for(var d="center"===c,f=0;f<u[p].length-1;f++){var y=u[p][f].slice(),m=this._firstDayOfMonth[f];if(d){var v=this._firstDayPoints[f];y[g]=(v[g]+u[0][f+1][g])/2}var _=n.get("formatter"),x=s[+m.m-1],C={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:x},I=this._formatterLabel(_,C),A=new r.Text({z2:30});o.extend(r.setTextStyle(A.style,n,{text:I}),this._monthTextPositionControl(y,d,e,h,a)),i.add(A)}}},_weekTextPositionControl:function(t,e,i,n,o){var r="center",s="middle",a=t[0],l=t[1],h="start"===i;return"horizontal"===e?(a=a+n+(h?1:-1)*o[0]/2,r=h?"right":"left"):(l=l+n+(h?1:-1)*o[1]/2,s=h?"bottom":"top"),{x:a,y:l,textAlign:r,textVerticalAlign:s}},_renderWeekText:function(t,e,i,n){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,c=s.get("position"),u=s.get("nameMap"),p=s.get("margin"),g=l.getFirstDayOfWeek();o.isString(u)&&(u=h[u.toUpperCase()]||[]);var d=l.getNextNDay(e.end.time,7-e.lweek).time,f=[l.getCellWidth(),l.getCellHeight()];p=a.parsePercent(p,f["horizontal"===i?0:1]),"start"===c&&(d=l.getNextNDay(e.start.time,-(7+e.fweek)).time,p=-p);for(var y=0;y<7;y++){var m,v=l.getNextNDay(d,y),_=l.dataToRect([v.time],!1).center;m=Math.abs((y+g)%7);var x=new r.Text({z2:30});o.extend(r.setTextStyle(x.style,s,{text:u[m]}),this._weekTextPositionControl(_,i,c,p,f)),n.add(x)}}}});t.exports=c},function(t,e,i){var n=i(1),o=i(2),r=i(6).getLayoutRect;n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,s=t.getModel("textStyle"),a=t.getModel("subtextStyle"),l=t.get("textAlign"),h=t.get("textBaseline"),c=new o.Text({style:o.setTextStyle({},s,{text:t.get("text"),textFill:s.getTextColor()},{disableBox:!0}),z2:10}),u=c.getBoundingRect(),p=t.get("subtext"),g=new o.Text({style:o.setTextStyle({},a,{text:p,textFill:a.getTextColor(),y:u.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink");c.silent=!d,g.silent=!f,d&&c.on("click",(function(){window.open(d,"_"+t.get("target"))})),f&&g.on("click",(function(){window.open(f,"_"+t.get("subtarget"))})),n.add(c),p&&n.add(g);var y=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=y.width,m.height=y.height;var v=r(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?v.x+=v.width:"center"===l&&(v.x+=v.width/2)),h||("center"===(h=t.get("top")||t.get("bottom"))&&(h="middle"),"bottom"===h?v.y+=v.height:"middle"===h&&(v.y+=v.height/2),h=h||"top"),n.attr("position",[v.x,v.y]);var _={textAlign:l,textVerticalAlign:h};c.setStyle(_),g.setStyle(_),y=n.getBoundingRect();var x=v.margin,C=t.getItemStyle(["color","opacity"]);C.fill=t.get("backgroundColor");var I=new o.Rect({shape:{x:y.x-x[3],y:y.y-x[0],width:y.width+x[1]+x[3],height:y.height+x[0]+x[2],r:t.get("borderRadius")},style:C,silent:!0});o.subPixelOptimizeRect(I),n.add(I)}}})},function(t,e,i){i(170),i(59),i(60),i(434),i(435),i(436),i(437),i(171),i(172)},function(t,e,i){var n=i(0),o=i(3),r=i(99),s=n.each,a=o.asc,l=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i,this.hasSeriesStacked};function h(t,e){var i=t.getAxisModel(),n=t._percentWindow,r=t._valueWindow;if(n){var s=o.getPixelPrecision(r,[0,500]);s=Math.min(s,20);var a=e||0===n[0]&&100===n[1];i.setRange(a?null:+r[0].toFixed(s),a?null:+r[1].toFixed(s))}}l.prototype={constructor:l,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries((function(i){if(r.isCoordSupported(i.get("coordinateSystem"))){var n=this._dimName,o=e.queryComponents({mainType:n+"Axis",index:i.get(n+"AxisIndex"),id:i.get(n+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(i)}}),this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i,n=this._dimName,o=this.ecModel,r=this.getAxisModel();return"x"===n||"y"===n?(e="gridIndex",t="x"===n?"y":"x"):(e="polarIndex",t="angle"===n?"radius":"angle"),o.eachComponent(t+"Axis",(function(t){(t.get(e)||0)===(r.get(e)||0)&&(i=t)})),i},getMinMaxSpan:function(){return n.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,i=this.getAxisModel().axis.scale,n=this._dataZoomModel.getRangePropMode(),r=[0,100],l=[t.start,t.end],h=[];return s(["startValue","endValue"],(function(e){h.push(null!=t[e]?i.parse(t[e]):null)})),s([0,1],(function(t){var s=h[t],a=l[t];"percent"===n[t]?(null==a&&(a=r[t]),s=i.parse(o.linearMap(a,r,e,!0))):a=o.linearMap(s,e,r,!0),h[t]=s,l[t]=a})),{valueWindow:a(h),percentWindow:a(l)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,i){var n=[1/0,-1/0];s(i,(function(t){var i=t.getData();i&&s(i.mapDimension(e,!0),(function(t){var e=i.getApproximateExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])}))})),n[1]<n[0]&&(n=[NaN,NaN]);return function(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),r=o&&i.getCategories().length;null!=n&&"dataMin"!==n&&"function"!=typeof n?e[0]=n:o&&(e[0]=r>0?0:NaN);var s=i.getMax(!0);null!=s&&"dataMax"!==s&&"function"!=typeof s?e[1]=s:o&&(e[1]=r>0?r-1:NaN);i.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,n),n}(this,this._dimName,e),this.hasSeriesStacked=!1,s(e,(function(t){var e=t.getData(),i=e.mapDimension(this._dimName);e.isStacked(i)&&(this.hasSeriesStacked=!0)}),this);var i=this.calculateDataWindow(t.option);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,function(t){var e=t._minMaxSpan={},i=t._dataZoomModel;s(["min","max"],(function(n){e[n+"Span"]=i.get(n+"Span");var r=i.get(n+"ValueSpan");if(null!=r&&(e[n+"ValueSpan"]=r,null!=(r=t.getAxisModel().axis.scale.parse(r)))){var s=t._dataExtent;e[n+"Span"]=o.linearMap(s[0]+r,s,[0,100],!0)}}))}(this),h(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),r=this._valueWindow;if("none"!==o){var a=this.getOtherAxisModel();t.get("$fromToolbox")&&a&&a.hasSeriesStacked&&(o="empty"),s(n,(function(t){var e=t.getData(),n=e.mapDimension(i,!0);"weakFilter"===o?e.filterSelf((function(t){for(var i,o,s,a=0;a<n.length;a++){var l=e.get(n[a],t),h=!isNaN(l),c=l<r[0],u=l>r[1];if(h&&!c&&!u)return!0;h&&(s=!0),c&&(i=!0),u&&(o=!0)}return s&&i&&o})):s(n,(function(i){if("empty"===o)t.setData(e.map(i,(function(t){return function(t){return t>=r[0]&&t<=r[1]}(t)?t:NaN})));else{var n={};n[i]=r,e.selectRange(n)}})),s(n,(function(t){e.setApproximateExtent(r,t)}))}))}}}};var c=l;t.exports=c},function(t,e,i){var n=i(59).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=n},function(t,e,i){var n=i(0),o=i(22),r=i(2),s=i(31),a=i(60),l=i(3),h=i(6),c=i(57),u=r.Rect,p=l.linearMap,g=l.asc,d=n.bind,f=n.each,y=["line","bar","candlestick","scatter"],m=a.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){m.superApply(this,"render",arguments),s.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){m.superApply(this,"remove",arguments),s.clear(this,"_dispatchZoomAction")},dispose:function(){m.superApply(this,"dispose",arguments),s.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),o={width:e.getWidth(),height:e.getHeight()},r="horizontal"===this._orient?{right:o.width-i.x-i.width,top:o.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},s=h.getLayoutParams(t.option);n.each(["right","top","width","height"],(function(t){"ph"===s[t]&&(s[t]=r[t])}));var a=h.getLayoutRect(s,o,t.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),r=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;r.attr("horizontal"!==i||o?"horizontal"===i&&o?{scale:s?[-1,1]:[-1,-1]}:"vertical"!==i||o?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var a=t.getBoundingRect([r]);t.attr("position",[e.x-a.x,e.y-a.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new u({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new u({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:n.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,o=i.getRawData(),s=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=s){var a=o.getDataExtent(s),l=.3*(a[1]-a[0]);a=[a[0]-l,a[1]+l];var h,c=[0,e[1]],u=[0,e[0]],g=[[e[0],0],[0,0]],d=[],f=u[1]/(o.count()-1),y=0,m=Math.round(o.count()/e[0]);o.each([s],(function(t,e){if(m>0&&e%m)y+=f;else{var i=null==t||isNaN(t)||""===t,n=i?0:p(t,a,c,!0);i&&!h&&e?(g.push([g[g.length-1][0],0]),d.push([d[d.length-1][0],0])):!i&&h&&(g.push([y,0]),d.push([y,0])),g.push([y,n]),d.push([y,n]),y+=f,h=i}}));var v=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:g},style:n.defaults({fill:v.get("dataBackgroundColor")},v.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:d},style:v.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var i,o=this.ecModel;return t.eachTargetAxis((function(r,s){var a=t.getAxisProxy(r.name,s).getTargetSeriesModels();n.each(a,(function(t){if(!(i||!0!==e&&n.indexOf(y,t.get("type"))<0)){var a,l=o.getComponent(r.axis,s).axis,h={x:"y",y:"x",radius:"angle",angle:"radius"}[r.name],c=t.coordinateSystem;null!=h&&c.getOtherAxis&&(a=c.getOtherAxis(l).inverse),h=t.getData().mapDimension(h),i={thisAxis:l,series:t,thisDim:r.name,otherDim:h,otherAxisInverse:a}}}),this)}),this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,s=this._size,a=this.dataZoomModel;n.add(t.filler=new u({draggable:!0,cursor:v(this._orient),drift:d(this._onDragMove,this,"all"),onmousemove:function(t){o.stop(t.event)},ondragstart:d(this._showDataInfo,this,!0),ondragend:d(this._onDragEnd,this),onmouseover:d(this._showDataInfo,this,!0),onmouseout:d(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),n.add(new u(r.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:s[0],height:s[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),f([0,1],(function(t){var s=r.createIcon(a.get("handleIcon"),{cursor:v(this._orient),draggable:!0,drift:d(this._onDragMove,this,t),onmousemove:function(t){o.stop(t.event)},ondragend:d(this._onDragEnd,this),onmouseover:d(this._showDataInfo,this,!0),onmouseout:d(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=s.getBoundingRect();this._handleHeight=l.parsePercent(a.get("handleSize"),this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(s.style.fill=c),n.add(e[t]=s);var u=a.textStyleModel;this.group.add(i[t]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:u.getTextColor(),textFont:u.getFont()},z2:10}))}),this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[p(t[0],[0,100],e,!0),p(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),r=i.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];c(e,n,o,i.get("zoomLock")?"all":t,null!=r.minSpan?p(r.minSpan,s,o,!0):null,null!=r.maxSpan?p(r.maxSpan,s,o,!0):null),this._range=g([p(n[0],o,s,!0),p(n[1],o,s,!0)])},_updateView:function(t){var e=this._displayables,i=this._handleEnds,n=g(i.slice()),o=this._size;f([0,1],(function(t){var n=e.handles[t],r=this._handleHeight;n.attr({scale:[r/2,r/2],position:[i[t],o[1]/2-r/2]})}),this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,s=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var l=a.getAxisModel().axis,h=this._range,c=t?a.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:a.getDataValueWindow();s=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var u=g(this._handleEnds.slice());function p(t){var e=r.getTransform(i.handles[t].parent,this.group),a=r.transformDirection(0===t?"right":"left",e),l=this._handleWidth/2+5,h=r.applyTransform([u[t]+(0===t?-l:l),this._size[1]/2],e);n[t].setStyle({x:h[0],y:h[1],textVerticalAlign:"horizontal"===o?"middle":a,textAlign:"horizontal"===o?a:"center",text:s[t]})}p.call(this,0),p.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,o=i.get("labelFormatter"),r=i.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var s=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20));return n.isFunction(o)?o(t,s):n.isString(o)?o.replace("{value}",s):s},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._displayables.barGroup.getLocalTransform(),o=r.applyTransform([e,i],n,!0);this._updateInterval(t,o[0]);var s=this.dataZoomModel.get("realtime");this._updateView(!s),s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2;this._updateInterval("all",i[0]-o),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(f(this.getTargetCoordInfo(),(function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}})),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}});function v(t){return"vertical"===t?"ns-resize":"ew-resize"}var _=m;t.exports=_},function(t,e,i){var n=i(59).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});t.exports=n},function(t,e,i){var n=i(0),o=i(60),r=i(57),s=i(438),a=n.bind,l=o.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,o){l.superApply(this,"render",arguments),s.shouldRecordRange(o,t.id)&&(this._range=t.getPercentRange()),n.each(this.getTargetCoordInfo(),(function(e,o){var r=n.map(e,(function(t){return s.generateCoordId(t.model)}));n.each(e,(function(e){var n=e.model,l=t.option;s.register(i,{coordId:s.generateCoordId(n),allCoordIds:r,containsPoint:function(t,e,i){return n.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:a(this._onPan,this,e,o),zoomGetRange:a(this._onZoom,this,e,o),zoomLock:l.zoomLock,disabled:l.disabled,roamControllerOpt:{zoomOnMouseWheel:l.zoomOnMouseWheel,moveOnMouseMove:l.moveOnMouseMove,preventDefaultMouseMove:l.preventDefaultMouseMove}})}),this)}),this)},dispose:function(){s.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,n,o,s,a,l,c){var u=this._range.slice(),p=t.axisModels[0];if(p){var g=h[e]([s,a],[l,c],p,i,t),d=g.signal*(u[1]-u[0])*g.pixel/g.pixelLength;return r(d,u,[0,100],"all"),this._range=u}},_onZoom:function(t,e,i,n,o,s){var a=this._range.slice(),l=t.axisModels[0];if(l){var c=h[e](null,[o,s],l,i,t),u=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(a[1]-a[0])+a[0];n=Math.max(1/n,0),a[0]=(a[0]-u)*n+u,a[1]=(a[1]-u)*n+u;var p=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return r(0,a,[0,100],0,p.minSpan,p.maxSpan),this._range=a}}}),h={grid:function(t,e,i,n,o){var r=i.axis,s={},a=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=r.inverse?-1:1),s},polar:function(t,e,i,n,o){var r=i.axis,s={},a=o.model.coordinateSystem,l=a.getRadiusAxis().getExtent(),h=a.getAngleAxis().getExtent();return t=t?a.pointToCoord(t):[0,0],e=a.pointToCoord(e),"radiusAxis"===i.mainType?(s.pixel=e[0]-t[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=h[1]-h[0],s.pixelStart=h[0],s.signal=r.inverse?-1:1),s},singleAxis:function(t,e,i,n,o){var r=i.axis,s=o.model.coordinateSystem.getRect(),a={};return t=t||[0,0],"horizontal"===r.orient?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=r.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=r.inverse?-1:1),a}},c=l;t.exports=c},function(t,e,i){var n=i(0),o=i(75),r=i(31),s=n.curry,a="\0_ec_dataZoom_roams";function l(t){var e=t.getZr();return e[a]||(e[a]={})}function h(t){n.each(t,(function(e,i){e.count||(e.controller.dispose(),delete t[i])}))}function c(t,e,i,n,o,r,s){p(t,(function(a){return a.panGetRange(t.controller,e,i,n,o,r,s)}))}function u(t,e,i,n){p(t,(function(o){return o.zoomGetRange(t.controller,e,i,n)}))}function p(t,e){var i=[];n.each(t.dataZoomInfos,(function(t){var n=e(t);!t.disabled&&n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})})),t.dispatchAction(i)}function g(t,e){t.dispatchAction({type:"dataZoom",batch:e})}e.register=function(t,e){var i=l(t),a=e.dataZoomId,p=e.coordId;n.each(i,(function(t,i){var o=t.dataZoomInfos;o[a]&&n.indexOf(e.allCoordIds,p)<0&&(delete o[a],t.count--)})),h(i);var d=i[p];d||((d=i[p]={coordId:p,dataZoomInfos:{},count:0}).controller=function(t,e){var i=new o(t.getZr());return i.on("pan",s(c,e)),i.on("zoom",s(u,e)),i}(t,d),d.dispatchAction=n.curry(g,t)),!d.dataZoomInfos[a]&&d.count++,d.dataZoomInfos[a]=e;var f,y,m,v,_=(f=d.dataZoomInfos,m={},v={type_true:2,type_move:1,type_false:0,type_undefined:-1},n.each(f,(function(t){var e=!t.disabled&&(!t.zoomLock||"move");v["type_"+e]>v["type_"+y]&&(y=e),n.extend(m,t.roamControllerOpt)})),{controlType:y,opt:m});d.controller.enable(_.controlType,_.opt),d.controller.setPointerChecker(e.containsPoint),r.createOrUpdate(d,"dispatchAction",e.throttleRate,"fixRate")},e.unregister=function(t,e){var i=l(t);n.each(i,(function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)})),h(i)},e.shouldRecordRange=function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;i<n;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},e.generateCoordId=function(t){return t.type+"\0_"+t.id}},function(t,e,i){i(440),i(443)},function(t,e,i){var n=i(1),o=i(173);i(174),i(175),i(441),i(442),i(180),n.registerPreprocessor(o)},function(t,e,i){var n=i(0),o=i(176),r=i(3),s=[20,140],a=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){a.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){a.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=s[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=s[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):n.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){o.prototype.completeVisualOption.apply(this,arguments),n.each(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)}),this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=r.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),(function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)}),!0,this),e.push({seriesId:i.id,dataIndex:n})}),this),e},getVisualMeta:function(t){var e=l(this,"outOfRange",this.getExtent()),i=l(this,"inRange",this.option.range.slice()),n=[];function o(e,i){n.push({value:e,color:t(e,i)})}for(var r=0,s=0,a=i.length,h=e.length;s<h&&(!i.length||e[s]<=i[0]);s++)e[s]<i[r]&&o(e[s],"outOfRange");for(var c=1;r<a;r++,c=0)c&&n.length&&o(i[r],"outOfRange"),o(i[r],"inRange");for(c=1;s<h;s++)(!i.length||i[i.length-1]<e[s])&&(c&&(n.length&&o(n[n.length-1].value,"outOfRange"),c=0),o(e[s],"outOfRange"));var u=n.length;return{stops:n,outerColors:[u?n[0].color:"transparent",u?n[u-1].color:"transparent"]}}});function l(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],r=[],s=0;s<=200&&o<i[1];s++)r.push(o),o+=n;return r.push(i[1]),r}var h=a;t.exports=h},function(t,e,i){var n=i(0),o=i(124),r=i(22),s=i(178),a=i(2),l=i(3),h=i(57),c=i(179),u=i(4),p=l.linearMap,g=n.each,d=Math.min,f=Math.max,y=s.extend({type:"visualMap.continuous",init:function(){y.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,r=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,h=this._applyTransform([s[0]/2,0===i?-r:s[1]+r],l),c=this._applyTransform(0===i?"bottom":"top",l),u=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new a.Text({style:{x:h[0],y:h[1],textVerticalAlign:"horizontal"===u?"middle":c,textAlign:"horizontal"===u?c:"center",text:n,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,o=e.itemSize,r=this._orient,s=this._useHandle,a=c.getItemAlign(e,this.api,o),l=i.barGroup=this._createBarGroup(a);l.add(i.outOfRange=m()),l.add(i.inRange=m(null,s?_(this._orient):null,n.bind(this._dragHandle,this,"all",!1),n.bind(this._dragHandle,this,"all",!0)));var h=e.textStyleModel.getTextRect("国"),u=f(h.width,h.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,o,u,r,a),this._createHandle(l,1,o,u,r,a)),this._createIndicator(l,o,u,r),t.add(l)},_createHandle:function(t,e,i,o,s){var l=n.bind(this._dragHandle,this,e,!1),h=n.bind(this._dragHandle,this,e,!0),c=m(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,o),_(this._orient),l,h);c.position[0]=i[0],t.add(c);var u=this.visualMapModel.textStyleModel,p=new a.Text({draggable:!0,drift:l,onmousemove:function(t){r.stop(t.event)},ondragend:h,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(p);var g=["horizontal"===s?o/2:1.5*o,"horizontal"===s?0===e?-1.5*o:1.5*o:0===e?-o/2:o/2],d=this._shapes;d.handleThumbs[e]=c,d.handleLabelPoints[e]=g,d.handleLabels[e]=p},_createIndicator:function(t,e,i,n){var o=m([[0,0]],"move");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);var r=this.visualMapModel.textStyleModel,s=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(s);var l=["horizontal"===n?i/2:9,0],h=this._shapes;h.indicator=o,h.indicatorLabel=s,h.indicatorLabelPoint=l},_dragHandle:function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():v(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[p(e[0],i,n,!0),p(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];h(e,n,o,t,0);var r=i.getExtent();this._dataInterval=[p(n[0],o,r,!0),p(n[1],o,r,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],r=t?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,i,r,"inRange"),a=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),n.outOfRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),this._updateHandle(r,s)},_createBarVisual:function(t,e,i,n){var r={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],l=this._createBarPoints(i,a);return{barColor:new o(0,0,0,1,s),barPoints:l,handlesColor:[s[0].color,s[s.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;o<100;o++){var r=t[0]+n*o;if(r>t[1])break;i.push({color:this.getControllerVisual(r,"color",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new a.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,r=i.handleLabels;g([0,1],(function(s){var l=o[s];l.setStyle("fill",e.handlesColor[s]),l.position[1]=t[s];var h=a.applyTransform(i.handleLabelPoints[s],a.getTransform(l,this.group));r[s].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",i.barGroup)})}),this)}},_showIndicator:function(t,e,i,n){var o=this.visualMapModel,r=o.getExtent(),s=o.itemSize,l=[0,s[1]],h=p(t,r,l,!0),c=this._shapes,u=c.indicator;if(u){u.position[1]=h,u.attr("invisible",!1),u.setShape("points",function(t,e,i,n){return t?[[0,-d(e,f(i,0))],[6,0],[0,d(e,f(n-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,n,h,s[1]));var g=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});u.setStyle("fill",g);var y=a.applyTransform(c.indicatorLabelPoint,a.getTransform(u,this.group)),m=c.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",c.barGroup),_=this._orient;m.setStyle({text:(i||"")+o.formatValueText(e),textVerticalAlign:"horizontal"===_?v:"middle",textAlign:"horizontal"===_?"center":v,x:y[0],y:y[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);n[1]=d(f(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],r=i.getExtent();t=d(f(o[0],t),o[1]);var s=function(t,e,i){var n=6,o=t.get("hoverLinkDataSize");o&&(n=p(o,e,i,!0)/2);return n}(i,r,o),a=[t-s,t+s],l=p(t,o,r,!0),h=[p(a[0],o,r,!0),p(a[1],o,r,!0)];a[0]<o[0]&&(h[0]=-1/0),a[1]>o[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(l,h[1],"< ",s):h[1]===1/0?this._showIndicator(l,h[0],"> ",s):this._showIndicator(l,l,"≈ ",s));var g=this._hoverLinkDataIndices,y=[];(e||v(i))&&(y=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var m=u.compressBatches(g,y);this._dispatchHighDown("downplay",c.convertDataIndex(m[0])),this._dispatchHighDown("highlight",c.convertDataIndex(m[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e&&null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(e.dataType),r=o.get(i.getDataDimension(o),e.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.convertDataIndex(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,o){var r=a.getTransform(e,o?null:this.group);return a[n.isArray(t)?"applyTransform":"transformDirection"](t,r,i)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function m(t,e,i,n){return new a.Polygon({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){r.stop(t.event)},ondragend:n})}function v(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function _(t){return"vertical"===t?"ns-resize":"ew-resize"}var x=y;t.exports=x},function(t,e,i){var n=i(1),o=i(173);i(174),i(175),i(444),i(445),i(180),n.registerPreprocessor(o)},function(t,e,i){i(5).__DEV__;var n=i(0),o=i(176),r=i(38),s=i(177),a=i(3).reformIntervals,l=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();h[this._mode].call(this),this._resetSelected(t,e);var o=this.option.categories;this.resetVisual((function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=n.clone(o)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=n.map(this._pieceList,(function(t){t=n.clone(t);return"inRange"!==e&&(t.visual=null),t})))}))},completeVisualOption:function(){var t=this.option,e={},i=r.listVisualTypes(),a=this.isCategory();function l(t,e,i){return t&&t[e]&&(n.isObject(t[e])?t[e].hasOwnProperty(i):t[e]===i)}n.each(t.pieces,(function(t){n.each(i,(function(i){t.hasOwnProperty(i)&&(e[i]=1)}))})),n.each(e,(function(e,i){var o=0;n.each(this.stateList,(function(e){o|=l(t,e,i)||l(t.target,e,i)}),this),!o&&n.each(this.stateList,(function(e){(t[e]||(t[e]={}))[i]=s.get(i,"inRange"===e?"active":"inactive",a)}))}),this),o.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,o=this._pieceList,r=(e?i:t).selected||{};if(i.selected=r,n.each(o,(function(t,e){var i=this.getSelectedMapKey(t);r.hasOwnProperty(i)||(r[i]=!0)}),this),"single"===i.selectedMode){var s=!1;n.each(o,(function(t,e){var i=this.getSelectedMapKey(t);r[i]&&(s?r[i]=!1:s=!0)}),this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=n.clone(t)},getValueState:function(t){var e=r.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),(function(e,i){r.findPieceIndex(e,this._pieceList)===t&&n.push(i)}),!0,this),e.push({seriesId:i.id,dataIndex:n})}),this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(t){if(!this.isCategory()){var e=[],i=[],o=this,r=this._pieceList.slice();if(r.length){var s=r[0].interval[0];s!==-1/0&&r.unshift({interval:[-1/0,s]}),(s=r[r.length-1].interval[1])!==1/0&&r.push({interval:[s,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return n.each(r,(function(t){var e=t.interval;e&&(e[0]>a&&l([a,e[0]],"outOfRange"),l(e.slice()),a=e[1])}),this),{stops:e,outerColors:i}}function l(n,r){var s=o.getRepresentValue({interval:n});r||(r=o.getValueState(s));var a=t(s,r);n[0]===-1/0?i[0]=a:n[1]===1/0?i[1]=a:e.push({value:n[0],color:a},{value:n[1],color:a})}}}),h={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),o=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var s=(o[1]-o[0])/r;+s.toFixed(i)!==s&&i<5;)i++;t.precision=i,s=+s.toFixed(i);var l=0;t.minOpen&&e.push({index:l++,interval:[-1/0,o[0]],close:[0,0]});for(var h=o[0],c=l+r;l<c;h+=s){var u=l===r-1?o[1]:h+s;e.push({index:l++,interval:[h,u],close:[1,1]})}t.maxOpen&&e.push({index:l++,interval:[o[1],1/0],close:[0,0]}),a(e),n.each(e,(function(t){t.text=this.formatValueText(t.interval)}),this)},categories:function(){var t=this.option;n.each(t.categories,(function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})}),this),c(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;n.each(t.pieces,(function(t,i){n.isObject(t)||(t={value:t});var o={text:"",index:i};if(null!=t.label&&(o.text=t.label),t.hasOwnProperty("value")){var s=o.value=t.value;o.interval=[s,s],o.close=[1,1]}else{for(var a=o.interval=[],l=o.close=[0,0],h=[1,0,1],c=[-1/0,1/0],u=[],p=0;p<2;p++){for(var g=[["gte","gt","min"],["lte","lt","max"]][p],d=0;d<3&&null==a[p];d++)a[p]=t[g[d]],l[p]=h[d],u[p]=2===d;null==a[p]&&(a[p]=c[p])}u[0]&&a[1]===1/0&&(l[0]=0),u[1]&&a[0]===-1/0&&(l[1]=0),a[0]===a[1]&&l[0]&&l[1]&&(o.value=a[0])}o.visual=r.retrieveVisuals(t),e.push(o)}),this),c(t,e),a(e),n.each(e,(function(t){var e=t.close,i=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)}),this)}};function c(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}var u=l;t.exports=u},function(t,e,i){var n=i(0),o=i(178),r=i(2),s=i(18).createSymbol,a=i(6),l=i(179),h=o.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get("textGap"),o=e.textStyleModel,s=o.getFont(),l=o.getTextColor(),h=this._getItemAlign(),c=e.itemSize,u=this._getViewData(),p=u.endsText,g=n.retrieve(e.get("showLabel",!0),!p);p&&this._renderEndsText(t,p[0],c,g,h),n.each(u.viewPieceList,(function(o){var a=o.piece,u=new r.Group;u.onclick=n.bind(this._onItemClick,this,a),this._enableHoverLink(u,o.indexInModelPieceList);var p=e.getRepresentValue(a);if(this._createItemSymbol(u,p,[0,0,c[0],c[1]]),g){var d=this.visualMapModel.getValueState(p);u.add(new r.Text({style:{x:"right"===h?-i:c[0]+i,y:c[1]/2,text:a.text,textVerticalAlign:"middle",textAlign:h,textFont:s,textFill:l,opacity:"outOfRange"===d?.5:1}}))}t.add(u)}),this),p&&this._renderEndsText(t,p[1],c,g,h),a.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:l.convertDataIndex(i.findTargetDataIndices(e))})}t.on("mouseover",n.bind(i,this,"highlight")).on("mouseout",n.bind(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i,n,o){if(e){var s=new r.Group,a=this.visualMapModel.textStyleModel;s.add(new r.Text({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:e,textFont:a.getFont(),textFill:a.getTextColor()}})),t.add(s)}},_getViewData:function(){var t=this.visualMapModel,e=n.map(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),i=t.get("text"),o=t.get("orient"),r=t.get("inverse");return("horizontal"===o?r:!r)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(s(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,o=n.clone(i.selected),r=e.getSelectedMapKey(t);"single"===i.selectedMode?(o[r]=!0,n.each(o,(function(t,e){o[e]=e===r}))):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}});t.exports=h},function(t,e,i){var n=i(1);i(447),i(448),n.registerPreprocessor((function(t){t.markPoint=t.markPoint||{}}))},function(t,e,i){var n=i(100).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});t.exports=n},function(t,e,i){var n=i(0),o=i(53),r=i(3),s=i(16),a=i(101);function l(t,e,i){var n=e.coordinateSystem;t.each((function(o){var s,a=t.getItemModel(o),l=r.parsePercent(a.get("x"),i.getWidth()),h=r.parsePercent(a.get("y"),i.getHeight());if(isNaN(l)||isNaN(h)){if(e.getMarkerPosition)s=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var c=t.get(n.dimensions[0],o),u=t.get(n.dimensions[1],o);s=n.dataToPoint([c,u])}}else s=[l,h];isNaN(l)||(s[0]=l),isNaN(h)||(s[1]=h),t.setItemLayout(o,s)}))}var h=i(102).extend({type:"markPoint",updateTransform:function(t,e,i){e.eachSeries((function(t){var e=t.markPointModel;e&&(l(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))}),this)},renderSeries:function(t,e,i,r){var h=t.coordinateSystem,c=t.id,u=t.getData(),p=this.markerGroupMap,g=p.get(c)||p.set(c,new o),d=function(t,e,i){var o;o=t?n.map(t&&t.dimensions,(function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return n.defaults({name:t,isSysCoord:!0},i)})):[{name:"value",type:"float",isSysCoord:!0}];var r=new s(o,i),l=n.map(i.get("data"),n.curry(a.dataTransform,e));t&&(l=n.filter(l,n.curry(a.dataFilter,t)));return r.initData(l,null,t?a.dimValueGetter:function(t){return t.value}),r}(h,t,e);e.setData(d),l(e.getData(),t,r),d.each((function(t){var i=d.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),d.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.color")||u.getVisual("color"),symbol:i.getShallow("symbol")})})),g.updateData(d),this.group.add(g.group),d.eachItemGraphicEl((function(t){t.traverse((function(t){t.dataModel=e}))})),g.__keep=!0,g.group.silent=e.get("silent")||t.get("silent")}});t.exports=h},function(t,e,i){var n=i(1);i(450),i(451),n.registerPreprocessor((function(t){t.markLine=t.markLine||{}}))},function(t,e,i){var n=i(100).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});t.exports=n},function(t,e,i){var n=i(0),o=i(16),r=i(3),s=i(101),a=i(94),l=i(102),h=function(t,e,i,o){var r=t.getData(),a=o.type;if(!n.isArray(o)&&("min"===a||"max"===a||"average"===a||null!=o.xAxis||null!=o.yAxis)){var l,h;if(null!=o.yAxis||null!=o.xAxis)l=null!=o.yAxis?"y":"x",e.getAxis(l),h=n.retrieve(o.yAxis,o.xAxis);else{var c=s.getAxisInfo(o,r,e,t);l=c.valueDataDim,c.valueAxis,h=s.numCalculate(r,l,a)}var u="x"===l?0:1,p=1-u,g=n.clone(o),d={};g.type=null,g.coord=[],d.coord=[],g.coord[p]=-1/0,d.coord[p]=1/0;var f=i.get("precision");f>=0&&"number"==typeof h&&(h=+h.toFixed(Math.min(f,20))),g.coord[u]=d.coord[u]=h,o=[g,d,{type:a,valueIndex:o.valueIndex,value:h}]}return(o=[s.dataTransform(t,o[0]),s.dataTransform(t,o[1]),n.extend({},o[2])])[2].type=o[2].type||"",n.merge(o[2],o[0]),n.merge(o[2],o[1]),o};function c(t){return!isNaN(t)&&!isFinite(t)}function u(t,e,i,n){var o=1-t,r=n.dimensions[t];return c(e[o])&&c(i[o])&&e[t]===i[t]&&n.getAxis(r).containData(e[t])}function p(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(u(1,i,n,t)||u(0,i,n,t)))return!0}return s.dataFilter(t,e[0])&&s.dataFilter(t,e[1])}function g(t,e,i,n,o){var s,a=n.coordinateSystem,l=t.getItemModel(e),h=r.parsePercent(l.get("x"),o.getWidth()),u=r.parsePercent(l.get("y"),o.getHeight());if(isNaN(h)||isNaN(u)){if(n.getMarkerPosition)s=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var p=a.dimensions,g=t.get(p[0],e),d=t.get(p[1],e);s=a.dataToPoint([g,d])}if("cartesian2d"===a.type){var f=a.getAxis("x"),y=a.getAxis("y");p=a.dimensions;c(t.get(p[0],e))?s[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):c(t.get(p[1],e))&&(s[1]=y.toGlobalCoord(y.getExtent()[i?0:1]))}isNaN(h)||(s[0]=h),isNaN(u)||(s[1]=u)}else s=[h,u];t.setItemLayout(e,s)}var d=l.extend({type:"markLine",updateTransform:function(t,e,i){e.eachSeries((function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,r=e.__to;o.each((function(e){g(o,e,!0,t,i),g(r,e,!1,t,i)})),n.each((function(t){n.setItemLayout(t,[o.getItemLayout(t),r.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},renderSeries:function(t,e,i,r){var l=t.coordinateSystem,c=t.id,u=t.getData(),d=this.markerGroupMap,f=d.get(c)||d.set(c,new a);this.group.add(f.group);var y=function(t,e,i){var r;r=t?n.map(t&&t.dimensions,(function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return n.defaults({name:t},i)})):[{name:"value",type:"float"}];var a=new o(r,i),l=new o(r,i),c=new o([],i),u=n.map(i.get("data"),n.curry(h,e,t,i));t&&(u=n.filter(u,n.curry(p,t)));var g=t?s.dimValueGetter:function(t){return t.value};return a.initData(n.map(u,(function(t){return t[0]})),null,g),l.initData(n.map(u,(function(t){return t[1]})),null,g),c.initData(n.map(u,(function(t){return t[2]}))),c.hasItemOption=!0,{from:a,to:l,line:c}}(l,t,e),m=y.from,v=y.to,_=y.line;e.__from=m,e.__to=v,e.setData(_);var x=e.get("symbol"),C=e.get("symbolSize");function I(e,i,n){var o=e.getItemModel(i);g(e,i,n,t,r),e.setItemVisual(i,{symbolSize:o.get("symbolSize")||C[n?0:1],symbol:o.get("symbol",!0)||x[n?0:1],color:o.get("itemStyle.color")||u.getVisual("color")})}n.isArray(x)||(x=[x,x]),"number"==typeof C&&(C=[C,C]),y.from.each((function(t){I(m,t,!0),I(v,t,!1)})),_.each((function(t){var e=_.getItemModel(t).get("lineStyle.color");_.setItemVisual(t,{color:e||m.getItemVisual(t,"color")}),_.setItemLayout(t,[m.getItemLayout(t),v.getItemLayout(t)]),_.setItemVisual(t,{fromSymbolSize:m.getItemVisual(t,"symbolSize"),fromSymbol:m.getItemVisual(t,"symbol"),toSymbolSize:v.getItemVisual(t,"symbolSize"),toSymbol:v.getItemVisual(t,"symbol")})})),f.updateData(_),y.line.eachItemGraphicEl((function(t,i){t.traverse((function(t){t.dataModel=e}))})),f.__keep=!0,f.group.silent=e.get("silent")||t.get("silent")}});t.exports=d},function(t,e,i){var n=i(1);i(453),i(454),n.registerPreprocessor((function(t){t.markArea=t.markArea||{}}))},function(t,e,i){var n=i(100).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});t.exports=n},function(t,e,i){var n=i(0),o=i(21),r=i(16),s=i(3),a=i(2),l=i(101),h=i(102),c=function(t,e,i,o){var r=l.dataTransform(t,o[0]),s=l.dataTransform(t,o[1]),a=n.retrieve,h=r.coord,c=s.coord;h[0]=a(h[0],-1/0),h[1]=a(h[1],-1/0),c[0]=a(c[0],1/0),c[1]=a(c[1],1/0);var u=n.mergeAll([{},r,s]);return u.coord=[r.coord,s.coord],u.x0=r.x,u.y0=r.y,u.x1=s.x,u.y1=s.y,u};function u(t){return!isNaN(t)&&!isFinite(t)}function p(t,e,i,n){var o=1-t;return u(e[o])&&u(i[o])}function g(t,e){var i=e.coord[0],n=e.coord[1];return!("cartesian2d"!==t.type||!i||!n||!p(1,i,n)&&!p(0,i,n))||(l.dataFilter(t,{coord:i,x:e.x0,y:e.y0})||l.dataFilter(t,{coord:n,x:e.x1,y:e.y1}))}function d(t,e,i,n,o){var r,a=n.coordinateSystem,l=t.getItemModel(e),h=s.parsePercent(l.get(i[0]),o.getWidth()),c=s.parsePercent(l.get(i[1]),o.getHeight());if(isNaN(h)||isNaN(c)){if(n.getMarkerPosition)r=n.getMarkerPosition(t.getValues(i,e));else{var p=[f=t.get(i[0],e),y=t.get(i[1],e)];a.clampData&&a.clampData(p,p),r=a.dataToPoint(p,!0)}if("cartesian2d"===a.type){var g=a.getAxis("x"),d=a.getAxis("y"),f=t.get(i[0],e),y=t.get(i[1],e);u(f)?r[0]=g.toGlobalCoord(g.getExtent()["x0"===i[0]?0:1]):u(y)&&(r[1]=d.toGlobalCoord(d.getExtent()["y0"===i[1]?0:1]))}isNaN(h)||(r[0]=h),isNaN(c)||(r[1]=c)}else r=[h,c];return r}var f=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];h.extend({type:"markArea",updateTransform:function(t,e,i){e.eachSeries((function(t){var e=t.markAreaModel;if(e){var o=e.getData();o.each((function(e){var r=n.map(f,(function(n){return d(o,e,n,t,i)}));o.setItemLayout(e,r),o.getItemGraphicEl(e).setShape("points",r)}))}}),this)},renderSeries:function(t,e,i,s){var l=t.coordinateSystem,h=t.name,u=t.getData(),p=this.markerGroupMap,y=p.get(h)||p.set(h,{group:new a.Group});this.group.add(y.group),y.__keep=!0;var m=function(t,e,i){var o,s;t?(o=n.map(t&&t.dimensions,(function(t){var i=e.getData(),o=i.getDimensionInfo(i.mapDimension(t))||{};return n.defaults({name:t},o)})),s=new r(n.map(["x0","y0","x1","y1"],(function(t,e){return{name:t,type:o[e%2].type}})),i)):s=new r(o=[{name:"value",type:"float"}],i);var a=n.map(i.get("data"),n.curry(c,e,t,i));t&&(a=n.filter(a,n.curry(g,t)));var l=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return s.initData(a,null,l),s.hasItemOption=!0,s}(l,t,e);e.setData(m),m.each((function(e){m.setItemLayout(e,n.map(f,(function(i){return d(m,e,i,t,s)}))),m.setItemVisual(e,{color:u.getVisual("color")})})),m.diff(y.__data).add((function(t){var e=new a.Polygon({shape:{points:m.getItemLayout(t)}});m.setItemGraphicEl(t,e),y.group.add(e)})).update((function(t,i){var n=y.__data.getItemGraphicEl(i);a.updateProps(n,{shape:{points:m.getItemLayout(t)}},e,t),y.group.add(n),m.setItemGraphicEl(t,n)})).remove((function(t){var e=y.__data.getItemGraphicEl(t);y.group.remove(e)})).execute(),m.eachItemGraphicEl((function(t,i){var r=m.getItemModel(i),s=r.getModel("label"),l=r.getModel("emphasis.label"),h=m.getItemVisual(i,"color");t.useStyle(n.defaults(r.getModel("itemStyle").getItemStyle(),{fill:o.modifyAlpha(h,.4),stroke:h})),t.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle(),a.setLabelStyle(t.style,t.hoverStyle,s,l,{labelFetcher:e,labelDataIndex:i,defaultText:m.getName(i)||"",isRectText:!0,autoColor:h}),a.setHoverStyle(t,{}),t.dataModel=e})),y.__data=m,y.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,i){var n=i(1),o=i(456);i(457),i(458),i(459),i(461),n.registerPreprocessor(o)},function(t,e,i){var n=i(0);function o(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),o=t.label||t.label||{},s=o.normal||(o.normal={}),a={normal:1,emphasis:1};n.each(o,(function(t,e){a[e]||r(s,e)||(s[e]=t)})),i.label&&!r(o,"emphasis")&&(o.emphasis=i.label,delete i.label)}function r(t,e){return t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.timeline;n.isArray(e)||(e=e?[e]:[]),n.each(e,(function(t){t&&function(t){var e=t.type,i={number:"value",time:"time"};i[e]&&(t.axisType=i[e],delete t.type);if(o(t),r(t,"controlPosition")){var s=t.controlStyle||(t.controlStyle={});r(s,"position")||(s.position=t.controlPosition),"none"!==s.position||r(s,"show")||(s.show=!1,delete s.position),delete t.controlPosition}n.each(t.data||[],(function(t){n.isObject(t)&&!n.isArray(t)&&(!r(t,"value")&&r(t,"name")&&(t.value=t.name),o(t))}))}(t)}))}},function(t,e,i){i(13).registerSubTypeDefaulter("timeline",(function(){return"slider"}))},function(t,e,i){var n=i(1),o=i(0);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline"),o.defaults({currentIndex:i.option.currentIndex},t)})),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)}))},function(t,e,i){var n=i(0),o=i(460),r=i(84),s=o.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});n.mixin(s,r);var a=s;t.exports=a},function(t,e,i){var n=i(0),o=i(13),r=i(16),s=i(4),a=o.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){a.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,o=this._names=[];if("category"===i){var a=[];n.each(e,(function(t,e){var i,r=s.getDataItemValue(t);n.isObject(t)?(i=n.clone(t)).value=e:i=e,a.push(i),n.isString(r)||null!=r&&!isNaN(r)||(r=""),o.push(r+"")})),e=a}var l={category:"ordinal",time:"time"}[i]||"number";(this._data=new r([{name:"value",type:l}],this)).initData(e,o)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),l=a;t.exports=l},function(t,e,i){var n=i(0),o=i(9),r=i(15),s=i(2),a=i(6),l=i(462),h=i(463),c=i(18).createSymbol,u=i(17),p=i(3),g=i(8).encodeHTML,d=n.bind,f=n.each,y=Math.PI,m=l.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,i),r=this._createGroup("mainGroup"),s=this._createGroup("labelGroup"),a=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return g(a.scale.getLabel(t))},f(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](o,r,a,t)}),this),this._renderAxisLabel(o,s,a,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.position"),n=t.get("orient"),o=function(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==i||"auto"===i?i="horizontal"===n?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]);var r,s,l,h,c={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},u={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},p={horizontal:0,vertical:y/2},g="vertical"===n?o.height:o.width,d=t.getModel("controlStyle"),f=(x=d.get("show"))?d.get("itemSize"):0,m=x?d.get("itemGap"):0,v=f+m,_=t.get("label.rotate")||0;_=_*y/180;var x,C=d.get("position",!0),I=(x=d.get("show",!0))&&d.get("showPlayBtn",!0),A=x&&d.get("showPrevBtn",!0),b=x&&d.get("showNextBtn",!0),w=0,S=g;return"left"===C||"bottom"===C?(I&&(r=[0,0],w+=v),A&&(s=[w,0],w+=v),b&&(l=[S-f,0],S-=v)):(I&&(r=[S-f,0],S-=v),A&&(s=[0,0],w+=v),b&&(l=[S-f,0],S-=v)),h=[w,S],t.get("inverse")&&h.reverse(),{viewRect:o,mainLength:g,orient:n,rotation:p[n],labelRotation:_,labelPosOpt:i,labelAlign:t.get("label.align")||c[n],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||u[n],playPosition:r,prevBtnPosition:s,nextBtnPosition:l,axisExtent:h,controlSize:f,controlGap:m}},_position:function(t,e){var i=this._mainGroup,n=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var s=r.create(),a=o.x,l=o.y+o.height;r.translate(s,s,[-a,-l]),r.rotate(s,s,-y/2),r.translate(s,s,[a,l]),(o=o.clone()).applyTransform(s)}var h=v(o),c=v(i.getBoundingRect()),u=v(n.getBoundingRect()),p=i.position,g=n.position;g[0]=p[0]=h[0][0];var d,f=t.labelPosOpt;isNaN(f)?(_(p,c,h,1,d="+"===f?0:1),_(g,u,h,1,1-d)):(_(p,c,h,1,d=f>=0?0:1),g[1]=p[1]+f);function m(t){var e=t.position;t.origin=[h[0][0]-e[0],h[1][0]-e[1]]}function v(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function _(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}i.attr("position",p),n.attr("position",g),i.rotation=n.rotation=t.rotation,m(i),m(n)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),o=u.createScaleByModel(e,n),r=i.getDataExtent("value");o.setExtent(r[0],r[1]),this._customizeScale(o,i),o.niceTicks();var s=new h("value",o,t.axisExtent,n);return s.model=e,s},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],(function(t){return t}))},t.getTicksLabels=function(){return n.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new s.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,o){var r=i.getExtent();o.get("lineStyle.show")&&e.add(new s.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:n.extend({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var o=n.getData(),r=i.scale.getTicks();f(r,(function(t,r){var a=i.dataToCoord(t),l=o.getItemModel(r),h=l.getModel("itemStyle"),c=l.getModel("emphasis.itemStyle"),u={position:[a,0],onclick:d(this._changeTimeline,this,r)},p=v(l,h,e,u);s.setHoverStyle(p,c.getItemStyle()),l.get("tooltip")?(p.dataIndex=r,p.dataModel=n):p.dataIndex=p.dataModel=null}),this)},_renderAxisLabel:function(t,e,i,n){var o=n.getModel("label");if(o.get("show")){var r=n.getData(),a=i.scale.getTicks(),l=u.getFormattedLabels(i,o.get("formatter")),h=i.getLabelInterval();f(a,(function(n,o){if(!i.isLabelIgnored(o,h)){var a=r.getItemModel(o),c=a.getModel("label"),u=a.getModel("emphasis.label"),p=i.dataToCoord(n),g=new s.Text({position:[p,0],rotation:t.labelRotation-t.rotation,onclick:d(this._changeTimeline,this,o),silent:!1});s.setTextStyle(g.style,c,{text:l[o],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(g),s.setHoverStyle(g,s.setTextStyle({},u))}}),this)}},_renderControl:function(t,e,i,r){var a=t.controlSize,l=t.rotation,h=r.getModel("controlStyle").getItemStyle(),c=r.getModel("emphasis.controlStyle").getItemStyle(),u=[0,-a/2,a,a],p=r.getPlayState(),g=r.get("inverse",!0);function f(t,i,p,g){if(t){var d=function(t,e,i,r){return s.makePath(t.get(e).replace(/^path:\/\//,""),n.clone(r||{}),new o(i[0],i[1],i[2],i[3]),"center")}(r,i,u,{position:t,origin:[a/2,0],rotation:g?-l:0,rectHover:!0,style:h,onclick:p});e.add(d),s.setHoverStyle(d,c)}}f(t.nextBtnPosition,"controlStyle.nextIcon",d(this._changeTimeline,this,g?"-":"+")),f(t.prevBtnPosition,"controlStyle.prevIcon",d(this._changeTimeline,this,g?"+":"-")),f(t.playPosition,"controlStyle."+(p?"stopIcon":"playIcon"),d(this._handlePlayClick,this,!p),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),r=n.getCurrentIndex(),s=o.getItemModel(r).getModel("checkpointStyle"),a=this,l={onCreate:function(t){t.draggable=!0,t.drift=d(a._handlePointerDrag,a),t.ondragend=d(a._handlePointerDragend,a),_(t,r,i,n,!0)},onUpdate:function(t){_(t,r,i,n)}};this._currentPointer=v(s,s,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=p.asc(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var r=this._findNearestTick(i),s=this.model;(e||r!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(r)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(d((function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return s.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],(function(i,r){var s=o.dataToCoord(i),a=Math.abs(s-t);a<n&&(n=a,e=r)})),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}});function v(t,e,i,o,r,s){var a=e.get("color");if(r)r.setColor(a),i.add(r),s&&s.onUpdate(r);else{var l=t.get("symbol");(r=c(l,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),i.add(r),s&&s.onCreate(r)}var h=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(h),o=n.merge({rectHover:!0,z2:100},o,!0);var u=t.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,o.scale=u;var g=t.get("symbolOffset");if(g){var d=o.position=o.position||[0,0];d[0]+=p.parsePercent(g[0],u[0]),d[1]+=p.parsePercent(g[1],u[1])}var f=t.get("symbolRotate");return o.rotation=(f||0)*Math.PI/180||0,r.attr(o),r.updateTransform(),r}function _(t,e,i,n,o){if(!t.dragging){var r=n.getModel("checkpointStyle"),s=i.dataToCoord(n.getData().get(["value"],e));o||!r.get("animation",!0)?t.attr({position:[s,0]}):(t.stopAnimation(!0),t.animateTo({position:[s,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}t.exports=m},function(t,e,i){var n=i(86).extend({type:"timeline"});t.exports=n},function(t,e,i){var n=i(0),o=i(27),r=i(17),s=function(t,e,i,n){o.call(this,t,e,i),this.type=n||"value",this._autoLabelInterval,this.model=null};s.prototype={constructor:s,getLabelInterval:function(){var t,e=this.model,i=e.getModel("label");return null!=(t=i.get("interval"))&&"auto"!=t||(t=this._autoLabelInterval)||(t=this._autoLabelInterval=r.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),r.getFormattedLabels(this,i.get("formatter")),i.getFont(),"horizontal"===e.get("orient")?0:90,i.get("rotate"))),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},n.inherits(s,o);var a=s;t.exports=a},function(t,e,i){i(465),i(466),i(467),i(468),i(469),i(470),i(474)},function(t,e,i){var n=i(1),o=i(0),r=i(28),s=n.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(t){s.superApply(this,"mergeDefaultAndTheme",arguments),o.each(this.option.feature,(function(t,e){var i=r.get(e);i&&o.merge(t,i.defaultOption)}))},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}}),a=s;t.exports=a},function(t,e,i){var n=i(1),o=i(0),r=i(20),s=i(28),a=i(2),l=i(11),h=i(33),c=i(168),u=n.extendComponentView({type:"toolbox",render:function(t,e,i,n){var u=this.group;if(u.removeAll(),t.get("show")){var p=+t.get("itemSize"),g=t.get("feature")||{},d=this._features||(this._features={}),f=[];o.each(g,(function(t,e){f.push(e)})),new h(this._featureNames||[],f).add(y).update(y).remove(o.curry(y,null)).execute(),this._featureNames=f,c.layout(u,t,i),u.add(c.makeBackground(u.getBoundingRect(),t)),u.eachChild((function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var o=r.getBoundingRect(e,r.makeFont(n)),s=t.position[0]+u.position[0],a=!1;t.position[1]+u.position[1]+p+o.height>i.getHeight()&&(n.textPosition="top",a=!0);var l=a?-5-o.height:p+8;s+o.width/2>i.getWidth()?(n.textPosition=["100%",l],n.textAlign="right"):s-o.width/2<0&&(n.textPosition=[0,l],n.textAlign="left")}}))}function y(r,h){var c,y=f[r],m=f[h],v=g[y],_=new l(v,t,t.ecModel);if(y&&!m){if(function(t){return 0===t.indexOf("my")}(y))c={model:_,onclick:_.option.onclick,featureName:y};else{var x=s.get(y);if(!x)return;c=new x(_,e,i)}d[y]=c}else{if(!(c=d[m]))return;c.model=_,c.ecModel=e,c.api=i}y||!m?_.get("show")&&!c.unusable?(!function(n,r,s){var l=n.getModel("iconStyle"),h=n.getModel("emphasis.iconStyle"),c=r.getIcons?r.getIcons():n.get("icon"),g=n.get("title")||{};if("string"==typeof c){var d=c,f=g;g={},(c={})[s]=d,g[s]=f}var y=n.iconPaths={};o.each(c,(function(s,c){var d=a.createIcon(s,{},{x:-p/2,y:-p/2,width:p,height:p});d.setStyle(l.getItemStyle()),d.hoverStyle=h.getItemStyle(),a.setHoverStyle(d),t.get("showTitle")&&(d.__title=g[c],d.on("mouseover",(function(){var t=h.getItemStyle();d.setStyle({text:g[c],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})})).on("mouseout",(function(){d.setStyle({textFill:null})}))),d.trigger(n.get("iconStatus."+c)||"normal"),u.add(d),d.on("click",o.bind(r.onclick,r,e,i,c)),y[c]=d}))}(_,c,y),_.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},c.render&&c.render(_,e,i,n)):c.remove&&c.remove(e,i):c.dispose&&c.dispose(e,i)}},updateView:function(t,e,i,n){o.each(this._features,(function(t){t.updateView&&t.updateView(t.model,e,i,n)}))},remove:function(t,e){o.each(this._features,(function(i){i.remove&&i.remove(t,e)})),this.group.removeAll()},dispose:function(t,e){o.each(this._features,(function(i){i.dispose&&i.dispose(t,e)}))}});t.exports=u},function(t,e,i){var n=i(10),o=i(32),r=i(28),s=o.toolbox.saveAsImage;function a(t){this.model=t}a.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:s.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:s.lang.slice()},a.prototype.unusable=!n.canvasSupported,a.prototype.onclick=function(t,e){var i=this.model,o=i.get("name")||t.get("title.0.text")||"echarts",r=document.createElement("a"),s=i.get("type",!0)||"png";r.download=o+"."+s,r.target="_blank";var a=e.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(r.href=a,"function"!=typeof MouseEvent||n.browser.ie||n.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var l=atob(a.split(",")[1]),h=l.length,c=new Uint8Array(h);h--;)c[h]=l.charCodeAt(h);var u=new Blob([c]);window.navigator.msSaveOrOpenBlob(u,o+"."+s)}else{var p=i.get("lang"),g='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(p&&p[0]||"")+'" /></body>';window.open().document.write(g)}else{var d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(d)}},r.register("saveAsImage",a);var l=a;t.exports=l},function(t,e,i){var n=i(1),o=i(0),r=i(32),s=i(28),a=r.toolbox.magicType;function l(t){this.model=t}l.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:o.clone(a.title),option:{},seriesIndex:{}};var h=l.prototype;h.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return o.each(t.get("type"),(function(t){e[t]&&(i[t]=e[t])})),i};var c={line:function(t,e,i,n){if("bar"===t)return o.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0)},bar:function(t,e,i,n){if("line"===t)return o.merge({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0)},stack:function(t,e,i,n){if("line"===t||"bar"===t)return o.merge({id:e,stack:"__ec_magicType_stack__"},n.get("option.stack")||{},!0)},tiled:function(t,e,i,n){if("line"===t||"bar"===t)return o.merge({id:e,stack:""},n.get("option.tiled")||{},!0)}},u=[["line","bar"],["stack","tiled"]];h.onclick=function(t,e,i){var n=this.model,r=n.get("seriesIndex."+i);if(c[i]){var s={series:[]};o.each(u,(function(t){o.indexOf(t,i)>=0&&o.each(t,(function(t){n.setIconStatus(t,"normal")}))})),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(e){var r=e.subType,a=e.id,l=c[i](r,a,e,n);l&&(o.defaults(l,e.option),s.series.push(l));var h=e.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===i||"bar"===i)){var u=h.getAxesByScale("ordinal")[0];if(u){var p=u.dim+"Axis",g=t.queryComponents({mainType:p,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;s[p]=s[p]||[];for(var d=0;d<=g;d++)s[p][g]=s[p][g]||{};s[p][g].boundaryGap="bar"===i}}})),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:s})}},n.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)})),s.register("magicType",l);var p=l;t.exports=p},function(t,e,i){var n=i(1),o=i(0),r=i(22),s=i(32),a=i(28),l=s.toolbox.dataView,h=new Array(60).join("-");function c(t){return o.map(t,(function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,o=arguments[t-1],r=e.getName(o),s=0;s<t-1;s++)n[s]=arguments[s];i.push((r?r+"\t":"")+n.join("\t"))})),i.join("\n")})).join("\n\n"+h+"\n\n")}function u(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var p=new RegExp("[\t]+","g");function g(t,e){var i=t.split(new RegExp("\n*"+h+"\n*","g")),n={series:[]};return o.each(i,(function(t,i){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf("\t")>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),i=u(e.shift()).split(p),n=[],r=o.map(i,(function(t){return{name:t,data:[]}})),s=0;s<e.length;s++){var a=u(e[s]).split(p);n.push(a.shift());for(var l=0;l<a.length;l++)r[l]&&(r[l].data[s]=a[l])}return{series:r,categories:n}}(t),s=e[i],a=s.axisDim+"Axis";s&&(n[a]=n[a]||[],n[a][s.axisIndex]={data:r.categories},n.series=n.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\n+/g),i=u(e.shift()),n=[],o=0;o<e.length;o++){var r,s=u(e[o]).split(p),a="",l=!1;isNaN(s[0])?(l=!0,a=s[0],s=s.slice(1),n[o]={name:a,value:[]},r=n[o].value):r=n[o]=[];for(var h=0;h<s.length;h++)r.push(+s[h]);1===r.length&&(l?n[o].value=r[0]:n[o]=r[0])}return{name:i,data:n}}(t);n.series.push(r)}})),n}function d(t){this._dom=null,this.model=t}function f(t,e){return o.map(t,(function(t,i){var n=e&&e[i];return o.isObject(n)&&!o.isArray(n)?(o.isObject(t)&&!o.isArray(t)&&(t=t.value),o.defaults({value:t},n)):t}))}d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:o.clone(l.title),lang:o.clone(l.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(t,e){var i=e.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=n.get("backgroundColor")||"#fff";var a=document.createElement("h4"),l=n.get("lang")||[];a.innerHTML=l[0]||n.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=n.get("textColor");var u=document.createElement("div"),p=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var d=n.get("optionToContent"),f=n.get("contentToOption"),y=function(t){var e,i,n=function(t){var e={},i=[],n=[];return t.eachRawSeries((function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(t);else{var r=o.getBaseAxis();if("category"===r.type){var s=r.dim+"_"+r.index;e[s]||(e[s]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},n.push({axisDim:r.dim,axisIndex:r.index})),e[s].series.push(t)}else i.push(t)}})),{seriesGroupByCategoryAxis:e,other:i,meta:n}}(t);return{value:o.filter([(e=n.seriesGroupByCategoryAxis,i=[],o.each(e,(function(t,e){var n=t.categoryAxis,r=t.valueAxis.dim,s=[" "].concat(o.map(t.series,(function(t){return t.name}))),a=[n.model.getCategories()];o.each(t.series,(function(t){a.push(t.getRawData().mapArray(r,(function(t){return t})))}));for(var l=[s.join("\t")],h=0;h<a[0].length;h++){for(var c=[],u=0;u<a.length;u++)c.push(a[u][h]);l.push(c.join("\t"))}i.push(l.join("\n"))})),i.join("\n\n"+h+"\n\n")),c(n.other)],(function(t){return t.replace(/[\n\t\s]/g,"")})).join("\n\n"+h+"\n\n"),meta:n.meta}}(t);if("function"==typeof d){var m=d(e.getOption());"string"==typeof m?u.innerHTML=m:o.isDom(m)&&u.appendChild(m)}else u.appendChild(p),p.readOnly=n.get("readOnly"),p.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",p.style.color=n.get("textColor"),p.style.borderColor=n.get("textareaBorderColor"),p.style.backgroundColor=n.get("textareaColor"),p.value=y.value;var v=y.meta,_=document.createElement("div");_.style.cssText="position:absolute;bottom:0;left:0;right:0;";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",C=document.createElement("div"),I=document.createElement("div");x+=";background-color:"+n.get("buttonColor"),x+=";color:"+n.get("buttonTextColor");var A=this;function b(){i.removeChild(s),A._dom=null}r.addEventListener(C,"click",b),r.addEventListener(I,"click",(function(){var t;try{t="function"==typeof f?f(u,e.getOption()):g(p.value,v)}catch(t){throw b(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),b()})),C.innerHTML=l[1],I.innerHTML=l[2],I.style.cssText=x,C.style.cssText=x,!n.get("readOnly")&&_.appendChild(I),_.appendChild(C),r.addEventListener(p,"keydown",(function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+"\t"+e.substring(n),this.selectionStart=this.selectionEnd=i+1,r.stop(t)}})),s.appendChild(a),s.appendChild(u),s.appendChild(_),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},d.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},d.prototype.dispose=function(t,e){this.remove(t,e)},a.register("dataView",d),n.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var i=[];o.each(t.newOption.series,(function(t){var n=e.getSeriesByName(t.name)[0];if(n){var r=n.get("data");i.push({name:t.name,data:f(t.data,r)})}else i.push(o.extend({type:"scatter"},t))})),e.mergeOption(o.defaults({series:i},t.newOption))}));var y=d;t.exports=y},function(t,e,i){var n=i(1),o=i(0),r=i(96),s=i(169),a=i(181),l=i(57),h=i(32),c=i(28);i(471);var u=h.toolbox.dataZoom,p=o.each;function g(t,e,i){(this._brushController=new r(i.getZr())).on("brush",o.bind(this._onBrush,this)).mount(),this._isZoomActive}g.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:o.clone(u.title)};var d=g.prototype;d.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,function(t,e,i,n,o){var r=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive);i._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var a=new s(y(t.option),e,{include:["grid"]});i._brushController.setPanels(a.makePanelOpts(o,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}))).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,n,i),function(t,e){t.setIconStatus("back",a.count(e)>1?"emphasis":"normal")}(t,e)},d.onclick=function(t,e,i){f[i].call(this)},d.remove=function(t,e){this._brushController.unmount()},d.dispose=function(t,e){this._brushController.dispose()};var f={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(a.pop(this.ecModel))}};function y(t){var e={};return o.each(["xAxisIndex","yAxisIndex"],(function(i){e[i]=t[i],null==e[i]&&(e[i]="all"),(!1===e[i]||"none"===e[i])&&(e[i]=[])})),e}d._onBrush=function(t,e){if(e.isEnd&&t.length){var i={},n=this.ecModel;this._brushController.updateCovers([]),new s(y(this.model.option),n,{include:["grid"]}).matchOutputRanges(t,n,(function(t,e,i){if("cartesian2d"===i.type){var n=t.brushType;"rect"===n?(o("x",i,e[0]),o("y",i,e[1])):o({lineX:"x",lineY:"y"}[n],i,e)}})),a.push(n,i),this._dispatchZoomAction(i)}function o(t,e,o){var r=e.getAxis(t),s=r.model,a=function(t,e,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},(function(i){i.getAxisModel(t,e.componentIndex)&&(n=i)})),n}(t,s,n),h=a.findRepresentativeAxisProxy(s).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(o=l(0,o.slice(),r.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),a&&(i[a.id]={dataZoomId:a.id,startValue:o[0],endValue:o[1]})}},d._dispatchZoomAction=function(t){var e=[];p(t,(function(t,i){e.push(o.clone(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},c.register("dataZoom",g),n.registerPreprocessor((function(t){if(t){var e=t.dataZoom||(t.dataZoom=[]);o.isArray(e)||(t.dataZoom=e=[e]);var i=t.toolbox;if(i&&(o.isArray(i)&&(i=i[0]),i&&i.feature)){var n=i.feature.dataZoom;r("xAxis",n),r("yAxis",n)}}function r(i,n){if(n){var r=i+"Index",s=n[r];null==s||"all"==s||o.isArray(s)||(s=!1===s||"none"===s?[]:[s]),function(e,i){var n=t[e];o.isArray(n)||(n=n?[n]:[]);p(n,i)}(i,(function(t,n){if(null==s||"all"==s||-1!==o.indexOf(s,n)){var a={type:"select",$fromToolbox:!0,id:"\0_ec_\0toolbox-dataZoom_"+i+n};a[r]=n,e.push(a)}}))}}}));var m=g;t.exports=m},function(t,e,i){i(170),i(59),i(60),i(472),i(473),i(171),i(172)},function(t,e,i){var n=i(59).extend({type:"dataZoom.select"});t.exports=n},function(t,e,i){var n=i(60).extend({type:"dataZoom.select"});t.exports=n},function(t,e,i){var n=i(1),o=i(181),r=i(32),s=i(28),a=r.toolbox.restore;function l(t){this.model=t}l.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.title},l.prototype.onclick=function(t,e,i){o.clear(t),e.dispatchAction({type:"restore",from:this.uid})},s.register("restore",l),n.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var h=l;t.exports=h},function(t,e,i){i(476),(0,i(61).registerPainter)("vml",i(477))},function(t,e,i){var n=i(10),o=i(7).applyTransform,r=i(9),s=i(21),a=i(20),l=i(64),h=i(115),c=i(47),u=i(46),p=i(48),g=i(12),d=i(40),f=i(65),y=i(182),m=d.CMD,v=Math.round,_=Math.sqrt,x=Math.abs,C=Math.cos,I=Math.sin,A=Math.max;if(!n.canvasSupported){var b=21600,w=b/2,S=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=b+","+b,t.coordorigin="0,0"},M=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},E=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},T=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},P=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},L=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},N=function(t,e,i){var n=s.parse(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=M(n[0],n[1],n[2]),t.opacity=i*n[3])},D=function(t,e,i,n){var r="fill"==e,a=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(r||!r&&i.lineWidth)?(t[r?"filled":"stroked"]="true",i[e]instanceof f&&T(t,a),a||(a=y.createNode(e)),r?function(t,e,i){var n,r,a=e.fill;if(null!=a)if(a instanceof f){var l,h=0,c=[0,0],u=0,p=1,g=i.getBoundingRect(),d=g.width,y=g.height;if("linear"===a.type){l="gradient";var m=i.transform,v=[a.x*d,a.y*y],_=[a.x2*d,a.y2*y];m&&(o(v,v,m),o(_,_,m));var x=_[0]-v[0],C=_[1]-v[1];(h=180*Math.atan2(x,C)/Math.PI)<0&&(h+=360),h<1e-6&&(h=0)}else{l="gradientradial";v=[a.x*d,a.y*y],m=i.transform;var I=i.scale,w=d,S=y;c=[(v[0]-g.x)/w,(v[1]-g.y)/S],m&&o(v,v,m),w/=I[0]*b,S/=I[1]*b;var E=A(w,S);u=0/E,p=2*a.r/E-u}var T=a.colorStops.slice();T.sort((function(t,e){return t.offset-e.offset}));for(var P=T.length,L=[],D=[],R=0;R<P;R++){var O=T[R],F=(n=O.color,r=void 0,r=s.parse(n),[M(r[0],r[1],r[2]),r[3]]);D.push(O.offset*p+u+" "+F[0]),0!==R&&R!==P-1||L.push(F)}if(P>=2){var k=L[0][0],G=L[1][0],B=L[0][1]*e.opacity,z=L[1][1]*e.opacity;t.type=l,t.method="none",t.focus="100%",t.angle=h,t.color=k,t.color2=G,t.colors=D.join(","),t.opacity=z,t.opacity2=B}"radial"===l&&(t.focusposition=c.join(","))}else N(t,a,e.opacity)}(a,i,n):function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||N(t,e.stroke,e.opacity)}(a,i),E(t,a)):(t[r?"filled":"stroked"]="false",T(t,a))},R=[[],[],[]];g.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=y.createNode("shape"),S(i),this._vmlEl=i),D(i,"fill",e,this),D(i,"stroke",e,this);var n=this.transform,r=null!=n,s=i.getElementsByTagName("stroke")[0];if(s){var a=e.lineWidth;if(r&&!e.strokeNoScale){var l=n[0]*n[3]-n[1]*n[2];a*=_(x(l))}s.weight=a+"px"}var h=this.path||(this.path=new d);this.__dirtyPath&&(h.beginPath(),this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,n,r,s,a,l,h=m.M,c=m.C,u=m.L,p=m.A,g=m.Q,d=[],f=t.data,y=t.len();for(s=0;s<y;){switch(n="",i=0,r=f[s++]){case h:n=" m ",i=1,a=f[s++],l=f[s++],R[0][0]=a,R[0][1]=l;break;case u:n=" l ",i=1,a=f[s++],l=f[s++],R[0][0]=a,R[0][1]=l;break;case g:case c:n=" c ",i=3;var x,A,S=f[s++],M=f[s++],E=f[s++],T=f[s++];r===g?(x=E,A=T,E=(E+2*S)/3,T=(T+2*M)/3,S=(a+2*S)/3,M=(l+2*M)/3):(x=f[s++],A=f[s++]),R[0][0]=S,R[0][1]=M,R[1][0]=E,R[1][1]=T,R[2][0]=x,R[2][1]=A,a=x,l=A;break;case p:var P=0,L=0,N=1,D=1,O=0;e&&(P=e[4],L=e[5],N=_(e[0]*e[0]+e[1]*e[1]),D=_(e[2]*e[2]+e[3]*e[3]),O=Math.atan2(-e[1]/D,e[0]/N));var F=f[s++],k=f[s++],G=f[s++],B=f[s++],z=f[s++]+O,V=f[s++]+z+O;s++;var j=f[s++],H=F+C(z)*G,U=k+I(z)*B,W=(S=F+C(V)*G,M=k+I(V)*B,j?" wa ":" at ");Math.abs(H-S)<1e-4&&(Math.abs(V-z)>.01?j&&(H+=.0125):Math.abs(U-k)<1e-4?j&&H<F||!j&&H>F?M-=.0125:M+=.0125:j&&U<k||!j&&U>k?S+=.0125:S-=.0125),d.push(W,v(((F-G)*N+P)*b-w),",",v(((k-B)*D+L)*b-w),",",v(((F+G)*N+P)*b-w),",",v(((k+B)*D+L)*b-w),",",v((H*N+P)*b-w),",",v((U*D+L)*b-w),",",v((S*N+P)*b-w),",",v((M*D+L)*b-w)),a=S,l=M;break;case m.R:var Y=R[0],X=R[1];Y[0]=f[s++],Y[1]=f[s++],X[0]=Y[0]+f[s++],X[1]=Y[1]+f[s++],e&&(o(Y,Y,e),o(X,X,e)),Y[0]=v(Y[0]*b-w),X[0]=v(X[0]*b-w),Y[1]=v(Y[1]*b-w),X[1]=v(X[1]*b-w),d.push(" m ",Y[0],",",Y[1]," l ",X[0],",",Y[1]," l ",X[0],",",X[1]," l ",Y[0],",",X[1]);break;case m.Z:d.push(" x ")}if(i>0){d.push(n);for(var Z=0;Z<i;Z++){var q=R[Z];e&&o(q,q,e),d.push(v(q[0]*b-w),",",v(q[1]*b-w),Z<i-1?",":"")}}}return d.join("")}(h,this.transform),i.style.zIndex=P(this.zlevel,this.z,this.z2),E(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},g.prototype.onRemove=function(t){T(t,this._vmlEl),this.removeRectText(t)},g.prototype.onAdd=function(t){E(t,this._vmlEl),this.appendRectText(t)};u.prototype.brushVML=function(t){var e,i,n,r=this.style,s=r.image;if("object"==typeof(n=s)&&n.tagName&&"IMG"===n.tagName.toUpperCase()){var a=s.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var l=s.runtimeStyle,h=l.width,c=l.height;l.width="auto",l.height="auto",e=s.width,i=s.height,l.width=h,l.height=c,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}s=a}else s===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(s){var u=r.x||0,p=r.y||0,g=r.width,d=r.height,f=r.sWidth,m=r.sHeight,x=r.sx||0,C=r.sy||0,I=f&&m,b=this._vmlEl;b||(b=y.doc.createElement("div"),S(b),this._vmlEl=b);var w,M=b.style,T=!1,L=1,N=1;if(this.transform&&(w=this.transform,L=_(w[0]*w[0]+w[1]*w[1]),N=_(w[2]*w[2]+w[3]*w[3]),T=w[1]||w[2]),T){var D=[u,p],R=[u+g,p],O=[u,p+d],F=[u+g,p+d];o(D,D,w),o(R,R,w),o(O,O,w),o(F,F,w);var k=A(D[0],R[0],O[0],F[0]),G=A(D[1],R[1],O[1],F[1]),B=[];B.push("M11=",w[0]/L,",","M12=",w[2]/N,",","M21=",w[1]/L,",","M22=",w[3]/N,",","Dx=",v(u*L+w[4]),",","Dy=",v(p*N+w[5])),M.padding="0 "+v(k)+"px "+v(G)+"px 0",M.filter="progid:DXImageTransform.Microsoft.Matrix("+B.join("")+", SizingMethod=clip)"}else w&&(u=u*L+w[4],p=p*N+w[5]),M.filter="",M.left=v(u)+"px",M.top=v(p)+"px";var z=this._imageEl,V=this._cropEl;z||(z=y.doc.createElement("div"),this._imageEl=z);var j=z.style;if(I){if(e&&i)j.width=v(L*e*g/f)+"px",j.height=v(N*i*d/m)+"px";else{var H=new Image,U=this;H.onload=function(){H.onload=null,e=H.width,i=H.height,j.width=v(L*e*g/f)+"px",j.height=v(N*i*d/m)+"px",U._imageWidth=e,U._imageHeight=i,U._imageSrc=s},H.src=s}V||((V=y.doc.createElement("div")).style.overflow="hidden",this._cropEl=V);var W=V.style;W.width=v((g+x*g/f)*L),W.height=v((d+C*d/m)*N),W.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-x*g/f*L+",Dy="+-C*d/m*N+")",V.parentNode||b.appendChild(V),z.parentNode!=V&&V.appendChild(z)}else j.width=v(L*g)+"px",j.height=v(N*d)+"px",b.appendChild(z),V&&V.parentNode&&(b.removeChild(V),this._cropEl=null);var Y="",X=r.opacity;X<1&&(Y+=".Alpha(opacity="+v(100*X)+") "),Y+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+s+", SizingMethod=scale)",j.filter=Y,b.style.zIndex=P(this.zlevel,this.z,this.z2),E(t,b),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},u.prototype.onRemove=function(t){T(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},u.prototype.onAdd=function(t){E(t,this._vmlEl),this.appendRectText(t)};var O,F={},k=0,G=document.createElement("div");a.$override("measureText",(function(t,e){var i=y.doc;O||((O=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",y.doc.body.appendChild(O));try{O.style.font=e}catch(t){}return O.innerHTML="",O.appendChild(i.createTextNode(t)),{width:O.offsetWidth}}));for(var B=new r,z=function(t,e,i,n){var r=this.style;this.__dirty&&l.normalizeTextStyle(r,!0);var s=r.text;if(null!=s&&(s+=""),s){if(r.rich){var h=a.parseRichText(s,r);s=[];for(var c=0;c<h.lines.length;c++){for(var u=h.lines[c].tokens,p=[],g=0;g<u.length;g++)p.push(u[g].text);s.push(p.join(""))}s=s.join("\n")}var d,f,m=r.textAlign,_=r.textVerticalAlign,x=function(t){var e=F[t];if(!e){k>100&&(k=0,F={});var i,n=G.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},F[t]=e,k++}return e}(r.font),C=x.style+" "+x.variant+" "+x.weight+" "+x.size+'px "'+x.family+'"';i=i||a.getBoundingRect(s,C,m,_);var I=this.transform;if(I&&!n&&(B.copy(e),B.applyTransform(I),e=B),n)d=e.x,f=e.y;else{var A=r.textPosition,b=r.textDistance;if(A instanceof Array)d=e.x+L(A[0],e.width),f=e.y+L(A[1],e.height),m=m||"left";else{var w=a.adjustTextPositionOnRect(A,e,b);d=w.x,f=w.y,m=m||w.textAlign,_=_||w.textVerticalAlign}}d=a.adjustTextX(d,i.width,m),f=a.adjustTextY(f,i.height,_),f+=i.height/2;var M,T,N,R=y.createNode,O=this._textVmlEl;O?T=(M=(N=O.firstChild).nextSibling).nextSibling:(O=R("line"),M=R("path"),T=R("textpath"),N=R("skew"),T.style["v-text-align"]="left",S(O),M.textpathok=!0,T.on=!0,O.from="0 0",O.to="1000 0.05",E(O,N),E(O,M),E(O,T),this._textVmlEl=O);var z=[d,f],V=O.style;I&&n?(o(z,z,I),N.on=!0,N.matrix=I[0].toFixed(3)+","+I[2].toFixed(3)+","+I[1].toFixed(3)+","+I[3].toFixed(3)+",0,0",N.offset=(v(z[0])||0)+","+(v(z[1])||0),N.origin="0 0",V.left="0px",V.top="0px"):(N.on=!1,V.left=v(d)+"px",V.top=v(f)+"px"),T.string=String(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{T.style.font=C}catch(t){}D(O,"fill",{fill:r.textFill,opacity:r.opacity},this),D(O,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),O.style.zIndex=P(this.zlevel,this.z,this.z2),E(t,O)}},V=function(t){T(t,this._textVmlEl),this._textVmlEl=null},j=function(t){E(t,this._textVmlEl)},H=[h,c,u,g,p],U=0;U<H.length;U++){var W=H[U].prototype;W.drawRectText=z,W.removeRectText=V,W.appendRectText=j}p.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},p.prototype.onRemove=function(t){this.removeRectText(t)},p.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,i){var n=i(45),o=i(182),r=i(0).each;function s(t){return parseInt(t,10)}function a(t,e){o.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var r=e.delFromStorage,s=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),s.call(e,t)},this._firstPaint=!0}a.prototype={constructor:a,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||s(e.width))-s(e.paddingLeft)-s(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||s(e.height))-s(e.paddingTop)-s(e.paddingBottom)|0}},r(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],(function(t){var e;a.prototype[t]=(e=t,function(){n('In IE8.0 VML mode painter not support method "'+e+'"')})}));var l=a;t.exports=l},function(t,e,i){i(103),(0,i(61).registerPainter)("svg",i(479))},function(t,e,i){var n=i(104).createElement,o=i(0),r=o.each,s=i(45),a=i(12),l=i(46),h=i(48),c=i(480),u=i(481),p=i(482),g=i(483),d=i(103),f=d.path,y=d.image,m=d.text;function v(t){return parseInt(t,10)}function _(t,e){return e&&t&&e.parentNode!==t}function x(t,e,i){if(_(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function C(t,e){if(_(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function I(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function A(t){return t.__textSvgEl}function b(t){return t.__svgEl}var w=function(t,e,i,r){this.root=t,this.storage=e,this._opts=i=o.extend({},i||{});var s=n("svg");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("version","1.1"),s.setAttribute("baseProfile","full"),s.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new u(r,s),this.clipPathManager=new p(r,s),this.shadowManager=new g(r,s);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=s,this._viewport=a,t.appendChild(a),a.appendChild(s),this.resize(i.width,i.height),this._visibleList=[]};w.prototype={constructor:w,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i,n=this._svgRoot,o=this._visibleList,r=t.length,s=[];for(e=0;e<r;e++){var u=t[e],p=(i=u)instanceof a?f:i instanceof l?y:i instanceof h?m:f,g=b(u)||A(u);u.invisible||(u.__dirty&&(p&&p.brush(u),this.clipPathManager.update(u),u.style&&(this.gradientManager.update(u.style.fill),this.gradientManager.update(u.style.stroke),this.shadowManager.update(g,u)),u.__dirty=!1),s.push(u))}var d,v=c(o,s);for(e=0;e<v.length;e++){if((S=v[e]).removed)for(var _=0;_<S.count;_++){g=b(u=o[S.indices[_]]);var w=A(u);I(n,g),I(n,w)}}for(e=0;e<v.length;e++){var S;if((S=v[e]).added)for(_=0;_<S.count;_++){g=b(u=s[S.indices[_]]),w=A(u);d?x(n,g,d):C(n,g),g?x(n,w,g):d?x(n,w,d):C(n,w),x(n,w,g),d=w||g||d,this.gradientManager.addWithoutUpdate(g,u),this.shadowManager.addWithoutUpdate(d,u),this.clipPathManager.markUsed(u)}else if(!S.removed)for(_=0;_<S.count;_++){d=g=A(u=s[S.indices[_]])||b(u)||d,this.gradientManager.markUsed(u),this.gradientManager.addWithoutUpdate(g,u),this.shadowManager.markUsed(u),this.shadowManager.addWithoutUpdate(g,u),this.clipPathManager.markUsed(u)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=s},_getDefs:function(t){var e,i=this._svgRoot;return 0===(e=this._svgRoot.getElementsByTagName("defs")).length?t?((e=i.insertBefore(n("defs"),i.firstChild)).contains||(e.contains=function(t){var i=e.children;if(!i)return!1;for(var n=i.length-1;n>=0;--n)if(i[n]===t)return!0;return!1}),e):null:e[0]},resize:function(t,e){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+"px",o.height=e+"px";var r=this._svgRoot;r.setAttribute("width",t),r.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,a=document.defaultView.getComputedStyle(s);return(s[n]||v(a[i])||v(s.style[i]))-(v(a[o])||0)-(v(a[r])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var t=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(t)}},r(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],(function(t){var e;w.prototype[t]=(e=t,function(){s('In SVG mode painter not support method "'+e+'"')})}));var S=w;t.exports=S},function(t,e){function i(){}function n(t,e,i,n){for(var o=0,r=e.length,s=0,a=0;o<r;o++){var l=e[o];if(l.removed){for(h=[],c=a;c<a+l.count;c++)h.push(c);l.indices=h,a+=l.count}else{for(var h=[],c=s;c<s+l.count;c++)h.push(c);l.indices=h,s+=l.count,l.added||(a+=l.count)}}return e}i.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var o=this;t=t.slice();var r=(e=e.slice()).length,s=t.length,a=1,l=r+s,h=[{newPos:-1,components:[]}],c=this.extractCommon(h[0],e,t,0);if(h[0].newPos+1>=r&&c+1>=s){for(var u=[],p=0;p<e.length;p++)u.push(p);return[{indices:u,count:e.length}]}function g(){for(var i=-1*a;i<=a;i+=2){var l,c=h[i-1],u=h[i+1],p=(u?u.newPos:0)-i;c&&(h[i-1]=void 0);var g=c&&c.newPos+1<r,d=u&&0<=p&&p<s;if(g||d){if(!g||d&&c.newPos<u.newPos?(l={newPos:(f=u).newPos,components:f.components.slice(0)},o.pushComponent(l.components,void 0,!0)):((l=c).newPos++,o.pushComponent(l.components,!0,void 0)),p=o.extractCommon(l,e,t,i),l.newPos+1>=r&&p+1>=s)return n(o,l.components,e,t);h[i]=l}else h[i]=void 0}var f;a++}for(;a<=l;){var d=g();if(d)return d}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var o=e.length,r=i.length,s=t.newPos,a=s-n,l=0;s+1<o&&a+1<r&&this.equals(e[s+1],i[a+1]);)s++,a++,l++;return l&&t.components.push({count:l}),t.newPos=s,a},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var o=new i;t.exports=function(t,e,i){return o.diff(t,e,i)}},function(t,e,i){var n=i(105),o=i(0),r=i(45);function s(t,e){n.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}o.inherits(s,n),s.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;o.each(["fill","stroke"],(function(n){if(e.style[n]&&("linear"===e.style[n].type||"radial"===e.style[n].type)){var o,r=e.style[n],s=i.getDefs(!0);r._dom?(o=r._dom,s.contains(r._dom)||i.addDom(o)):o=i.add(r),i.markUsed(e);var a=o.getAttribute("id");t.setAttribute(n,"url(#"+a+")")}}))}},s.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return r("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},s.prototype.update=function(t){var e=this;n.prototype.update.call(this,t,(function(){var i=t.type,n=t._dom.tagName;"linear"===i&&"linearGradient"===n||"radial"===i&&"radialGradient"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))}))},s.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void r("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,n=0,o=i.length;n<o;++n){var s=this.createElement("stop");s.setAttribute("offset",100*i[n].offset+"%"),s.setAttribute("stop-color",i[n].color),e.appendChild(s)}t._dom=e},s.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&n.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&n.prototype.markUsed.call(this,e._dom)}};var a=s;t.exports=a},function(t,e,i){var n=i(105),o=i(0),r=i(15);function s(t,e){n.call(this,t,e,"clipPath","__clippath_in_use__")}o.inherits(s,n),s.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},s.prototype.updateDom=function(t,e,i){if(e&&e.length>0){var n,o,s=this.getDefs(!0),a=e[0],l=i?"_textDom":"_dom";a[l]?(o=a[l].getAttribute("id"),n=a[l],s.contains(n)||s.appendChild(n)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",o),s.appendChild(n),a[l]=n);var h=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!i){var c=Array.prototype.slice.call(a.transform);r.mul(a.transform,a.parent.invTransform,a.transform),h.brush(a),a.transform=c}else h.brush(a);var u=this.getSvgElement(a);n.innerHTML="",n.appendChild(u.cloneNode()),t.setAttribute("clip-path","url(#"+o+")"),e.length>1&&this.updateDom(n,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},s.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&o.each(t.__clipPaths,(function(t){t._dom&&n.prototype.markUsed.call(e,t._dom),t._textDom&&n.prototype.markUsed.call(e,t._textDom)}))};var a=s;t.exports=a},function(t,e,i){var n=i(105);function o(t,e){n.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function r(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}i(0).inherits(o,n),o.prototype.addWithoutUpdate=function(t,e){if(e&&r(e.style)){var i,n=e.style;if(n._shadowDom)i=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(i);else i=this.add(e);this.markUsed(e);var o=i.getAttribute("id");t.style.filter="url(#"+o+")"}},o.prototype.add=function(t){var e=this.createElement("filter"),i=t.style;return i._shadowDomId=i._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(t,e),this.addDom(e),e},o.prototype.update=function(t,e){var i=e.style;if(r(i)){var o=this;n.prototype.update.call(this,e,(function(t){o.updateDom(e,t._shadowDom)}))}else this.remove(t,i)},o.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},o.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var n,o,r,s,a=t.style,l=t.scale&&t.scale[0]||1,h=t.scale&&t.scale[1]||1;if(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)n=a.shadowOffsetX||0,o=a.shadowOffsetY||0,r=a.shadowBlur,s=a.shadowColor;else{if(!a.textShadowBlur)return void this.removeDom(e,a);n=a.textShadowOffsetX||0,o=a.textShadowOffsetY||0,r=a.textShadowBlur,s=a.textShadowColor}i.setAttribute("dx",n/l),i.setAttribute("dy",o/h),i.setAttribute("flood-color",s);var c=r/2/l+" "+r/2/h;i.setAttribute("stdDeviation",c),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(r/2*200)+"%"),e.setAttribute("height",Math.ceil(r/2*200)+"%"),e.appendChild(i),a._shadowDom=e},o.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&n.prototype.markUsed.call(this,e._shadowDom)};var s=o;t.exports=s},function(t,e,i){"use strict";i.r(e);var n=i(106);class o{constructor(){}static OSM_LAYER(){return{layerName:"OSM",layerType:"OSM",isDefault:!0,opaque:!0,layerUrl:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}}static GOOGLE_LAYER(){return{layerName:"Google",layerType:"Google",isDefault:!0,opaque:!0,layerUrl:"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}"}}static GAODE_LAYER(){return{layerName:"GaoDe",layerType:"GaoDe",isDefault:!0,opaque:!0,layerUrl:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"}}static GOOGLE_HEI(){return{layerName:"GOOGLE_HEI",layerType:"GOOGLE_HEI",isDefault:!0,opaque:!0,layerUrl:"http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"}}static getBaseLayers(){return[{layerName:"GaoDe",name:"高德地图",icon:"/node_modules/xxmap/api/module/data/img/maptype_vector.png"},{layerName:"OSM",name:"OSM",icon:"/node_modules/xxmap/api/module/data/img/maptype_pano.png"},{layerName:"Google",name:"谷歌地图",icon:"/node_modules/xxmap/api/module/data/img/maptype_yunran.png"}]}static getMenuConfig(){return{itemWidth:130,itemHeight:30,items:[{name:"测面",alias:"measureArea",iconType:"iconfont",icon:"icon-cemian",iconColor:"#1AD3EF",showLine:!0,items:[{name:"测规则面",alias:"measureLength",iconType:"iconfont",icon:"icon-ceju",iconColor:"#2994EF"}]},{name:"清空地图",alias:"clearMap",iconType:"iconfont",icon:"icon-map",iconColor:"#F05849"}]}}}class r{constructor(t,e){return window.xxMap=n.a,this.initMap(t,e)}async initMap(t="map",e=[o.GAODE_LAYER(),o.GOOGLE_LAYER(),o.OSM_LAYER()],i=[101.4173,37.9204],r=5,s="EPSG:4326",a=!1,l=!0,h=!1,c=!0,u=!1,p=!1,g=!1){return console.log(e),this.map=await new n.a(t,{controls:{loading:a,zoomSlider:l,fullScreen:h,rotate:c,zoomCtl:u,overviewMap:p},interactions:{shiftDragZoom:g},view:{center:i,projection:s,zoom:r},baseLayers:e}),this.map}}class s{constructor(t){this.map=t}ScaleLineH(){var t=new ol.control.ScaleLineH({units:"metric_cn"});this.map.addControl(t)}mouseInfo(){var t=new ol.control.MousePositionH({});this.map.addControl(t)}compareLayer(t="GaoDe",e="Google"){var i=this.map.getLayerByLayerName(t),n=this.map.getLayerByLayerName(e),o=new ol.control.CompareLayer(i,n);this.map.addControl(o)}layerSwitch(t=86,e=60,i=o.getBaseLayers()){this.map.on("loadMapSuccess",n=>{if(n){var o=new ol.control.LayerSwitcher({itemWidth:t,itemHeight:e,layers:i});this.map.addControl(o);var r=this.map.getLayersArrayByKeyValue("isBaseLayer",!0);o.baseLayers_=r,console.log(r)}})}layerMagnify(t){let e=new ol.interaction.LayerMagnify(t);this.map.addInteraction(e)}LayerSpyglass(t){let e=new ol.interaction.LayerSpyglass(t);this.map.addInteraction(e)}PopoInfo(){return ol.Popover(this.map.getMap(),{})}SelectCluster(t){let e=new ol.interaction.SelectCluster(t);this.map.addInteraction(e)}drawTool(){var t=new ol.interaction.Draw({source:vector.getSource(),type:"Circle"});this.map.addInteraction(t)}}function a(t,e){var i=t.__state.conversionName.toString(),n=Math.round(t.r),o=Math.round(t.g),r=Math.round(t.b),s=t.a,a=Math.round(t.h),l=t.s.toFixed(1),h=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===i||"SIX_CHAR_HEX"===i){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===i?"rgb("+n+","+o+","+r+")":"CSS_RGBA"===i?"rgba("+n+","+o+","+r+","+s+")":"HEX"===i?"0x"+t.hex.toString(16):"RGB_ARRAY"===i?"["+n+","+o+","+r+"]":"RGBA_ARRAY"===i?"["+n+","+o+","+r+","+s+"]":"RGB_OBJ"===i?"{r:"+n+",g:"+o+",b:"+r+"}":"RGBA_OBJ"===i?"{r:"+n+",g:"+o+",b:"+r+",a:"+s+"}":"HSV_OBJ"===i?"{h:"+a+",s:"+l+",v:"+h+"}":"HSVA_OBJ"===i?"{h:"+a+",s:"+l+",v:"+h+",a:"+s+"}":"unknown format"}var l=Array.prototype.forEach,h=Array.prototype.slice,c={BREAK:{},extend:function(t){return this.each(h.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(i){this.isUndefined(e[i])||(t[i]=e[i])}.bind(this))}),this),t},defaults:function(t){return this.each(h.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(i){this.isUndefined(t[i])&&(t[i]=e[i])}.bind(this))}),this),t},compose:function(){var t=h.call(arguments);return function(){for(var e=h.call(arguments),i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},each:function(t,e,i){if(t)if(l&&t.forEach&&t.forEach===l)t.forEach(e,i);else if(t.length===t.length+0){var n,o=void 0;for(o=0,n=t.length;o<n;o++)if(o in t&&e.call(i,t[o],o)===this.BREAK)return}else for(var r in t)if(e.call(i,t[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n=void 0;return function(){var o=this,r=arguments;function s(){n=null,i||t.apply(o,r)}var a=i||!n;clearTimeout(n),n=setTimeout(s,e),a&&t.apply(o,r)}},toArray:function(t){return t.toArray?t.toArray():h.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},u=[{litmus:c.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:a},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:a},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:a},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:a}}},{litmus:c.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:c.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:c.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(c.isNumber(t.r)&&c.isNumber(t.g)&&c.isNumber(t.b)&&c.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(c.isNumber(t.r)&&c.isNumber(t.g)&&c.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(c.isNumber(t.h)&&c.isNumber(t.s)&&c.isNumber(t.v)&&c.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(c.isNumber(t.h)&&c.isNumber(t.s)&&c.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],p=void 0,g=void 0,d=function(){g=!1;var t=arguments.length>1?c.toArray(arguments):arguments[0];return c.each(u,(function(e){if(e.litmus(t))return c.each(e.conversions,(function(e,i){if(p=e.read(t),!1===g&&!1!==p)return g=p,p.conversionName=i,p.conversion=e,c.BREAK})),c.BREAK})),g},f=void 0,y={hsv_to_rgb:function(t,e,i){var n=Math.floor(t/60)%6,o=t/60-Math.floor(t/60),r=i*(1-e),s=i*(1-o*e),a=i*(1-(1-o)*e),l=[[i,a,r],[s,i,r],[r,i,a],[r,s,i],[a,r,i],[i,r,s]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,i){var n=Math.min(t,e,i),o=Math.max(t,e,i),r=o-n,s=void 0;return 0===o?{h:NaN,s:0,v:0}:(s=t===o?(e-i)/r:e===o?2+(i-t)/r:4+(t-e)/r,(s/=6)<0&&(s+=1),{h:360*s,s:r/o,v:o/255})},rgb_to_hex:function(t,e,i){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,i)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,i){return i<<(f=8*e)|t&~(255<<f)}},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),x=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},C=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},I=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},A=function(){function t(){if(v(this,t),this.__state=d.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return _(t,[{key:"toString",value:function(){return a(this)}},{key:"toHexString",value:function(){return a(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function b(t,e,i){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||A.recalculateRGB(this,e,i),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(A.recalculateRGB(this,e,i),this.__state.space="RGB"),this.__state[e]=t}})}function w(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||A.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(A.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}A.recalculateRGB=function(t,e,i){if("HEX"===t.__state.space)t.__state[e]=y.component_from_hex(t.__state.hex,i);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");c.extend(t.__state,y.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},A.recalculateHSV=function(t){var e=y.rgb_to_hsv(t.r,t.g,t.b);c.extend(t.__state,{s:e.s,v:e.v}),c.isNaN(e.h)?c.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},A.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(A.prototype,"r",2),b(A.prototype,"g",1),b(A.prototype,"b",0),w(A.prototype,"h"),w(A.prototype,"s"),w(A.prototype,"v"),Object.defineProperty(A.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(A.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=y.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var S=function(){function t(e,i){v(this,t),this.initialValue=e[i],this.domElement=document.createElement("div"),this.object=e,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return _(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),M={};c.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){c.each(t,(function(t){M[t]=e}))}));var E=/(\d+(\.\d+)?)px/;function T(t){if("0"===t||c.isUndefined(t))return 0;var e=t.match(E);return c.isNull(e)?0:parseFloat(e[1])}var P={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,i){var n=i,o=e;c.isUndefined(o)&&(o=!0),c.isUndefined(n)&&(n=!0),t.style.position="absolute",o&&(t.style.left=0,t.style.right=0),n&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,i,n){var o=i||{},r=M[e];if(!r)throw new Error("Event type "+e+" not supported.");var s=document.createEvent(r);switch(r){case"MouseEvents":var a=o.x||o.clientX||0,l=o.y||o.clientY||0;s.initMouseEvent(e,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,a,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var h=s.initKeyboardEvent||s.initKeyEvent;c.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),h(e,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:s.initEvent(e,o.bubbles||!1,o.cancelable||!0)}c.defaults(s,n),t.dispatchEvent(s)},bind:function(t,e,i,n){var o=n||!1;return t.addEventListener?t.addEventListener(e,i,o):t.attachEvent&&t.attachEvent("on"+e,i),P},unbind:function(t,e,i,n){var o=n||!1;return t.removeEventListener?t.removeEventListener(e,i,o):t.detachEvent&&t.detachEvent("on"+e,i),P},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var i=t.className.split(/ +/);-1===i.indexOf(e)&&(i.push(e),t.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return P},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var i=t.className.split(/ +/),n=i.indexOf(e);-1!==n&&(i.splice(n,1),t.className=i.join(" "))}else t.className=void 0;return P},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return T(e["border-left-width"])+T(e["border-right-width"])+T(e["padding-left"])+T(e["padding-right"])+T(e.width)},getHeight:function(t){var e=getComputedStyle(t);return T(e["border-top-width"])+T(e["border-bottom-width"])+T(e["padding-top"])+T(e["padding-bottom"])+T(e.height)},getOffset:function(t){var e=t,i={left:0,top:0};if(e.offsetParent)do{i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent}while(e);return i},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},L=function(t){function e(t,i){v(this,e);var n=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),o=n;return n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox"),P.bind(n.__checkbox,"change",(function(){o.setValue(!o.__prev)}),!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}return C(e,t),_(e,[{key:"setValue",value:function(t){var i=x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(S),N=function(t){function e(t,i,n){v(this,e);var o=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),r=n,s=o;if(o.__select=document.createElement("select"),c.isArray(r)){var a={};c.each(r,(function(t){a[t]=t})),r=a}return c.each(r,(function(t,e){var i=document.createElement("option");i.innerHTML=e,i.setAttribute("value",t),s.__select.appendChild(i)})),o.updateDisplay(),P.bind(o.__select,"change",(function(){var t=this.options[this.selectedIndex].value;s.setValue(t)})),o.domElement.appendChild(o.__select),o}return C(e,t),_(e,[{key:"setValue",value:function(t){var i=x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return P.isActive(this.__select)?this:(this.__select.value=this.getValue(),x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(S),D=function(t){function e(t,i){v(this,e);var n=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),o=n;function r(){o.setValue(o.__input.value)}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),P.bind(n.__input,"keyup",r),P.bind(n.__input,"change",r),P.bind(n.__input,"blur",(function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())})),P.bind(n.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return C(e,t),_(e,[{key:"updateDisplay",value:function(){return P.isActive(this.__input)||(this.__input.value=this.getValue()),x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(S);function R(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var O=function(t){function e(t,i,n){v(this,e);var o=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),r=n||{};return o.__min=r.min,o.__max=r.max,o.__step=r.step,c.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=R(o.__impliedStep),o}return C(e,t),_(e,[{key:"setValue",value:function(t){var i=t;return void 0!==this.__min&&i<this.__min?i=this.__min:void 0!==this.__max&&i>this.__max&&(i=this.__max),void 0!==this.__step&&i%this.__step!=0&&(i=Math.round(i/this.__step)*this.__step),x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=R(t),this}}]),e}(S);var F=function(t){function e(t,i,n){v(this,e);var o=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));o.__truncationSuspended=!1;var r=o,s=void 0;function a(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}function l(t){var e=s-t.clientY;r.setValue(r.getValue()+e*r.__impliedStep),s=t.clientY}function h(){P.unbind(window,"mousemove",l),P.unbind(window,"mouseup",h),a()}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),P.bind(o.__input,"change",(function(){var t=parseFloat(r.__input.value);c.isNaN(t)||r.setValue(t)})),P.bind(o.__input,"blur",(function(){a()})),P.bind(o.__input,"mousedown",(function(t){P.bind(window,"mousemove",l),P.bind(window,"mouseup",h),s=t.clientY})),P.bind(o.__input,"keydown",(function(t){13===t.keyCode&&(r.__truncationSuspended=!0,this.blur(),r.__truncationSuspended=!1,a())})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return C(e,t),_(e,[{key:"updateDisplay",value:function(){var t,i,n;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),i=this.__precision,n=Math.pow(10,i),Math.round(t*n)/n),x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(O);function k(t,e,i,n,o){return n+(t-e)/(i-e)*(o-n)}var G=function(t){function e(t,i,n,o,r){v(this,e);var s=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,{min:n,max:o,step:r})),a=s;function l(t){t.preventDefault();var e=a.__background.getBoundingClientRect();return a.setValue(k(t.clientX,e.left,e.right,a.__min,a.__max)),!1}function h(){P.unbind(window,"mousemove",l),P.unbind(window,"mouseup",h),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(t){var e=t.touches[0].clientX,i=a.__background.getBoundingClientRect();a.setValue(k(e,i.left,i.right,a.__min,a.__max))}function u(){P.unbind(window,"touchmove",c),P.unbind(window,"touchend",u),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return s.__background=document.createElement("div"),s.__foreground=document.createElement("div"),P.bind(s.__background,"mousedown",(function(t){document.activeElement.blur(),P.bind(window,"mousemove",l),P.bind(window,"mouseup",h),l(t)})),P.bind(s.__background,"touchstart",(function(t){if(1!==t.touches.length)return;P.bind(window,"touchmove",c),P.bind(window,"touchend",u),c(t)})),P.addClass(s.__background,"slider"),P.addClass(s.__foreground,"slider-fg"),s.updateDisplay(),s.__background.appendChild(s.__foreground),s.domElement.appendChild(s.__background),s}return C(e,t),_(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",x(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(O),B=function(t){function e(t,i,n){v(this,e);var o=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),r=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===n?"Fire":n,P.bind(o.__button,"click",(function(t){return t.preventDefault(),r.fire(),!1})),P.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return C(e,t),_(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(S),z=function(t){function e(t,i){v(this,e);var n=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));n.__color=new A(n.getValue()),n.__temp=new A(0);var o=n;n.domElement=document.createElement("div"),P.makeSelectable(n.domElement,!1),n.__selector=document.createElement("div"),n.__selector.className="selector",n.__saturation_field=document.createElement("div"),n.__saturation_field.className="saturation-field",n.__field_knob=document.createElement("div"),n.__field_knob.className="field-knob",n.__field_knob_border="2px solid ",n.__hue_knob=document.createElement("div"),n.__hue_knob.className="hue-knob",n.__hue_field=document.createElement("div"),n.__hue_field.className="hue-field",n.__input=document.createElement("input"),n.__input.type="text",n.__input_textShadow="0 1px 1px ",P.bind(n.__input,"keydown",(function(t){13===t.keyCode&&p.call(this)})),P.bind(n.__input,"blur",p),P.bind(n.__selector,"mousedown",(function(){P.addClass(this,"drag").bind(window,"mouseup",(function(){P.removeClass(o.__selector,"drag")}))})),P.bind(n.__selector,"touchstart",(function(){P.addClass(this,"drag").bind(window,"touchend",(function(){P.removeClass(o.__selector,"drag")}))}));var r,s=document.createElement("div");function a(t){f(t),P.bind(window,"mousemove",f),P.bind(window,"touchmove",f),P.bind(window,"mouseup",h),P.bind(window,"touchend",h)}function l(t){y(t),P.bind(window,"mousemove",y),P.bind(window,"touchmove",y),P.bind(window,"mouseup",u),P.bind(window,"touchend",u)}function h(){P.unbind(window,"mousemove",f),P.unbind(window,"touchmove",f),P.unbind(window,"mouseup",h),P.unbind(window,"touchend",h),g()}function u(){P.unbind(window,"mousemove",y),P.unbind(window,"touchmove",y),P.unbind(window,"mouseup",u),P.unbind(window,"touchend",u),g()}function p(){var t=d(this.value);!1!==t?(o.__color.__state=t,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function g(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function f(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=o.__saturation_field.getBoundingClientRect(),i=t.touches&&t.touches[0]||t,n=i.clientX,r=i.clientY,s=(n-e.left)/(e.right-e.left),a=1-(r-e.top)/(e.bottom-e.top);return a>1?a=1:a<0&&(a=0),s>1?s=1:s<0&&(s=0),o.__color.v=a,o.__color.s=s,o.setValue(o.__color.toOriginal()),!1}function y(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=o.__hue_field.getBoundingClientRect(),i=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return i>1?i=1:i<0&&(i=0),o.__color.h=360*i,o.setValue(o.__color.toOriginal()),!1}return c.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),c.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),c.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),c.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),c.extend(s.style,{width:"100%",height:"100%",background:"none"}),j(s,"top","rgba(0,0,0,0)","#000"),c.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(r=n.__hue_field).style.background="",r.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",r.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),P.bind(n.__saturation_field,"mousedown",a),P.bind(n.__saturation_field,"touchstart",a),P.bind(n.__field_knob,"mousedown",a),P.bind(n.__field_knob,"touchstart",a),P.bind(n.__hue_field,"mousedown",l),P.bind(n.__hue_field,"touchstart",l),n.__saturation_field.appendChild(s),n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay(),n}return C(e,t),_(e,[{key:"updateDisplay",value:function(){var t=d(this.getValue());if(!1!==t){var e=!1;c.each(A.COMPONENTS,(function(i){if(!c.isUndefined(t[i])&&!c.isUndefined(this.__color.__state[i])&&t[i]!==this.__color.__state[i])return e=!0,{}}),this),e&&c.extend(this.__color.__state,t)}c.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,n=255-i;c.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,j(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),c.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})}}]),e}(S),V=["-moz-","-o-","-webkit-","-ms-",""];function j(t,e,i,n){t.style.background="",c.each(V,(function(o){t.style.cssText+="background: "+o+"linear-gradient("+e+", "+i+" 0%, "+n+" 100%); "}))}var H=function(t,e){var i=e||document,n=document.createElement("style");n.type="text/css",n.innerHTML=t;var o=i.getElementsByTagName("head")[0];try{o.appendChild(n)}catch(t){}},U='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',W=function(t,e){var i=t[e];return c.isArray(arguments[2])||c.isObject(arguments[2])?new N(t,e,arguments[2]):c.isNumber(i)?c.isNumber(arguments[2])&&c.isNumber(arguments[3])?c.isNumber(arguments[4])?new G(t,e,arguments[2],arguments[3],arguments[4]):new G(t,e,arguments[2],arguments[3]):c.isNumber(arguments[4])?new F(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new F(t,e,{min:arguments[2],max:arguments[3]}):c.isString(i)?new D(t,e):c.isFunction(i)?new B(t,e,""):c.isBoolean(i)?new L(t,e):null};var Y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},X=function(){function t(){v(this,t),this.backgroundElement=document.createElement("div"),c.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),P.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),c.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;P.bind(this.backgroundElement,"click",(function(){e.hide()}))}return _(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),c.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",P.unbind(t.domElement,"webkitTransitionEnd",e),P.unbind(t.domElement,"transitionend",e),P.unbind(t.domElement,"oTransitionEnd",e)};P.bind(this.domElement,"webkitTransitionEnd",e),P.bind(this.domElement,"transitionend",e),P.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-P.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-P.getHeight(this.domElement)/2+"px"}}]),t}();H(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var Z=function(){try{return!!window.localStorage}catch(t){return!1}}(),q=void 0,K=!0,J=void 0,Q=!1,$=[],tt=function t(e){var i=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),P.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=c.defaults(n,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),n=c.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),c.isUndefined(n.load)?n.load={preset:"Default"}:n.preset&&(n.load.preset=n.preset),c.isUndefined(n.parent)&&n.hideable&&$.push(this),n.resizable=c.isUndefined(n.parent)&&n.resizable,n.autoPlace&&c.isUndefined(n.scrollable)&&(n.scrollable=!0);var o,r=Z&&"true"===localStorage.getItem(st(this,"isLocal")),s=void 0,a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:n.load.preset},set:function(t){i.parent?i.getRoot().preset=t:n.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),i.revert()}},width:{get:function(){return n.width},set:function(t){n.width=t,ut(i,t)}},name:{get:function(){return n.name},set:function(t){n.name=t,a&&(a.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(e){n.closed=e,n.closed?P.addClass(i.__ul,t.CLASS_CLOSED):P.removeClass(i.__ul,t.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return r},set:function(t){Z&&(r=t,t?P.bind(window,"unload",s):P.unbind(window,"unload",s),localStorage.setItem(st(i,"isLocal"),t))}}}),c.isUndefined(n.parent)){if(this.closed=n.closed||!1,P.addClass(this.domElement,t.CLASS_MAIN),P.makeSelectable(this.domElement,!1),Z&&r){i.useLocalStorage=!0;var l=localStorage.getItem(st(this,"gui"));l&&(n.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,P.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),n.closeOnTop?(P.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(P.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),P.bind(this.__closeButton,"click",(function(){i.closed=!i.closed}))}else{void 0===n.closed&&(n.closed=!0);var h=document.createTextNode(n.name);P.addClass(h,"controller-name"),a=et(i,h);P.addClass(this.__ul,t.CLASS_CLOSED),P.addClass(a,"title"),P.bind(a,"click",(function(t){return t.preventDefault(),i.closed=!i.closed,!1})),n.closed||(this.closed=!1)}n.autoPlace&&(c.isUndefined(n.parent)&&(K&&(J=document.createElement("div"),P.addClass(J,"dg"),P.addClass(J,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(J),K=!1),J.appendChild(this.domElement),P.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||ut(i,n.width)),this.__resizeHandler=function(){i.onResizeDebounced()},P.bind(window,"resize",this.__resizeHandler),P.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),P.bind(this.__ul,"transitionend",this.__resizeHandler),P.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&ct(this),s=function(){Z&&"true"===localStorage.getItem(st(i,"isLocal"))&&localStorage.setItem(st(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=s,n.parent||((o=i.getRoot()).width+=1,c.defer((function(){o.width-=1})))};function et(t,e,i){var n=document.createElement("li");return e&&n.appendChild(e),i?t.__ul.insertBefore(n,i):t.__ul.appendChild(n),t.onResize(),n}function it(t){P.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&P.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function nt(t,e){var i=t.__preset_select[t.__preset_select.selectedIndex];i.innerHTML=e?i.value+"*":i.value}function ot(t,e){var i=t.getRoot(),n=i.__rememberedObjects.indexOf(e.object);if(-1!==n){var o=i.__rememberedObjectIndecesToControllers[n];if(void 0===o&&(o={},i.__rememberedObjectIndecesToControllers[n]=o),o[e.property]=e,i.load&&i.load.remembered){var r=i.load.remembered,s=void 0;if(r[t.preset])s=r[t.preset];else{if(!r.Default)return;s=r.Default}if(s[n]&&void 0!==s[n][e.property]){var a=s[n][e.property];e.initialValue=a,e.setValue(a)}}}}function rt(t,e,i,n){if(void 0===e[i])throw new Error('Object "'+e+'" has no property "'+i+'"');var o=void 0;if(n.color)o=new z(e,i);else{var r=[e,i].concat(n.factoryArgs);o=W.apply(t,r)}n.before instanceof S&&(n.before=n.before.__li),ot(t,o),P.addClass(o.domElement,"c");var s=document.createElement("span");P.addClass(s,"property-name"),s.innerHTML=o.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(o.domElement);var l=et(t,a,n.before);return P.addClass(l,tt.CLASS_CONTROLLER_ROW),o instanceof z?P.addClass(l,"color"):P.addClass(l,m(o.getValue())),function(t,e,i){if(i.__li=e,i.__gui=t,c.extend(i,{options:function(e){if(arguments.length>1){var n=i.__li.nextElementSibling;return i.remove(),rt(t,i.object,i.property,{before:n,factoryArgs:[c.toArray(arguments)]})}if(c.isArray(e)||c.isObject(e)){var o=i.__li.nextElementSibling;return i.remove(),rt(t,i.object,i.property,{before:o,factoryArgs:[e]})}},name:function(t){return i.__li.firstElementChild.firstElementChild.innerHTML=t,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof G){var n=new F(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});c.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=i[t],o=n[t];i[t]=n[t]=function(){var t=Array.prototype.slice.call(arguments);return o.apply(n,t),e.apply(i,t)}})),P.addClass(e,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof F){var o=function(e){if(c.isNumber(i.__min)&&c.isNumber(i.__max)){var n=i.__li.firstElementChild.firstElementChild.innerHTML,o=i.__gui.__listening.indexOf(i)>-1;i.remove();var r=rt(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return r.name(n),o&&r.listen(),r}return e};i.min=c.compose(o,i.min),i.max=c.compose(o,i.max)}else i instanceof L?(P.bind(e,"click",(function(){P.fakeEvent(i.__checkbox,"click")})),P.bind(i.__checkbox,"click",(function(t){t.stopPropagation()}))):i instanceof B?(P.bind(e,"click",(function(){P.fakeEvent(i.__button,"click")})),P.bind(e,"mouseover",(function(){P.addClass(i.__button,"hover")})),P.bind(e,"mouseout",(function(){P.removeClass(i.__button,"hover")}))):i instanceof z&&(P.addClass(e,"color"),i.updateDisplay=c.compose((function(t){return e.style.borderLeftColor=i.__color.toString(),t}),i.updateDisplay),i.updateDisplay());i.setValue=c.compose((function(e){return t.getRoot().__preset_select&&i.isModified()&&nt(t.getRoot(),!0),e}),i.setValue)}(t,l,o),t.__controllers.push(o),o}function st(t,e){return document.location.href+"."+e}function at(t,e,i){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),i&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function lt(t,e){e.style.display=t.useLocalStorage?"block":"none"}function ht(t){var e=t.__save_row=document.createElement("li");P.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),P.addClass(e,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",P.addClass(i,"button gears");var n=document.createElement("span");n.innerHTML="Save",P.addClass(n,"button"),P.addClass(n,"save");var o=document.createElement("span");o.innerHTML="New",P.addClass(o,"button"),P.addClass(o,"save-as");var r=document.createElement("span");r.innerHTML="Revert",P.addClass(r,"button"),P.addClass(r,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?c.each(t.load.remembered,(function(e,i){at(t,i,i===t.preset)})):at(t,"Default",!1),P.bind(s,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(s),e.appendChild(i),e.appendChild(n),e.appendChild(o),e.appendChild(r),Z){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(st(0,"isLocal"))&&l.setAttribute("checked","checked"),lt(t,a),P.bind(l,"change",(function(){t.useLocalStorage=!t.useLocalStorage,lt(t,a)}))}var h=document.getElementById("dg-new-constructor");P.bind(h,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||q.hide()})),P.bind(i,"click",(function(){h.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),q.show(),h.focus(),h.select()})),P.bind(n,"click",(function(){t.save()})),P.bind(o,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),P.bind(r,"click",(function(){t.revert()}))}function ct(t){var e=void 0;function i(i){return i.preventDefault(),t.width+=e-i.clientX,t.onResize(),e=i.clientX,!1}function n(){P.removeClass(t.__closeButton,tt.CLASS_DRAG),P.unbind(window,"mousemove",i),P.unbind(window,"mouseup",n)}function o(o){return o.preventDefault(),e=o.clientX,P.addClass(t.__closeButton,tt.CLASS_DRAG),P.bind(window,"mousemove",i),P.bind(window,"mouseup",n),!1}t.__resize_handle=document.createElement("div"),c.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),P.bind(t.__resize_handle,"mousedown",o),P.bind(t.__closeButton,"mousedown",o),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function ut(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function pt(t,e){var i={};return c.each(t.__rememberedObjects,(function(n,o){var r={},s=t.__rememberedObjectIndecesToControllers[o];c.each(s,(function(t,i){r[i]=e?t.initialValue:t.getValue()})),i[o]=r})),i}tt.toggleHide=function(){Q=!Q,c.each($,(function(t){t.domElement.style.display=Q?"none":""}))},tt.CLASS_AUTO_PLACE="a",tt.CLASS_AUTO_PLACE_CONTAINER="ac",tt.CLASS_MAIN="main",tt.CLASS_CONTROLLER_ROW="cr",tt.CLASS_TOO_TALL="taller-than-window",tt.CLASS_CLOSED="closed",tt.CLASS_CLOSE_BUTTON="close-button",tt.CLASS_CLOSE_TOP="close-top",tt.CLASS_CLOSE_BOTTOM="close-bottom",tt.CLASS_DRAG="drag",tt.DEFAULT_WIDTH=245,tt.TEXT_CLOSED="Close Controls",tt.TEXT_OPEN="Open Controls",tt._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||tt.toggleHide()},P.bind(window,"keydown",tt._keydownHandler,!1),c.extend(tt.prototype,{add:function(t,e){return rt(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return rt(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;c.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&J.removeChild(this.domElement);var t=this;c.each(this.__folders,(function(e){t.removeFolder(e)})),P.unbind(window,"keydown",tt._keydownHandler,!1),it(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var i=new tt(e);this.__folders[t]=i;var n=et(this,i.domElement);return P.addClass(n,"folder"),i},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],it(t);var e=this;c.each(t.__folders,(function(e){t.removeFolder(e)})),c.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=P.getOffset(t.__ul).top,i=0;c.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(i+=P.getHeight(e))})),window.innerHeight-e-20<i?(P.addClass(t.domElement,tt.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(P.removeClass(t.domElement,tt.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&c.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:c.debounce((function(){this.onResize()}),50),remember:function(){if(c.isUndefined(q)&&((q=new X).domElement.innerHTML=U),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;c.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&ht(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&ut(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=pt(this)),t.folders={},c.each(this.__folders,(function(e,i){t.folders[i]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=pt(this),nt(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=pt(this,!0)),this.load.remembered[t]=pt(this),this.preset=t,at(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){c.each(this.__controllers,(function(e){this.getRoot().load.remembered?ot(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),c.each(this.__folders,(function(t){t.revert(t)})),t||nt(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&Y.call(window,(function(){t(e)}));c.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){c.each(this.__controllers,(function(t){t.updateDisplay()})),c.each(this.__folders,(function(t){t.updateDisplay()}))}});var gt=tt,dt=i(183);class ft{constructor(t){this.map=t,this.initPlot()}initPlot(){this.plot=new dt.a(this.map,{zoomToExtent:!0,limitControlPoints:50}),this.map.on("click",t=>{const e=this.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}));e&&e.get("isPlot")&&!this.plot.plotDraw.isDrawing()?this.plot.plotEdit.activate(e):this.plot.plotEdit.deactivate()}),this.plot.plotDraw.on("drawEnd",t=>{console.log(t);var e=t.feature;this.plot.plotEdit.activate(e)}),this.plot.plotDraw.on("activeTextArea",(function(t){console.log(t)})),this.plot.activate=function(t){this.plotEdit.deactivate(),this.plotDraw.active(t)}}draw(t){this.plot.activate(t)}getFeatures(){var t=this.plot.plotUtils.getFeatures();console.log(t),this.plot.plotUtils.removeAllFeatures(),this.plot.plotEdit.deactivate(),this.plot.plotUtils.addFeatures(t)}getPlog(){return this.plot}remove(){this.plot.plotUtils.removeAllFeatures(),this.plot.plotEdit.deactivate(),this.plot.plotDraw.removeEventHandlers()}createLayuiPlotPanel(){var t=this;layui.define(["jquery","layer"],(function(e){var i=layui.$,n=layui.layer,o=n.load(0,{shade:!1,time:2e3}),r=document.documentElement.clientHeight-60,s=[];["TextArea","Point","Polyline","Curve","Arc","Circle","FreeLine","RectAngle","Ellipse","Lune","Sector","ClosedCurve","Polygon","FreePolygon","GatheringPlace","DoubleArrow","StraightArrow","FineArrow","AttackArrow","AssaultDirection","TailedAttackArrow","SquadCombat","TailedSquadCombat","RectFlag","TriangleFlag","CurveFlag"].forEach((function(t,e,i){var n;s.push('<li data-select-plot="'+(n=t)+'">\n                <a href="javascript:;" data-skin="skin-blue" style="" class="clearfix full-opacity-hover">\n                <div><span style="display:block; width: 20%; float: left; height: 12px; background: #243346;"></span><span style="display:block; width: 80%; float: left; height: 12px; background: #1aa094;"></span></div>\n                <div><span style="display:block; width: 20%; float: left; height: 40px; background: #2f4056;"></span><span style="display:block; width: 80%; float: left; height: 40px; background: #f4f5f7;"><br>'+n+"</span></div>\n                </a>\n                </li>")})),console.log(s);var a='<div class="layuimini-color">\n<div class="color-title">\n<span>标绘面板</span>\n</div>\n<div class="color-content">\n<ul>\n'+s.join("")+'</ul>\n</div>\n<div class="more-menu-list">\n</div></div>';n.open({type:1,title:!1,closeBtn:1,shade:.2,anim:2,shade:!1,shadeClose:!0,id:"layuiminiPlot",area:["340px",r+"px"],offset:"rb",content:a,success:function(t,e){},end:function(){i(".layuimini-select-plot").removeClass("layui-this")}}),n.close(o),i("body").on("click","[data-select-plot]",(function(){var e=i(this).attr("data-select-plot");i(".layuimini-color .color-content ul .layui-this").attr("class",""),i(this).attr("class","layui-this"),t.plot.activate(e)}))}))}createPlotPanel(){this.plot.activate("TextArea");let t=new function(){this.message="TextArea"};(new gt).add(t,"message",["TextArea","Point","Polyline","Curve","Arc","Circle","FreeLine","RectAngle","Ellipse","Lune","Sector","ClosedCurve","Polygon","FreePolygon","GatheringPlace","DoubleArrow","StraightArrow","FineArrow","AttackArrow","AssaultDirection","TailedAttackArrow","SquadCombat","TailedSquadCombat","RectFlag","TriangleFlag","CurveFlag"]).name("标绘类型").onChange(t=>{this.plot.activate(t)})}}
/*!
 * author: sakitam-fdd <smilefdd@gmail.com> 
 * openlayers-wind v1.0.0-alpha.0
 * build-time: 2020-3-2 21:54
 * LICENSE: MIT
 * (c) 2017-2020 https://github.com/sakitam-fdd/wind-layer#readme
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yt=function(t,e){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};
/*!
 * author: sakitam-fdd <smilefdd@gmail.com> 
 * wind-core v1.0.0-alpha.0
 * build-time: 2020-3-2 21:25
 * LICENSE: MIT
 * (c) 2017-2020 https://github.com/sakitam-fdd/wind-layer#readme
 */
var mt=function(){function t(t,e){this.u=t,this.v=e}return t.prototype.magnitude=function(){return Math.sqrt(this.u*this.u+this.v*this.v)},t.prototype.directionTo=function(){var t=Math.atan2(this.u,this.v)*(180/Math.PI);return t<0&&(t+=360),t},t.prototype.directionFrom=function(){return(this.directionTo()+180)%360},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function vt(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0});var _t=Object.prototype.hasOwnProperty,xt="undefined"!=typeof Symbol?Symbol.toStringTag:void 0;function Ct(t){if(!function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(t))return!1;var e=function(t){if(null===t)return void 0===t?"[object Undefined]":"[object Null]";if(!(xt&&xt in Object(t)))return toString.call(t);var e=_t.call(t,xt),i=t[xt],n=!1;try{t[xt]=void 0,n=!0}catch(t){}var o=Object.prototype.toString.call(t);return n&&(e?t[xt]=i:delete t[xt]),o}(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}function It(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)}function At(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return Object.assign.apply(Object,vt([t],e))}function bt(t){console.warn("wind-layer: "+t)}var wt=function(){function t(t){this.grid=[],this.xmin=t.xmin,this.xmax=t.xmax,this.ymin=Math.min(t.ymax,t.ymin),this.ymax=Math.max(t.ymax,t.ymin),this.cols=t.cols,this.rows=t.rows,this.us=t.us,this.vs=t.vs,this.deltaX=t.deltaX,this.deltaY=t.deltaY;var e=Math.ceil((this.xmax-this.xmin)/t.deltaX),i=Math.ceil((this.ymax-this.ymin)/t.deltaY);e===this.cols&&i===this.rows||console.warn("The data grid is not available"),this.isContinuous=Math.floor(this.cols*t.deltaX)>=360,this.wrappedX="wrappedX"in t?t.wrappedX:this.xmax>180,this.grid=this.buildGrid(),this.range=this.calculateRange()}return t.prototype.buildGrid=function(){for(var t=[],e=0,i=this.rows,n=this.cols,o=this.us,r=this.vs,s=0;s<i;s++){for(var a=[],l=0;l<n;l++,e++){var h=o[e],c=r[e],u=this.isValid(h)&&this.isValid(c);a[l]=u?new mt(h,c):null}this.isContinuous&&a.push(a[0]),t[s]=a}return t},t.prototype.release=function(){this.grid=[]},t.prototype.extent=function(){return[this.xmin,this.ymin,this.xmax,this.ymax]},t.prototype.bilinearInterpolateVector=function(t,e,i,n,o,r){var s=1-t,a=1-e,l=s*a,h=t*a,c=s*e,u=t*e,p=i.u*l+n.u*h+o.u*c+r.u*u,g=i.v*l+n.v*h+o.v*c+r.v*u;return new mt(p,g)},t.prototype.calculateRange=function(){if(this.grid&&this.grid[0]){for(var t,e,i=this.grid.length,n=this.grid[0].length,o=0;o<i;o++)for(var r=0;r<n;r++){var s=this.grid[o][r];if(null!==s){var a=s.magnitude();void 0===t?t=a:void 0===e?(e=a,t=Math.min(t,e),e=Math.max(t,e)):(t=Math.min(a,t),e=Math.max(a,e))}}return[t,e]}},t.prototype.isValid=function(t){return null!=t},t.prototype.getWrappedLongitudes=function(){var t=this.xmin,e=this.xmax;return this.wrappedX&&(this.isContinuous?(t=-180,e=180):(e=this.xmax-360,t=this.xmin-360)),[t,e]},t.prototype.contains=function(t,e){var i=this.getWrappedLongitudes(),n=i[0],o=i[1],r=t>=n&&t<=o,s=e>=this.ymin&&e<=this.ymax;return r&&s},t.prototype.getDecimalIndexes=function(t,e){var i,n;return[((i=t-this.xmin)-(n=360)*Math.floor(i/n))/this.deltaX,(this.ymax-e)/this.deltaY]},t.prototype.valueAt=function(t,e){if(!this.contains(t,e))return null;var i=this.getDecimalIndexes(t,e),n=Math.floor(i[0]),o=Math.floor(i[1]),r=this.clampColumnIndex(n),s=this.clampRowIndex(o);return this.valueAtIndexes(r,s)},t.prototype.interpolatedValueAt=function(t,e){if(!this.contains(t,e))return null;var i=this.getDecimalIndexes(t,e),n=i[0],o=i[1];return this.interpolatePoint(n,o)},t.prototype.hasValueAt=function(t,e){return null!==this.valueAt(t,e)&&!0},t.prototype.interpolatePoint=function(t,e){var i=this.getFourSurroundingIndexes(t,e),n=i[0],o=i[1],r=i[2],s=i[3],a=this.getFourSurroundingValues(n,o,r,s);if(a){var l=a[0],h=a[1],c=a[2],u=a[3];return this.bilinearInterpolateVector(t-n,e-r,l,h,c,u)}return null},t.prototype.clampColumnIndex=function(t){var e=t;t<0&&(e=0);var i=this.cols-1;return t>i&&(e=i),e},t.prototype.clampRowIndex=function(t){var e=t;t<0&&(e=0);var i=this.rows-1;return t>i&&(e=i),e},t.prototype.getFourSurroundingIndexes=function(t,e){var i=Math.floor(t),n=i+1;this.isContinuous&&n>=this.cols&&(n=0),n=this.clampColumnIndex(n);var o=this.clampRowIndex(Math.floor(e));return[i,n,o,this.clampRowIndex(o+1)]},t.prototype.getFourSurroundingValues=function(t,e,i,n){var o;if(o=this.grid[i]){var r=o[t],s=o[e];if(this.isValid(r)&&this.isValid(s)&&(o=this.grid[n])){var a=o[t],l=o[e];if(this.isValid(a)&&this.isValid(l))return[r,s,a,l]}}return null},t.prototype.valueAtIndexes=function(t,e){return this.grid[e][t]},t.prototype.lonLatAtIndexes=function(t,e){return[this.longitudeAtX(t),this.latitudeAtY(e)]},t.prototype.longitudeAtX=function(t){var e=this.deltaX/2,i=this.xmin+e+t*this.deltaX;return this.wrappedX&&(i=i>180?i-360:i),i},t.prototype.latitudeAtY=function(t){var e=this.deltaY/2;return this.ymax-e-t*this.deltaY},t.prototype.randomize=function(t){void 0===t&&(t={});var e=Math.random()*this.cols|0,i=Math.random()*this.rows|0;return t.x=this.longitudeAtX(e),t.y=this.latitudeAtY(i),t},t}(),St={globalAlpha:.9,lineWidth:1,colorScale:"#fff",velocityScale:.04,maxAge:90,paths:800,frameRate:20,minVelocity:0,maxVelocity:10,generateParticleOption:!0};var Mt=function(){function t(t,e,i){if(this.generated=!1,this.ctx=t,!this.ctx)throw new Error("ctx error");this.setOptions(e),this.animate=this.animate.bind(this),i&&this.updateData(i)}return t.prototype.setOptions=function(t){this.options=Object.assign({},St,t);var e=this.ctx.canvas,i=e.width,n=e.height;"particleAge"in t&&!("maxAge"in t)&&It(this.options.particleAge)&&(this.options.maxAge=this.options.particleAge),"particleMultiplier"in t&&!("paths"in t)&&It(this.options.particleMultiplier)&&(this.options.paths=Math.round(i*n*this.options.particleMultiplier))},t.prototype.getOptions=function(){return this.options},t.prototype.updateData=function(t){this.field=t},t.prototype.moveParticles=function(){for(var t=this.particles,e=this.options.maxAge,i=Ct(this.options.velocityScale)?this.options.velocityScale():this.options.velocityScale,n=0,o=t.length;n<o;n++){var r=t[n];r.age>e&&(this.field.randomize(r),r.age=0);var s=r.x,a=r.y,l=this.field.interpolatedValueAt(s,a);if(null===l)r.age=e;else{var h=s+l.u*i,c=a+l.v*i;this.field.hasValueAt(h,c)?(r.xt=h,r.yt=c,r.m=l.magnitude()):r.age=e}r.age+=1}},t.prototype.drawParticles=function(){var t,e=this.particles,i=this.ctx.globalCompositeOperation;this.ctx.globalCompositeOperation="destination-in",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.globalCompositeOperation=i,this.ctx.fillStyle="rgba(0, 0, 0, "+this.options.globalAlpha+")",this.ctx.lineWidth=It(this.options.lineWidth)?this.options.lineWidth:1,this.ctx.strokeStyle=null!=(t=this.options.colorScale)&&("string"==typeof t||null!==t.constructor&&t.constructor===String)?this.options.colorScale:"#fff";var n=0,o=e.length;if(this.field&&o>0)for(var r=this.field.range,s=r[0],a=r[1];n<o;n++)this.drawParticle(e[n],s,a)},t.prototype.drawParticle=function(t,e,i){var n=[t.x,t.y],o=[t.xt||n[0],t.yt||n[1]];if(this.intersectsCoordinate(o)&&t.age<=this.options.maxAge){var r=this.project(n),s=this.project(o);if(r&&s){if(this.ctx.beginPath(),this.ctx.moveTo(r[0],r[1]),this.ctx.lineTo(s[0],s[1]),t.x=t.xt,t.y=t.yt,Ct(this.options.colorScale))this.ctx.strokeStyle=this.options.colorScale(t.m);else if(Array.isArray(this.options.colorScale)){var a=function(t,e,i,n){return Math.max(0,Math.min(n.length-1,Math.round((t-e)/(i-e)*(n.length-1))))}(t.m,e,i,this.options.colorScale);this.ctx.strokeStyle=this.options.colorScale[a]}Ct(this.options.lineWidth)&&(this.ctx.lineWidth=this.options.lineWidth(t.m)),this.ctx.stroke()}}},t.prototype.prepareParticlePaths=function(){var t="function"==typeof this.options.paths?this.options.paths(this):this.options.paths,e=[];if(!this.field)return[];for(var i=0;i<t;i++){var n=this.field.randomize();n.age=this.randomize(),e.push(n)}return e},t.prototype.randomize=function(){return Math.floor(Math.random()*this.options.maxAge)},t.prototype.project=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];throw new Error("must be overriden")},t.prototype.intersectsCoordinate=function(t){throw new Error("must be overriden")},t.prototype.start=function(){this.starting=!0,this.forceStop=!1,this._then=Date.now(),this.animate()},t.prototype.stop=function(){cancelAnimationFrame(this.animationLoop),this.starting=!1,this.forceStop=!0},t.prototype.animate=function(){this.animationLoop&&cancelAnimationFrame(this.animationLoop),this.animationLoop=requestAnimationFrame(this.animate);var t=Date.now(),e=t-this._then;e>this.options.frameRate&&(this._then=t-e%this.options.frameRate,this.render())},t.prototype.prerender=function(){var t=Ct(this.options.generateParticleOption)?this.options.generateParticleOption():this.options.generateParticleOption;t||this.generated?t&&(this.particles=this.prepareParticlePaths(),this.generated=!0):(this.particles=this.prepareParticlePaths(),this.generated=!0),this.starting||this.forceStop||(this.starting=!0,this._then=Date.now(),this.animate())},t.prototype.render=function(){this.moveParticles(),this.drawParticles(),this.postrender()},t.prototype.postrender=function(){},t.Field=wt,t}(),Et={windOptions:{}},Tt=function(t){function e(e,i){void 0===i&&(i={});var n=this,o=At({},Et,i);(n=t.call(this,i)||this).options=o,n.wind=null,n.type="IMAGE",n.start=n.start.bind(n),n.stop=n.stop.bind(n),n.pickWindOptions();var r={logo:i.logo,state:i.state,attributions:i.attributions,resolutions:i.resolutions,canvasFunction:n.canvasFunction.bind(n),ratio:i.hasOwnProperty("ratio")?i.ratio:1},s=new ol.source.ImageCanvas(r);return s.getAttributions2||(s.getAttributions2=function(){return s.getAttributions()}),n.setSource(s),e&&n.setData(e),n}return function(t,e){function i(){this.constructor=t}yt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.appendTo=function(t){if(!t)throw new Error("not map object");this.setMap(t)},e.prototype.start=function(){this.wind&&this.wind.start()},e.prototype.stop=function(){this.wind&&this.wind.stop()},e.prototype.canvasFunction=function(t,e,i,n,o){return this.pixelRatio=i,this.canvas?(this.canvas.width=n[0],this.canvas.height=n[1]):this.canvas=function(t,e,i,n){if("undefined"!=typeof document){var o=document.createElement("canvas");return o.width=t*i,o.height=e*i,o}return new n(t*i,e*i)}(n[0],n[1],1,null),this.canvas&&this.render(this.canvas),this.canvas},e.prototype.getContext=function(){if(null!==this.canvas)return this.canvas.getContext("2d")},e.prototype.render=function(t){var e=this,i=this.getMap();if(!this.getData()||!i)return this;var n=this.getWindOptions();if(t&&!this.wind){var o=this.getData(),r=this.getContext();r&&(this.wind=new Mt(r,n,o),this.wind.project=this.project.bind(this),this.wind.intersectsCoordinate=function(){return!0},this.wind.postrender=function(){e.changed()},this.wind.prerender())}if(this.wind){if("generateParticleOption"in n)("function"==typeof n.generateParticleOption?n.generateParticleOption():n.generateParticleOption)&&this.wind.prerender();this.wind.render()}return this},e.prototype.project=function(t){var e=this.getMap().getPixelFromCoordinate(ol.proj.transform(t,"EPSG:4326",this.viewProjection));return[e[0]*this.pixelRatio,e[1]*this.pixelRatio]},e.prototype.intersectsCoordinate=function(t){var e=this.getMap();if(!e)return!1;var i=e.getView(),n=e.getSize();if(i&&n){var o=i.calculateExtent([n[0]*this.pixelRatio,n[1]*this.pixelRatio]);return ol.extent.containsCoordinate(o,ol.proj.transform(t,"EPSG:4326",this.viewProjection))}return!1},e.prototype.pickWindOptions=function(){var t=this;Object.keys(St).forEach((function(e){e in t.options&&(void 0===t.options.windOptions&&(t.options.windOptions={}),t.options.windOptions[e]=t.options[e])}))},e.prototype.getData=function(){return this.field},e.prototype.setData=function(t){var e;return t&&t instanceof wt?this.field=t:(e=t,Array.isArray(e)?this.field=function(t){var e,i;if(t.forEach((function(t){switch(t.header.parameterCategory+","+t.header.parameterNumber){case"1,2":case"2,2":e=t;break;case"1,3":case"2,3":i=t}})),i&&e){var n=e.header;return new wt({xmin:n.lo1,ymin:n.la2,xmax:360,ymax:n.la1,deltaX:1,deltaY:1,cols:360,rows:181,us:e.data,vs:i.data,wrappedX:!1})}}(t):console.error("Illegal data")),this.getMap()&&this.canvas&&this.field&&this.render(this.canvas),this},e.prototype.updateParams=function(t){return void 0===t&&(t={}),bt("will move to setWindOptions"),this.setWindOptions(t),this},e.prototype.getParams=function(){return bt("will move to getWindOptions"),this.getWindOptions()},e.prototype.setWindOptions=function(t){var e=this.options.windOptions||{};this.options=At(this.options,{windOptions:At(e,t||{})}),this.wind&&this.wind.setOptions(this.options.windOptions)},e.prototype.getWindOptions=function(){return this.options.windOptions||{}},e.prototype.getProjection=function(){var t=this.getMap();return t?t.getView()&&t.getView().getProjection():"EPSG:3857"},e.prototype.setMap=function(e){return this.set("originMap",e),this.viewProjection=this.getProjection(),t.prototype.setMap.call(this,e)},e.prototype.getMap=function(){return this.get("originMap")},e.prototype.getType=function(){return this.type},e}(ol.layer.Image),Pt=Tt;class Lt{constructor(t){this.map=t}createWinds(t="/layuimini/wind.json"){fetch(t).then(t=>t.json()).then(t=>{new Pt(t,{forceRender:!1,windOptions:{velocityScale:.05,paths:5e3,colorScale:["rgb(36,104, 180)","rgb(60,157, 194)","rgb(128,205,193 )","rgb(151,218,168 )","rgb(198,231,181)","rgb(238,247,217)","rgb(255,238,159)","rgb(252,217,125)","rgb(255,182,100)","rgb(252,150,75)","rgb(250,112,52)","rgb(245,64,32)","rgb(237,45,28)","rgb(220,24,32)","rgb(180,0,35)"],width:3,generateParticleOption:!1},map:this.map})})}}class Nt{constructor(t){this.map=t}initMouseBase(){var t=new ol.interaction.Pointer({handleDownEvent:function(t){var e=t.map.forEachFeatureAtPixel(t.pixel,(function(t){return t}));e&&(this.coordinate_=t.coordinate,this.feature_=e);return!!e},handleDragEvent:function(t){var e=t.coordinate[0]-this.coordinate_[0],i=t.coordinate[1]-this.coordinate_[1];this.feature_.getGeometry().translate(e,i),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1]},handleMoveEvent:function(t){if(this.cursor_){var e=t.map.forEachFeatureAtPixel(t.pixel,(function(t){return t})),i=t.map.getTargetElement();e?i.style.cursor!=this.cursor_&&(this.previousCursor_=i.style.cursor,i.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},handleUpEvent:function(t){return this.coordinate_=null,this.feature_=null,!1}});this.map.addInteraction(t)}build(){}dispatchEvent(){}}class Dt{constructor(t){this.map=t,this.layerHelper=ol.layer}initLayerGroup(){}getLayerHelper(){return this.layerHelper}createFeature(){return new ol.Feature}createLayuiLayerPanel(){layui.define(["jquery","form","step","layer"],(function(t){var e=layui.$,i=layui.layer,n=layui.form,o=layui.step,r=i.load(0,{shade:!1,time:2e3});i.open({type:1,title:"添加图层",closeBtn:1,shade:.2,anim:2,shade:!1,shadeClose:!0,id:"layuiminilayer",area:["800px","550px"],offset:"auto",content:'\n            <div class="layui-carousel" id="stepForm" lay-filter="stepForm" style="margin: 0 auto;padding-left:0px;padding-top:30px;">\n                        <div carousel-item>\n                            <div>\n                                <form class="layui-form" style="margin: 0 auto;max-width: 460px;padding-top: 40px;">\n                                    <div class="layui-form-item">\n                                        <label class="layui-form-label">图层名称:</label>\n                                        <div class="layui-input-block">\n                                            <input type="text" placeholder="请填写图层名称" class="layui-input" lay-verify="string" required/>\n\n                                        </div>\n                                    </div>\n                                 \n                                    <div class="layui-form-item">\n                                        <label class="layui-form-label">叠加地图:</label>\n                                        <div class="layui-input-block">\n                                            <select lay-verify="required">\n                                                <option value="1" selected>是</option>\n                                                <option value="2">否</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="layui-form-item">\n                                        <label class="layui-form-label">图层显示:</label>\n                                        <div class="layui-input-block">\n                                            <select lay-verify="required">\n                                                <option value="1" selected>是</option>\n                                                <option value="2">否</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="layui-form-item">\n                                        <label class="layui-form-label">透明度:</label>\n                                        <div class="layui-input-block">\n                                            <input type="number" placeholder="请填写透明度" value="" class="layui-input" lay-verify="number" required>\n                                        </div>\n                                    </div>\n                                    <div class="layui-form-item">\n                                    <label class="layui-form-label">图层样式:</label>\n                                    <div class="layui-input-block">\n                                        <textarea placeholder="默认或自定义函数" value="" class="layui-textarea"></textarea>\n                                    </div>\n                                </div>\n                                    <div class="layui-form-item">\n                                        <div class="layui-input-block">\n                                            <button class="layui-btn" lay-submit lay-filter="formStep">\n                                                &emsp;下一步&emsp;\n                                            </button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                            <div>\n                                <form class="layui-form" style="margin: 0 auto;max-width: 460px;padding-top: 40px;">\n                                    <div class="layui-form-item">\n                                    <label class="layui-form-label">数据格式:</label>\n                                    <div class="layui-input-block">\n                                        <select lay-verify="required">\n                                            <option value="1" selected>GeoJSON</option>\n                                            <option value="2">TopoJSON</option>\n                                            <option value="2">WKT</option>\n                                            <option value="2">KML</option>\n                                            <option value="2">WFS</option>\n                                        </select>\n                                    </div>\n                                    </div>\n                                    <div class="layui-form-item">\n                                        <label class="layui-form-label">数据链接:</label>\n                                        <div class="layui-input-block">\n                                            <input type="text" placeholder="请填写图层链接" class="layui-input" lay-verify="string" required/>\n\n                                        </div>\n                                    </div>\n                                    <div class="layui-form-item">\n                                        <div class="layui-input-block">\n                                            <button type="button" class="layui-btn layui-btn-primary pre">上一步</button>\n                                            <button class="layui-btn" lay-submit lay-filter="formStep2">\n                                                &emsp;添加图层&emsp;\n                                            </button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                            <div>\n                                <div style="text-align: center;margin-top: 90px;">\n                                    <i class="layui-icon layui-circle"\n                                       style="color: white;font-size:30px;font-weight:bold;background: #52C41A;padding: 20px;line-height: 80px;">&#xe605;</i>\n                                    <div style="font-size: 24px;color: #333;font-weight: 500;margin-top: 30px;">\n                                        添加成功\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>',success:function(t,s){n.render(),o.render({elem:"#stepForm",filter:"stepForm",width:"100%",stepWidth:"550px",height:"490px",stepItems:[{title:"图层参数"},{title:"数据源"},{title:"完成"}]}),n.on("submit(formStep)",(function(t){return o.next("#stepForm"),!1})),n.on("submit(formStep2)",(function(t){return o.next("#stepForm"),!1})),e(".pre").click((function(){o.pre("#stepForm")})),e(".next").click((function(){o.next("#stepForm")})),i.close(r)},end:function(){}})}))}addVectorTileLayer(t="vectorTile",e={}){var i=this.map.createVectorTileLayer(t,{create:!0,addLayer:!0,layerUrl:e.layerUrl,projection:new ol.proj.Projection({code:"EPSG:4326",units:"degrees"}),format:"GeoJSON",tileGrid:{extent:[-180,-90,180,90],gridType:"XYZ",maxZoom:22},style:function(t,e){return new ol.style.Style({stroke:new ol.style.Stroke({color:"#18BF00",width:3})})},tileUrlFunction:function(t){return e.layerUrl+"@EPSG%3A4326@pdf/"+(t[0]-1)+"/"+t[1]+"/"+(Math.pow(2,t[0]-1)+t[2])+".geojson"}});this.map.addLayer(i)}addArcGISLayer(t="ArcGIS",e={}){var i=Map.createXYZLayer("ArcGIS",{create:!0,layerName:t,layerType:"TileXYZ",tileGrid:{extent:[],origin:[],resolutions:[]},layerUrl:"http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"});this.map.addLayer(i)}addWMSLayer(t="WMS",e={}){var i=Map.createTileWMSLayer("WMS",{layerName:t,layerUrl:e.layerUrl,layers:e.layers,style:e.style,projection:"EPSG:4326",tiled:!0,tiledsorrigin:"109.716316223145,39.0473251342773",create:!0,viewparams:e.viewparams});this.map.addLayer(i)}addWmtsLayer(t,e){var i=this.map.createWMTSLayer("WMTS",{layerName:"tianditu",isDefault:!0,layerType:"TileWMTS",projection:"EPSG:4326",levels:19,layer:"vec",format:"tiles",matrixSet:"c",layerUrl:"http://t{0-6}.tianditu.com/vec_c/wmts",create:!0});this.map.addLayer(i)}addXYZLayer(t="XYZ",e){var i=Map.createXYZLayer(t,{create:!0,layerName:t,layerUrl:"https://s5.geohey.com/s/mapping/midnight/all?x={x}&y={y}&z={z}&retina=&ak=MGUxMmI2ZTk4YTVhNDEzYmJhZDJkNDM3ZWI5ZDAwOGE"});this.map.addLayer(i)}addPolygon(t={attributes:{ID:"1",NAME:"景德镇市",CODE:"360200","类型":"3"},geometry:"POLYGON ((117.200891576 29.929979456000012, 117.19826142099998 29.929259012999978, 117.19563943900005 29.928542569, 117.19037916299999 29.927101639, 117.18356479299996 29.924271796000028, 117.178565424 29.923755184000015......))",geometryType:"Polygon"},e={}){this.map.addPolygon(t,{layerName:"polygon",zoomToExtent:!0,style:{stroke:{strokeColor:"#1b9de8",strokeWidth:3},fill:{fillColor:"rgba(27, 157, 232, 0.2)"}},selectStyle:{stroke:{strokeColor:"#D81E06",strokeWidth:3},fill:{fillColor:"rgba(27, 157, 232, 0.2)"}}})}addPolygon(t={attributes:{OBJECTID:"45",ID:"{393C392E-17FE-46EF-B39B-91433EB01AB6}",XZQHMC:"于都县"},geometry:"POINT (115.54225923 26.06633778)",geometryType:"Point"},e={}){t=map.addPoint(t,{layerName:"point",zoomToExtent:!0,selectable:!0,style:{image:{type:"icon",image:{imageSrc:"/node_modules/hmap-js/src/assets/images/point2.png",imageAnchor:[.5,1]}}},selectStyle:{image:{type:"icon",image:{imageSrc:"/node_modules/hmap-js/src/assets/images/point2o.png",imageAnchor:[.5,1]}}}})}addPolyline(t={attributes:{OBJECTID:"1051",ID:"{344F08BA-61CA-49B8-B949-01FFCAE5153F}",ROADCODE:"G105360824",ROADNAME:"北京-澳门"},geometry:"LINESTRING (115.38471083 27.73665917, 115.38470833 27.73665333, 115.38465667 27.73653333, 115.38462667 27.736465, 115.38461778 27.73644176)",geometryType:"MLineString"},e={}){map.addPolyline(t,{layerName:"line",zoomToExtent:!0,style:{stroke:{strokeColor:"#1b9de8",strokeWidth:3}},selectStyle:{stroke:{strokeColor:"#D81E06",strokeWidth:3}}})}}class Rt{constructor(t){}}var Ot=i(184),Ft=i.n(Ot);class kt{constructor(){}BufferAnalyze(t="",e=40){var i=new ol.source.Vector;return fetch(t).then((function(t){return t.json()})).then((function(t){var n=(new ol.format.GeoJSON).readFeatures(t,{featureProjection:"EPSG:3857"}),o=new Ft.a.io.OL3Parser;o.inject(Point,LineString,LinearRing,Polygon,MultiPoint,MultiLineString,MultiPolygon);for(var r=0;r<n.length;r++){var s=n[r],a=o.read(s.getGeometry()).buffer(e);s.setGeometry(o.write(a))}i.addFeatures(n)})),i}}class Gt{constructor(t){this.map=t,this.initMeasure()}initMeasure(){this.measureTool=new ol.interaction.MeasureTool,this.map.addInteraction(this.measureTool)}getMeasureTool(){return this.measureTool}createLayuiMeasurePanel(){var t=this;layui.define(["jquery","layer"],(function(e){var i=layui.$,n=layui.layer,o=n.load(0,{shade:!1,time:2e3}),r=document.documentElement.clientHeight-60;n.open({type:1,title:!1,closeBtn:1,shade:.2,anim:2,shade:!1,shadeClose:!0,id:"layuiminiMeasure",area:["340px",r+"px"],offset:"rb",content:'<div class="layuimini-color">\n<div class="color-title">\n<span>量测面板</span>\n</div>\n<div class="color-content">\n<ul>\n<li class="" data-select-measure="measureLength">\n                <a href="javascript:;" data-skin="skin-blue" style="" class="clearfix full-opacity-hover">\n                <div><span style="display:block; width: 20%; float: left; height: 12px; background: #243346;"></span><span style="display:block; width: 80%; float: left; height: 12px; background: #1aa094;"></span></div>\n                <div><span style="display:block; width: 20%; float: left; height: 40px; background: #2f4056;"></span><span style="display:block; width: 80%; float: left; height: 40px; background: #f4f5f7;"><br>测距</span></div>\n                </a>\n                </li><li  data-select-measure="measureArea">\n                <a href="javascript:;" data-skin="skin-blue" style="" class="clearfix full-opacity-hover">\n                <div><span style="display:block; width: 20%; float: left; height: 12px; background: #0c0c0c;"></span><span style="display:block; width: 80%; float: left; height: 12px; background: #23262e;"></span></div>\n                <div><span style="display:block; width: 20%; float: left; height: 40px; background: #23262e;"></span><span style="display:block; width: 80%; float: left; height: 40px; background: #f4f5f7;"><br>测面</span></div>\n                </a>\n                </li><li  data-select-measure="measureCircle">\n                <a href="javascript:;" data-skin="skin-blue" style="" class="clearfix full-opacity-hover">\n                <div><span style="display:block; width: 20%; float: left; height: 12px; background: #e694bd;"></span><span style="display:block; width: 80%; float: left; height: 12px; background: #ffa4d1;"></span></div>\n                <div><span style="display:block; width: 20%; float: left; height: 40px; background: #1f1f1f;"></span><span style="display:block; width: 80%; float: left; height: 40px; background: #f4f5f7;"><br>测圆面</span></div>\n                </a></ul>\n</div>\n<div class="more-menu-list">\n</div></div>',success:function(t,e){},end:function(){i(".layuimini-select-measure").removeClass("layui-this")}}),n.close(o),i("body").on("click","[data-select-measure]",(function(){var e=i(this).attr("data-select-measure");i(".layuimini-color .color-content ul .layui-this").attr("class",""),i(this).attr("class","layui-this"),t.measureTool.setTool(!0,e,!0)}))}))}createMeasurePanel(){this.measureTool.setTool(!0,"measureLength",!0);let t=new function(){this.message="measureLength"};(new gt).add(t,"message",["measureLength","measureArea","measureCircle"]).name("量测类型").onChange(t=>{this.measureTool.setTool(!0,t,!0)})}remove(){this.map.removeInteraction(this.measureTool)}}class Bt{constructor(t){this.map=t,this.menus=o.getMenuConfig()}initMenu(){this.contextMenu=new ol.control.ContextMenu(this.menus),this.map.addControl(this.contextMenu)}addMenu(t){this.menus.items.push(t),this.removeMenu(),this.initMenu()}removeMenu(){this.map.removeControl(this.contextMenu)}customMenu(t){this.menus=t,this.initMenu()}}class zt{constructor(t){}}class Vt{constructor(t){}}class jt{constructor(t){}}class Ht{constructor(t){this.map=t}Select(){var t=new ol.interaction.Select;this.map.addInteraction(t)}Translate(){var t=new ol.interaction.Select,e=new ol.interaction.Translate({features:t.getFeatures()});this.map.addInteraction(t),this.map.addInteraction(e)}createLayuiControlsPanel(){layui.define(["jquery","form","layer"],(function(t){layui.$;var e=layui.layer,i=layui.form,n=e.load(0,{shade:!1,time:2e3}),o=document.documentElement.clientHeight-60,r=[];["地图指针","视图缩放","比例尺","放大镜","底图切换","鼠标信息","双击放大","拖拽缩放","鹰眼图"].forEach((function(t,e,i){r.push('<div class="layui-form-item">\n                    <label class="layui-form-label">'+t+'</label>\n                    <div class="layui-input-block">\n                        <input type="checkbox" checked="" name="open" lay-skin="switch" lay-filter="switchTest" lay-text="ON|OFF"><div class="layui-unselect layui-form-switch layui-form-onswitch" lay-skin="_switch"><em>ON</em><i></i></div>\n                    </div>\n                </div>')}));var s='<div class="layuimini-color">\n<div class="color-title">\n<span>控件管理面板</span>\n</div>\n<div class="color-content">\n<form class="layui-form" action="">'+r.join("")+'</form>\n</div>\n<div class="more-menu-list">\n</div></div>';e.open({type:1,title:!1,closeBtn:1,shade:.2,anim:2,shade:!1,shadeClose:!0,id:"layuiminiControls",area:["200px",o+"px"],offset:"rb",content:s,success:function(t,o){i.render(),i.on("switch(switchTest)",(function(t){console.log(t),console.log(this.checked)})),e.close(n)},end:function(){}})}))}DoubleClickZoom(){var t=new ol.interaction.DoubleClickZoom;this.map.addInteraction(t)}DragRotateAndZoom(){var t=new ol.interaction.DragRotateAndZoom({});this.map.addInteraction(t)}DragPan(){var t=new ol.interaction.DragPan({});this.map.addInteraction(t)}DragRotate(){var t=new ol.interaction.DragRotate({});this.map.addInteraction(t)}DragZoom(){var t=new ol.interaction.DragZoom({});this.map.addInteraction(t)}DragBox(){var t=new ol.interaction.DragBox({condition:ol.events.condition.platformModifierKeyOnly});this.map.addInteraction(t)}DragAndDrop(){var t=new ol.interaction.DragAndDrop({formatConstructors:[ol.format.GPX,ol.format.GeoJSON,ol.format.IGC,ol.format.KML,ol.format.TopoJSON]});t.on("addfeatures",(function(t){var e=new ol.source.Vector({features:t.features,projection:t.projection}),i=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,0,0,0.2)"})});this.map.addLayer(new ol.layer.Vector({source:e,style:i})),this.map.getView().fit(e.getExtent(),this.map.getSize())})),this.map.addInteraction(t)}addExtent(){var t=new ol.interaction.Extent({});this.map.addInteraction(t)}addCircle(){var t=new ol.interaction.FreeHandCircle;this.map.addInteraction(t),t.initDrawInteraction()}KeyboardPan(){var t=new ol.interaction.KeyboardPan({});this.map.addInteraction(t)}KeyboardZoom(){var t=new ol.interaction.KeyboardZoom({});this.map.addInteraction(t)}Modify(t){var e=new ol.interaction.Modify({source:t.getSource()});this.map.addInteraction(e)}MouseWheelZoom(){var t=new ol.interaction.MouseWheelZoom({});this.map.addInteraction(t)}PinchRotate(){var t=new ol.interaction.PinchRotate({});this.map.addInteraction(t)}PinchZoom(){var t=new ol.interaction.PinchZoom({});this.map.addInteraction(t)}}var Ut=i(29),Wt=i.n(Ut),Yt=function(t,e){return(Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var Xt=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},Zt=function(t,e){return Object.keys(e).forEach((function(i){Xt(e[i])&&Xt(t[i])?Zt(t[i],e[i]):t[i]=e[i]})),t},qt=function(t,e){for(var i=arguments,n=[],o=2;o<arguments.length;o++)n[o-2]=i[o];return function(){for(var i=arguments,o=[],r=0;r<arguments.length;r++)o[r]=i[r];return t.apply(e,n.concat(Array.prototype.slice.call(o)))}},Kt=function(t,e){for(var i,n=0,o=t.length;n<o;n++)if(t[n].seriesIndex===e.seriesIndex){i=n;break}return void 0===i?t.push(e):t[i]=e,t},Jt=function(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()};function Qt(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function $t(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function te(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,button:e.pointerEvent.button,buttons:e.pointerEvent.buttons,clientX:e.pointerEvent.clientX,clientY:e.pointerEvent.clientY,zrX:e.pointerEvent.offsetX,zrY:e.pointerEvent.offsetY,movementX:e.pointerEvent.movementX,movementY:e.pointerEvent.movementY,relatedTarget:e.pointerEvent.relatedTarget,screenX:e.pointerEvent.screenX,screenY:e.pointerEvent.screenY,view:window});return i.zrX=e.pointerEvent.offsetX,i.zrY=e.pointerEvent.offsetY,i.event=i,i}var ee=function(t,e,i){for(var n=[],o=[e[0],e[1]],r=o[0],s=o[1],a=0;a<t.length;a+=2){var l=t.charCodeAt(a)-64,h=t.charCodeAt(a+1)-64;l=l>>1^-(1&l),h=h>>1^-(1&h),r=l+=r,s=h+=s,n.push([l/i,h/i])}return n};function ie(t){var e=function(t){if(function(t){return!t.UTF8Encoding}(t))return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n].geometry,r=[o.coordinates,o.encodeOffsets],s=r[0],a=r[1],l=0;l<s.length;l++){var h=s[l];if("Polygon"===o.type)s[l]=ee(h,a[l],e);else if("MultiPolygon"===o.type)for(var c=0;c<h.length;c++){var u=h[c];h[c]=ee(u,a[l][c],e)}}return t.UTF8Encoding=!1,t}(t);return{type:"FeatureCollection",crs:{},features:Wt.a.util.map(Wt.a.util.filter(e.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var e=t.properties,i=t.geometry,n=i.coordinates,o=[];return"Polygon"===i.type&&o.push(n[0]),"MultiPolygon"===i.type&&Wt.a.util.each(n,(function(t){t[0]&&o.push(t[0])})),{properties:e,type:"Feature",geometry:{type:"Polygon",coordinates:o}}}))}}var ne=Object.freeze({pie:function(t,e,i){return e.center=i.dataToPoint(e.coordinates),e},bar:function(t,e,i){return Xt(t.grid)&&!Array.isArray(t.grid)?console.log(t):Array.isArray(t.grid)&&(t.grid=t.grid.map((function(e,n){var o=i.dataToPoint(t.series[n].coordinates);return e.left=o[0]-parseFloat(e.width)/2,e.top=o[1]-parseFloat(e.height)/2,e}))),e},line:function(t,e,i){return Xt(t.grid)&&!Array.isArray(t.grid)?console.log(t):Array.isArray(t.grid)&&(t.grid=t.grid.map((function(e,n){var o=i.dataToPoint(t.series[n].coordinates);return e.left=o[0]-parseFloat(e.width)/2,e.top=o[1]-parseFloat(e.height)/2,e}))),e}}),oe=ol.Map,re=ol.Object,se=ol.proj.transform;oe.prototype.getOverlayContainer||(oe.prototype.getOverlayContainer=function(t){t=t||"ol-overlaycontainer";var e=this.getViewport();if(e){var i=e.getElementsByClassName(t);return i&&i.length>0?i[0]:null}return null}),oe.prototype.getOverlayContainerStopEvent||(oe.prototype.getOverlayContainerStopEvent=function(t){t=t||"ol-overlaycontainer-stopevent";var e=this.getViewport();if(e){var i=e.getElementsByClassName(t);return i&&i.length>0?i[0]:null}return null});var ae={forcedRerender:!1,forcedPrecomposeRerender:!1,hideOnZooming:!1,hideOnMoving:!1,hideOnRotating:!1,convertTypes:["pie","line","bar"],insertFirst:!1,stopEvent:!1,polyfillEvents:!1},le=function(t){function e(e,i,n){var o=this,r=Object.assign(ae,i);return(o=t.call(this,r)||this)._options=r,o._chartOptions=e,o.$chart=null,o.$container=void 0,o._isRegistered=!1,o._initEvent=!1,o._incremental=[],o._coordinateSystem=null,o.coordinateSystemId="",Qt(["redraw","onResize","onZoomEnd","onCenterChange","onDragRotateEnd","onMoveStart","onMoveEnd","mouseDown","mouseUp","onClick","mouseMove"],o),n&&o.setMap(n),o}return function(t,e){function i(){this.constructor=t}Yt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.appendTo=function(t){this.setMap(t)},e.prototype.getMap=function(){return this._map},e.prototype.setMap=function(t){var e=this;if(!(t&&t instanceof oe))throw new Error("not ol map object");this._map=t,this._map.once("postrender",(function(){e.handleMapChanged()})),this._map.renderSync()},e.prototype.getChartOptions=function(){return this._chartOptions},e.prototype.setChartOptions=function(t){return void 0===t&&(t={}),this._chartOptions=t,this.clearAndRedraw(),this},e.prototype.appendData=function(t,e){return void 0===e&&(e=!0),t&&(e&&(this._incremental=Kt(this._incremental,{data:t.data,seriesIndex:t.seriesIndex})),this.$chart.appendData({data:t.data.copyWithin(),seriesIndex:t.seriesIndex})),this},e.prototype.clear=function(){this._incremental=[],this.$chart&&this.$chart.clear()},e.prototype.remove=function(){this.clear(),this.$chart&&this.$chart.dispose(),this._initEvent&&this.$container&&(this.$container&&$t(this.$container),this.unBindEvent()),delete this.$chart,delete this._map},e.prototype.show=function(){this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.isVisible=function(){return this.$container&&"none"!==this.$container.style.display},e.prototype.showLoading=function(){this.$chart&&this.$chart.showLoading()},e.prototype.hideLoading=function(){this.$chart&&this.$chart.hideLoading()},e.prototype.setZIndex=function(t){this.$container&&("number"==typeof t&&(t=String(t)),this.$container.style.zIndex=t)},e.prototype.getZIndex=function(){return this.$container&&this.$container.style.zIndex},e.prototype.setVisible=function(t){if(t){this.$container&&(this.$container.style.display=""),(e=this.get("options"))&&(this.setChartOptions(e),this.unset("options"))}else{this.$container&&(this.$container.style.display="none");var e=this.getChartOptions();this.set("options",e),this.clear(),this.setChartOptions({})}},e.prototype.render=function(){!this.$chart&&this.$container?(this.$chart=Wt.a.init(this.$container),this._chartOptions&&(this.registerMap(),this.$chart.setOption(this.convertData(this._chartOptions),!1)),this.dispatchEvent({type:"load",source:this,value:this.$chart})):this.isVisible()&&this.redraw()},e.prototype.redraw=function(){this.clearAndRedraw()},e.prototype.updateViewSize=function(t){this.$container&&(this.$container.style.width=t[0]+"px",this.$container.style.height=t[1]+"px",this.$container.setAttribute("width",String(t[0])),this.$container.setAttribute("height",String(t[1])))},e.prototype.onResize=function(t){var e=this.getMap();if(e){var i=e.getSize();this.updateViewSize(i),this.clearAndRedraw(),t&&this.dispatchEvent({type:"change:size",source:this,value:i})}},e.prototype.onZoomEnd=function(){this._options.hideOnZooming&&this.show();var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"zoomend",source:this,value:t.getView().getZoom()}))},e.prototype.onDragRotateEnd=function(){this._options.hideOnRotating&&this.show();var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"change:rotation",source:this,value:t.getView().getRotation()}))},e.prototype.onMoveStart=function(){this._options.hideOnMoving&&this.hide();var t=this.getMap();t&&t.getView()&&this.dispatchEvent({type:"movestart",source:this,value:t.getView().getCenter()})},e.prototype.onMoveEnd=function(){this._options.hideOnMoving&&this.show();var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"moveend",source:this,value:t.getView().getCenter()}))},e.prototype.onClick=function(t){this.$chart&&this.$chart.getZr().painter.getViewportRoot().dispatchEvent(te("click",t))},e.prototype.mouseDown=function(t){this.$chart&&this.$chart.getZr().painter.getViewportRoot().dispatchEvent(te("mousedown",t))},e.prototype.mouseUp=function(t){this.$chart&&this.$chart.getZr().painter.getViewportRoot().dispatchEvent(te("mouseup",t))},e.prototype.mouseMove=function(t){if(this.$chart)for(var e=t.originalEvent.target;e;){if("ol-overlaycontainer-stopevent"===e.className)return void this.$chart.getZr().painter.getViewportRoot().dispatchEvent(te("mousemove",t));e=e.parentElement}},e.prototype.onCenterChange=function(){var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"change:center",source:this,value:t.getView().getCenter()}))},e.prototype.handleMapChanged=function(){var t=this.getMap();if(this._initEvent&&this.$container&&(this.$container&&$t(this.$container),this.unBindEvent()),this.$container||(this.createLayerContainer(),this.onResize(!1)),t){var e=this._options.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this._options.insertFirst?e.insertBefore(this.$container,e.childNodes[0]||null):e.appendChild(this.$container),this.render(),this.bindEvent(t)}},e.prototype.createLayerContainer=function(){this.$container=document.createElement("div"),this.$container.style.position="absolute",this.$container.style.top="0px",this.$container.style.left="0px",this.$container.style.right="0px",this.$container.style.bottom="0px"},e.prototype.bindEvent=function(t){var e=t.getView();this._options.forcedPrecomposeRerender&&t.on("precompose",this.redraw),t.on("change:size",this.onResize),e.on("change:resolution",this.onZoomEnd),e.on("change:center",this.onCenterChange),e.on("change:rotation",this.onDragRotateEnd),t.on("movestart",this.onMoveStart),t.on("moveend",this.onMoveEnd),this._options.polyfillEvents&&(t.on("pointerdown",this.mouseDown),t.on("pointerup",this.mouseUp),t.on("pointermove",this.mouseMove),t.on("click",this.onClick)),this._initEvent=!0},e.prototype.unBindEvent=function(){var t=this.getMap();if(t){var e=t.getView();e&&(t.un("precompose",this.redraw),t.un("change:size",this.onResize),e.un("change:resolution",this.onZoomEnd),e.un("change:center",this.onCenterChange),e.un("change:rotation",this.onDragRotateEnd),t.un("movestart",this.onMoveStart),t.un("moveend",this.onMoveEnd),this._options.polyfillEvents&&(t.un("pointerdown",this.mouseDown),t.un("pointerup",this.mouseUp),t.un("pointermove",this.mouseMove),t.un("click",this.onClick)),this._initEvent=!1)}},e.prototype.clearAndRedraw=function(){if(this.$chart&&this.isVisible()){if(this._options.forcedRerender&&this.$chart.clear(),this.$chart.resize(),this._chartOptions&&(this.registerMap(),this.$chart.setOption(this.convertData(this._chartOptions),!1),this._incremental&&this._incremental.length>0))for(var t=0;t<this._incremental.length;t++)this.appendData(this._incremental[t],!1);this.dispatchEvent({type:"redraw",source:this})}},e.prototype.registerMap=function(){if(this._isRegistered||(this.coordinateSystemId="openlayers_"+Jt(),Wt.a.registerCoordinateSystem(this.coordinateSystemId,this.getCoordinateSystem(this._options)),this._isRegistered=!0),this._chartOptions){var t=this._chartOptions.series;if(t&&Xt(t)){var e=this._options.convertTypes;if(e)for(var i=t.length-1;i>=0;i--)e.indexOf(t[i].type)>-1||(t[i].coordinateSystem=this.coordinateSystemId),t[i].animation=!1}}},e.prototype.convertData=function(t){var e=t.series;if(e&&e.length>0){if(!this._coordinateSystem){var i=this.getCoordinateSystem(this._options);this._coordinateSystem=new i(this.getMap())}if(e&&Xt(e)){var n=this._options.convertTypes;if(n)for(var o=e.length-1;o>=0;o--)n.indexOf(e[o].type)>-1&&e[o]&&e[o].hasOwnProperty("coordinates")&&(e[o]=ne[e[o].type](t,e[o],this._coordinateSystem))}}return t},e.prototype.getCoordinateSystem=function(t){var e=this.getMap(),i=this.coordinateSystemId,n=function(t){this.map=t,this._mapOffset=[0,0],this.dimensions=["lng","lat"],this.projCode=n.getProjectionCode(this.map)};return n.dimensions=n.prototype.dimensions||["lng","lat"],n.prototype.getZoom=function(){return this.map.getView().getZoom()},n.prototype.setZoom=function(t){return this.map.getView().setZoom(t)},n.prototype.getViewRectAfterRoam=function(){return this.getViewRect().clone()},n.prototype.setMapOffset=function(t){this._mapOffset=t},n.prototype.dataToPoint=function(e){var i;if(e&&Array.isArray(e)&&e.length>0){i=e.map((function(t){return"string"==typeof t?Number(t):t}));var n=t&&t.source||"EPSG:4326",o=t&&t.destination||this.projCode,r=this.map.getPixelFromCoordinate(se(i,n,o)),s=this._mapOffset;return[r[0]-s[0],r[1]-s[1]]}return[0,0]},n.prototype.pointToData=function(t){var e=this._mapOffset;return this.map.getCoordinateFromPixel([t[0]+e[0],t[1]+e[1]])},n.prototype.getViewRect=function(){var t=this.map.getSize();return new Wt.a.graphic.BoundingRect(0,0,t[0],t[1])},n.prototype.getRoamTransform=function(){return Wt.a.matrix.create()},n.prototype.prepareCustoms=function(){var t=this.getViewRect();return{coordSys:{type:i,x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:qt(this.dataToPoint,this),size:qt(n.dataToCoordsSize,this)}}},n.create=function(t){t.eachSeries((function(t){t.get("coordinateSystem")===i&&(t.coordinateSystem=new n(e))}))},n.getProjectionCode=function(t){return t?t.getView()&&t.getView().getProjection().getCode():"EPSG:3857"},n.dataToCoordsSize=function(t,e){var i=this;return void 0===e&&(e=[0,0]),[0,1].map((function(n){var o=e[n],r=[],s=[],a=t[n]/2;r[n]=o-a,s[n]=o+a,r[1-n]=e[1-n],s[1-n]=e[1-n];var l=i.dataToPoint(r)[n]-i.dataToPoint(s)[n];return Math.abs(l)}),this)},n},e.prototype.dispatchEvent=function(e){return t.prototype.dispatchEvent.call(this,e)},e.prototype.set=function(e,i,n){return t.prototype.set.call(this,e,i,n)},e.prototype.get=function(e){return t.prototype.get.call(this,e)},e.prototype.unset=function(e,i){return t.prototype.unset.call(this,e,i)},e.prototype.on=function(e,i,n){return t.prototype.on.call(this,e,i,n)},e.prototype.un=function(e,i,n){return t.prototype.un.call(this,e,i,n)},e.formatGeoJSON=ie,e.bind=qt,e.merge=Zt,e.uuid=Jt,e.bindAll=Qt,e.arrayAdd=Kt,e.removeNode=$t,e.isObject=Xt,e}(re);class he{constructor(t){this.map=t,this.initThematicMap()}initThematicMap(){}generateEcharts(t=null,e=null,i=null,n=!0,o=!0,r=!1,s=!1){return this.echartslayer=new le(t,{hideOnMoving:n,hideOnZooming:o}),this.echartslayer.appendTo(this.map),this.echartslayer}createEchatsDemo(){let t=this.generateEcharts();fetch("/layuimini/weibo-gl.json").then(t=>t.json()).then(e=>{var i=e.map((function(t,e){for(var i=t[0]/1e3,n=t[1]/1e3,o=[[i,n]],r=2;r<t.length;r+=2){var s=i+t[r]/1e3,a=n+t[r+1]/1e3;o.push([s.toFixed(2),a.toFixed(2),1]),i=s,n=a}return o})),n={title:{text:"微博签到数据点亮中国",left:"center",top:"top",textStyle:{color:"#fff"}},tooltip:{},legend:{left:"right",data:["强","中","弱"],textStyle:{color:"#ccc"}},series:[{name:"弱",type:"scatterGL",symbolSize:1,itemStyle:{shadowBlur:2,shadowColor:"rgba(37, 140, 249, 0.8)",color:"rgba(37, 140, 249, 0.8)"},data:i[0]},{name:"中",type:"scatterGL",symbolSize:1,itemStyle:{shadowBlur:2,shadowColor:"rgba(14, 241, 242, 0.8)",color:"rgba(14, 241, 242, 0.8)"},data:i[1]},{name:"强",type:"scatterGL",symbolSize:1,itemStyle:{shadowBlur:2,shadowColor:"rgba(255, 255, 255, 0.8)",color:"rgba(255, 255, 255, 0.8)"},data:i[2]}]};t.setChartOptions(n)})}createEchatsDemo2(){let t=this.generateEcharts();function e(t,e){return t[e.split("_").pop()]}fetch("/layuimini/china-migration.json").then(t=>t.json()).then(i=>{i&&fetch("/layuimini/china-airline.json").then(t=>t.json()).then(n=>{if(n){var o={backgroundColor:"transparent",title:{text:"春节人口迁徙",x:"center",y:"top",textStyle:{color:"white"}},legend:{show:!0,selected:{},x:"left",orient:"vertical",textStyle:{color:"white"},data:[]},series:[{name:"Migration",type:"lines",effect:{constantSpeed:30,show:!0,trailLength:1,symbolSize:1.5,color:"rgba(204, 246, 255, 1)"},itemStyle:{normal:{lineStyle:{color:"rgba(2, 166, 253, 1)",type:"solid",width:.5,opacity:.4}}},data:[]},{symbol:"circle",type:"effectScatter",symbolSize:1.5,itemStyle:{normal:{color:"rgba(255, 0, 0, 1)"}},data:[]}]};n.allLine.sort((function(t,e){return e.num-t.num})).slice(0,3e3).map((function(t){o.series[0].data.push(function(t,e,i){e=e.split("_").pop();var n=t[e];i=i.split("_").pop();var o=t[i];return{fromName:e,toName:i,coords:[n,o]}}(i,t.start,t.end))})),o.series[1].data=n.topCityOut.map((function(t){return{value:e(i,t.name)}})),t.setChartOptions(o)}})})}removeEcharts(){this.echartslayer.remove()}}class ce{static async init(t,e){t?this.MapViewer=await new r(t,e):alert("请传入地图容器");let i=await new ce;return i.MapViewer=this.MapViewer,await i}constructor(){this.initSystem(),this.initModule()}initSystem(){}initModule(){this.MapTools=s,this.Config=o,this.LayerManager=Dt,this.EventManager=Nt,this.PlotHelper=ft,this.MeasureHelper=Gt,this.AnalyzeHelper=kt,this.RightMenuManager=Bt,this.ViewControlHelper=Ht,this.ThematicMapManager=he,this.TrackPlayHelper=Vt,this.MapStyleManager=zt,this.ThemeManager=Rt,this.MonitoringManager=jt,this.VisualHelper=Lt}getMap(){return this.MapViewer.getMap()}getMapViewer(){return this.MapViewer}getConfig(){return this.Config}createPlot(){return new this.PlotHelper(this.getMap())}createMeasure(){return new this.MeasureHelper(this.getMap())}createViewControl(){return new this.ViewControlHelper(this.getMapViewer())}createLayerManager(){return new this.LayerManager(this.getMapViewer())}createVisualManager(){return new this.VisualHelper(this.getMap())}createThematicMapManager(){return new this.ThematicMapManager(this.getMap())}}setTimeout(()=>{!async function(){let t=await ce.init("map");window.moduleSelect=function(e){if(!e)return!1;switch(e){case"echarts":t.createThematicMapManager().createEchatsDemo2();break;case"winds":t.createVisualManager().createWinds();break;case"addlayer":t.createLayerManager().createLayuiLayerPanel();break;case"controls":t.createViewControl().createLayuiControlsPanel();break;case"plot":t.createPlot().createLayuiPlotPanel();break;case"measure":t.createMeasure().createLayuiMeasurePanel()}}}()},200)}]);