<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
    <title>Hello World!</title>
	<link type="text/css" rel="stylesheet" href="./openlayers/v3/draw/legend/bottom_legend.css"/>
	<script src="./openlayers/v3/jquery.js"></script>
	<script src="./openlayers/v3/auxiliary.js"></script>
	<script src="./openlayers/v3/base/v_0_0_1/map.js"></script>
	<script src="./openlayers/v3/init/v_0_0_1/map_init.js"></script>
	<script src="./openlayers/v3/draw/point/v_0_0_2/point.js"></script>
	<script src="./openlayers/v3/draw/region/v_0_0_1/region.js"></script>
	
	<script src="./openlayers/v3/draw/legend/legend.js"></script>
	<script src="./openlayers/v3/draw/draw.js"></script>
</head>
<body>
<div id="mapmap"></div>
<script>
//baseMap
var map = new mapFactory().openMap({
	mapDiv:"mapmap",
	baseLayer:basemap_gaode,
	center:[116.4,39.9],
	minZoom:1,
	maxZoom:18,
	zoom:1
});
//画笔
var mapDraw = new dataDraw();
mapDraw.init({
	"auxiliary":auxiliaryParam,
	"businessCache":businessCache,
	"addLayes":true,
	"map":map
});

//画区域
var auxiliaryParam = new auxiliary();
var mapRegion = new region();
mapRegion.init({
	"auxiliary":auxiliaryParam,
	"businessCache":businessCache,
	"addLayes":true,
	"map":map
});
var POLYGON = "POLYGON ((116.703696 41.027058,116.684176 40.977677,116.731054 40.935304,116.720193 40.915782,116.789082 40.879637,116.812195 40.84627,116.827443 40.853934,116.86251 40.841265,116.892816 40.807391,116.904581 40.783157,116.930181 40.779444,116.933108 40.750451,116.971401 40.715333,117.010826 40.702997,117.118507 40.713338,117.267989 40.687301,117.298595 40.665643,117.413029 40.691965,117.512282 40.673453,117.509518 40.651699,117.507621 40.642462,117.47835 40.653365,117.429116 40.643386,117.420328 40.612091,117.436611 40.58466,117.42657 40.574501,117.395928 40.567371,117.35671 40.586183,117.317148 40.582205,117.256123 40.554633,117.266705 40.525486,117.216533 40.512649,117.241198 40.464294,117.269931 40.447318,117.240577 40.42306,117.246726 40.400677,117.230105 40.381682,117.281583 40.338252,117.280907 40.314826,117.302422 40.284011,117.343034 40.283714,117.348761 40.250266,117.396811 40.233091,117.386784 40.198358,117.411893 40.190492,117.360037 40.179327,117.351761 40.148593,117.318399 40.145203,117.276026 40.117905,117.256553 40.125809,117.219456 40.102789,117.183281 40.078421,117.069943 40.067919,117.031618 40.038704,116.968858 40.057486,116.879122 40.04678,116.856651 40.060707,116.830109 40.053129,116.82988 40.034152,116.791687 40.040632,116.779793 40.021729,116.763083 39.967776,116.785531 39.962348,116.798184 39.891054,116.826599 39.895723,116.903619 39.839065,116.914569 39.836492,116.912195 39.858172,116.922645 39.853842,116.958912 39.788949,116.926499 39.785706,116.905955 39.765249,116.918342 39.73768,116.889379 39.722795,116.912125 39.692892,116.913064 39.682657,116.862347 39.673674,116.837923 39.648704,116.847791 39.629981,116.819144 39.621531,116.786736 39.600158,116.770397 39.621127,116.732271 39.622677,116.712802 39.615641,116.732985 39.598923,116.660066 39.611766,116.636152 39.600039,116.608884 39.627919,116.585937 39.629157,116.575393 39.60992,116.530871 39.603109,116.533531 39.579409,116.512358 39.561535,116.441317 39.52236,116.413424 39.529631,116.454883 39.482173,116.457637 39.452532,116.351426 39.453986,116.252682 39.522066,116.250729 39.552414,116.228122 39.584837,116.057913 39.57741,116.022134 39.593858,116.001696 39.58269,115.99109 39.6005,115.983168 39.576151,115.966692 39.571457,115.919768 39.605797,115.918852 39.579375,115.893876 39.556839,115.834909 39.547448,115.833641 39.518628,115.775028 39.518759,115.758146 39.518671,115.72435 39.567196,115.69674 39.574001,115.691849 39.609654,115.580936 39.597408,115.552049 39.625148,115.536591 39.618375,115.513509 39.657758,115.485201 39.656312,115.50637 39.697167,115.498945 39.744467,115.453698 39.755598,115.446207 39.789695,115.490142 39.804458,115.513359 39.788984,115.558667 39.801294,115.575646 39.81974,115.517406 39.850509,115.536001 39.882117,115.51576 39.889917,115.527722 39.907375,115.48266 39.943024,115.432681 39.957338,115.432566 39.985445,115.454529 39.999602,115.459213 40.02947,115.516152 40.071131,115.582507 40.108777,115.61008 40.099369,115.618557 40.12277,115.657432 40.123403,115.69394 40.144941,115.754545 40.140404,115.763448 40.169644,115.784384 40.183654,115.813285 40.159261,115.860315 40.154898,115.850974 40.173885,115.878755 40.193077,115.905254 40.241691,115.973016 40.271344,115.922713 40.373175,115.882847 40.364067,115.824704 40.392618,115.811507 40.426349,115.778705 40.455703,115.783837 40.492365,115.752304 40.498001,115.74721 40.518669,115.761161 40.545714,115.828052 40.569569,115.834134 40.59364,115.894759 40.602504,115.916137 40.624759,115.979098 40.607204,115.988977 40.58478,116.009428 40.581668,116.026377 40.604709,116.117785 40.621931,116.120442 40.654743,116.171812 40.674121,116.187343 40.718767,116.216872 40.727081,116.254416 40.797829,116.280566 40.769737,116.314073 40.75848,116.328392 40.778191,116.416829 40.785752,116.422371 40.768348,116.472158 40.778259,116.444766 40.82419,116.340965 40.911522,116.347663 40.936635,116.372513 40.948933,116.408435 40.911863,116.480852 40.903078,116.454527 40.960215,116.470486 40.990226,116.523143 40.981756,116.56663 40.9988,116.606367 40.981254,116.62829 41.022058,116.622603 41.059055,116.637536 41.066879,116.696059 41.050274,116.703696 41.027058))";
var regionData = {
	datas:[{
		id:"110000",
		wkt:POLYGON,
		v:{legend_index:0}
	}],
	legend:[{c:"#d73027",n:"test"}]
}
mapRegionData = mapRegion.build(regionData);
mapDraw.build(mapRegionData);

//画点
var mapPoint = new point();
mapPoint.init({
	"auxiliary":auxiliaryParam,
	"businessCache":businessCache,
	"addLayes":true,
	"map":map
});
var pointData = {
	datas:[{
		id:"110000",
		longitude:116.4,
		latitude:39.9,
		radius:10,
		legend_index:0
	}],
	legend:[{c:"#d73027",n:"test"}]
}
var mapPointData = mapPoint.build(pointData);
mapDraw.build(mapPointData);
//画图例 
var mapLegend = new legend();
mapLegend.init({
	"auxiliary":auxiliaryParam,
	"businessCache":businessCache,
	"region":mapRegion,
	"map":map
});
console.log(mapRegion);
mapLegend.build({
	id:mapRegion.queryId[0],
	featuresType:'region',
	name:'区域',
	data:[{c:"#d73027",n:"test"}]
});
</script>

</body>

</html>